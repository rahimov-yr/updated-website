var Y4=t=>{throw TypeError(t)};var d0=(t,e,n)=>e.has(t)||Y4("Cannot "+n);var kt=(t,e,n)=>(d0(t,e,"read from private field"),n?n.call(t):e.get(t)),Fr=(t,e,n)=>e.has(t)?Y4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pi=(t,e,n,i)=>(d0(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),Hr=(t,e,n)=>(d0(t,e,"access private method"),n);var X4=(t,e,n,i)=>({set _(a){pi(t,e,a,n)},get _(){return kt(t,e,i)}});function dB(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(i,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function vr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h0={exports:{}},Mu={};var K4;function hB(){if(K4)return Mu;K4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,s){var o=null;if(s!==void 0&&(o=""+s),a.key!==void 0&&(o=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:t,type:i,key:o,ref:a!==void 0?a:null,props:s}}return Mu.Fragment=e,Mu.jsx=n,Mu.jsxs=n,Mu}var J4;function fB(){return J4||(J4=1,h0.exports=hB()),h0.exports}var r=fB(),f0={exports:{}},Be={};var Z4;function pB(){if(Z4)return Be;Z4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=m&&z[m]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,_={};function S(z,O,$){this.props=z,this.context=O,this.refs=_,this.updater=$||b}S.prototype.isReactComponent={},S.prototype.setState=function(z,O){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,O,"setState")},S.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function N(){}N.prototype=S.prototype;function E(z,O,$){this.props=z,this.context=O,this.refs=_,this.updater=$||b}var A=E.prototype=new N;A.constructor=E,y(A,S.prototype),A.isPureReactComponent=!0;var T=Array.isArray;function k(){}var R={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function V(z,O,$){var B=$.ref;return{$$typeof:t,type:z,key:O,ref:B!==void 0?B:null,props:$}}function Y(z,O){return V(z.type,O,z.props)}function W(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function X(z){var O={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function($){return O[$]})}var ee=/\/+/g;function L(z,O){return typeof z=="object"&&z!==null&&z.key!=null?X(""+z.key):O.toString(36)}function P(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(k,k):(z.status="pending",z.then(function(O){z.status==="pending"&&(z.status="fulfilled",z.value=O)},function(O){z.status==="pending"&&(z.status="rejected",z.reason=O)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function M(z,O,$,B,Q){var J=typeof z;(J==="undefined"||J==="boolean")&&(z=null);var q=!1;if(z===null)q=!0;else switch(J){case"bigint":case"string":case"number":q=!0;break;case"object":switch(z.$$typeof){case t:case e:q=!0;break;case f:return q=z._init,M(q(z._payload),O,$,B,Q)}}if(q)return Q=Q(z),q=B===""?"."+L(z,0):B,T(Q)?($="",q!=null&&($=q.replace(ee,"$&/")+"/"),M(Q,O,$,"",function(ve){return ve})):Q!=null&&(W(Q)&&(Q=Y(Q,$+(Q.key==null||z&&z.key===Q.key?"":(""+Q.key).replace(ee,"$&/")+"/")+q)),O.push(Q)),1;q=0;var re=B===""?".":B+":";if(T(z))for(var Z=0;Z<z.length;Z++)B=z[Z],J=re+L(B,Z),q+=M(B,O,$,J,Q);else if(Z=x(z),typeof Z=="function")for(z=Z.call(z),Z=0;!(B=z.next()).done;)B=B.value,J=re+L(B,Z++),q+=M(B,O,$,J,Q);else if(J==="object"){if(typeof z.then=="function")return M(P(z),O,$,B,Q);throw O=String(z),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return q}function I(z,O,$){if(z==null)return z;var B=[],Q=0;return M(z,B,"","",function(J){return O.call($,J,Q++)}),B}function G(z){if(z._status===-1){var O=z._result;O=O(),O.then(function($){(z._status===0||z._status===-1)&&(z._status=1,z._result=$)},function($){(z._status===0||z._status===-1)&&(z._status=2,z._result=$)}),z._status===-1&&(z._status=0,z._result=O)}if(z._status===1)return z._result.default;throw z._result}var U=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},K={map:I,forEach:function(z,O,$){I(z,function(){O.apply(this,arguments)},$)},count:function(z){var O=0;return I(z,function(){O++}),O},toArray:function(z){return I(z,function(O){return O})||[]},only:function(z){if(!W(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Be.Activity=p,Be.Children=K,Be.Component=S,Be.Fragment=n,Be.Profiler=a,Be.PureComponent=E,Be.StrictMode=i,Be.Suspense=d,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Be.__COMPILER_RUNTIME={__proto__:null,c:function(z){return R.H.useMemoCache(z)}},Be.cache=function(z){return function(){return z.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(z,O,$){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var B=y({},z.props),Q=z.key;if(O!=null)for(J in O.key!==void 0&&(Q=""+O.key),O)!H.call(O,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&O.ref===void 0||(B[J]=O[J]);var J=arguments.length-2;if(J===1)B.children=$;else if(1<J){for(var q=Array(J),re=0;re<J;re++)q[re]=arguments[re+2];B.children=q}return V(z.type,Q,B)},Be.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},Be.createElement=function(z,O,$){var B,Q={},J=null;if(O!=null)for(B in O.key!==void 0&&(J=""+O.key),O)H.call(O,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(Q[B]=O[B]);var q=arguments.length-2;if(q===1)Q.children=$;else if(1<q){for(var re=Array(q),Z=0;Z<q;Z++)re[Z]=arguments[Z+2];Q.children=re}if(z&&z.defaultProps)for(B in q=z.defaultProps,q)Q[B]===void 0&&(Q[B]=q[B]);return V(z,J,Q)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(z){return{$$typeof:c,render:z}},Be.isValidElement=W,Be.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:G}},Be.memo=function(z,O){return{$$typeof:h,type:z,compare:O===void 0?null:O}},Be.startTransition=function(z){var O=R.T,$={};R.T=$;try{var B=z(),Q=R.S;Q!==null&&Q($,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(k,U)}catch(J){U(J)}finally{O!==null&&$.types!==null&&(O.types=$.types),R.T=O}},Be.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Be.use=function(z){return R.H.use(z)},Be.useActionState=function(z,O,$){return R.H.useActionState(z,O,$)},Be.useCallback=function(z,O){return R.H.useCallback(z,O)},Be.useContext=function(z){return R.H.useContext(z)},Be.useDebugValue=function(){},Be.useDeferredValue=function(z,O){return R.H.useDeferredValue(z,O)},Be.useEffect=function(z,O){return R.H.useEffect(z,O)},Be.useEffectEvent=function(z){return R.H.useEffectEvent(z)},Be.useId=function(){return R.H.useId()},Be.useImperativeHandle=function(z,O,$){return R.H.useImperativeHandle(z,O,$)},Be.useInsertionEffect=function(z,O){return R.H.useInsertionEffect(z,O)},Be.useLayoutEffect=function(z,O){return R.H.useLayoutEffect(z,O)},Be.useMemo=function(z,O){return R.H.useMemo(z,O)},Be.useOptimistic=function(z,O){return R.H.useOptimistic(z,O)},Be.useReducer=function(z,O,$){return R.H.useReducer(z,O,$)},Be.useRef=function(z){return R.H.useRef(z)},Be.useState=function(z){return R.H.useState(z)},Be.useSyncExternalStore=function(z,O,$){return R.H.useSyncExternalStore(z,O,$)},Be.useTransition=function(){return R.H.useTransition()},Be.version="19.2.3",Be}var Q4;function jc(){return Q4||(Q4=1,f0.exports=pB()),f0.exports}var j=jc();const Ft=vr(j),gB=dB({__proto__:null,default:Ft},[j]);var p0={exports:{}},Pu={},g0={exports:{}},m0={};var eA;function mB(){return eA||(eA=1,(function(t){function e(M,I){var G=M.length;M.push(I);e:for(;0<G;){var U=G-1>>>1,K=M[U];if(0<a(K,I))M[U]=I,M[G]=K,G=U;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var I=M[0],G=M.pop();if(G!==I){M[0]=G;e:for(var U=0,K=M.length,z=K>>>1;U<z;){var O=2*(U+1)-1,$=M[O],B=O+1,Q=M[B];if(0>a($,G))B<K&&0>a(Q,$)?(M[U]=Q,M[B]=G,U=B):(M[U]=$,M[O]=G,U=O);else if(B<K&&0>a(Q,G))M[U]=Q,M[B]=G,U=B;else break e}}return I}function a(M,I){var G=M.sortIndex-I.sortIndex;return G!==0?G:M.id-I.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],f=1,p=null,m=3,x=!1,b=!1,y=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function A(M){for(var I=n(h);I!==null;){if(I.callback===null)i(h);else if(I.startTime<=M)i(h),I.sortIndex=I.expirationTime,e(d,I);else break;I=n(h)}}function T(M){if(y=!1,A(M),!b)if(n(d)!==null)b=!0,k||(k=!0,X());else{var I=n(h);I!==null&&P(T,I.startTime-M)}}var k=!1,R=-1,H=5,V=-1;function Y(){return _?!0:!(t.unstable_now()-V<H)}function W(){if(_=!1,k){var M=t.unstable_now();V=M;var I=!0;try{e:{b=!1,y&&(y=!1,N(R),R=-1),x=!0;var G=m;try{t:{for(A(M),p=n(d);p!==null&&!(p.expirationTime>M&&Y());){var U=p.callback;if(typeof U=="function"){p.callback=null,m=p.priorityLevel;var K=U(p.expirationTime<=M);if(M=t.unstable_now(),typeof K=="function"){p.callback=K,A(M),I=!0;break t}p===n(d)&&i(d),A(M)}else i(d);p=n(d)}if(p!==null)I=!0;else{var z=n(h);z!==null&&P(T,z.startTime-M),I=!1}}break e}finally{p=null,m=G,x=!1}I=void 0}}finally{I?X():k=!1}}}var X;if(typeof E=="function")X=function(){E(W)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,L=ee.port2;ee.port1.onmessage=W,X=function(){L.postMessage(null)}}else X=function(){S(W,0)};function P(M,I){R=S(function(){M(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var G=m;m=I;try{return M()}finally{m=G}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var G=m;m=M;try{return I()}finally{m=G}},t.unstable_scheduleCallback=function(M,I,G){var U=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?U+G:U):G=U,M){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=G+K,M={id:f++,callback:I,priorityLevel:M,startTime:G,expirationTime:K,sortIndex:-1},G>U?(M.sortIndex=G,e(h,M),n(d)===null&&M===n(h)&&(y?(N(R),R=-1):y=!0,P(T,G-U))):(M.sortIndex=K,e(d,M),b||x||(b=!0,k||(k=!0,X()))),M},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(M){var I=m;return function(){var G=m;m=I;try{return M.apply(this,arguments)}finally{m=G}}}})(m0)),m0}var tA;function vB(){return tA||(tA=1,g0.exports=mB()),g0.exports}var v0={exports:{}},Hn={};var nA;function xB(){if(nA)return Hn;nA=1;var t=jc();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:d,containerInfo:h,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Hn.createPortal=function(d,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(d,h,null,f)},Hn.flushSync=function(d){var h=o.T,f=i.p;try{if(o.T=null,i.p=2,d)return d()}finally{o.T=h,i.p=f,i.d.f()}},Hn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Hn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Hn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:x}):f==="script"&&i.d.X(d,{crossOrigin:p,integrity:m,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Hn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Hn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin);i.d.L(d,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Hn.preloadModule=function(d,h){if(typeof d=="string")if(h){var f=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Hn.requestFormReset=function(d){i.d.r(d)},Hn.unstable_batchedUpdates=function(d,h){return d(h)},Hn.useFormState=function(d,h,f){return o.H.useFormState(d,h,f)},Hn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Hn.version="19.2.3",Hn}var iA;function Zk(){if(iA)return v0.exports;iA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),v0.exports=xB(),v0.exports}var rA;function yB(){if(rA)return Pu;rA=1;var t=vB(),e=jc(),n=Zk();function i(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var u=l,g=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(g=u.return),l=u.return;while(l)}return u.tag===3?g:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function d(l){if(s(l)!==l)throw Error(i(188))}function h(l){var u=l.alternate;if(!u){if(u=s(l),u===null)throw Error(i(188));return u!==l?null:l}for(var g=l,v=u;;){var w=g.return;if(w===null)break;var C=w.alternate;if(C===null){if(v=w.return,v!==null){g=v;continue}break}if(w.child===C.child){for(C=w.child;C;){if(C===g)return d(w),l;if(C===v)return d(w),u;C=C.sibling}throw Error(i(188))}if(g.return!==v.return)g=w,v=C;else{for(var D=!1,F=w.child;F;){if(F===g){D=!0,g=w,v=C;break}if(F===v){D=!0,v=w,g=C;break}F=F.sibling}if(!D){for(F=C.child;F;){if(F===g){D=!0,g=C,v=w;break}if(F===v){D=!0,v=C,g=w;break}F=F.sibling}if(!D)throw Error(i(189))}}if(g.alternate!==v)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?l:u}function f(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=f(l),u!==null)return u;l=l.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function X(l){return l===null||typeof l!="object"?null:(l=W&&l[W]||l["@@iterator"],typeof l=="function"?l:null)}var ee=Symbol.for("react.client.reference");function L(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===ee?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case y:return"Fragment";case S:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case k:return"SuspenseList";case V:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case E:return l.displayName||"Context";case N:return(l._context.displayName||"Context")+".Consumer";case A:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case R:return u=l.displayName||null,u!==null?u:L(l.type)||"Memo";case H:u=l._payload,l=l._init;try{return L(l(u))}catch{}}return null}var P=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},U=[],K=-1;function z(l){return{current:l}}function O(l){0>K||(l.current=U[K],U[K]=null,K--)}function $(l,u){K++,U[K]=l.current,l.current=u}var B=z(null),Q=z(null),J=z(null),q=z(null);function re(l,u){switch($(J,u),$(Q,l),$(B,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?v4(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=v4(u),l=x4(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}O(B),$(B,l)}function Z(){O(B),O(Q),O(J)}function ve(l){l.memoizedState!==null&&$(q,l);var u=B.current,g=x4(u,l.type);u!==g&&($(Q,l),$(B,g))}function ae(l){Q.current===l&&(O(B),O(Q)),q.current===l&&(O(q),Tu._currentValue=G)}var se,we;function _e(l){if(se===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);se=u&&u[1]||"",we=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+l+we}var Fe=!1;function Ke(l,u){if(!l||Fe)return"";Fe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(he){var ce=he}Reflect.construct(l,[],me)}else{try{me.call()}catch(he){ce=he}l.call(me.prototype)}}else{try{throw Error()}catch(he){ce=he}(me=l())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(he){if(he&&ce&&typeof he.stack=="string")return[he.stack,ce.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=v.DetermineComponentFrameRoot(),D=C[0],F=C[1];if(D&&F){var te=D.split(`
`),le=F.split(`
`);for(w=v=0;v<te.length&&!te[v].includes("DetermineComponentFrameRoot");)v++;for(;w<le.length&&!le[w].includes("DetermineComponentFrameRoot");)w++;if(v===te.length||w===le.length)for(v=te.length-1,w=le.length-1;1<=v&&0<=w&&te[v]!==le[w];)w--;for(;1<=v&&0<=w;v--,w--)if(te[v]!==le[w]){if(v!==1||w!==1)do if(v--,w--,0>w||te[v]!==le[w]){var fe=`
`+te[v].replace(" at new "," at ");return l.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",l.displayName)),fe}while(1<=v&&0<=w);break}}}finally{Fe=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?_e(g):""}function it(l,u){switch(l.tag){case 26:case 27:case 5:return _e(l.type);case 16:return _e("Lazy");case 13:return l.child!==u&&u!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return Ke(l.type,!1);case 11:return Ke(l.type.render,!1);case 1:return Ke(l.type,!0);case 31:return _e("Activity");default:return""}}function _r(l){try{var u="",g=null;do u+=it(l,g),g=l,l=l.return;while(l);return u}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var qi=Object.prototype.hasOwnProperty,_i=t.unstable_scheduleCallback,da=t.unstable_cancelCallback,Lr=t.unstable_shouldYield,Ws=t.unstable_requestPaint,It=t.unstable_now,Ys=t.unstable_getCurrentPriorityLevel,kn=t.unstable_ImmediatePriority,pe=t.unstable_UserBlockingPriority,ye=t.unstable_NormalPriority,De=t.unstable_LowPriority,de=t.unstable_IdlePriority,Ne=t.log,Ge=t.unstable_setDisableYieldValue,Dn=null,Xn=null;function ns(l){if(typeof Ne=="function"&&Ge(l),Xn&&typeof Xn.setStrictMode=="function")try{Xn.setStrictMode(Dn,l)}catch{}}var ji=Math.clz32?Math.clz32:JL,XL=Math.log,KL=Math.LN2;function JL(l){return l>>>=0,l===0?32:31-(XL(l)/KL|0)|0}var jh=256,wh=262144,Sh=4194304;function Xs(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Ch(l,u,g){var v=l.pendingLanes;if(v===0)return 0;var w=0,C=l.suspendedLanes,D=l.pingedLanes;l=l.warmLanes;var F=v&134217727;return F!==0?(v=F&~C,v!==0?w=Xs(v):(D&=F,D!==0?w=Xs(D):g||(g=F&~l,g!==0&&(w=Xs(g))))):(F=v&~C,F!==0?w=Xs(F):D!==0?w=Xs(D):g||(g=v&~l,g!==0&&(w=Xs(g)))),w===0?0:u!==0&&u!==w&&(u&C)===0&&(C=w&-w,g=u&-u,C>=g||C===32&&(g&4194048)!==0)?u:w}function Hc(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function ZL(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zj(){var l=Sh;return Sh<<=1,(Sh&62914560)===0&&(Sh=4194304),l}function Qm(l){for(var u=[],g=0;31>g;g++)u.push(l);return u}function Uc(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function QL(l,u,g,v,w,C){var D=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var F=l.entanglements,te=l.expirationTimes,le=l.hiddenUpdates;for(g=D&~g;0<g;){var fe=31-ji(g),me=1<<fe;F[fe]=0,te[fe]=-1;var ce=le[fe];if(ce!==null)for(le[fe]=null,fe=0;fe<ce.length;fe++){var he=ce[fe];he!==null&&(he.lane&=-536870913)}g&=~me}v!==0&&Qj(l,v,0),C!==0&&w===0&&l.tag!==0&&(l.suspendedLanes|=C&~(D&~u))}function Qj(l,u,g){l.pendingLanes|=u,l.suspendedLanes&=~u;var v=31-ji(u);l.entangledLanes|=u,l.entanglements[v]=l.entanglements[v]|1073741824|g&261930}function ew(l,u){var g=l.entangledLanes|=u;for(l=l.entanglements;g;){var v=31-ji(g),w=1<<v;w&u|l[v]&u&&(l[v]|=u),g&=~w}}function tw(l,u){var g=u&-u;return g=(g&42)!==0?1:ev(g),(g&(l.suspendedLanes|u))!==0?0:g}function ev(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function tv(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function nw(){var l=I.p;return l!==0?l:(l=window.event,l===void 0?32:F4(l.type))}function iw(l,u){var g=I.p;try{return I.p=l,u()}finally{I.p=g}}var is=Math.random().toString(36).slice(2),On="__reactFiber$"+is,oi="__reactProps$"+is,nl="__reactContainer$"+is,nv="__reactEvents$"+is,e9="__reactListeners$"+is,t9="__reactHandles$"+is,rw="__reactResources$"+is,Vc="__reactMarker$"+is;function iv(l){delete l[On],delete l[oi],delete l[nv],delete l[e9],delete l[t9]}function il(l){var u=l[On];if(u)return u;for(var g=l.parentNode;g;){if(u=g[nl]||g[On]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(l=C4(l);l!==null;){if(g=l[On])return g;l=C4(l)}return u}l=g,g=l.parentNode}return null}function rl(l){if(l=l[On]||l[nl]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function qc(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(i(33))}function al(l){var u=l[rw];return u||(u=l[rw]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function pn(l){l[Vc]=!0}var aw=new Set,sw={};function Ks(l,u){sl(l,u),sl(l+"Capture",u)}function sl(l,u){for(sw[l]=u,l=0;l<u.length;l++)aw.add(u[l])}var n9=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ow={},lw={};function i9(l){return qi.call(lw,l)?!0:qi.call(ow,l)?!1:n9.test(l)?lw[l]=!0:(ow[l]=!0,!1)}function Ah(l,u,g){if(i9(u))if(g===null)l.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+g)}}function Nh(l,u,g){if(g===null)l.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+g)}}function ha(l,u,g,v){if(v===null)l.removeAttribute(g);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(u,g,""+v)}}function Gi(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function cw(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function r9(l,u,g){var v=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var w=v.get,C=v.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return w.call(this)},set:function(D){g=""+D,C.call(this,D)}}),Object.defineProperty(l,u,{enumerable:v.enumerable}),{getValue:function(){return g},setValue:function(D){g=""+D},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function rv(l){if(!l._valueTracker){var u=cw(l)?"checked":"value";l._valueTracker=r9(l,u,""+l[u])}}function uw(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var g=u.getValue(),v="";return l&&(v=cw(l)?l.checked?"true":"false":l.value),l=v,l!==g?(u.setValue(l),!0):!1}function Eh(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var a9=/[\n"\\]/g;function Wi(l){return l.replace(a9,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function av(l,u,g,v,w,C,D,F){l.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?l.type=D:l.removeAttribute("type"),u!=null?D==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+Gi(u)):l.value!==""+Gi(u)&&(l.value=""+Gi(u)):D!=="submit"&&D!=="reset"||l.removeAttribute("value"),u!=null?sv(l,D,Gi(u)):g!=null?sv(l,D,Gi(g)):v!=null&&l.removeAttribute("value"),w==null&&C!=null&&(l.defaultChecked=!!C),w!=null&&(l.checked=w&&typeof w!="function"&&typeof w!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?l.name=""+Gi(F):l.removeAttribute("name")}function dw(l,u,g,v,w,C,D,F){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(l.type=C),u!=null||g!=null){if(!(C!=="submit"&&C!=="reset"||u!=null)){rv(l);return}g=g!=null?""+Gi(g):"",u=u!=null?""+Gi(u):g,F||u===l.value||(l.value=u),l.defaultValue=u}v=v??w,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=F?l.checked:!!v,l.defaultChecked=!!v,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(l.name=D),rv(l)}function sv(l,u,g){u==="number"&&Eh(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function ol(l,u,g,v){if(l=l.options,u){u={};for(var w=0;w<g.length;w++)u["$"+g[w]]=!0;for(g=0;g<l.length;g++)w=u.hasOwnProperty("$"+l[g].value),l[g].selected!==w&&(l[g].selected=w),w&&v&&(l[g].defaultSelected=!0)}else{for(g=""+Gi(g),u=null,w=0;w<l.length;w++){if(l[w].value===g){l[w].selected=!0,v&&(l[w].defaultSelected=!0);return}u!==null||l[w].disabled||(u=l[w])}u!==null&&(u.selected=!0)}}function hw(l,u,g){if(u!=null&&(u=""+Gi(u),u!==l.value&&(l.value=u),g==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=g!=null?""+Gi(g):""}function fw(l,u,g,v){if(u==null){if(v!=null){if(g!=null)throw Error(i(92));if(P(v)){if(1<v.length)throw Error(i(93));v=v[0]}g=v}g==null&&(g=""),u=g}g=Gi(u),l.defaultValue=g,v=l.textContent,v===g&&v!==""&&v!==null&&(l.value=v),rv(l)}function ll(l,u){if(u){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=u;return}}l.textContent=u}var s9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pw(l,u,g){var v=u.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?v?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":v?l.setProperty(u,g):typeof g!="number"||g===0||s9.has(u)?u==="float"?l.cssFloat=g:l[u]=(""+g).trim():l[u]=g+"px"}function gw(l,u,g){if(u!=null&&typeof u!="object")throw Error(i(62));if(l=l.style,g!=null){for(var v in g)!g.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var w in u)v=u[w],u.hasOwnProperty(w)&&g[w]!==v&&pw(l,w,v)}else for(var C in u)u.hasOwnProperty(C)&&pw(l,C,u[C])}function ov(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),l9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Th(l){return l9.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function fa(){}var lv=null;function cv(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var cl=null,ul=null;function mw(l){var u=rl(l);if(u&&(l=u.stateNode)){var g=l[oi]||null;e:switch(l=u.stateNode,u.type){case"input":if(av(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),u=g.name,g.type==="radio"&&u!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Wi(""+u)+'"][type="radio"]'),u=0;u<g.length;u++){var v=g[u];if(v!==l&&v.form===l.form){var w=v[oi]||null;if(!w)throw Error(i(90));av(v,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(u=0;u<g.length;u++)v=g[u],v.form===l.form&&uw(v)}break e;case"textarea":hw(l,g.value,g.defaultValue);break e;case"select":u=g.value,u!=null&&ol(l,!!g.multiple,u,!1)}}}var uv=!1;function vw(l,u,g){if(uv)return l(u,g);uv=!0;try{var v=l(u);return v}finally{if(uv=!1,(cl!==null||ul!==null)&&(vf(),cl&&(u=cl,l=ul,ul=cl=null,mw(u),l)))for(u=0;u<l.length;u++)mw(l[u])}}function Gc(l,u){var g=l.stateNode;if(g===null)return null;var v=g[oi]||null;if(v===null)return null;g=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(i(231,u,typeof g));return g}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dv=!1;if(pa)try{var Wc={};Object.defineProperty(Wc,"passive",{get:function(){dv=!0}}),window.addEventListener("test",Wc,Wc),window.removeEventListener("test",Wc,Wc)}catch{dv=!1}var rs=null,hv=null,kh=null;function xw(){if(kh)return kh;var l,u=hv,g=u.length,v,w="value"in rs?rs.value:rs.textContent,C=w.length;for(l=0;l<g&&u[l]===w[l];l++);var D=g-l;for(v=1;v<=D&&u[g-v]===w[C-v];v++);return kh=w.slice(l,1<v?1-v:void 0)}function Dh(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Oh(){return!0}function yw(){return!1}function li(l){function u(g,v,w,C,D){this._reactName=g,this._targetInst=w,this.type=v,this.nativeEvent=C,this.target=D,this.currentTarget=null;for(var F in l)l.hasOwnProperty(F)&&(g=l[F],this[F]=g?g(C):C[F]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Oh:yw,this.isPropagationStopped=yw,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Oh)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Oh)},persist:function(){},isPersistent:Oh}),u}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mh=li(Js),Yc=p({},Js,{view:0,detail:0}),c9=li(Yc),fv,pv,Xc,Ph=p({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mv,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Xc&&(Xc&&l.type==="mousemove"?(fv=l.screenX-Xc.screenX,pv=l.screenY-Xc.screenY):pv=fv=0,Xc=l),fv)},movementY:function(l){return"movementY"in l?l.movementY:pv}}),bw=li(Ph),u9=p({},Ph,{dataTransfer:0}),d9=li(u9),h9=p({},Yc,{relatedTarget:0}),gv=li(h9),f9=p({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),p9=li(f9),g9=p({},Js,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),m9=li(g9),v9=p({},Js,{data:0}),_w=li(v9),x9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _9(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=b9[l])?!!u[l]:!1}function mv(){return _9}var j9=p({},Yc,{key:function(l){if(l.key){var u=x9[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Dh(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?y9[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mv,charCode:function(l){return l.type==="keypress"?Dh(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Dh(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),w9=li(j9),S9=p({},Ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jw=li(S9),C9=p({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mv}),A9=li(C9),N9=p({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),E9=li(N9),T9=p({},Ph,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),k9=li(T9),D9=p({},Js,{newState:0,oldState:0}),O9=li(D9),M9=[9,13,27,32],vv=pa&&"CompositionEvent"in window,Kc=null;pa&&"documentMode"in document&&(Kc=document.documentMode);var P9=pa&&"TextEvent"in window&&!Kc,ww=pa&&(!vv||Kc&&8<Kc&&11>=Kc),Sw=" ",Cw=!1;function Aw(l,u){switch(l){case"keyup":return M9.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nw(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var dl=!1;function R9(l,u){switch(l){case"compositionend":return Nw(u);case"keypress":return u.which!==32?null:(Cw=!0,Sw);case"textInput":return l=u.data,l===Sw&&Cw?null:l;default:return null}}function L9(l,u){if(dl)return l==="compositionend"||!vv&&Aw(l,u)?(l=xw(),kh=hv=rs=null,dl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ww&&u.locale!=="ko"?null:u.data;default:return null}}var I9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ew(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!I9[l.type]:u==="textarea"}function Tw(l,u,g,v){cl?ul?ul.push(v):ul=[v]:cl=v,u=Sf(u,"onChange"),0<u.length&&(g=new Mh("onChange","change",null,g,v),l.push({event:g,listeners:u}))}var Jc=null,Zc=null;function B9(l){d4(l,0)}function Rh(l){var u=qc(l);if(uw(u))return l}function kw(l,u){if(l==="change")return u}var Dw=!1;if(pa){var xv;if(pa){var yv="oninput"in document;if(!yv){var Ow=document.createElement("div");Ow.setAttribute("oninput","return;"),yv=typeof Ow.oninput=="function"}xv=yv}else xv=!1;Dw=xv&&(!document.documentMode||9<document.documentMode)}function Mw(){Jc&&(Jc.detachEvent("onpropertychange",Pw),Zc=Jc=null)}function Pw(l){if(l.propertyName==="value"&&Rh(Zc)){var u=[];Tw(u,Zc,l,cv(l)),vw(B9,u)}}function z9(l,u,g){l==="focusin"?(Mw(),Jc=u,Zc=g,Jc.attachEvent("onpropertychange",Pw)):l==="focusout"&&Mw()}function $9(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Rh(Zc)}function F9(l,u){if(l==="click")return Rh(u)}function H9(l,u){if(l==="input"||l==="change")return Rh(u)}function U9(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var wi=typeof Object.is=="function"?Object.is:U9;function Qc(l,u){if(wi(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var g=Object.keys(l),v=Object.keys(u);if(g.length!==v.length)return!1;for(v=0;v<g.length;v++){var w=g[v];if(!qi.call(u,w)||!wi(l[w],u[w]))return!1}return!0}function Rw(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Lw(l,u){var g=Rw(l);l=0;for(var v;g;){if(g.nodeType===3){if(v=l+g.textContent.length,l<=u&&v>=u)return{node:g,offset:u-l};l=v}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Rw(g)}}function Iw(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?Iw(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function Bw(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Eh(l.document);u instanceof l.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)l=u.contentWindow;else break;u=Eh(l.document)}return u}function bv(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var V9=pa&&"documentMode"in document&&11>=document.documentMode,hl=null,_v=null,eu=null,jv=!1;function zw(l,u,g){var v=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;jv||hl==null||hl!==Eh(v)||(v=hl,"selectionStart"in v&&bv(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),eu&&Qc(eu,v)||(eu=v,v=Sf(_v,"onSelect"),0<v.length&&(u=new Mh("onSelect","select",null,u,g),l.push({event:u,listeners:v}),u.target=hl)))}function Zs(l,u){var g={};return g[l.toLowerCase()]=u.toLowerCase(),g["Webkit"+l]="webkit"+u,g["Moz"+l]="moz"+u,g}var fl={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},wv={},$w={};pa&&($w=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function Qs(l){if(wv[l])return wv[l];if(!fl[l])return l;var u=fl[l],g;for(g in u)if(u.hasOwnProperty(g)&&g in $w)return wv[l]=u[g];return l}var Fw=Qs("animationend"),Hw=Qs("animationiteration"),Uw=Qs("animationstart"),q9=Qs("transitionrun"),G9=Qs("transitionstart"),W9=Qs("transitioncancel"),Vw=Qs("transitionend"),qw=new Map,Sv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sv.push("scrollEnd");function jr(l,u){qw.set(l,u),Ks(u,[l])}var Lh=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Yi=[],pl=0,Cv=0;function Ih(){for(var l=pl,u=Cv=pl=0;u<l;){var g=Yi[u];Yi[u++]=null;var v=Yi[u];Yi[u++]=null;var w=Yi[u];Yi[u++]=null;var C=Yi[u];if(Yi[u++]=null,v!==null&&w!==null){var D=v.pending;D===null?w.next=w:(w.next=D.next,D.next=w),v.pending=w}C!==0&&Gw(g,w,C)}}function Bh(l,u,g,v){Yi[pl++]=l,Yi[pl++]=u,Yi[pl++]=g,Yi[pl++]=v,Cv|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function Av(l,u,g,v){return Bh(l,u,g,v),zh(l)}function eo(l,u){return Bh(l,null,null,u),zh(l)}function Gw(l,u,g){l.lanes|=g;var v=l.alternate;v!==null&&(v.lanes|=g);for(var w=!1,C=l.return;C!==null;)C.childLanes|=g,v=C.alternate,v!==null&&(v.childLanes|=g),C.tag===22&&(l=C.stateNode,l===null||l._visibility&1||(w=!0)),l=C,C=C.return;return l.tag===3?(C=l.stateNode,w&&u!==null&&(w=31-ji(g),l=C.hiddenUpdates,v=l[w],v===null?l[w]=[u]:v.push(u),u.lane=g|536870912),C):null}function zh(l){if(50<ju)throw ju=0,R1=null,Error(i(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var gl={};function Y9(l,u,g,v){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(l,u,g,v){return new Y9(l,u,g,v)}function Nv(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ga(l,u){var g=l.alternate;return g===null?(g=Si(l.tag,u,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=u,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,u=l.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function Ww(l,u){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,u=g.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function $h(l,u,g,v,w,C){var D=0;if(v=l,typeof l=="function")Nv(l)&&(D=1);else if(typeof l=="string")D=QI(l,g,B.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case V:return l=Si(31,g,u,w),l.elementType=V,l.lanes=C,l;case y:return to(g.children,w,C,u);case _:D=8,w|=24;break;case S:return l=Si(12,g,u,w|2),l.elementType=S,l.lanes=C,l;case T:return l=Si(13,g,u,w),l.elementType=T,l.lanes=C,l;case k:return l=Si(19,g,u,w),l.elementType=k,l.lanes=C,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case E:D=10;break e;case N:D=9;break e;case A:D=11;break e;case R:D=14;break e;case H:D=16,v=null;break e}D=29,g=Error(i(130,l===null?"null":typeof l,"")),v=null}return u=Si(D,g,u,w),u.elementType=l,u.type=v,u.lanes=C,u}function to(l,u,g,v){return l=Si(7,l,v,u),l.lanes=g,l}function Ev(l,u,g){return l=Si(6,l,null,u),l.lanes=g,l}function Yw(l){var u=Si(18,null,null,0);return u.stateNode=l,u}function Tv(l,u,g){return u=Si(4,l.children!==null?l.children:[],l.key,u),u.lanes=g,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var Xw=new WeakMap;function Xi(l,u){if(typeof l=="object"&&l!==null){var g=Xw.get(l);return g!==void 0?g:(u={value:l,source:u,stack:_r(u)},Xw.set(l,u),u)}return{value:l,source:u,stack:_r(u)}}var ml=[],vl=0,Fh=null,tu=0,Ki=[],Ji=0,as=null,Ir=1,Br="";function ma(l,u){ml[vl++]=tu,ml[vl++]=Fh,Fh=l,tu=u}function Kw(l,u,g){Ki[Ji++]=Ir,Ki[Ji++]=Br,Ki[Ji++]=as,as=l;var v=Ir;l=Br;var w=32-ji(v)-1;v&=~(1<<w),g+=1;var C=32-ji(u)+w;if(30<C){var D=w-w%5;C=(v&(1<<D)-1).toString(32),v>>=D,w-=D,Ir=1<<32-ji(u)+w|g<<w|v,Br=C+l}else Ir=1<<C|g<<w|v,Br=l}function kv(l){l.return!==null&&(ma(l,1),Kw(l,1,0))}function Dv(l){for(;l===Fh;)Fh=ml[--vl],ml[vl]=null,tu=ml[--vl],ml[vl]=null;for(;l===as;)as=Ki[--Ji],Ki[Ji]=null,Br=Ki[--Ji],Ki[Ji]=null,Ir=Ki[--Ji],Ki[Ji]=null}function Jw(l,u){Ki[Ji++]=Ir,Ki[Ji++]=Br,Ki[Ji++]=as,Ir=u.id,Br=u.overflow,as=l}var Mn=null,At=null,et=!1,ss=null,Zi=!1,Ov=Error(i(519));function os(l){var u=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nu(Xi(u,l)),Ov}function Zw(l){var u=l.stateNode,g=l.type,v=l.memoizedProps;switch(u[On]=l,u[oi]=v,g){case"dialog":Ye("cancel",u),Ye("close",u);break;case"iframe":case"object":case"embed":Ye("load",u);break;case"video":case"audio":for(g=0;g<Su.length;g++)Ye(Su[g],u);break;case"source":Ye("error",u);break;case"img":case"image":case"link":Ye("error",u),Ye("load",u);break;case"details":Ye("toggle",u);break;case"input":Ye("invalid",u),dw(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Ye("invalid",u);break;case"textarea":Ye("invalid",u),fw(u,v.value,v.defaultValue,v.children)}g=v.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||u.textContent===""+g||v.suppressHydrationWarning===!0||g4(u.textContent,g)?(v.popover!=null&&(Ye("beforetoggle",u),Ye("toggle",u)),v.onScroll!=null&&Ye("scroll",u),v.onScrollEnd!=null&&Ye("scrollend",u),v.onClick!=null&&(u.onclick=fa),u=!0):u=!1,u||os(l,!0)}function Qw(l){for(Mn=l.return;Mn;)switch(Mn.tag){case 5:case 31:case 13:Zi=!1;return;case 27:case 3:Zi=!0;return;default:Mn=Mn.return}}function xl(l){if(l!==Mn)return!1;if(!et)return Qw(l),et=!0,!1;var u=l.tag,g;if((g=u!==3&&u!==27)&&((g=u===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||K1(l.type,l.memoizedProps)),g=!g),g&&At&&os(l),Qw(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));At=S4(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));At=S4(l)}else u===27?(u=At,_s(l.type)?(l=t0,t0=null,At=l):At=u):At=Mn?er(l.stateNode.nextSibling):null;return!0}function no(){At=Mn=null,et=!1}function Mv(){var l=ss;return l!==null&&(hi===null?hi=l:hi.push.apply(hi,l),ss=null),l}function nu(l){ss===null?ss=[l]:ss.push(l)}var Pv=z(null),io=null,va=null;function ls(l,u,g){$(Pv,u._currentValue),u._currentValue=g}function xa(l){l._currentValue=Pv.current,O(Pv)}function Rv(l,u,g){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===g)break;l=l.return}}function Lv(l,u,g,v){var w=l.child;for(w!==null&&(w.return=l);w!==null;){var C=w.dependencies;if(C!==null){var D=w.child;C=C.firstContext;e:for(;C!==null;){var F=C;C=w;for(var te=0;te<u.length;te++)if(F.context===u[te]){C.lanes|=g,F=C.alternate,F!==null&&(F.lanes|=g),Rv(C.return,g,l),v||(D=null);break e}C=F.next}}else if(w.tag===18){if(D=w.return,D===null)throw Error(i(341));D.lanes|=g,C=D.alternate,C!==null&&(C.lanes|=g),Rv(D,g,l),D=null}else D=w.child;if(D!==null)D.return=w;else for(D=w;D!==null;){if(D===l){D=null;break}if(w=D.sibling,w!==null){w.return=D.return,D=w;break}D=D.return}w=D}}function yl(l,u,g,v){l=null;for(var w=u,C=!1;w!==null;){if(!C){if((w.flags&524288)!==0)C=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var D=w.alternate;if(D===null)throw Error(i(387));if(D=D.memoizedProps,D!==null){var F=w.type;wi(w.pendingProps.value,D.value)||(l!==null?l.push(F):l=[F])}}else if(w===q.current){if(D=w.alternate,D===null)throw Error(i(387));D.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(l!==null?l.push(Tu):l=[Tu])}w=w.return}l!==null&&Lv(u,l,g,v),u.flags|=262144}function Hh(l){for(l=l.firstContext;l!==null;){if(!wi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function ro(l){io=l,va=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Pn(l){return eS(io,l)}function Uh(l,u){return io===null&&ro(l),eS(l,u)}function eS(l,u){var g=u._currentValue;if(u={context:u,memoizedValue:g,next:null},va===null){if(l===null)throw Error(i(308));va=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else va=va.next=u;return g}var X9=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(g,v){l.push(v)}};this.abort=function(){u.aborted=!0,l.forEach(function(g){return g()})}},K9=t.unstable_scheduleCallback,J9=t.unstable_NormalPriority,tn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Iv(){return{controller:new X9,data:new Map,refCount:0}}function iu(l){l.refCount--,l.refCount===0&&K9(J9,function(){l.controller.abort()})}var ru=null,Bv=0,bl=0,_l=null;function Z9(l,u){if(ru===null){var g=ru=[];Bv=0,bl=F1(),_l={status:"pending",value:void 0,then:function(v){g.push(v)}}}return Bv++,u.then(tS,tS),u}function tS(){if(--Bv===0&&ru!==null){_l!==null&&(_l.status="fulfilled");var l=ru;ru=null,bl=0,_l=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function Q9(l,u){var g=[],v={status:"pending",value:null,reason:null,then:function(w){g.push(w)}};return l.then(function(){v.status="fulfilled",v.value=u;for(var w=0;w<g.length;w++)(0,g[w])(u)},function(w){for(v.status="rejected",v.reason=w,w=0;w<g.length;w++)(0,g[w])(void 0)}),v}var nS=M.S;M.S=function(l,u){zC=It(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&Z9(l,u),nS!==null&&nS(l,u)};var ao=z(null);function zv(){var l=ao.current;return l!==null?l:jt.pooledCache}function Vh(l,u){u===null?$(ao,ao.current):$(ao,u.pool)}function iS(){var l=zv();return l===null?null:{parent:tn._currentValue,pool:l}}var jl=Error(i(460)),$v=Error(i(474)),qh=Error(i(542)),Gh={then:function(){}};function rS(l){return l=l.status,l==="fulfilled"||l==="rejected"}function aS(l,u,g){switch(g=l[g],g===void 0?l.push(u):g!==u&&(u.then(fa,fa),u=g),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,oS(l),l;default:if(typeof u.status=="string")u.then(fa,fa);else{if(l=jt,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=u,l.status="pending",l.then(function(v){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=v}},function(v){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,oS(l),l}throw oo=u,jl}}function so(l){try{var u=l._init;return u(l._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(oo=g,jl):g}}var oo=null;function sS(){if(oo===null)throw Error(i(459));var l=oo;return oo=null,l}function oS(l){if(l===jl||l===qh)throw Error(i(483))}var wl=null,au=0;function Wh(l){var u=au;return au+=1,wl===null&&(wl=[]),aS(wl,l,u)}function su(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Yh(l,u){throw u.$$typeof===m?Error(i(525)):(l=Object.prototype.toString.call(u),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function lS(l){function u(ie,ne){if(l){var oe=ie.deletions;oe===null?(ie.deletions=[ne],ie.flags|=16):oe.push(ne)}}function g(ie,ne){if(!l)return null;for(;ne!==null;)u(ie,ne),ne=ne.sibling;return null}function v(ie){for(var ne=new Map;ie!==null;)ie.key!==null?ne.set(ie.key,ie):ne.set(ie.index,ie),ie=ie.sibling;return ne}function w(ie,ne){return ie=ga(ie,ne),ie.index=0,ie.sibling=null,ie}function C(ie,ne,oe){return ie.index=oe,l?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<ne?(ie.flags|=67108866,ne):oe):(ie.flags|=67108866,ne)):(ie.flags|=1048576,ne)}function D(ie){return l&&ie.alternate===null&&(ie.flags|=67108866),ie}function F(ie,ne,oe,ge){return ne===null||ne.tag!==6?(ne=Ev(oe,ie.mode,ge),ne.return=ie,ne):(ne=w(ne,oe),ne.return=ie,ne)}function te(ie,ne,oe,ge){var Me=oe.type;return Me===y?fe(ie,ne,oe.props.children,ge,oe.key):ne!==null&&(ne.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===H&&so(Me)===ne.type)?(ne=w(ne,oe.props),su(ne,oe),ne.return=ie,ne):(ne=$h(oe.type,oe.key,oe.props,null,ie.mode,ge),su(ne,oe),ne.return=ie,ne)}function le(ie,ne,oe,ge){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==oe.containerInfo||ne.stateNode.implementation!==oe.implementation?(ne=Tv(oe,ie.mode,ge),ne.return=ie,ne):(ne=w(ne,oe.children||[]),ne.return=ie,ne)}function fe(ie,ne,oe,ge,Me){return ne===null||ne.tag!==7?(ne=to(oe,ie.mode,ge,Me),ne.return=ie,ne):(ne=w(ne,oe),ne.return=ie,ne)}function me(ie,ne,oe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=Ev(""+ne,ie.mode,oe),ne.return=ie,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return oe=$h(ne.type,ne.key,ne.props,null,ie.mode,oe),su(oe,ne),oe.return=ie,oe;case b:return ne=Tv(ne,ie.mode,oe),ne.return=ie,ne;case H:return ne=so(ne),me(ie,ne,oe)}if(P(ne)||X(ne))return ne=to(ne,ie.mode,oe,null),ne.return=ie,ne;if(typeof ne.then=="function")return me(ie,Wh(ne),oe);if(ne.$$typeof===E)return me(ie,Uh(ie,ne),oe);Yh(ie,ne)}return null}function ce(ie,ne,oe,ge){var Me=ne!==null?ne.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Me!==null?null:F(ie,ne,""+oe,ge);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:return oe.key===Me?te(ie,ne,oe,ge):null;case b:return oe.key===Me?le(ie,ne,oe,ge):null;case H:return oe=so(oe),ce(ie,ne,oe,ge)}if(P(oe)||X(oe))return Me!==null?null:fe(ie,ne,oe,ge,null);if(typeof oe.then=="function")return ce(ie,ne,Wh(oe),ge);if(oe.$$typeof===E)return ce(ie,ne,Uh(ie,oe),ge);Yh(ie,oe)}return null}function he(ie,ne,oe,ge,Me){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ie=ie.get(oe)||null,F(ne,ie,""+ge,Me);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case x:return ie=ie.get(ge.key===null?oe:ge.key)||null,te(ne,ie,ge,Me);case b:return ie=ie.get(ge.key===null?oe:ge.key)||null,le(ne,ie,ge,Me);case H:return ge=so(ge),he(ie,ne,oe,ge,Me)}if(P(ge)||X(ge))return ie=ie.get(oe)||null,fe(ne,ie,ge,Me,null);if(typeof ge.then=="function")return he(ie,ne,oe,Wh(ge),Me);if(ge.$$typeof===E)return he(ie,ne,oe,Uh(ne,ge),Me);Yh(ne,ge)}return null}function Ee(ie,ne,oe,ge){for(var Me=null,rt=null,Te=ne,Ue=ne=0,Ze=null;Te!==null&&Ue<oe.length;Ue++){Te.index>Ue?(Ze=Te,Te=null):Ze=Te.sibling;var at=ce(ie,Te,oe[Ue],ge);if(at===null){Te===null&&(Te=Ze);break}l&&Te&&at.alternate===null&&u(ie,Te),ne=C(at,ne,Ue),rt===null?Me=at:rt.sibling=at,rt=at,Te=Ze}if(Ue===oe.length)return g(ie,Te),et&&ma(ie,Ue),Me;if(Te===null){for(;Ue<oe.length;Ue++)Te=me(ie,oe[Ue],ge),Te!==null&&(ne=C(Te,ne,Ue),rt===null?Me=Te:rt.sibling=Te,rt=Te);return et&&ma(ie,Ue),Me}for(Te=v(Te);Ue<oe.length;Ue++)Ze=he(Te,ie,Ue,oe[Ue],ge),Ze!==null&&(l&&Ze.alternate!==null&&Te.delete(Ze.key===null?Ue:Ze.key),ne=C(Ze,ne,Ue),rt===null?Me=Ze:rt.sibling=Ze,rt=Ze);return l&&Te.forEach(function(As){return u(ie,As)}),et&&ma(ie,Ue),Me}function Re(ie,ne,oe,ge){if(oe==null)throw Error(i(151));for(var Me=null,rt=null,Te=ne,Ue=ne=0,Ze=null,at=oe.next();Te!==null&&!at.done;Ue++,at=oe.next()){Te.index>Ue?(Ze=Te,Te=null):Ze=Te.sibling;var As=ce(ie,Te,at.value,ge);if(As===null){Te===null&&(Te=Ze);break}l&&Te&&As.alternate===null&&u(ie,Te),ne=C(As,ne,Ue),rt===null?Me=As:rt.sibling=As,rt=As,Te=Ze}if(at.done)return g(ie,Te),et&&ma(ie,Ue),Me;if(Te===null){for(;!at.done;Ue++,at=oe.next())at=me(ie,at.value,ge),at!==null&&(ne=C(at,ne,Ue),rt===null?Me=at:rt.sibling=at,rt=at);return et&&ma(ie,Ue),Me}for(Te=v(Te);!at.done;Ue++,at=oe.next())at=he(Te,ie,Ue,at.value,ge),at!==null&&(l&&at.alternate!==null&&Te.delete(at.key===null?Ue:at.key),ne=C(at,ne,Ue),rt===null?Me=at:rt.sibling=at,rt=at);return l&&Te.forEach(function(uB){return u(ie,uB)}),et&&ma(ie,Ue),Me}function xt(ie,ne,oe,ge){if(typeof oe=="object"&&oe!==null&&oe.type===y&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:e:{for(var Me=oe.key;ne!==null;){if(ne.key===Me){if(Me=oe.type,Me===y){if(ne.tag===7){g(ie,ne.sibling),ge=w(ne,oe.props.children),ge.return=ie,ie=ge;break e}}else if(ne.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===H&&so(Me)===ne.type){g(ie,ne.sibling),ge=w(ne,oe.props),su(ge,oe),ge.return=ie,ie=ge;break e}g(ie,ne);break}else u(ie,ne);ne=ne.sibling}oe.type===y?(ge=to(oe.props.children,ie.mode,ge,oe.key),ge.return=ie,ie=ge):(ge=$h(oe.type,oe.key,oe.props,null,ie.mode,ge),su(ge,oe),ge.return=ie,ie=ge)}return D(ie);case b:e:{for(Me=oe.key;ne!==null;){if(ne.key===Me)if(ne.tag===4&&ne.stateNode.containerInfo===oe.containerInfo&&ne.stateNode.implementation===oe.implementation){g(ie,ne.sibling),ge=w(ne,oe.children||[]),ge.return=ie,ie=ge;break e}else{g(ie,ne);break}else u(ie,ne);ne=ne.sibling}ge=Tv(oe,ie.mode,ge),ge.return=ie,ie=ge}return D(ie);case H:return oe=so(oe),xt(ie,ne,oe,ge)}if(P(oe))return Ee(ie,ne,oe,ge);if(X(oe)){if(Me=X(oe),typeof Me!="function")throw Error(i(150));return oe=Me.call(oe),Re(ie,ne,oe,ge)}if(typeof oe.then=="function")return xt(ie,ne,Wh(oe),ge);if(oe.$$typeof===E)return xt(ie,ne,Uh(ie,oe),ge);Yh(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,ne!==null&&ne.tag===6?(g(ie,ne.sibling),ge=w(ne,oe),ge.return=ie,ie=ge):(g(ie,ne),ge=Ev(oe,ie.mode,ge),ge.return=ie,ie=ge),D(ie)):g(ie,ne)}return function(ie,ne,oe,ge){try{au=0;var Me=xt(ie,ne,oe,ge);return wl=null,Me}catch(Te){if(Te===jl||Te===qh)throw Te;var rt=Si(29,Te,null,ie.mode);return rt.lanes=ge,rt.return=ie,rt}}}var lo=lS(!0),cS=lS(!1),cs=!1;function Fv(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hv(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function us(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function ds(l,u,g){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(lt&2)!==0){var w=v.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),v.pending=u,u=zh(l),Gw(l,null,g),u}return Bh(l,v,u,g),zh(l)}function ou(l,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194048)!==0)){var v=u.lanes;v&=l.pendingLanes,g|=v,u.lanes=g,ew(l,g)}}function Uv(l,u){var g=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,g===v)){var w=null,C=null;if(g=g.firstBaseUpdate,g!==null){do{var D={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};C===null?w=C=D:C=C.next=D,g=g.next}while(g!==null);C===null?w=C=u:C=C.next=u}else w=C=u;g={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:C,shared:v.shared,callbacks:v.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=u:l.next=u,g.lastBaseUpdate=u}var Vv=!1;function lu(){if(Vv){var l=_l;if(l!==null)throw l}}function cu(l,u,g,v){Vv=!1;var w=l.updateQueue;cs=!1;var C=w.firstBaseUpdate,D=w.lastBaseUpdate,F=w.shared.pending;if(F!==null){w.shared.pending=null;var te=F,le=te.next;te.next=null,D===null?C=le:D.next=le,D=te;var fe=l.alternate;fe!==null&&(fe=fe.updateQueue,F=fe.lastBaseUpdate,F!==D&&(F===null?fe.firstBaseUpdate=le:F.next=le,fe.lastBaseUpdate=te))}if(C!==null){var me=w.baseState;D=0,fe=le=te=null,F=C;do{var ce=F.lane&-536870913,he=ce!==F.lane;if(he?(Je&ce)===ce:(v&ce)===ce){ce!==0&&ce===bl&&(Vv=!0),fe!==null&&(fe=fe.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Ee=l,Re=F;ce=u;var xt=g;switch(Re.tag){case 1:if(Ee=Re.payload,typeof Ee=="function"){me=Ee.call(xt,me,ce);break e}me=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Re.payload,ce=typeof Ee=="function"?Ee.call(xt,me,ce):Ee,ce==null)break e;me=p({},me,ce);break e;case 2:cs=!0}}ce=F.callback,ce!==null&&(l.flags|=64,he&&(l.flags|=8192),he=w.callbacks,he===null?w.callbacks=[ce]:he.push(ce))}else he={lane:ce,tag:F.tag,payload:F.payload,callback:F.callback,next:null},fe===null?(le=fe=he,te=me):fe=fe.next=he,D|=ce;if(F=F.next,F===null){if(F=w.shared.pending,F===null)break;he=F,F=he.next,he.next=null,w.lastBaseUpdate=he,w.shared.pending=null}}while(!0);fe===null&&(te=me),w.baseState=te,w.firstBaseUpdate=le,w.lastBaseUpdate=fe,C===null&&(w.shared.lanes=0),ms|=D,l.lanes=D,l.memoizedState=me}}function uS(l,u){if(typeof l!="function")throw Error(i(191,l));l.call(u)}function dS(l,u){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)uS(g[l],u)}var Sl=z(null),Xh=z(0);function hS(l,u){l=Na,$(Xh,l),$(Sl,u),Na=l|u.baseLanes}function qv(){$(Xh,Na),$(Sl,Sl.current)}function Gv(){Na=Xh.current,O(Sl),O(Xh)}var Ci=z(null),Qi=null;function hs(l){var u=l.alternate;$(Yt,Yt.current&1),$(Ci,l),Qi===null&&(u===null||Sl.current!==null||u.memoizedState!==null)&&(Qi=l)}function Wv(l){$(Yt,Yt.current),$(Ci,l),Qi===null&&(Qi=l)}function fS(l){l.tag===22?($(Yt,Yt.current),$(Ci,l),Qi===null&&(Qi=l)):fs()}function fs(){$(Yt,Yt.current),$(Ci,Ci.current)}function Ai(l){O(Ci),Qi===l&&(Qi=null),O(Yt)}var Yt=z(0);function Kh(l){for(var u=l;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Q1(g)||e0(g)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ya=0,He=null,mt=null,nn=null,Jh=!1,Cl=!1,co=!1,Zh=0,uu=0,Al=null,eI=0;function Ut(){throw Error(i(321))}function Yv(l,u){if(u===null)return!1;for(var g=0;g<u.length&&g<l.length;g++)if(!wi(l[g],u[g]))return!1;return!0}function Xv(l,u,g,v,w,C){return ya=C,He=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,M.H=l===null||l.memoizedState===null?KS:u1,co=!1,C=g(v,w),co=!1,Cl&&(C=gS(u,g,v,w)),pS(l),C}function pS(l){M.H=fu;var u=mt!==null&&mt.next!==null;if(ya=0,nn=mt=He=null,Jh=!1,uu=0,Al=null,u)throw Error(i(300));l===null||rn||(l=l.dependencies,l!==null&&Hh(l)&&(rn=!0))}function gS(l,u,g,v){He=l;var w=0;do{if(Cl&&(Al=null),uu=0,Cl=!1,25<=w)throw Error(i(301));if(w+=1,nn=mt=null,l.updateQueue!=null){var C=l.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}M.H=JS,C=u(g,v)}while(Cl);return C}function tI(){var l=M.H,u=l.useState()[0];return u=typeof u.then=="function"?du(u):u,l=l.useState()[0],(mt!==null?mt.memoizedState:null)!==l&&(He.flags|=1024),u}function Kv(){var l=Zh!==0;return Zh=0,l}function Jv(l,u,g){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~g}function Zv(l){if(Jh){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Jh=!1}ya=0,nn=mt=He=null,Cl=!1,uu=Zh=0,Al=null}function Kn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?He.memoizedState=nn=l:nn=nn.next=l,nn}function Xt(){if(mt===null){var l=He.alternate;l=l!==null?l.memoizedState:null}else l=mt.next;var u=nn===null?He.memoizedState:nn.next;if(u!==null)nn=u,mt=l;else{if(l===null)throw He.alternate===null?Error(i(467)):Error(i(310));mt=l,l={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},nn===null?He.memoizedState=nn=l:nn=nn.next=l}return nn}function Qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function du(l){var u=uu;return uu+=1,Al===null&&(Al=[]),l=aS(Al,l,u),u=He,(nn===null?u.memoizedState:nn.next)===null&&(u=u.alternate,M.H=u===null||u.memoizedState===null?KS:u1),l}function ef(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return du(l);if(l.$$typeof===E)return Pn(l)}throw Error(i(438,String(l)))}function Qv(l){var u=null,g=He.updateQueue;if(g!==null&&(u=g.memoCache),u==null){var v=He.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),g===null&&(g=Qh(),He.updateQueue=g),g.memoCache=u,g=u.data[u.index],g===void 0)for(g=u.data[u.index]=Array(l),v=0;v<l;v++)g[v]=Y;return u.index++,g}function ba(l,u){return typeof u=="function"?u(l):u}function tf(l){var u=Xt();return e1(u,mt,l)}function e1(l,u,g){var v=l.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=g;var w=l.baseQueue,C=v.pending;if(C!==null){if(w!==null){var D=w.next;w.next=C.next,C.next=D}u.baseQueue=w=C,v.pending=null}if(C=l.baseState,w===null)l.memoizedState=C;else{u=w.next;var F=D=null,te=null,le=u,fe=!1;do{var me=le.lane&-536870913;if(me!==le.lane?(Je&me)===me:(ya&me)===me){var ce=le.revertLane;if(ce===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),me===bl&&(fe=!0);else if((ya&ce)===ce){le=le.next,ce===bl&&(fe=!0);continue}else me={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},te===null?(F=te=me,D=C):te=te.next=me,He.lanes|=ce,ms|=ce;me=le.action,co&&g(C,me),C=le.hasEagerState?le.eagerState:g(C,me)}else ce={lane:me,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},te===null?(F=te=ce,D=C):te=te.next=ce,He.lanes|=me,ms|=me;le=le.next}while(le!==null&&le!==u);if(te===null?D=C:te.next=F,!wi(C,l.memoizedState)&&(rn=!0,fe&&(g=_l,g!==null)))throw g;l.memoizedState=C,l.baseState=D,l.baseQueue=te,v.lastRenderedState=C}return w===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function t1(l){var u=Xt(),g=u.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=l;var v=g.dispatch,w=g.pending,C=u.memoizedState;if(w!==null){g.pending=null;var D=w=w.next;do C=l(C,D.action),D=D.next;while(D!==w);wi(C,u.memoizedState)||(rn=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),g.lastRenderedState=C}return[C,v]}function mS(l,u,g){var v=He,w=Xt(),C=et;if(C){if(g===void 0)throw Error(i(407));g=g()}else g=u();var D=!wi((mt||w).memoizedState,g);if(D&&(w.memoizedState=g,rn=!0),w=w.queue,r1(yS.bind(null,v,w,l),[l]),w.getSnapshot!==u||D||nn!==null&&nn.memoizedState.tag&1){if(v.flags|=2048,Nl(9,{destroy:void 0},xS.bind(null,v,w,g,u),null),jt===null)throw Error(i(349));C||(ya&127)!==0||vS(v,u,g)}return g}function vS(l,u,g){l.flags|=16384,l={getSnapshot:u,value:g},u=He.updateQueue,u===null?(u=Qh(),He.updateQueue=u,u.stores=[l]):(g=u.stores,g===null?u.stores=[l]:g.push(l))}function xS(l,u,g,v){u.value=g,u.getSnapshot=v,bS(u)&&_S(l)}function yS(l,u,g){return g(function(){bS(u)&&_S(l)})}function bS(l){var u=l.getSnapshot;l=l.value;try{var g=u();return!wi(l,g)}catch{return!0}}function _S(l){var u=eo(l,2);u!==null&&fi(u,l,2)}function n1(l){var u=Kn();if(typeof l=="function"){var g=l;if(l=g(),co){ns(!0);try{g()}finally{ns(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:l},u}function jS(l,u,g,v){return l.baseState=g,e1(l,mt,typeof v=="function"?v:ba)}function nI(l,u,g,v,w){if(af(l))throw Error(i(485));if(l=u.action,l!==null){var C={payload:w,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){C.listeners.push(D)}};M.T!==null?g(!0):C.isTransition=!1,v(C),g=u.pending,g===null?(C.next=u.pending=C,wS(u,C)):(C.next=g.next,u.pending=g.next=C)}}function wS(l,u){var g=u.action,v=u.payload,w=l.state;if(u.isTransition){var C=M.T,D={};M.T=D;try{var F=g(w,v),te=M.S;te!==null&&te(D,F),SS(l,u,F)}catch(le){i1(l,u,le)}finally{C!==null&&D.types!==null&&(C.types=D.types),M.T=C}}else try{C=g(w,v),SS(l,u,C)}catch(le){i1(l,u,le)}}function SS(l,u,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(v){CS(l,u,v)},function(v){return i1(l,u,v)}):CS(l,u,g)}function CS(l,u,g){u.status="fulfilled",u.value=g,AS(u),l.state=g,u=l.pending,u!==null&&(g=u.next,g===u?l.pending=null:(g=g.next,u.next=g,wS(l,g)))}function i1(l,u,g){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=g,AS(u),u=u.next;while(u!==v)}l.action=null}function AS(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function NS(l,u){return u}function ES(l,u){if(et){var g=jt.formState;if(g!==null){e:{var v=He;if(et){if(At){t:{for(var w=At,C=Zi;w.nodeType!==8;){if(!C){w=null;break t}if(w=er(w.nextSibling),w===null){w=null;break t}}C=w.data,w=C==="F!"||C==="F"?w:null}if(w){At=er(w.nextSibling),v=w.data==="F!";break e}}os(v)}v=!1}v&&(u=g[0])}}return g=Kn(),g.memoizedState=g.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NS,lastRenderedState:u},g.queue=v,g=WS.bind(null,He,v),v.dispatch=g,v=n1(!1),C=c1.bind(null,He,!1,v.queue),v=Kn(),w={state:u,dispatch:null,action:l,pending:null},v.queue=w,g=nI.bind(null,He,w,C,g),w.dispatch=g,v.memoizedState=l,[u,g,!1]}function TS(l){var u=Xt();return kS(u,mt,l)}function kS(l,u,g){if(u=e1(l,u,NS)[0],l=tf(ba)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=du(u)}catch(D){throw D===jl?qh:D}else v=u;u=Xt();var w=u.queue,C=w.dispatch;return g!==u.memoizedState&&(He.flags|=2048,Nl(9,{destroy:void 0},iI.bind(null,w,g),null)),[v,C,l]}function iI(l,u){l.action=u}function DS(l){var u=Xt(),g=mt;if(g!==null)return kS(u,g,l);Xt(),u=u.memoizedState,g=Xt();var v=g.queue.dispatch;return g.memoizedState=l,[u,v,!1]}function Nl(l,u,g,v){return l={tag:l,create:g,deps:v,inst:u,next:null},u=He.updateQueue,u===null&&(u=Qh(),He.updateQueue=u),g=u.lastEffect,g===null?u.lastEffect=l.next=l:(v=g.next,g.next=l,l.next=v,u.lastEffect=l),l}function OS(){return Xt().memoizedState}function nf(l,u,g,v){var w=Kn();He.flags|=l,w.memoizedState=Nl(1|u,{destroy:void 0},g,v===void 0?null:v)}function rf(l,u,g,v){var w=Xt();v=v===void 0?null:v;var C=w.memoizedState.inst;mt!==null&&v!==null&&Yv(v,mt.memoizedState.deps)?w.memoizedState=Nl(u,C,g,v):(He.flags|=l,w.memoizedState=Nl(1|u,C,g,v))}function MS(l,u){nf(8390656,8,l,u)}function r1(l,u){rf(2048,8,l,u)}function rI(l){He.flags|=4;var u=He.updateQueue;if(u===null)u=Qh(),He.updateQueue=u,u.events=[l];else{var g=u.events;g===null?u.events=[l]:g.push(l)}}function PS(l){var u=Xt().memoizedState;return rI({ref:u,nextImpl:l}),function(){if((lt&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}function RS(l,u){return rf(4,2,l,u)}function LS(l,u){return rf(4,4,l,u)}function IS(l,u){if(typeof u=="function"){l=l();var g=u(l);return function(){typeof g=="function"?g():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function BS(l,u,g){g=g!=null?g.concat([l]):null,rf(4,4,IS.bind(null,u,l),g)}function a1(){}function zS(l,u){var g=Xt();u=u===void 0?null:u;var v=g.memoizedState;return u!==null&&Yv(u,v[1])?v[0]:(g.memoizedState=[l,u],l)}function $S(l,u){var g=Xt();u=u===void 0?null:u;var v=g.memoizedState;if(u!==null&&Yv(u,v[1]))return v[0];if(v=l(),co){ns(!0);try{l()}finally{ns(!1)}}return g.memoizedState=[v,u],v}function s1(l,u,g){return g===void 0||(ya&1073741824)!==0&&(Je&261930)===0?l.memoizedState=u:(l.memoizedState=g,l=FC(),He.lanes|=l,ms|=l,g)}function FS(l,u,g,v){return wi(g,u)?g:Sl.current!==null?(l=s1(l,g,v),wi(l,u)||(rn=!0),l):(ya&42)===0||(ya&1073741824)!==0&&(Je&261930)===0?(rn=!0,l.memoizedState=g):(l=FC(),He.lanes|=l,ms|=l,u)}function HS(l,u,g,v,w){var C=I.p;I.p=C!==0&&8>C?C:8;var D=M.T,F={};M.T=F,c1(l,!1,u,g);try{var te=w(),le=M.S;if(le!==null&&le(F,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var fe=Q9(te,v);hu(l,u,fe,Ti(l))}else hu(l,u,v,Ti(l))}catch(me){hu(l,u,{then:function(){},status:"rejected",reason:me},Ti())}finally{I.p=C,D!==null&&F.types!==null&&(D.types=F.types),M.T=D}}function aI(){}function o1(l,u,g,v){if(l.tag!==5)throw Error(i(476));var w=US(l).queue;HS(l,w,u,G,g===null?aI:function(){return VS(l),g(v)})}function US(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:G},next:null};var g={};return u.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:g},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function VS(l){var u=US(l);u.next===null&&(u=l.alternate.memoizedState),hu(l,u.next.queue,{},Ti())}function l1(){return Pn(Tu)}function qS(){return Xt().memoizedState}function GS(){return Xt().memoizedState}function sI(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var g=Ti();l=us(g);var v=ds(u,l,g);v!==null&&(fi(v,u,g),ou(v,u,g)),u={cache:Iv()},l.payload=u;return}u=u.return}}function oI(l,u,g){var v=Ti();g={lane:v,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},af(l)?YS(u,g):(g=Av(l,u,g,v),g!==null&&(fi(g,l,v),XS(g,u,v)))}function WS(l,u,g){var v=Ti();hu(l,u,g,v)}function hu(l,u,g,v){var w={lane:v,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(af(l))YS(u,w);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var D=u.lastRenderedState,F=C(D,g);if(w.hasEagerState=!0,w.eagerState=F,wi(F,D))return Bh(l,u,w,0),jt===null&&Ih(),!1}catch{}if(g=Av(l,u,w,v),g!==null)return fi(g,l,v),XS(g,u,v),!0}return!1}function c1(l,u,g,v){if(v={lane:2,revertLane:F1(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},af(l)){if(u)throw Error(i(479))}else u=Av(l,g,v,2),u!==null&&fi(u,l,2)}function af(l){var u=l.alternate;return l===He||u!==null&&u===He}function YS(l,u){Cl=Jh=!0;var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}function XS(l,u,g){if((g&4194048)!==0){var v=u.lanes;v&=l.pendingLanes,g|=v,u.lanes=g,ew(l,g)}}var fu={readContext:Pn,use:ef,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};fu.useEffectEvent=Ut;var KS={readContext:Pn,use:ef,useCallback:function(l,u){return Kn().memoizedState=[l,u===void 0?null:u],l},useContext:Pn,useEffect:MS,useImperativeHandle:function(l,u,g){g=g!=null?g.concat([l]):null,nf(4194308,4,IS.bind(null,u,l),g)},useLayoutEffect:function(l,u){return nf(4194308,4,l,u)},useInsertionEffect:function(l,u){nf(4,2,l,u)},useMemo:function(l,u){var g=Kn();u=u===void 0?null:u;var v=l();if(co){ns(!0);try{l()}finally{ns(!1)}}return g.memoizedState=[v,u],v},useReducer:function(l,u,g){var v=Kn();if(g!==void 0){var w=g(u);if(co){ns(!0);try{g(u)}finally{ns(!1)}}}else w=u;return v.memoizedState=v.baseState=w,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:w},v.queue=l,l=l.dispatch=oI.bind(null,He,l),[v.memoizedState,l]},useRef:function(l){var u=Kn();return l={current:l},u.memoizedState=l},useState:function(l){l=n1(l);var u=l.queue,g=WS.bind(null,He,u);return u.dispatch=g,[l.memoizedState,g]},useDebugValue:a1,useDeferredValue:function(l,u){var g=Kn();return s1(g,l,u)},useTransition:function(){var l=n1(!1);return l=HS.bind(null,He,l.queue,!0,!1),Kn().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,g){var v=He,w=Kn();if(et){if(g===void 0)throw Error(i(407));g=g()}else{if(g=u(),jt===null)throw Error(i(349));(Je&127)!==0||vS(v,u,g)}w.memoizedState=g;var C={value:g,getSnapshot:u};return w.queue=C,MS(yS.bind(null,v,C,l),[l]),v.flags|=2048,Nl(9,{destroy:void 0},xS.bind(null,v,C,g,u),null),g},useId:function(){var l=Kn(),u=jt.identifierPrefix;if(et){var g=Br,v=Ir;g=(v&~(1<<32-ji(v)-1)).toString(32)+g,u="_"+u+"R_"+g,g=Zh++,0<g&&(u+="H"+g.toString(32)),u+="_"}else g=eI++,u="_"+u+"r_"+g.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:l1,useFormState:ES,useActionState:ES,useOptimistic:function(l){var u=Kn();u.memoizedState=u.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=g,u=c1.bind(null,He,!0,g),g.dispatch=u,[l,u]},useMemoCache:Qv,useCacheRefresh:function(){return Kn().memoizedState=sI.bind(null,He)},useEffectEvent:function(l){var u=Kn(),g={impl:l};return u.memoizedState=g,function(){if((lt&2)!==0)throw Error(i(440));return g.impl.apply(void 0,arguments)}}},u1={readContext:Pn,use:ef,useCallback:zS,useContext:Pn,useEffect:r1,useImperativeHandle:BS,useInsertionEffect:RS,useLayoutEffect:LS,useMemo:$S,useReducer:tf,useRef:OS,useState:function(){return tf(ba)},useDebugValue:a1,useDeferredValue:function(l,u){var g=Xt();return FS(g,mt.memoizedState,l,u)},useTransition:function(){var l=tf(ba)[0],u=Xt().memoizedState;return[typeof l=="boolean"?l:du(l),u]},useSyncExternalStore:mS,useId:qS,useHostTransitionStatus:l1,useFormState:TS,useActionState:TS,useOptimistic:function(l,u){var g=Xt();return jS(g,mt,l,u)},useMemoCache:Qv,useCacheRefresh:GS};u1.useEffectEvent=PS;var JS={readContext:Pn,use:ef,useCallback:zS,useContext:Pn,useEffect:r1,useImperativeHandle:BS,useInsertionEffect:RS,useLayoutEffect:LS,useMemo:$S,useReducer:t1,useRef:OS,useState:function(){return t1(ba)},useDebugValue:a1,useDeferredValue:function(l,u){var g=Xt();return mt===null?s1(g,l,u):FS(g,mt.memoizedState,l,u)},useTransition:function(){var l=t1(ba)[0],u=Xt().memoizedState;return[typeof l=="boolean"?l:du(l),u]},useSyncExternalStore:mS,useId:qS,useHostTransitionStatus:l1,useFormState:DS,useActionState:DS,useOptimistic:function(l,u){var g=Xt();return mt!==null?jS(g,mt,l,u):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:Qv,useCacheRefresh:GS};JS.useEffectEvent=PS;function d1(l,u,g,v){u=l.memoizedState,g=g(v,u),g=g==null?u:p({},u,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var h1={enqueueSetState:function(l,u,g){l=l._reactInternals;var v=Ti(),w=us(v);w.payload=u,g!=null&&(w.callback=g),u=ds(l,w,v),u!==null&&(fi(u,l,v),ou(u,l,v))},enqueueReplaceState:function(l,u,g){l=l._reactInternals;var v=Ti(),w=us(v);w.tag=1,w.payload=u,g!=null&&(w.callback=g),u=ds(l,w,v),u!==null&&(fi(u,l,v),ou(u,l,v))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var g=Ti(),v=us(g);v.tag=2,u!=null&&(v.callback=u),u=ds(l,v,g),u!==null&&(fi(u,l,g),ou(u,l,g))}};function ZS(l,u,g,v,w,C,D){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,C,D):u.prototype&&u.prototype.isPureReactComponent?!Qc(g,v)||!Qc(w,C):!0}function QS(l,u,g,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,v),u.state!==l&&h1.enqueueReplaceState(u,u.state,null)}function uo(l,u){var g=u;if("ref"in u){g={};for(var v in u)v!=="ref"&&(g[v]=u[v])}if(l=l.defaultProps){g===u&&(g=p({},g));for(var w in l)g[w]===void 0&&(g[w]=l[w])}return g}function eC(l){Lh(l)}function tC(l){console.error(l)}function nC(l){Lh(l)}function sf(l,u){try{var g=l.onUncaughtError;g(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function iC(l,u,g){try{var v=l.onCaughtError;v(g.value,{componentStack:g.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function f1(l,u,g){return g=us(g),g.tag=3,g.payload={element:null},g.callback=function(){sf(l,u)},g}function rC(l){return l=us(l),l.tag=3,l}function aC(l,u,g,v){var w=g.type.getDerivedStateFromError;if(typeof w=="function"){var C=v.value;l.payload=function(){return w(C)},l.callback=function(){iC(u,g,v)}}var D=g.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(l.callback=function(){iC(u,g,v),typeof w!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var F=v.stack;this.componentDidCatch(v.value,{componentStack:F!==null?F:""})})}function lI(l,u,g,v,w){if(g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=g.alternate,u!==null&&yl(u,g,w,!0),g=Ci.current,g!==null){switch(g.tag){case 31:case 13:return Qi===null?xf():g.alternate===null&&Vt===0&&(Vt=3),g.flags&=-257,g.flags|=65536,g.lanes=w,v===Gh?g.flags|=16384:(u=g.updateQueue,u===null?g.updateQueue=new Set([v]):u.add(v),B1(l,v,w)),!1;case 22:return g.flags|=65536,v===Gh?g.flags|=16384:(u=g.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},g.updateQueue=u):(g=u.retryQueue,g===null?u.retryQueue=new Set([v]):g.add(v)),B1(l,v,w)),!1}throw Error(i(435,g.tag))}return B1(l,v,w),xf(),!1}if(et)return u=Ci.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,v!==Ov&&(l=Error(i(422),{cause:v}),nu(Xi(l,g)))):(v!==Ov&&(u=Error(i(423),{cause:v}),nu(Xi(u,g))),l=l.current.alternate,l.flags|=65536,w&=-w,l.lanes|=w,v=Xi(v,g),w=f1(l.stateNode,v,w),Uv(l,w),Vt!==4&&(Vt=2)),!1;var C=Error(i(520),{cause:v});if(C=Xi(C,g),_u===null?_u=[C]:_u.push(C),Vt!==4&&(Vt=2),u===null)return!0;v=Xi(v,g),g=u;do{switch(g.tag){case 3:return g.flags|=65536,l=w&-w,g.lanes|=l,l=f1(g.stateNode,v,l),Uv(g,l),!1;case 1:if(u=g.type,C=g.stateNode,(g.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(vs===null||!vs.has(C))))return g.flags|=65536,w&=-w,g.lanes|=w,w=rC(w),aC(w,l,g,v),Uv(g,w),!1}g=g.return}while(g!==null);return!1}var p1=Error(i(461)),rn=!1;function Rn(l,u,g,v){u.child=l===null?cS(u,null,g,v):lo(u,l.child,g,v)}function sC(l,u,g,v,w){g=g.render;var C=u.ref;if("ref"in v){var D={};for(var F in v)F!=="ref"&&(D[F]=v[F])}else D=v;return ro(u),v=Xv(l,u,g,D,C,w),F=Kv(),l!==null&&!rn?(Jv(l,u,w),_a(l,u,w)):(et&&F&&kv(u),u.flags|=1,Rn(l,u,v,w),u.child)}function oC(l,u,g,v,w){if(l===null){var C=g.type;return typeof C=="function"&&!Nv(C)&&C.defaultProps===void 0&&g.compare===null?(u.tag=15,u.type=C,lC(l,u,C,v,w)):(l=$h(g.type,null,v,u,u.mode,w),l.ref=u.ref,l.return=u,u.child=l)}if(C=l.child,!j1(l,w)){var D=C.memoizedProps;if(g=g.compare,g=g!==null?g:Qc,g(D,v)&&l.ref===u.ref)return _a(l,u,w)}return u.flags|=1,l=ga(C,v),l.ref=u.ref,l.return=u,u.child=l}function lC(l,u,g,v,w){if(l!==null){var C=l.memoizedProps;if(Qc(C,v)&&l.ref===u.ref)if(rn=!1,u.pendingProps=v=C,j1(l,w))(l.flags&131072)!==0&&(rn=!0);else return u.lanes=l.lanes,_a(l,u,w)}return g1(l,u,g,v,w)}function cC(l,u,g,v){var w=v.children,C=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((u.flags&128)!==0){if(C=C!==null?C.baseLanes|g:g,l!==null){for(v=u.child=l.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;v=w&~C}else v=0,u.child=null;return uC(l,u,C,g,v)}if((g&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&Vh(u,C!==null?C.cachePool:null),C!==null?hS(u,C):qv(),fS(u);else return v=u.lanes=536870912,uC(l,u,C!==null?C.baseLanes|g:g,g,v)}else C!==null?(Vh(u,C.cachePool),hS(u,C),fs(),u.memoizedState=null):(l!==null&&Vh(u,null),qv(),fs());return Rn(l,u,w,g),u.child}function pu(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function uC(l,u,g,v,w){var C=zv();return C=C===null?null:{parent:tn._currentValue,pool:C},u.memoizedState={baseLanes:g,cachePool:C},l!==null&&Vh(u,null),qv(),fS(u),l!==null&&yl(l,u,v,!0),u.childLanes=w,null}function of(l,u){return u=cf({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function dC(l,u,g){return lo(u,l.child,null,g),l=of(u,u.pendingProps),l.flags|=2,Ai(u),u.memoizedState=null,l}function cI(l,u,g){var v=u.pendingProps,w=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(et){if(v.mode==="hidden")return l=of(u,v),u.lanes=536870912,pu(null,l);if(Wv(u),(l=At)?(l=w4(l,Zi),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:as!==null?{id:Ir,overflow:Br}:null,retryLane:536870912,hydrationErrors:null},g=Yw(l),g.return=u,u.child=g,Mn=u,At=null)):l=null,l===null)throw os(u);return u.lanes=536870912,null}return of(u,v)}var C=l.memoizedState;if(C!==null){var D=C.dehydrated;if(Wv(u),w)if(u.flags&256)u.flags&=-257,u=dC(l,u,g);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(i(558));else if(rn||yl(l,u,g,!1),w=(g&l.childLanes)!==0,rn||w){if(v=jt,v!==null&&(D=tw(v,g),D!==0&&D!==C.retryLane))throw C.retryLane=D,eo(l,D),fi(v,l,D),p1;xf(),u=dC(l,u,g)}else l=C.treeContext,At=er(D.nextSibling),Mn=u,et=!0,ss=null,Zi=!1,l!==null&&Jw(u,l),u=of(u,v),u.flags|=4096;return u}return l=ga(l.child,{mode:v.mode,children:v.children}),l.ref=u.ref,u.child=l,l.return=u,l}function lf(l,u){var g=u.ref;if(g===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(l===null||l.ref!==g)&&(u.flags|=4194816)}}function g1(l,u,g,v,w){return ro(u),g=Xv(l,u,g,v,void 0,w),v=Kv(),l!==null&&!rn?(Jv(l,u,w),_a(l,u,w)):(et&&v&&kv(u),u.flags|=1,Rn(l,u,g,w),u.child)}function hC(l,u,g,v,w,C){return ro(u),u.updateQueue=null,g=gS(u,v,g,w),pS(l),v=Kv(),l!==null&&!rn?(Jv(l,u,C),_a(l,u,C)):(et&&v&&kv(u),u.flags|=1,Rn(l,u,g,C),u.child)}function fC(l,u,g,v,w){if(ro(u),u.stateNode===null){var C=gl,D=g.contextType;typeof D=="object"&&D!==null&&(C=Pn(D)),C=new g(v,C),u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=h1,u.stateNode=C,C._reactInternals=u,C=u.stateNode,C.props=v,C.state=u.memoizedState,C.refs={},Fv(u),D=g.contextType,C.context=typeof D=="object"&&D!==null?Pn(D):gl,C.state=u.memoizedState,D=g.getDerivedStateFromProps,typeof D=="function"&&(d1(u,g,D,v),C.state=u.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(D=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),D!==C.state&&h1.enqueueReplaceState(C,C.state,null),cu(u,v,C,w),lu(),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(l===null){C=u.stateNode;var F=u.memoizedProps,te=uo(g,F);C.props=te;var le=C.context,fe=g.contextType;D=gl,typeof fe=="object"&&fe!==null&&(D=Pn(fe));var me=g.getDerivedStateFromProps;fe=typeof me=="function"||typeof C.getSnapshotBeforeUpdate=="function",F=u.pendingProps!==F,fe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(F||le!==D)&&QS(u,C,v,D),cs=!1;var ce=u.memoizedState;C.state=ce,cu(u,v,C,w),lu(),le=u.memoizedState,F||ce!==le||cs?(typeof me=="function"&&(d1(u,g,me,v),le=u.memoizedState),(te=cs||ZS(u,g,te,v,ce,le,D))?(fe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=le),C.props=v,C.state=le,C.context=D,v=te):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{C=u.stateNode,Hv(l,u),D=u.memoizedProps,fe=uo(g,D),C.props=fe,me=u.pendingProps,ce=C.context,le=g.contextType,te=gl,typeof le=="object"&&le!==null&&(te=Pn(le)),F=g.getDerivedStateFromProps,(le=typeof F=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(D!==me||ce!==te)&&QS(u,C,v,te),cs=!1,ce=u.memoizedState,C.state=ce,cu(u,v,C,w),lu();var he=u.memoizedState;D!==me||ce!==he||cs||l!==null&&l.dependencies!==null&&Hh(l.dependencies)?(typeof F=="function"&&(d1(u,g,F,v),he=u.memoizedState),(fe=cs||ZS(u,g,fe,v,ce,he,te)||l!==null&&l.dependencies!==null&&Hh(l.dependencies))?(le||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,he,te),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,he,te)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||D===l.memoizedProps&&ce===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===l.memoizedProps&&ce===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=he),C.props=v,C.state=he,C.context=te,v=fe):(typeof C.componentDidUpdate!="function"||D===l.memoizedProps&&ce===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===l.memoizedProps&&ce===l.memoizedState||(u.flags|=1024),v=!1)}return C=v,lf(l,u),v=(u.flags&128)!==0,C||v?(C=u.stateNode,g=v&&typeof g.getDerivedStateFromError!="function"?null:C.render(),u.flags|=1,l!==null&&v?(u.child=lo(u,l.child,null,w),u.child=lo(u,null,g,w)):Rn(l,u,g,w),u.memoizedState=C.state,l=u.child):l=_a(l,u,w),l}function pC(l,u,g,v){return no(),u.flags|=256,Rn(l,u,g,v),u.child}var m1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function v1(l){return{baseLanes:l,cachePool:iS()}}function x1(l,u,g){return l=l!==null?l.childLanes&~g:0,u&&(l|=Ei),l}function gC(l,u,g){var v=u.pendingProps,w=!1,C=(u.flags&128)!==0,D;if((D=C)||(D=l!==null&&l.memoizedState===null?!1:(Yt.current&2)!==0),D&&(w=!0,u.flags&=-129),D=(u.flags&32)!==0,u.flags&=-33,l===null){if(et){if(w?hs(u):fs(),(l=At)?(l=w4(l,Zi),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:as!==null?{id:Ir,overflow:Br}:null,retryLane:536870912,hydrationErrors:null},g=Yw(l),g.return=u,u.child=g,Mn=u,At=null)):l=null,l===null)throw os(u);return e0(l)?u.lanes=32:u.lanes=536870912,null}var F=v.children;return v=v.fallback,w?(fs(),w=u.mode,F=cf({mode:"hidden",children:F},w),v=to(v,w,g,null),F.return=u,v.return=u,F.sibling=v,u.child=F,v=u.child,v.memoizedState=v1(g),v.childLanes=x1(l,D,g),u.memoizedState=m1,pu(null,v)):(hs(u),y1(u,F))}var te=l.memoizedState;if(te!==null&&(F=te.dehydrated,F!==null)){if(C)u.flags&256?(hs(u),u.flags&=-257,u=b1(l,u,g)):u.memoizedState!==null?(fs(),u.child=l.child,u.flags|=128,u=null):(fs(),F=v.fallback,w=u.mode,v=cf({mode:"visible",children:v.children},w),F=to(F,w,g,null),F.flags|=2,v.return=u,F.return=u,v.sibling=F,u.child=v,lo(u,l.child,null,g),v=u.child,v.memoizedState=v1(g),v.childLanes=x1(l,D,g),u.memoizedState=m1,u=pu(null,v));else if(hs(u),e0(F)){if(D=F.nextSibling&&F.nextSibling.dataset,D)var le=D.dgst;D=le,v=Error(i(419)),v.stack="",v.digest=D,nu({value:v,source:null,stack:null}),u=b1(l,u,g)}else if(rn||yl(l,u,g,!1),D=(g&l.childLanes)!==0,rn||D){if(D=jt,D!==null&&(v=tw(D,g),v!==0&&v!==te.retryLane))throw te.retryLane=v,eo(l,v),fi(D,l,v),p1;Q1(F)||xf(),u=b1(l,u,g)}else Q1(F)?(u.flags|=192,u.child=l.child,u=null):(l=te.treeContext,At=er(F.nextSibling),Mn=u,et=!0,ss=null,Zi=!1,l!==null&&Jw(u,l),u=y1(u,v.children),u.flags|=4096);return u}return w?(fs(),F=v.fallback,w=u.mode,te=l.child,le=te.sibling,v=ga(te,{mode:"hidden",children:v.children}),v.subtreeFlags=te.subtreeFlags&65011712,le!==null?F=ga(le,F):(F=to(F,w,g,null),F.flags|=2),F.return=u,v.return=u,v.sibling=F,u.child=v,pu(null,v),v=u.child,F=l.child.memoizedState,F===null?F=v1(g):(w=F.cachePool,w!==null?(te=tn._currentValue,w=w.parent!==te?{parent:te,pool:te}:w):w=iS(),F={baseLanes:F.baseLanes|g,cachePool:w}),v.memoizedState=F,v.childLanes=x1(l,D,g),u.memoizedState=m1,pu(l.child,v)):(hs(u),g=l.child,l=g.sibling,g=ga(g,{mode:"visible",children:v.children}),g.return=u,g.sibling=null,l!==null&&(D=u.deletions,D===null?(u.deletions=[l],u.flags|=16):D.push(l)),u.child=g,u.memoizedState=null,g)}function y1(l,u){return u=cf({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function cf(l,u){return l=Si(22,l,null,u),l.lanes=0,l}function b1(l,u,g){return lo(u,l.child,null,g),l=y1(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function mC(l,u,g){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),Rv(l.return,u,g)}function _1(l,u,g,v,w,C){var D=l.memoizedState;D===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:g,tailMode:w,treeForkCount:C}:(D.isBackwards=u,D.rendering=null,D.renderingStartTime=0,D.last=v,D.tail=g,D.tailMode=w,D.treeForkCount=C)}function vC(l,u,g){var v=u.pendingProps,w=v.revealOrder,C=v.tail;v=v.children;var D=Yt.current,F=(D&2)!==0;if(F?(D=D&1|2,u.flags|=128):D&=1,$(Yt,D),Rn(l,u,v,g),v=et?tu:0,!F&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&mC(l,g,u);else if(l.tag===19)mC(l,g,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(w){case"forwards":for(g=u.child,w=null;g!==null;)l=g.alternate,l!==null&&Kh(l)===null&&(w=g),g=g.sibling;g=w,g===null?(w=u.child,u.child=null):(w=g.sibling,g.sibling=null),_1(u,!1,w,g,C,v);break;case"backwards":case"unstable_legacy-backwards":for(g=null,w=u.child,u.child=null;w!==null;){if(l=w.alternate,l!==null&&Kh(l)===null){u.child=w;break}l=w.sibling,w.sibling=g,g=w,w=l}_1(u,!0,g,null,C,v);break;case"together":_1(u,!1,null,null,void 0,v);break;default:u.memoizedState=null}return u.child}function _a(l,u,g){if(l!==null&&(u.dependencies=l.dependencies),ms|=u.lanes,(g&u.childLanes)===0)if(l!==null){if(yl(l,u,g,!1),(g&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(i(153));if(u.child!==null){for(l=u.child,g=ga(l,l.pendingProps),u.child=g,g.return=u;l.sibling!==null;)l=l.sibling,g=g.sibling=ga(l,l.pendingProps),g.return=u;g.sibling=null}return u.child}function j1(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&Hh(l)))}function uI(l,u,g){switch(u.tag){case 3:re(u,u.stateNode.containerInfo),ls(u,tn,l.memoizedState.cache),no();break;case 27:case 5:ve(u);break;case 4:re(u,u.stateNode.containerInfo);break;case 10:ls(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Wv(u),null;break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(hs(u),u.flags|=128,null):(g&u.child.childLanes)!==0?gC(l,u,g):(hs(u),l=_a(l,u,g),l!==null?l.sibling:null);hs(u);break;case 19:var w=(l.flags&128)!==0;if(v=(g&u.childLanes)!==0,v||(yl(l,u,g,!1),v=(g&u.childLanes)!==0),w){if(v)return vC(l,u,g);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),$(Yt,Yt.current),v)break;return null;case 22:return u.lanes=0,cC(l,u,g,u.pendingProps);case 24:ls(u,tn,l.memoizedState.cache)}return _a(l,u,g)}function xC(l,u,g){if(l!==null)if(l.memoizedProps!==u.pendingProps)rn=!0;else{if(!j1(l,g)&&(u.flags&128)===0)return rn=!1,uI(l,u,g);rn=(l.flags&131072)!==0}else rn=!1,et&&(u.flags&1048576)!==0&&Kw(u,tu,u.index);switch(u.lanes=0,u.tag){case 16:e:{var v=u.pendingProps;if(l=so(u.elementType),u.type=l,typeof l=="function")Nv(l)?(v=uo(l,v),u.tag=1,u=fC(null,u,l,v,g)):(u.tag=0,u=g1(null,u,l,v,g));else{if(l!=null){var w=l.$$typeof;if(w===A){u.tag=11,u=sC(null,u,l,v,g);break e}else if(w===R){u.tag=14,u=oC(null,u,l,v,g);break e}}throw u=L(l)||l,Error(i(306,u,""))}}return u;case 0:return g1(l,u,u.type,u.pendingProps,g);case 1:return v=u.type,w=uo(v,u.pendingProps),fC(l,u,v,w,g);case 3:e:{if(re(u,u.stateNode.containerInfo),l===null)throw Error(i(387));v=u.pendingProps;var C=u.memoizedState;w=C.element,Hv(l,u),cu(u,v,null,g);var D=u.memoizedState;if(v=D.cache,ls(u,tn,v),v!==C.cache&&Lv(u,[tn],g,!0),lu(),v=D.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:D.cache},u.updateQueue.baseState=C,u.memoizedState=C,u.flags&256){u=pC(l,u,v,g);break e}else if(v!==w){w=Xi(Error(i(424)),u),nu(w),u=pC(l,u,v,g);break e}else for(l=u.stateNode.containerInfo,l.nodeType===9?l=l.body:l=l.nodeName==="HTML"?l.ownerDocument.body:l,At=er(l.firstChild),Mn=u,et=!0,ss=null,Zi=!0,g=cS(u,null,v,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(no(),v===w){u=_a(l,u,g);break e}Rn(l,u,v,g)}u=u.child}return u;case 26:return lf(l,u),l===null?(g=T4(u.type,null,u.pendingProps,null))?u.memoizedState=g:et||(g=u.type,l=u.pendingProps,v=Cf(J.current).createElement(g),v[On]=u,v[oi]=l,Ln(v,g,l),pn(v),u.stateNode=v):u.memoizedState=T4(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return ve(u),l===null&&et&&(v=u.stateNode=A4(u.type,u.pendingProps,J.current),Mn=u,Zi=!0,w=At,_s(u.type)?(t0=w,At=er(v.firstChild)):At=w),Rn(l,u,u.pendingProps.children,g),lf(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&et&&((w=v=At)&&(v=$I(v,u.type,u.pendingProps,Zi),v!==null?(u.stateNode=v,Mn=u,At=er(v.firstChild),Zi=!1,w=!0):w=!1),w||os(u)),ve(u),w=u.type,C=u.pendingProps,D=l!==null?l.memoizedProps:null,v=C.children,K1(w,C)?v=null:D!==null&&K1(w,D)&&(u.flags|=32),u.memoizedState!==null&&(w=Xv(l,u,tI,null,null,g),Tu._currentValue=w),lf(l,u),Rn(l,u,v,g),u.child;case 6:return l===null&&et&&((l=g=At)&&(g=FI(g,u.pendingProps,Zi),g!==null?(u.stateNode=g,Mn=u,At=null,l=!0):l=!1),l||os(u)),null;case 13:return gC(l,u,g);case 4:return re(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=lo(u,null,v,g):Rn(l,u,v,g),u.child;case 11:return sC(l,u,u.type,u.pendingProps,g);case 7:return Rn(l,u,u.pendingProps,g),u.child;case 8:return Rn(l,u,u.pendingProps.children,g),u.child;case 12:return Rn(l,u,u.pendingProps.children,g),u.child;case 10:return v=u.pendingProps,ls(u,u.type,v.value),Rn(l,u,v.children,g),u.child;case 9:return w=u.type._context,v=u.pendingProps.children,ro(u),w=Pn(w),v=v(w),u.flags|=1,Rn(l,u,v,g),u.child;case 14:return oC(l,u,u.type,u.pendingProps,g);case 15:return lC(l,u,u.type,u.pendingProps,g);case 19:return vC(l,u,g);case 31:return cI(l,u,g);case 22:return cC(l,u,g,u.pendingProps);case 24:return ro(u),v=Pn(tn),l===null?(w=zv(),w===null&&(w=jt,C=Iv(),w.pooledCache=C,C.refCount++,C!==null&&(w.pooledCacheLanes|=g),w=C),u.memoizedState={parent:v,cache:w},Fv(u),ls(u,tn,w)):((l.lanes&g)!==0&&(Hv(l,u),cu(u,null,null,g),lu()),w=l.memoizedState,C=u.memoizedState,w.parent!==v?(w={parent:v,cache:v},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),ls(u,tn,v)):(v=C.cache,ls(u,tn,v),v!==w.cache&&Lv(u,[tn],g,!0))),Rn(l,u,u.pendingProps.children,g),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function ja(l){l.flags|=4}function w1(l,u,g,v,w){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(w&335544128)===w)if(l.stateNode.complete)l.flags|=8192;else if(qC())l.flags|=8192;else throw oo=Gh,$v}else l.flags&=-16777217}function yC(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!P4(u))if(qC())l.flags|=8192;else throw oo=Gh,$v}function uf(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Zj():536870912,l.lanes|=u,Dl|=u)}function gu(l,u){if(!et)switch(l.tailMode){case"hidden":u=l.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var v=null;g!==null;)g.alternate!==null&&(v=g),g=g.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Nt(l){var u=l.alternate!==null&&l.alternate.child===l.child,g=0,v=0;if(u)for(var w=l.child;w!==null;)g|=w.lanes|w.childLanes,v|=w.subtreeFlags&65011712,v|=w.flags&65011712,w.return=l,w=w.sibling;else for(w=l.child;w!==null;)g|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=l,w=w.sibling;return l.subtreeFlags|=v,l.childLanes=g,u}function dI(l,u,g){var v=u.pendingProps;switch(Dv(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(u),null;case 1:return Nt(u),null;case 3:return g=u.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),xa(tn),Z(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(xl(u)?ja(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Mv())),Nt(u),null;case 26:var w=u.type,C=u.memoizedState;return l===null?(ja(u),C!==null?(Nt(u),yC(u,C)):(Nt(u),w1(u,w,null,v,g))):C?C!==l.memoizedState?(ja(u),Nt(u),yC(u,C)):(Nt(u),u.flags&=-16777217):(l=l.memoizedProps,l!==v&&ja(u),Nt(u),w1(u,w,l,v,g)),null;case 27:if(ae(u),g=J.current,w=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&ja(u);else{if(!v){if(u.stateNode===null)throw Error(i(166));return Nt(u),null}l=B.current,xl(u)?Zw(u):(l=A4(w,v,g),u.stateNode=l,ja(u))}return Nt(u),null;case 5:if(ae(u),w=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&ja(u);else{if(!v){if(u.stateNode===null)throw Error(i(166));return Nt(u),null}if(C=B.current,xl(u))Zw(u);else{var D=Cf(J.current);switch(C){case 1:C=D.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:C=D.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":C=D.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":C=D.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":C=D.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof v.is=="string"?D.createElement("select",{is:v.is}):D.createElement("select"),v.multiple?C.multiple=!0:v.size&&(C.size=v.size);break;default:C=typeof v.is=="string"?D.createElement(w,{is:v.is}):D.createElement(w)}}C[On]=u,C[oi]=v;e:for(D=u.child;D!==null;){if(D.tag===5||D.tag===6)C.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===u)break e;for(;D.sibling===null;){if(D.return===null||D.return===u)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}u.stateNode=C;e:switch(Ln(C,w,v),w){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&ja(u)}}return Nt(u),w1(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,g),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==v&&ja(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(i(166));if(l=J.current,xl(u)){if(l=u.stateNode,g=u.memoizedProps,v=null,w=Mn,w!==null)switch(w.tag){case 27:case 5:v=w.memoizedProps}l[On]=u,l=!!(l.nodeValue===g||v!==null&&v.suppressHydrationWarning===!0||g4(l.nodeValue,g)),l||os(u,!0)}else l=Cf(l).createTextNode(v),l[On]=u,u.stateNode=l}return Nt(u),null;case 31:if(g=u.memoizedState,l===null||l.memoizedState!==null){if(v=xl(u),g!==null){if(l===null){if(!v)throw Error(i(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(557));l[On]=u}else no(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Nt(u),l=!1}else g=Mv(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=g),l=!0;if(!l)return u.flags&256?(Ai(u),u):(Ai(u),null);if((u.flags&128)!==0)throw Error(i(558))}return Nt(u),null;case 13:if(v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(w=xl(u),v!==null&&v.dehydrated!==null){if(l===null){if(!w)throw Error(i(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[On]=u}else no(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Nt(u),w=!1}else w=Mv(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=w),w=!0;if(!w)return u.flags&256?(Ai(u),u):(Ai(u),null)}return Ai(u),(u.flags&128)!==0?(u.lanes=g,u):(g=v!==null,l=l!==null&&l.memoizedState!==null,g&&(v=u.child,w=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(w=v.alternate.memoizedState.cachePool.pool),C=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(C=v.memoizedState.cachePool.pool),C!==w&&(v.flags|=2048)),g!==l&&g&&(u.child.flags|=8192),uf(u,u.updateQueue),Nt(u),null);case 4:return Z(),l===null&&q1(u.stateNode.containerInfo),Nt(u),null;case 10:return xa(u.type),Nt(u),null;case 19:if(O(Yt),v=u.memoizedState,v===null)return Nt(u),null;if(w=(u.flags&128)!==0,C=v.rendering,C===null)if(w)gu(v,!1);else{if(Vt!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(C=Kh(l),C!==null){for(u.flags|=128,gu(v,!1),l=C.updateQueue,u.updateQueue=l,uf(u,l),u.subtreeFlags=0,l=g,g=u.child;g!==null;)Ww(g,l),g=g.sibling;return $(Yt,Yt.current&1|2),et&&ma(u,v.treeForkCount),u.child}l=l.sibling}v.tail!==null&&It()>gf&&(u.flags|=128,w=!0,gu(v,!1),u.lanes=4194304)}else{if(!w)if(l=Kh(C),l!==null){if(u.flags|=128,w=!0,l=l.updateQueue,u.updateQueue=l,uf(u,l),gu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!et)return Nt(u),null}else 2*It()-v.renderingStartTime>gf&&g!==536870912&&(u.flags|=128,w=!0,gu(v,!1),u.lanes=4194304);v.isBackwards?(C.sibling=u.child,u.child=C):(l=v.last,l!==null?l.sibling=C:u.child=C,v.last=C)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=It(),l.sibling=null,g=Yt.current,$(Yt,w?g&1|2:g&1),et&&ma(u,v.treeForkCount),l):(Nt(u),null);case 22:case 23:return Ai(u),Gv(),v=u.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(g&536870912)!==0&&(u.flags&128)===0&&(Nt(u),u.subtreeFlags&6&&(u.flags|=8192)):Nt(u),g=u.updateQueue,g!==null&&uf(u,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048),l!==null&&O(ao),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),xa(tn),Nt(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function hI(l,u){switch(Dv(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return xa(tn),Z(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return ae(u),null;case 31:if(u.memoizedState!==null){if(Ai(u),u.alternate===null)throw Error(i(340));no()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(Ai(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(i(340));no()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return O(Yt),null;case 4:return Z(),null;case 10:return xa(u.type),null;case 22:case 23:return Ai(u),Gv(),l!==null&&O(ao),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return xa(tn),null;case 25:return null;default:return null}}function bC(l,u){switch(Dv(u),u.tag){case 3:xa(tn),Z();break;case 26:case 27:case 5:ae(u);break;case 4:Z();break;case 31:u.memoizedState!==null&&Ai(u);break;case 13:Ai(u);break;case 19:O(Yt);break;case 10:xa(u.type);break;case 22:case 23:Ai(u),Gv(),l!==null&&O(ao);break;case 24:xa(tn)}}function mu(l,u){try{var g=u.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var w=v.next;g=w;do{if((g.tag&l)===l){v=void 0;var C=g.create,D=g.inst;v=C(),D.destroy=v}g=g.next}while(g!==w)}}catch(F){ft(u,u.return,F)}}function ps(l,u,g){try{var v=u.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var C=w.next;v=C;do{if((v.tag&l)===l){var D=v.inst,F=D.destroy;if(F!==void 0){D.destroy=void 0,w=u;var te=g,le=F;try{le()}catch(fe){ft(w,te,fe)}}}v=v.next}while(v!==C)}}catch(fe){ft(u,u.return,fe)}}function _C(l){var u=l.updateQueue;if(u!==null){var g=l.stateNode;try{dS(u,g)}catch(v){ft(l,l.return,v)}}}function jC(l,u,g){g.props=uo(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(v){ft(l,u,v)}}function vu(l,u){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof g=="function"?l.refCleanup=g(v):g.current=v}}catch(w){ft(l,u,w)}}function zr(l,u){var g=l.ref,v=l.refCleanup;if(g!==null)if(typeof v=="function")try{v()}catch(w){ft(l,u,w)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(w){ft(l,u,w)}else g.current=null}function wC(l){var u=l.type,g=l.memoizedProps,v=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":g.autoFocus&&v.focus();break e;case"img":g.src?v.src=g.src:g.srcSet&&(v.srcset=g.srcSet)}}catch(w){ft(l,l.return,w)}}function S1(l,u,g){try{var v=l.stateNode;PI(v,l.type,g,u),v[oi]=u}catch(w){ft(l,l.return,w)}}function SC(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&_s(l.type)||l.tag===4}function C1(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||SC(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&_s(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function A1(l,u,g){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(l,u):(u=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,u.appendChild(l),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=fa));else if(v!==4&&(v===27&&_s(l.type)&&(g=l.stateNode,u=null),l=l.child,l!==null))for(A1(l,u,g),l=l.sibling;l!==null;)A1(l,u,g),l=l.sibling}function df(l,u,g){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?g.insertBefore(l,u):g.appendChild(l);else if(v!==4&&(v===27&&_s(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(df(l,u,g),l=l.sibling;l!==null;)df(l,u,g),l=l.sibling}function CC(l){var u=l.stateNode,g=l.memoizedProps;try{for(var v=l.type,w=u.attributes;w.length;)u.removeAttributeNode(w[0]);Ln(u,v,g),u[On]=l,u[oi]=g}catch(C){ft(l,l.return,C)}}var wa=!1,an=!1,N1=!1,AC=typeof WeakSet=="function"?WeakSet:Set,gn=null;function fI(l,u){if(l=l.containerInfo,Y1=Of,l=Bw(l),bv(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var v=g.getSelection&&g.getSelection();if(v&&v.rangeCount!==0){g=v.anchorNode;var w=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{g.nodeType,C.nodeType}catch{g=null;break e}var D=0,F=-1,te=-1,le=0,fe=0,me=l,ce=null;t:for(;;){for(var he;me!==g||w!==0&&me.nodeType!==3||(F=D+w),me!==C||v!==0&&me.nodeType!==3||(te=D+v),me.nodeType===3&&(D+=me.nodeValue.length),(he=me.firstChild)!==null;)ce=me,me=he;for(;;){if(me===l)break t;if(ce===g&&++le===w&&(F=D),ce===C&&++fe===v&&(te=D),(he=me.nextSibling)!==null)break;me=ce,ce=me.parentNode}me=he}g=F===-1||te===-1?null:{start:F,end:te}}else g=null}g=g||{start:0,end:0}}else g=null;for(X1={focusedElem:l,selectionRange:g},Of=!1,gn=u;gn!==null;)if(u=gn,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,gn=l;else for(;gn!==null;){switch(u=gn,C=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(g=0;g<l.length;g++)w=l[g],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&C!==null){l=void 0,g=u,w=C.memoizedProps,C=C.memoizedState,v=g.stateNode;try{var Ee=uo(g.type,w);l=v.getSnapshotBeforeUpdate(Ee,C),v.__reactInternalSnapshotBeforeUpdate=l}catch(Re){ft(g,g.return,Re)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,g=l.nodeType,g===9)Z1(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Z1(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=u.sibling,l!==null){l.return=u.return,gn=l;break}gn=u.return}}function NC(l,u,g){var v=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(l,g),v&4&&mu(5,g);break;case 1:if(Ca(l,g),v&4)if(l=g.stateNode,u===null)try{l.componentDidMount()}catch(D){ft(g,g.return,D)}else{var w=uo(g.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(w,u,l.__reactInternalSnapshotBeforeUpdate)}catch(D){ft(g,g.return,D)}}v&64&&_C(g),v&512&&vu(g,g.return);break;case 3:if(Ca(l,g),v&64&&(l=g.updateQueue,l!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{dS(l,u)}catch(D){ft(g,g.return,D)}}break;case 27:u===null&&v&4&&CC(g);case 26:case 5:Ca(l,g),u===null&&v&4&&wC(g),v&512&&vu(g,g.return);break;case 12:Ca(l,g);break;case 31:Ca(l,g),v&4&&kC(l,g);break;case 13:Ca(l,g),v&4&&DC(l,g),v&64&&(l=g.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(g=jI.bind(null,g),HI(l,g))));break;case 22:if(v=g.memoizedState!==null||wa,!v){u=u!==null&&u.memoizedState!==null||an,w=wa;var C=an;wa=v,(an=u)&&!C?Aa(l,g,(g.subtreeFlags&8772)!==0):Ca(l,g),wa=w,an=C}break;case 30:break;default:Ca(l,g)}}function EC(l){var u=l.alternate;u!==null&&(l.alternate=null,EC(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&iv(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Tt=null,ci=!1;function Sa(l,u,g){for(g=g.child;g!==null;)TC(l,u,g),g=g.sibling}function TC(l,u,g){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Dn,g)}catch{}switch(g.tag){case 26:an||zr(g,u),Sa(l,u,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:an||zr(g,u);var v=Tt,w=ci;_s(g.type)&&(Tt=g.stateNode,ci=!1),Sa(l,u,g),Au(g.stateNode),Tt=v,ci=w;break;case 5:an||zr(g,u);case 6:if(v=Tt,w=ci,Tt=null,Sa(l,u,g),Tt=v,ci=w,Tt!==null)if(ci)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(g.stateNode)}catch(C){ft(g,u,C)}else try{Tt.removeChild(g.stateNode)}catch(C){ft(g,u,C)}break;case 18:Tt!==null&&(ci?(l=Tt,_4(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,g.stateNode),zl(l)):_4(Tt,g.stateNode));break;case 4:v=Tt,w=ci,Tt=g.stateNode.containerInfo,ci=!0,Sa(l,u,g),Tt=v,ci=w;break;case 0:case 11:case 14:case 15:ps(2,g,u),an||ps(4,g,u),Sa(l,u,g);break;case 1:an||(zr(g,u),v=g.stateNode,typeof v.componentWillUnmount=="function"&&jC(g,u,v)),Sa(l,u,g);break;case 21:Sa(l,u,g);break;case 22:an=(v=an)||g.memoizedState!==null,Sa(l,u,g),an=v;break;default:Sa(l,u,g)}}function kC(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{zl(l)}catch(g){ft(u,u.return,g)}}}function DC(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{zl(l)}catch(g){ft(u,u.return,g)}}function pI(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new AC),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new AC),u;default:throw Error(i(435,l.tag))}}function hf(l,u){var g=pI(l);u.forEach(function(v){if(!g.has(v)){g.add(v);var w=wI.bind(null,l,v);v.then(w,w)}})}function ui(l,u){var g=u.deletions;if(g!==null)for(var v=0;v<g.length;v++){var w=g[v],C=l,D=u,F=D;e:for(;F!==null;){switch(F.tag){case 27:if(_s(F.type)){Tt=F.stateNode,ci=!1;break e}break;case 5:Tt=F.stateNode,ci=!1;break e;case 3:case 4:Tt=F.stateNode.containerInfo,ci=!0;break e}F=F.return}if(Tt===null)throw Error(i(160));TC(C,D,w),Tt=null,ci=!1,C=w.alternate,C!==null&&(C.return=null),w.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)OC(u,l),u=u.sibling}var wr=null;function OC(l,u){var g=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:ui(u,l),di(l),v&4&&(ps(3,l,l.return),mu(3,l),ps(5,l,l.return));break;case 1:ui(u,l),di(l),v&512&&(an||g===null||zr(g,g.return)),v&64&&wa&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?v:g.concat(v))));break;case 26:var w=wr;if(ui(u,l),di(l),v&512&&(an||g===null||zr(g,g.return)),v&4){var C=g!==null?g.memoizedState:null;if(v=l.memoizedState,g===null)if(v===null)if(l.stateNode===null){e:{v=l.type,g=l.memoizedProps,w=w.ownerDocument||w;t:switch(v){case"title":C=w.getElementsByTagName("title")[0],(!C||C[Vc]||C[On]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=w.createElement(v),w.head.insertBefore(C,w.querySelector("head > title"))),Ln(C,v,g),C[On]=l,pn(C),v=C;break e;case"link":var D=O4("link","href",w).get(v+(g.href||""));if(D){for(var F=0;F<D.length;F++)if(C=D[F],C.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&C.getAttribute("rel")===(g.rel==null?null:g.rel)&&C.getAttribute("title")===(g.title==null?null:g.title)&&C.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){D.splice(F,1);break t}}C=w.createElement(v),Ln(C,v,g),w.head.appendChild(C);break;case"meta":if(D=O4("meta","content",w).get(v+(g.content||""))){for(F=0;F<D.length;F++)if(C=D[F],C.getAttribute("content")===(g.content==null?null:""+g.content)&&C.getAttribute("name")===(g.name==null?null:g.name)&&C.getAttribute("property")===(g.property==null?null:g.property)&&C.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&C.getAttribute("charset")===(g.charSet==null?null:g.charSet)){D.splice(F,1);break t}}C=w.createElement(v),Ln(C,v,g),w.head.appendChild(C);break;default:throw Error(i(468,v))}C[On]=l,pn(C),v=C}l.stateNode=v}else M4(w,l.type,l.stateNode);else l.stateNode=D4(w,v,l.memoizedProps);else C!==v?(C===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):C.count--,v===null?M4(w,l.type,l.stateNode):D4(w,v,l.memoizedProps)):v===null&&l.stateNode!==null&&S1(l,l.memoizedProps,g.memoizedProps)}break;case 27:ui(u,l),di(l),v&512&&(an||g===null||zr(g,g.return)),g!==null&&v&4&&S1(l,l.memoizedProps,g.memoizedProps);break;case 5:if(ui(u,l),di(l),v&512&&(an||g===null||zr(g,g.return)),l.flags&32){w=l.stateNode;try{ll(w,"")}catch(Ee){ft(l,l.return,Ee)}}v&4&&l.stateNode!=null&&(w=l.memoizedProps,S1(l,w,g!==null?g.memoizedProps:w)),v&1024&&(N1=!0);break;case 6:if(ui(u,l),di(l),v&4){if(l.stateNode===null)throw Error(i(162));v=l.memoizedProps,g=l.stateNode;try{g.nodeValue=v}catch(Ee){ft(l,l.return,Ee)}}break;case 3:if(Ef=null,w=wr,wr=Af(u.containerInfo),ui(u,l),wr=w,di(l),v&4&&g!==null&&g.memoizedState.isDehydrated)try{zl(u.containerInfo)}catch(Ee){ft(l,l.return,Ee)}N1&&(N1=!1,MC(l));break;case 4:v=wr,wr=Af(l.stateNode.containerInfo),ui(u,l),di(l),wr=v;break;case 12:ui(u,l),di(l);break;case 31:ui(u,l),di(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,hf(l,v)));break;case 13:ui(u,l),di(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(pf=It()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,hf(l,v)));break;case 22:w=l.memoizedState!==null;var te=g!==null&&g.memoizedState!==null,le=wa,fe=an;if(wa=le||w,an=fe||te,ui(u,l),an=fe,wa=le,di(l),v&8192)e:for(u=l.stateNode,u._visibility=w?u._visibility&-2:u._visibility|1,w&&(g===null||te||wa||an||ho(l)),g=null,u=l;;){if(u.tag===5||u.tag===26){if(g===null){te=g=u;try{if(C=te.stateNode,w)D=C.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{F=te.stateNode;var me=te.memoizedProps.style,ce=me!=null&&me.hasOwnProperty("display")?me.display:null;F.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(Ee){ft(te,te.return,Ee)}}}else if(u.tag===6){if(g===null){te=u;try{te.stateNode.nodeValue=w?"":te.memoizedProps}catch(Ee){ft(te,te.return,Ee)}}}else if(u.tag===18){if(g===null){te=u;try{var he=te.stateNode;w?j4(he,!0):j4(te.stateNode,!1)}catch(Ee){ft(te,te.return,Ee)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=l.updateQueue,v!==null&&(g=v.retryQueue,g!==null&&(v.retryQueue=null,hf(l,g))));break;case 19:ui(u,l),di(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,hf(l,v)));break;case 30:break;case 21:break;default:ui(u,l),di(l)}}function di(l){var u=l.flags;if(u&2){try{for(var g,v=l.return;v!==null;){if(SC(v)){g=v;break}v=v.return}if(g==null)throw Error(i(160));switch(g.tag){case 27:var w=g.stateNode,C=C1(l);df(l,C,w);break;case 5:var D=g.stateNode;g.flags&32&&(ll(D,""),g.flags&=-33);var F=C1(l);df(l,F,D);break;case 3:case 4:var te=g.stateNode.containerInfo,le=C1(l);A1(l,le,te);break;default:throw Error(i(161))}}catch(fe){ft(l,l.return,fe)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function MC(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;MC(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function Ca(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)NC(l,u.alternate,u),u=u.sibling}function ho(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:ps(4,u,u.return),ho(u);break;case 1:zr(u,u.return);var g=u.stateNode;typeof g.componentWillUnmount=="function"&&jC(u,u.return,g),ho(u);break;case 27:Au(u.stateNode);case 26:case 5:zr(u,u.return),ho(u);break;case 22:u.memoizedState===null&&ho(u);break;case 30:ho(u);break;default:ho(u)}l=l.sibling}}function Aa(l,u,g){for(g=g&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,w=l,C=u,D=C.flags;switch(C.tag){case 0:case 11:case 15:Aa(w,C,g),mu(4,C);break;case 1:if(Aa(w,C,g),v=C,w=v.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(le){ft(v,v.return,le)}if(v=C,w=v.updateQueue,w!==null){var F=v.stateNode;try{var te=w.shared.hiddenCallbacks;if(te!==null)for(w.shared.hiddenCallbacks=null,w=0;w<te.length;w++)uS(te[w],F)}catch(le){ft(v,v.return,le)}}g&&D&64&&_C(C),vu(C,C.return);break;case 27:CC(C);case 26:case 5:Aa(w,C,g),g&&v===null&&D&4&&wC(C),vu(C,C.return);break;case 12:Aa(w,C,g);break;case 31:Aa(w,C,g),g&&D&4&&kC(w,C);break;case 13:Aa(w,C,g),g&&D&4&&DC(w,C);break;case 22:C.memoizedState===null&&Aa(w,C,g),vu(C,C.return);break;case 30:break;default:Aa(w,C,g)}u=u.sibling}}function E1(l,u){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&iu(g))}function T1(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&iu(l))}function Sr(l,u,g,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)PC(l,u,g,v),u=u.sibling}function PC(l,u,g,v){var w=u.flags;switch(u.tag){case 0:case 11:case 15:Sr(l,u,g,v),w&2048&&mu(9,u);break;case 1:Sr(l,u,g,v);break;case 3:Sr(l,u,g,v),w&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&iu(l)));break;case 12:if(w&2048){Sr(l,u,g,v),l=u.stateNode;try{var C=u.memoizedProps,D=C.id,F=C.onPostCommit;typeof F=="function"&&F(D,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(te){ft(u,u.return,te)}}else Sr(l,u,g,v);break;case 31:Sr(l,u,g,v);break;case 13:Sr(l,u,g,v);break;case 23:break;case 22:C=u.stateNode,D=u.alternate,u.memoizedState!==null?C._visibility&2?Sr(l,u,g,v):xu(l,u):C._visibility&2?Sr(l,u,g,v):(C._visibility|=2,El(l,u,g,v,(u.subtreeFlags&10256)!==0||!1)),w&2048&&E1(D,u);break;case 24:Sr(l,u,g,v),w&2048&&T1(u.alternate,u);break;default:Sr(l,u,g,v)}}function El(l,u,g,v,w){for(w=w&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var C=l,D=u,F=g,te=v,le=D.flags;switch(D.tag){case 0:case 11:case 15:El(C,D,F,te,w),mu(8,D);break;case 23:break;case 22:var fe=D.stateNode;D.memoizedState!==null?fe._visibility&2?El(C,D,F,te,w):xu(C,D):(fe._visibility|=2,El(C,D,F,te,w)),w&&le&2048&&E1(D.alternate,D);break;case 24:El(C,D,F,te,w),w&&le&2048&&T1(D.alternate,D);break;default:El(C,D,F,te,w)}u=u.sibling}}function xu(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var g=l,v=u,w=v.flags;switch(v.tag){case 22:xu(g,v),w&2048&&E1(v.alternate,v);break;case 24:xu(g,v),w&2048&&T1(v.alternate,v);break;default:xu(g,v)}u=u.sibling}}var yu=8192;function Tl(l,u,g){if(l.subtreeFlags&yu)for(l=l.child;l!==null;)RC(l,u,g),l=l.sibling}function RC(l,u,g){switch(l.tag){case 26:Tl(l,u,g),l.flags&yu&&l.memoizedState!==null&&eB(g,wr,l.memoizedState,l.memoizedProps);break;case 5:Tl(l,u,g);break;case 3:case 4:var v=wr;wr=Af(l.stateNode.containerInfo),Tl(l,u,g),wr=v;break;case 22:l.memoizedState===null&&(v=l.alternate,v!==null&&v.memoizedState!==null?(v=yu,yu=16777216,Tl(l,u,g),yu=v):Tl(l,u,g));break;default:Tl(l,u,g)}}function LC(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function bu(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var v=u[g];gn=v,BC(v,l)}LC(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)IC(l),l=l.sibling}function IC(l){switch(l.tag){case 0:case 11:case 15:bu(l),l.flags&2048&&ps(9,l,l.return);break;case 3:bu(l);break;case 12:bu(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,ff(l)):bu(l);break;default:bu(l)}}function ff(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var v=u[g];gn=v,BC(v,l)}LC(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:ps(8,u,u.return),ff(u);break;case 22:g=u.stateNode,g._visibility&2&&(g._visibility&=-3,ff(u));break;default:ff(u)}l=l.sibling}}function BC(l,u){for(;gn!==null;){var g=gn;switch(g.tag){case 0:case 11:case 15:ps(8,g,u);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var v=g.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:iu(g.memoizedState.cache)}if(v=g.child,v!==null)v.return=g,gn=v;else e:for(g=l;gn!==null;){v=gn;var w=v.sibling,C=v.return;if(EC(v),v===g){gn=null;break e}if(w!==null){w.return=C,gn=w;break e}gn=C}}}var gI={getCacheForType:function(l){var u=Pn(tn),g=u.data.get(l);return g===void 0&&(g=l(),u.data.set(l,g)),g},cacheSignal:function(){return Pn(tn).controller.signal}},mI=typeof WeakMap=="function"?WeakMap:Map,lt=0,jt=null,We=null,Je=0,ht=0,Ni=null,gs=!1,kl=!1,k1=!1,Na=0,Vt=0,ms=0,fo=0,D1=0,Ei=0,Dl=0,_u=null,hi=null,O1=!1,pf=0,zC=0,gf=1/0,mf=null,vs=null,cn=0,xs=null,Ol=null,Ea=0,M1=0,P1=null,$C=null,ju=0,R1=null;function Ti(){return(lt&2)!==0&&Je!==0?Je&-Je:M.T!==null?F1():nw()}function FC(){if(Ei===0)if((Je&536870912)===0||et){var l=wh;wh<<=1,(wh&3932160)===0&&(wh=262144),Ei=l}else Ei=536870912;return l=Ci.current,l!==null&&(l.flags|=32),Ei}function fi(l,u,g){(l===jt&&(ht===2||ht===9)||l.cancelPendingCommit!==null)&&(Ml(l,0),ys(l,Je,Ei,!1)),Uc(l,g),((lt&2)===0||l!==jt)&&(l===jt&&((lt&2)===0&&(fo|=g),Vt===4&&ys(l,Je,Ei,!1)),$r(l))}function HC(l,u,g){if((lt&6)!==0)throw Error(i(327));var v=!g&&(u&127)===0&&(u&l.expiredLanes)===0||Hc(l,u),w=v?yI(l,u):I1(l,u,!0),C=v;do{if(w===0){kl&&!v&&ys(l,u,0,!1);break}else{if(g=l.current.alternate,C&&!vI(g)){w=I1(l,u,!1),C=!1;continue}if(w===2){if(C=u,l.errorRecoveryDisabledLanes&C)var D=0;else D=l.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){u=D;e:{var F=l;w=_u;var te=F.current.memoizedState.isDehydrated;if(te&&(Ml(F,D).flags|=256),D=I1(F,D,!1),D!==2){if(k1&&!te){F.errorRecoveryDisabledLanes|=C,fo|=C,w=4;break e}C=hi,hi=w,C!==null&&(hi===null?hi=C:hi.push.apply(hi,C))}w=D}if(C=!1,w!==2)continue}}if(w===1){Ml(l,0),ys(l,u,0,!0);break}e:{switch(v=l,C=w,C){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:ys(v,u,Ei,!gs);break e;case 2:hi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(w=pf+300-It(),10<w)){if(ys(v,u,Ei,!gs),Ch(v,0,!0)!==0)break e;Ea=u,v.timeoutHandle=y4(UC.bind(null,v,g,hi,mf,O1,u,Ei,fo,Dl,gs,C,"Throttled",-0,0),w);break e}UC(v,g,hi,mf,O1,u,Ei,fo,Dl,gs,C,null,-0,0)}}break}while(!0);$r(l)}function UC(l,u,g,v,w,C,D,F,te,le,fe,me,ce,he){if(l.timeoutHandle=-1,me=u.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fa},RC(u,C,me);var Ee=(C&62914560)===C?pf-It():(C&4194048)===C?zC-It():0;if(Ee=tB(me,Ee),Ee!==null){Ea=C,l.cancelPendingCommit=Ee(JC.bind(null,l,u,C,g,v,w,D,F,te,fe,me,null,ce,he)),ys(l,C,D,!le);return}}JC(l,u,C,g,v,w,D,F,te)}function vI(l){for(var u=l;;){var g=u.tag;if((g===0||g===11||g===15)&&u.flags&16384&&(g=u.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var v=0;v<g.length;v++){var w=g[v],C=w.getSnapshot;w=w.value;try{if(!wi(C(),w))return!1}catch{return!1}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ys(l,u,g,v){u&=~D1,u&=~fo,l.suspendedLanes|=u,l.pingedLanes&=~u,v&&(l.warmLanes|=u),v=l.expirationTimes;for(var w=u;0<w;){var C=31-ji(w),D=1<<C;v[C]=-1,w&=~D}g!==0&&Qj(l,g,u)}function vf(){return(lt&6)===0?(wu(0),!1):!0}function L1(){if(We!==null){if(ht===0)var l=We.return;else l=We,va=io=null,Zv(l),wl=null,au=0,l=We;for(;l!==null;)bC(l.alternate,l),l=l.return;We=null}}function Ml(l,u){var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,II(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),Ea=0,L1(),jt=l,We=g=ga(l.current,null),Je=u,ht=0,Ni=null,gs=!1,kl=Hc(l,u),k1=!1,Dl=Ei=D1=fo=ms=Vt=0,hi=_u=null,O1=!1,(u&8)!==0&&(u|=u&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=u;0<v;){var w=31-ji(v),C=1<<w;u|=l[w],v&=~C}return Na=u,Ih(),g}function VC(l,u){He=null,M.H=fu,u===jl||u===qh?(u=sS(),ht=3):u===$v?(u=sS(),ht=4):ht=u===p1?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ni=u,We===null&&(Vt=1,sf(l,Xi(u,l.current)))}function qC(){var l=Ci.current;return l===null?!0:(Je&4194048)===Je?Qi===null:(Je&62914560)===Je||(Je&536870912)!==0?l===Qi:!1}function GC(){var l=M.H;return M.H=fu,l===null?fu:l}function WC(){var l=M.A;return M.A=gI,l}function xf(){Vt=4,gs||(Je&4194048)!==Je&&Ci.current!==null||(kl=!0),(ms&134217727)===0&&(fo&134217727)===0||jt===null||ys(jt,Je,Ei,!1)}function I1(l,u,g){var v=lt;lt|=2;var w=GC(),C=WC();(jt!==l||Je!==u)&&(mf=null,Ml(l,u)),u=!1;var D=Vt;e:do try{if(ht!==0&&We!==null){var F=We,te=Ni;switch(ht){case 8:L1(),D=6;break e;case 3:case 2:case 9:case 6:Ci.current===null&&(u=!0);var le=ht;if(ht=0,Ni=null,Pl(l,F,te,le),g&&kl){D=0;break e}break;default:le=ht,ht=0,Ni=null,Pl(l,F,te,le)}}xI(),D=Vt;break}catch(fe){VC(l,fe)}while(!0);return u&&l.shellSuspendCounter++,va=io=null,lt=v,M.H=w,M.A=C,We===null&&(jt=null,Je=0,Ih()),D}function xI(){for(;We!==null;)YC(We)}function yI(l,u){var g=lt;lt|=2;var v=GC(),w=WC();jt!==l||Je!==u?(mf=null,gf=It()+500,Ml(l,u)):kl=Hc(l,u);e:do try{if(ht!==0&&We!==null){u=We;var C=Ni;t:switch(ht){case 1:ht=0,Ni=null,Pl(l,u,C,1);break;case 2:case 9:if(rS(C)){ht=0,Ni=null,XC(u);break}u=function(){ht!==2&&ht!==9||jt!==l||(ht=7),$r(l)},C.then(u,u);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:rS(C)?(ht=0,Ni=null,XC(u)):(ht=0,Ni=null,Pl(l,u,C,7));break;case 5:var D=null;switch(We.tag){case 26:D=We.memoizedState;case 5:case 27:var F=We;if(D?P4(D):F.stateNode.complete){ht=0,Ni=null;var te=F.sibling;if(te!==null)We=te;else{var le=F.return;le!==null?(We=le,yf(le)):We=null}break t}}ht=0,Ni=null,Pl(l,u,C,5);break;case 6:ht=0,Ni=null,Pl(l,u,C,6);break;case 8:L1(),Vt=6;break e;default:throw Error(i(462))}}bI();break}catch(fe){VC(l,fe)}while(!0);return va=io=null,M.H=v,M.A=w,lt=g,We!==null?0:(jt=null,Je=0,Ih(),Vt)}function bI(){for(;We!==null&&!Lr();)YC(We)}function YC(l){var u=xC(l.alternate,l,Na);l.memoizedProps=l.pendingProps,u===null?yf(l):We=u}function XC(l){var u=l,g=u.alternate;switch(u.tag){case 15:case 0:u=hC(g,u,u.pendingProps,u.type,void 0,Je);break;case 11:u=hC(g,u,u.pendingProps,u.type.render,u.ref,Je);break;case 5:Zv(u);default:bC(g,u),u=We=Ww(u,Na),u=xC(g,u,Na)}l.memoizedProps=l.pendingProps,u===null?yf(l):We=u}function Pl(l,u,g,v){va=io=null,Zv(u),wl=null,au=0;var w=u.return;try{if(lI(l,w,u,g,Je)){Vt=1,sf(l,Xi(g,l.current)),We=null;return}}catch(C){if(w!==null)throw We=w,C;Vt=1,sf(l,Xi(g,l.current)),We=null;return}u.flags&32768?(et||v===1?l=!0:kl||(Je&536870912)!==0?l=!1:(gs=l=!0,(v===2||v===9||v===3||v===6)&&(v=Ci.current,v!==null&&v.tag===13&&(v.flags|=16384))),KC(u,l)):yf(u)}function yf(l){var u=l;do{if((u.flags&32768)!==0){KC(u,gs);return}l=u.return;var g=dI(u.alternate,u,Na);if(g!==null){We=g;return}if(u=u.sibling,u!==null){We=u;return}We=u=l}while(u!==null);Vt===0&&(Vt=5)}function KC(l,u){do{var g=hI(l.alternate,l);if(g!==null){g.flags&=32767,We=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!u&&(l=l.sibling,l!==null)){We=l;return}We=l=g}while(l!==null);Vt=6,We=null}function JC(l,u,g,v,w,C,D,F,te){l.cancelPendingCommit=null;do bf();while(cn!==0);if((lt&6)!==0)throw Error(i(327));if(u!==null){if(u===l.current)throw Error(i(177));if(C=u.lanes|u.childLanes,C|=Cv,QL(l,g,C,D,F,te),l===jt&&(We=jt=null,Je=0),Ol=u,xs=l,Ea=g,M1=C,P1=w,$C=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,SI(ye,function(){return n4(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=M.T,M.T=null,w=I.p,I.p=2,D=lt,lt|=4;try{fI(l,u,g)}finally{lt=D,I.p=w,M.T=v}}cn=1,ZC(),QC(),e4()}}function ZC(){if(cn===1){cn=0;var l=xs,u=Ol,g=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||g){g=M.T,M.T=null;var v=I.p;I.p=2;var w=lt;lt|=4;try{OC(u,l);var C=X1,D=Bw(l.containerInfo),F=C.focusedElem,te=C.selectionRange;if(D!==F&&F&&F.ownerDocument&&Iw(F.ownerDocument.documentElement,F)){if(te!==null&&bv(F)){var le=te.start,fe=te.end;if(fe===void 0&&(fe=le),"selectionStart"in F)F.selectionStart=le,F.selectionEnd=Math.min(fe,F.value.length);else{var me=F.ownerDocument||document,ce=me&&me.defaultView||window;if(ce.getSelection){var he=ce.getSelection(),Ee=F.textContent.length,Re=Math.min(te.start,Ee),xt=te.end===void 0?Re:Math.min(te.end,Ee);!he.extend&&Re>xt&&(D=xt,xt=Re,Re=D);var ie=Lw(F,Re),ne=Lw(F,xt);if(ie&&ne&&(he.rangeCount!==1||he.anchorNode!==ie.node||he.anchorOffset!==ie.offset||he.focusNode!==ne.node||he.focusOffset!==ne.offset)){var oe=me.createRange();oe.setStart(ie.node,ie.offset),he.removeAllRanges(),Re>xt?(he.addRange(oe),he.extend(ne.node,ne.offset)):(oe.setEnd(ne.node,ne.offset),he.addRange(oe))}}}}for(me=[],he=F;he=he.parentNode;)he.nodeType===1&&me.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<me.length;F++){var ge=me[F];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Of=!!Y1,X1=Y1=null}finally{lt=w,I.p=v,M.T=g}}l.current=u,cn=2}}function QC(){if(cn===2){cn=0;var l=xs,u=Ol,g=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||g){g=M.T,M.T=null;var v=I.p;I.p=2;var w=lt;lt|=4;try{NC(l,u.alternate,u)}finally{lt=w,I.p=v,M.T=g}}cn=3}}function e4(){if(cn===4||cn===3){cn=0,Ws();var l=xs,u=Ol,g=Ea,v=$C;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?cn=5:(cn=0,Ol=xs=null,t4(l,l.pendingLanes));var w=l.pendingLanes;if(w===0&&(vs=null),tv(g),u=u.stateNode,Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Dn,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=M.T,w=I.p,I.p=2,M.T=null;try{for(var C=l.onRecoverableError,D=0;D<v.length;D++){var F=v[D];C(F.value,{componentStack:F.stack})}}finally{M.T=u,I.p=w}}(Ea&3)!==0&&bf(),$r(l),w=l.pendingLanes,(g&261930)!==0&&(w&42)!==0?l===R1?ju++:(ju=0,R1=l):ju=0,wu(0)}}function t4(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,iu(u)))}function bf(){return ZC(),QC(),e4(),n4()}function n4(){if(cn!==5)return!1;var l=xs,u=M1;M1=0;var g=tv(Ea),v=M.T,w=I.p;try{I.p=32>g?32:g,M.T=null,g=P1,P1=null;var C=xs,D=Ea;if(cn=0,Ol=xs=null,Ea=0,(lt&6)!==0)throw Error(i(331));var F=lt;if(lt|=4,IC(C.current),PC(C,C.current,D,g),lt=F,wu(0,!1),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Dn,C)}catch{}return!0}finally{I.p=w,M.T=v,t4(l,u)}}function i4(l,u,g){u=Xi(g,u),u=f1(l.stateNode,u,2),l=ds(l,u,2),l!==null&&(Uc(l,2),$r(l))}function ft(l,u,g){if(l.tag===3)i4(l,l,g);else for(;u!==null;){if(u.tag===3){i4(u,l,g);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(vs===null||!vs.has(v))){l=Xi(g,l),g=rC(2),v=ds(u,g,2),v!==null&&(aC(g,v,u,l),Uc(v,2),$r(v));break}}u=u.return}}function B1(l,u,g){var v=l.pingCache;if(v===null){v=l.pingCache=new mI;var w=new Set;v.set(u,w)}else w=v.get(u),w===void 0&&(w=new Set,v.set(u,w));w.has(g)||(k1=!0,w.add(g),l=_I.bind(null,l,u,g),u.then(l,l))}function _I(l,u,g){var v=l.pingCache;v!==null&&v.delete(u),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,jt===l&&(Je&g)===g&&(Vt===4||Vt===3&&(Je&62914560)===Je&&300>It()-pf?(lt&2)===0&&Ml(l,0):D1|=g,Dl===Je&&(Dl=0)),$r(l)}function r4(l,u){u===0&&(u=Zj()),l=eo(l,u),l!==null&&(Uc(l,u),$r(l))}function jI(l){var u=l.memoizedState,g=0;u!==null&&(g=u.retryLane),r4(l,g)}function wI(l,u){var g=0;switch(l.tag){case 31:case 13:var v=l.stateNode,w=l.memoizedState;w!==null&&(g=w.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(u),r4(l,g)}function SI(l,u){return _i(l,u)}var _f=null,Rl=null,z1=!1,jf=!1,$1=!1,bs=0;function $r(l){l!==Rl&&l.next===null&&(Rl===null?_f=Rl=l:Rl=Rl.next=l),jf=!0,z1||(z1=!0,AI())}function wu(l,u){if(!$1&&jf){$1=!0;do for(var g=!1,v=_f;v!==null;){if(l!==0){var w=v.pendingLanes;if(w===0)var C=0;else{var D=v.suspendedLanes,F=v.pingedLanes;C=(1<<31-ji(42|l)+1)-1,C&=w&~(D&~F),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(g=!0,l4(v,C))}else C=Je,C=Ch(v,v===jt?C:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(C&3)===0||Hc(v,C)||(g=!0,l4(v,C));v=v.next}while(g);$1=!1}}function CI(){a4()}function a4(){jf=z1=!1;var l=0;bs!==0&&LI()&&(l=bs);for(var u=It(),g=null,v=_f;v!==null;){var w=v.next,C=s4(v,u);C===0?(v.next=null,g===null?_f=w:g.next=w,w===null&&(Rl=g)):(g=v,(l!==0||(C&3)!==0)&&(jf=!0)),v=w}cn!==0&&cn!==5||wu(l),bs!==0&&(bs=0)}function s4(l,u){for(var g=l.suspendedLanes,v=l.pingedLanes,w=l.expirationTimes,C=l.pendingLanes&-62914561;0<C;){var D=31-ji(C),F=1<<D,te=w[D];te===-1?((F&g)===0||(F&v)!==0)&&(w[D]=ZL(F,u)):te<=u&&(l.expiredLanes|=F),C&=~F}if(u=jt,g=Je,g=Ch(l,l===u?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,g===0||l===u&&(ht===2||ht===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&da(v),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||Hc(l,g)){if(u=g&-g,u===l.callbackPriority)return u;switch(v!==null&&da(v),tv(g)){case 2:case 8:g=pe;break;case 32:g=ye;break;case 268435456:g=de;break;default:g=ye}return v=o4.bind(null,l),g=_i(g,v),l.callbackPriority=u,l.callbackNode=g,u}return v!==null&&v!==null&&da(v),l.callbackPriority=2,l.callbackNode=null,2}function o4(l,u){if(cn!==0&&cn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(bf()&&l.callbackNode!==g)return null;var v=Je;return v=Ch(l,l===jt?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(HC(l,v,u),s4(l,It()),l.callbackNode!=null&&l.callbackNode===g?o4.bind(null,l):null)}function l4(l,u){if(bf())return null;HC(l,u,!0)}function AI(){BI(function(){(lt&6)!==0?_i(kn,CI):a4()})}function F1(){if(bs===0){var l=bl;l===0&&(l=jh,jh<<=1,(jh&261888)===0&&(jh=256)),bs=l}return bs}function c4(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Th(""+l)}function u4(l,u){var g=u.ownerDocument.createElement("input");return g.name=u.name,g.value=u.value,l.id&&g.setAttribute("form",l.id),u.parentNode.insertBefore(g,u),l=new FormData(l),g.parentNode.removeChild(g),l}function NI(l,u,g,v,w){if(u==="submit"&&g&&g.stateNode===w){var C=c4((w[oi]||null).action),D=v.submitter;D&&(u=(u=D[oi]||null)?c4(u.formAction):D.getAttribute("formAction"),u!==null&&(C=u,D=null));var F=new Mh("action","action",null,v,w);l.push({event:F,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(bs!==0){var te=D?u4(w,D):new FormData(w);o1(g,{pending:!0,data:te,method:w.method,action:C},null,te)}}else typeof C=="function"&&(F.preventDefault(),te=D?u4(w,D):new FormData(w),o1(g,{pending:!0,data:te,method:w.method,action:C},C,te))},currentTarget:w}]})}}for(var H1=0;H1<Sv.length;H1++){var U1=Sv[H1],EI=U1.toLowerCase(),TI=U1[0].toUpperCase()+U1.slice(1);jr(EI,"on"+TI)}jr(Fw,"onAnimationEnd"),jr(Hw,"onAnimationIteration"),jr(Uw,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(q9,"onTransitionRun"),jr(G9,"onTransitionStart"),jr(W9,"onTransitionCancel"),jr(Vw,"onTransitionEnd"),sl("onMouseEnter",["mouseout","mouseover"]),sl("onMouseLeave",["mouseout","mouseover"]),sl("onPointerEnter",["pointerout","pointerover"]),sl("onPointerLeave",["pointerout","pointerover"]),Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Su));function d4(l,u){u=(u&4)!==0;for(var g=0;g<l.length;g++){var v=l[g],w=v.event;v=v.listeners;e:{var C=void 0;if(u)for(var D=v.length-1;0<=D;D--){var F=v[D],te=F.instance,le=F.currentTarget;if(F=F.listener,te!==C&&w.isPropagationStopped())break e;C=F,w.currentTarget=le;try{C(w)}catch(fe){Lh(fe)}w.currentTarget=null,C=te}else for(D=0;D<v.length;D++){if(F=v[D],te=F.instance,le=F.currentTarget,F=F.listener,te!==C&&w.isPropagationStopped())break e;C=F,w.currentTarget=le;try{C(w)}catch(fe){Lh(fe)}w.currentTarget=null,C=te}}}}function Ye(l,u){var g=u[nv];g===void 0&&(g=u[nv]=new Set);var v=l+"__bubble";g.has(v)||(h4(u,l,2,!1),g.add(v))}function V1(l,u,g){var v=0;u&&(v|=4),h4(g,l,v,u)}var wf="_reactListening"+Math.random().toString(36).slice(2);function q1(l){if(!l[wf]){l[wf]=!0,aw.forEach(function(g){g!=="selectionchange"&&(kI.has(g)||V1(g,!1,l),V1(g,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[wf]||(u[wf]=!0,V1("selectionchange",!1,u))}}function h4(l,u,g,v){switch(F4(u)){case 2:var w=rB;break;case 8:w=aB;break;default:w=s0}g=w.bind(null,u,g,l),w=void 0,!dv||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),v?w!==void 0?l.addEventListener(u,g,{capture:!0,passive:w}):l.addEventListener(u,g,!0):w!==void 0?l.addEventListener(u,g,{passive:w}):l.addEventListener(u,g,!1)}function G1(l,u,g,v,w){var C=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var D=v.tag;if(D===3||D===4){var F=v.stateNode.containerInfo;if(F===w)break;if(D===4)for(D=v.return;D!==null;){var te=D.tag;if((te===3||te===4)&&D.stateNode.containerInfo===w)return;D=D.return}for(;F!==null;){if(D=il(F),D===null)return;if(te=D.tag,te===5||te===6||te===26||te===27){v=C=D;continue e}F=F.parentNode}}v=v.return}vw(function(){var le=C,fe=cv(g),me=[];e:{var ce=qw.get(l);if(ce!==void 0){var he=Mh,Ee=l;switch(l){case"keypress":if(Dh(g)===0)break e;case"keydown":case"keyup":he=w9;break;case"focusin":Ee="focus",he=gv;break;case"focusout":Ee="blur",he=gv;break;case"beforeblur":case"afterblur":he=gv;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=bw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=d9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=A9;break;case Fw:case Hw:case Uw:he=p9;break;case Vw:he=E9;break;case"scroll":case"scrollend":he=c9;break;case"wheel":he=k9;break;case"copy":case"cut":case"paste":he=m9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=jw;break;case"toggle":case"beforetoggle":he=O9}var Re=(u&4)!==0,xt=!Re&&(l==="scroll"||l==="scrollend"),ie=Re?ce!==null?ce+"Capture":null:ce;Re=[];for(var ne=le,oe;ne!==null;){var ge=ne;if(oe=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||oe===null||ie===null||(ge=Gc(ne,ie),ge!=null&&Re.push(Cu(ne,ge,oe))),xt)break;ne=ne.return}0<Re.length&&(ce=new he(ce,Ee,null,g,fe),me.push({event:ce,listeners:Re}))}}if((u&7)===0){e:{if(ce=l==="mouseover"||l==="pointerover",he=l==="mouseout"||l==="pointerout",ce&&g!==lv&&(Ee=g.relatedTarget||g.fromElement)&&(il(Ee)||Ee[nl]))break e;if((he||ce)&&(ce=fe.window===fe?fe:(ce=fe.ownerDocument)?ce.defaultView||ce.parentWindow:window,he?(Ee=g.relatedTarget||g.toElement,he=le,Ee=Ee?il(Ee):null,Ee!==null&&(xt=s(Ee),Re=Ee.tag,Ee!==xt||Re!==5&&Re!==27&&Re!==6)&&(Ee=null)):(he=null,Ee=le),he!==Ee)){if(Re=bw,ge="onMouseLeave",ie="onMouseEnter",ne="mouse",(l==="pointerout"||l==="pointerover")&&(Re=jw,ge="onPointerLeave",ie="onPointerEnter",ne="pointer"),xt=he==null?ce:qc(he),oe=Ee==null?ce:qc(Ee),ce=new Re(ge,ne+"leave",he,g,fe),ce.target=xt,ce.relatedTarget=oe,ge=null,il(fe)===le&&(Re=new Re(ie,ne+"enter",Ee,g,fe),Re.target=oe,Re.relatedTarget=xt,ge=Re),xt=ge,he&&Ee)t:{for(Re=DI,ie=he,ne=Ee,oe=0,ge=ie;ge;ge=Re(ge))oe++;ge=0;for(var Me=ne;Me;Me=Re(Me))ge++;for(;0<oe-ge;)ie=Re(ie),oe--;for(;0<ge-oe;)ne=Re(ne),ge--;for(;oe--;){if(ie===ne||ne!==null&&ie===ne.alternate){Re=ie;break t}ie=Re(ie),ne=Re(ne)}Re=null}else Re=null;he!==null&&f4(me,ce,he,Re,!1),Ee!==null&&xt!==null&&f4(me,xt,Ee,Re,!0)}}e:{if(ce=le?qc(le):window,he=ce.nodeName&&ce.nodeName.toLowerCase(),he==="select"||he==="input"&&ce.type==="file")var rt=kw;else if(Ew(ce))if(Dw)rt=H9;else{rt=$9;var Te=z9}else he=ce.nodeName,!he||he.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?le&&ov(le.elementType)&&(rt=kw):rt=F9;if(rt&&(rt=rt(l,le))){Tw(me,rt,g,fe);break e}Te&&Te(l,ce,le),l==="focusout"&&le&&ce.type==="number"&&le.memoizedProps.value!=null&&sv(ce,"number",ce.value)}switch(Te=le?qc(le):window,l){case"focusin":(Ew(Te)||Te.contentEditable==="true")&&(hl=Te,_v=le,eu=null);break;case"focusout":eu=_v=hl=null;break;case"mousedown":jv=!0;break;case"contextmenu":case"mouseup":case"dragend":jv=!1,zw(me,g,fe);break;case"selectionchange":if(V9)break;case"keydown":case"keyup":zw(me,g,fe)}var Ue;if(vv)e:{switch(l){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else dl?Aw(l,g)&&(Ze="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(Ze="onCompositionStart");Ze&&(ww&&g.locale!=="ko"&&(dl||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&dl&&(Ue=xw()):(rs=fe,hv="value"in rs?rs.value:rs.textContent,dl=!0)),Te=Sf(le,Ze),0<Te.length&&(Ze=new _w(Ze,l,null,g,fe),me.push({event:Ze,listeners:Te}),Ue?Ze.data=Ue:(Ue=Nw(g),Ue!==null&&(Ze.data=Ue)))),(Ue=P9?R9(l,g):L9(l,g))&&(Ze=Sf(le,"onBeforeInput"),0<Ze.length&&(Te=new _w("onBeforeInput","beforeinput",null,g,fe),me.push({event:Te,listeners:Ze}),Te.data=Ue)),NI(me,l,le,g,fe)}d4(me,u)})}function Cu(l,u,g){return{instance:l,listener:u,currentTarget:g}}function Sf(l,u){for(var g=u+"Capture",v=[];l!==null;){var w=l,C=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||C===null||(w=Gc(l,g),w!=null&&v.unshift(Cu(l,w,C)),w=Gc(l,u),w!=null&&v.push(Cu(l,w,C))),l.tag===3)return v;l=l.return}return[]}function DI(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function f4(l,u,g,v,w){for(var C=u._reactName,D=[];g!==null&&g!==v;){var F=g,te=F.alternate,le=F.stateNode;if(F=F.tag,te!==null&&te===v)break;F!==5&&F!==26&&F!==27||le===null||(te=le,w?(le=Gc(g,C),le!=null&&D.unshift(Cu(g,le,te))):w||(le=Gc(g,C),le!=null&&D.push(Cu(g,le,te)))),g=g.return}D.length!==0&&l.push({event:u,listeners:D})}var OI=/\r\n?/g,MI=/\u0000|\uFFFD/g;function p4(l){return(typeof l=="string"?l:""+l).replace(OI,`
`).replace(MI,"")}function g4(l,u){return u=p4(u),p4(l)===u}function vt(l,u,g,v,w,C){switch(g){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||ll(l,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&ll(l,""+v);break;case"className":Nh(l,"class",v);break;case"tabIndex":Nh(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Nh(l,g,v);break;case"style":gw(l,v,C);break;case"data":if(u!=="object"){Nh(l,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||g!=="href")){l.removeAttribute(g);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(g);break}v=Th(""+v),l.setAttribute(g,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(g==="formAction"?(u!=="input"&&vt(l,u,"name",w.name,w,null),vt(l,u,"formEncType",w.formEncType,w,null),vt(l,u,"formMethod",w.formMethod,w,null),vt(l,u,"formTarget",w.formTarget,w,null)):(vt(l,u,"encType",w.encType,w,null),vt(l,u,"method",w.method,w,null),vt(l,u,"target",w.target,w,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(g);break}v=Th(""+v),l.setAttribute(g,v);break;case"onClick":v!=null&&(l.onclick=fa);break;case"onScroll":v!=null&&Ye("scroll",l);break;case"onScrollEnd":v!=null&&Ye("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(g=v.__html,g!=null){if(w.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}g=Th(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(g,""+v):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":v===!0?l.setAttribute(g,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(g,v):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(g,v):l.removeAttribute(g);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(g):l.setAttribute(g,v);break;case"popover":Ye("beforetoggle",l),Ye("toggle",l),Ah(l,"popover",v);break;case"xlinkActuate":ha(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":ha(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":ha(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":ha(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":ha(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":ha(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":ha(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":ha(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":ha(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Ah(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=o9.get(g)||g,Ah(l,g,v))}}function W1(l,u,g,v,w,C){switch(g){case"style":gw(l,v,C);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(g=v.__html,g!=null){if(w.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"children":typeof v=="string"?ll(l,v):(typeof v=="number"||typeof v=="bigint")&&ll(l,""+v);break;case"onScroll":v!=null&&Ye("scroll",l);break;case"onScrollEnd":v!=null&&Ye("scrollend",l);break;case"onClick":v!=null&&(l.onclick=fa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sw.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(w=g.endsWith("Capture"),u=g.slice(2,w?g.length-7:void 0),C=l[oi]||null,C=C!=null?C[g]:null,typeof C=="function"&&l.removeEventListener(u,C,w),typeof v=="function")){typeof C!="function"&&C!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(u,v,w);break e}g in l?l[g]=v:v===!0?l.setAttribute(g,""):Ah(l,g,v)}}}function Ln(l,u,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",l),Ye("load",l);var v=!1,w=!1,C;for(C in g)if(g.hasOwnProperty(C)){var D=g[C];if(D!=null)switch(C){case"src":v=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:vt(l,u,C,D,g,null)}}w&&vt(l,u,"srcSet",g.srcSet,g,null),v&&vt(l,u,"src",g.src,g,null);return;case"input":Ye("invalid",l);var F=C=D=w=null,te=null,le=null;for(v in g)if(g.hasOwnProperty(v)){var fe=g[v];if(fe!=null)switch(v){case"name":w=fe;break;case"type":D=fe;break;case"checked":te=fe;break;case"defaultChecked":le=fe;break;case"value":C=fe;break;case"defaultValue":F=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,u));break;default:vt(l,u,v,fe,g,null)}}dw(l,C,F,te,le,D,w,!1);return;case"select":Ye("invalid",l),v=D=C=null;for(w in g)if(g.hasOwnProperty(w)&&(F=g[w],F!=null))switch(w){case"value":C=F;break;case"defaultValue":D=F;break;case"multiple":v=F;default:vt(l,u,w,F,g,null)}u=C,g=D,l.multiple=!!v,u!=null?ol(l,!!v,u,!1):g!=null&&ol(l,!!v,g,!0);return;case"textarea":Ye("invalid",l),C=w=v=null;for(D in g)if(g.hasOwnProperty(D)&&(F=g[D],F!=null))switch(D){case"value":v=F;break;case"defaultValue":w=F;break;case"children":C=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(91));break;default:vt(l,u,D,F,g,null)}fw(l,v,w,C);return;case"option":for(te in g)g.hasOwnProperty(te)&&(v=g[te],v!=null)&&(te==="selected"?l.selected=v&&typeof v!="function"&&typeof v!="symbol":vt(l,u,te,v,g,null));return;case"dialog":Ye("beforetoggle",l),Ye("toggle",l),Ye("cancel",l),Ye("close",l);break;case"iframe":case"object":Ye("load",l);break;case"video":case"audio":for(v=0;v<Su.length;v++)Ye(Su[v],l);break;case"image":Ye("error",l),Ye("load",l);break;case"details":Ye("toggle",l);break;case"embed":case"source":case"link":Ye("error",l),Ye("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in g)if(g.hasOwnProperty(le)&&(v=g[le],v!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:vt(l,u,le,v,g,null)}return;default:if(ov(u)){for(fe in g)g.hasOwnProperty(fe)&&(v=g[fe],v!==void 0&&W1(l,u,fe,v,g,void 0));return}}for(F in g)g.hasOwnProperty(F)&&(v=g[F],v!=null&&vt(l,u,F,v,g,null))}function PI(l,u,g,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,C=null,D=null,F=null,te=null,le=null,fe=null;for(he in g){var me=g[he];if(g.hasOwnProperty(he)&&me!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":te=me;default:v.hasOwnProperty(he)||vt(l,u,he,null,v,me)}}for(var ce in v){var he=v[ce];if(me=g[ce],v.hasOwnProperty(ce)&&(he!=null||me!=null))switch(ce){case"type":C=he;break;case"name":w=he;break;case"checked":le=he;break;case"defaultChecked":fe=he;break;case"value":D=he;break;case"defaultValue":F=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(i(137,u));break;default:he!==me&&vt(l,u,ce,he,v,me)}}av(l,D,F,te,le,fe,C,w);return;case"select":he=D=F=ce=null;for(C in g)if(te=g[C],g.hasOwnProperty(C)&&te!=null)switch(C){case"value":break;case"multiple":he=te;default:v.hasOwnProperty(C)||vt(l,u,C,null,v,te)}for(w in v)if(C=v[w],te=g[w],v.hasOwnProperty(w)&&(C!=null||te!=null))switch(w){case"value":ce=C;break;case"defaultValue":F=C;break;case"multiple":D=C;default:C!==te&&vt(l,u,w,C,v,te)}u=F,g=D,v=he,ce!=null?ol(l,!!g,ce,!1):!!v!=!!g&&(u!=null?ol(l,!!g,u,!0):ol(l,!!g,g?[]:"",!1));return;case"textarea":he=ce=null;for(F in g)if(w=g[F],g.hasOwnProperty(F)&&w!=null&&!v.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:vt(l,u,F,null,v,w)}for(D in v)if(w=v[D],C=g[D],v.hasOwnProperty(D)&&(w!=null||C!=null))switch(D){case"value":ce=w;break;case"defaultValue":he=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==C&&vt(l,u,D,w,v,C)}hw(l,ce,he);return;case"option":for(var Ee in g)ce=g[Ee],g.hasOwnProperty(Ee)&&ce!=null&&!v.hasOwnProperty(Ee)&&(Ee==="selected"?l.selected=!1:vt(l,u,Ee,null,v,ce));for(te in v)ce=v[te],he=g[te],v.hasOwnProperty(te)&&ce!==he&&(ce!=null||he!=null)&&(te==="selected"?l.selected=ce&&typeof ce!="function"&&typeof ce!="symbol":vt(l,u,te,ce,v,he));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in g)ce=g[Re],g.hasOwnProperty(Re)&&ce!=null&&!v.hasOwnProperty(Re)&&vt(l,u,Re,null,v,ce);for(le in v)if(ce=v[le],he=g[le],v.hasOwnProperty(le)&&ce!==he&&(ce!=null||he!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,u));break;default:vt(l,u,le,ce,v,he)}return;default:if(ov(u)){for(var xt in g)ce=g[xt],g.hasOwnProperty(xt)&&ce!==void 0&&!v.hasOwnProperty(xt)&&W1(l,u,xt,void 0,v,ce);for(fe in v)ce=v[fe],he=g[fe],!v.hasOwnProperty(fe)||ce===he||ce===void 0&&he===void 0||W1(l,u,fe,ce,v,he);return}}for(var ie in g)ce=g[ie],g.hasOwnProperty(ie)&&ce!=null&&!v.hasOwnProperty(ie)&&vt(l,u,ie,null,v,ce);for(me in v)ce=v[me],he=g[me],!v.hasOwnProperty(me)||ce===he||ce==null&&he==null||vt(l,u,me,ce,v,he)}function m4(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RI(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,g=performance.getEntriesByType("resource"),v=0;v<g.length;v++){var w=g[v],C=w.transferSize,D=w.initiatorType,F=w.duration;if(C&&F&&m4(D)){for(D=0,F=w.responseEnd,v+=1;v<g.length;v++){var te=g[v],le=te.startTime;if(le>F)break;var fe=te.transferSize,me=te.initiatorType;fe&&m4(me)&&(te=te.responseEnd,D+=fe*(te<F?1:(F-le)/(te-le)))}if(--v,u+=8*(C+D)/(w.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Y1=null,X1=null;function Cf(l){return l.nodeType===9?l:l.ownerDocument}function v4(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x4(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function K1(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var J1=null;function LI(){var l=window.event;return l&&l.type==="popstate"?l===J1?!1:(J1=l,!0):(J1=null,!1)}var y4=typeof setTimeout=="function"?setTimeout:void 0,II=typeof clearTimeout=="function"?clearTimeout:void 0,b4=typeof Promise=="function"?Promise:void 0,BI=typeof queueMicrotask=="function"?queueMicrotask:typeof b4<"u"?function(l){return b4.resolve(null).then(l).catch(zI)}:y4;function zI(l){setTimeout(function(){throw l})}function _s(l){return l==="head"}function _4(l,u){var g=u,v=0;do{var w=g.nextSibling;if(l.removeChild(g),w&&w.nodeType===8)if(g=w.data,g==="/$"||g==="/&"){if(v===0){l.removeChild(w),zl(u);return}v--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")v++;else if(g==="html")Au(l.ownerDocument.documentElement);else if(g==="head"){g=l.ownerDocument.head,Au(g);for(var C=g.firstChild;C;){var D=C.nextSibling,F=C.nodeName;C[Vc]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&C.rel.toLowerCase()==="stylesheet"||g.removeChild(C),C=D}}else g==="body"&&Au(l.ownerDocument.body);g=w}while(g);zl(u)}function j4(l,u){var g=l;l=0;do{var v=g.nextSibling;if(g.nodeType===1?u?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(u?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),v&&v.nodeType===8)if(g=v.data,g==="/$"){if(l===0)break;l--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||l++;g=v}while(g)}function Z1(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var g=u;switch(u=u.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":Z1(g),iv(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function $I(l,u,g,v){for(;l.nodeType===1;){var w=g;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[Vc])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(C=l.getAttribute("rel"),C==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(C!==w.rel||l.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||l.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||l.getAttribute("title")!==(w.title==null?null:w.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(C=l.getAttribute("src"),(C!==(w.src==null?null:w.src)||l.getAttribute("type")!==(w.type==null?null:w.type)||l.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&C&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var C=w.name==null?null:""+w.name;if(w.type==="hidden"&&l.getAttribute("name")===C)return l}else return l;if(l=er(l.nextSibling),l===null)break}return null}function FI(l,u,g){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=er(l.nextSibling),l===null))return null;return l}function w4(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=er(l.nextSibling),l===null))return null;return l}function Q1(l){return l.data==="$?"||l.data==="$~"}function e0(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function HI(l,u){var g=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||g.readyState!=="loading")u();else{var v=function(){u(),g.removeEventListener("DOMContentLoaded",v)};g.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function er(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var t0=null;function S4(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"||g==="/&"){if(u===0)return er(l.nextSibling);u--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||u++}l=l.nextSibling}return null}function C4(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(u===0)return l;u--}else g!=="/$"&&g!=="/&"||u++}l=l.previousSibling}return null}function A4(l,u,g){switch(u=Cf(g),l){case"html":if(l=u.documentElement,!l)throw Error(i(452));return l;case"head":if(l=u.head,!l)throw Error(i(453));return l;case"body":if(l=u.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}function Au(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);iv(l)}var tr=new Map,N4=new Set;function Af(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Ta=I.d;I.d={f:UI,r:VI,D:qI,C:GI,L:WI,m:YI,X:KI,S:XI,M:JI};function UI(){var l=Ta.f(),u=vf();return l||u}function VI(l){var u=rl(l);u!==null&&u.tag===5&&u.type==="form"?VS(u):Ta.r(l)}var Ll=typeof document>"u"?null:document;function E4(l,u,g){var v=Ll;if(v&&typeof u=="string"&&u){var w=Wi(u);w='link[rel="'+l+'"][href="'+w+'"]',typeof g=="string"&&(w+='[crossorigin="'+g+'"]'),N4.has(w)||(N4.add(w),l={rel:l,crossOrigin:g,href:u},v.querySelector(w)===null&&(u=v.createElement("link"),Ln(u,"link",l),pn(u),v.head.appendChild(u)))}}function qI(l){Ta.D(l),E4("dns-prefetch",l,null)}function GI(l,u){Ta.C(l,u),E4("preconnect",l,u)}function WI(l,u,g){Ta.L(l,u,g);var v=Ll;if(v&&l&&u){var w='link[rel="preload"][as="'+Wi(u)+'"]';u==="image"&&g&&g.imageSrcSet?(w+='[imagesrcset="'+Wi(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(w+='[imagesizes="'+Wi(g.imageSizes)+'"]')):w+='[href="'+Wi(l)+'"]';var C=w;switch(u){case"style":C=Il(l);break;case"script":C=Bl(l)}tr.has(C)||(l=p({rel:"preload",href:u==="image"&&g&&g.imageSrcSet?void 0:l,as:u},g),tr.set(C,l),v.querySelector(w)!==null||u==="style"&&v.querySelector(Nu(C))||u==="script"&&v.querySelector(Eu(C))||(u=v.createElement("link"),Ln(u,"link",l),pn(u),v.head.appendChild(u)))}}function YI(l,u){Ta.m(l,u);var g=Ll;if(g&&l){var v=u&&typeof u.as=="string"?u.as:"script",w='link[rel="modulepreload"][as="'+Wi(v)+'"][href="'+Wi(l)+'"]',C=w;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Bl(l)}if(!tr.has(C)&&(l=p({rel:"modulepreload",href:l},u),tr.set(C,l),g.querySelector(w)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Eu(C)))return}v=g.createElement("link"),Ln(v,"link",l),pn(v),g.head.appendChild(v)}}}function XI(l,u,g){Ta.S(l,u,g);var v=Ll;if(v&&l){var w=al(v).hoistableStyles,C=Il(l);u=u||"default";var D=w.get(C);if(!D){var F={loading:0,preload:null};if(D=v.querySelector(Nu(C)))F.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":u},g),(g=tr.get(C))&&n0(l,g);var te=D=v.createElement("link");pn(te),Ln(te,"link",l),te._p=new Promise(function(le,fe){te.onload=le,te.onerror=fe}),te.addEventListener("load",function(){F.loading|=1}),te.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Nf(D,u,v)}D={type:"stylesheet",instance:D,count:1,state:F},w.set(C,D)}}}function KI(l,u){Ta.X(l,u);var g=Ll;if(g&&l){var v=al(g).hoistableScripts,w=Bl(l),C=v.get(w);C||(C=g.querySelector(Eu(w)),C||(l=p({src:l,async:!0},u),(u=tr.get(w))&&i0(l,u),C=g.createElement("script"),pn(C),Ln(C,"link",l),g.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(w,C))}}function JI(l,u){Ta.M(l,u);var g=Ll;if(g&&l){var v=al(g).hoistableScripts,w=Bl(l),C=v.get(w);C||(C=g.querySelector(Eu(w)),C||(l=p({src:l,async:!0,type:"module"},u),(u=tr.get(w))&&i0(l,u),C=g.createElement("script"),pn(C),Ln(C,"link",l),g.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(w,C))}}function T4(l,u,g,v){var w=(w=J.current)?Af(w):null;if(!w)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(u=Il(g.href),g=al(w).hoistableStyles,v=g.get(u),v||(v={type:"style",instance:null,count:0,state:null},g.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=Il(g.href);var C=al(w).hoistableStyles,D=C.get(l);if(D||(w=w.ownerDocument||w,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(l,D),(C=w.querySelector(Nu(l)))&&!C._p&&(D.instance=C,D.state.loading=5),tr.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},tr.set(l,g),C||ZI(w,l,g,D.state))),u&&v===null)throw Error(i(528,""));return D}if(u&&v!==null)throw Error(i(529,""));return null;case"script":return u=g.async,g=g.src,typeof g=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Bl(g),g=al(w).hoistableScripts,v=g.get(u),v||(v={type:"script",instance:null,count:0,state:null},g.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function Il(l){return'href="'+Wi(l)+'"'}function Nu(l){return'link[rel="stylesheet"]['+l+"]"}function k4(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function ZI(l,u,g,v){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=l.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),Ln(u,"link",g),pn(u),l.head.appendChild(u))}function Bl(l){return'[src="'+Wi(l)+'"]'}function Eu(l){return"script[async]"+l}function D4(l,u,g){if(u.count++,u.instance===null)switch(u.type){case"style":var v=l.querySelector('style[data-href~="'+Wi(g.href)+'"]');if(v)return u.instance=v,pn(v),v;var w=p({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),pn(v),Ln(v,"style",w),Nf(v,g.precedence,l),u.instance=v;case"stylesheet":w=Il(g.href);var C=l.querySelector(Nu(w));if(C)return u.state.loading|=4,u.instance=C,pn(C),C;v=k4(g),(w=tr.get(w))&&n0(v,w),C=(l.ownerDocument||l).createElement("link"),pn(C);var D=C;return D._p=new Promise(function(F,te){D.onload=F,D.onerror=te}),Ln(C,"link",v),u.state.loading|=4,Nf(C,g.precedence,l),u.instance=C;case"script":return C=Bl(g.src),(w=l.querySelector(Eu(C)))?(u.instance=w,pn(w),w):(v=g,(w=tr.get(C))&&(v=p({},g),i0(v,w)),l=l.ownerDocument||l,w=l.createElement("script"),pn(w),Ln(w,"link",v),l.head.appendChild(w),u.instance=w);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,Nf(v,g.precedence,l));return u.instance}function Nf(l,u,g){for(var v=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=v.length?v[v.length-1]:null,C=w,D=0;D<v.length;D++){var F=v[D];if(F.dataset.precedence===u)C=F;else if(C!==w)break}C?C.parentNode.insertBefore(l,C.nextSibling):(u=g.nodeType===9?g.head:g,u.insertBefore(l,u.firstChild))}function n0(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function i0(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var Ef=null;function O4(l,u,g){if(Ef===null){var v=new Map,w=Ef=new Map;w.set(g,v)}else w=Ef,v=w.get(g),v||(v=new Map,w.set(g,v));if(v.has(l))return v;for(v.set(l,null),g=g.getElementsByTagName(l),w=0;w<g.length;w++){var C=g[w];if(!(C[Vc]||C[On]||l==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var D=C.getAttribute(u)||"";D=l+D;var F=v.get(D);F?F.push(C):v.set(D,[C])}}return v}function M4(l,u,g){l=l.ownerDocument||l,l.head.insertBefore(g,u==="title"?l.querySelector("head > title"):null)}function QI(l,u,g){if(g===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(l=u.disabled,typeof u.precedence=="string"&&l==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function P4(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function eB(l,u,g,v){if(g.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var w=Il(v.href),C=u.querySelector(Nu(w));if(C){u=C._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=Tf.bind(l),u.then(l,l)),g.state.loading|=4,g.instance=C,pn(C);return}C=u.ownerDocument||u,v=k4(v),(w=tr.get(w))&&n0(v,w),C=C.createElement("link"),pn(C);var D=C;D._p=new Promise(function(F,te){D.onload=F,D.onerror=te}),Ln(C,"link",v),g.instance=C}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(g,u),(u=g.state.preload)&&(g.state.loading&3)===0&&(l.count++,g=Tf.bind(l),u.addEventListener("load",g),u.addEventListener("error",g))}}var r0=0;function tB(l,u){return l.stylesheets&&l.count===0&&Df(l,l.stylesheets),0<l.count||0<l.imgCount?function(g){var v=setTimeout(function(){if(l.stylesheets&&Df(l,l.stylesheets),l.unsuspend){var C=l.unsuspend;l.unsuspend=null,C()}},6e4+u);0<l.imgBytes&&r0===0&&(r0=62500*RI());var w=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Df(l,l.stylesheets),l.unsuspend)){var C=l.unsuspend;l.unsuspend=null,C()}},(l.imgBytes>r0?50:800)+u);return l.unsuspend=g,function(){l.unsuspend=null,clearTimeout(v),clearTimeout(w)}}:null}function Tf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Df(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var kf=null;function Df(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,kf=new Map,u.forEach(nB,l),kf=null,Tf.call(l))}function nB(l,u){if(!(u.state.loading&4)){var g=kf.get(l);if(g)var v=g.get(null);else{g=new Map,kf.set(l,g);for(var w=l.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<w.length;C++){var D=w[C];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(g.set(D.dataset.precedence,D),v=D)}v&&g.set(null,v)}w=u.instance,D=w.getAttribute("data-precedence"),C=g.get(D)||v,C===v&&g.set(null,w),g.set(D,w),this.count++,v=Tf.bind(this),w.addEventListener("load",v),w.addEventListener("error",v),C?C.parentNode.insertBefore(w,C.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(w,l.firstChild)),u.state.loading|=4}}var Tu={$$typeof:E,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function iB(l,u,g,v,w,C,D,F,te){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qm(0),this.hiddenUpdates=Qm(null),this.identifierPrefix=v,this.onUncaughtError=w,this.onCaughtError=C,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function R4(l,u,g,v,w,C,D,F,te,le,fe,me){return l=new iB(l,u,g,D,te,le,fe,me,F),u=1,C===!0&&(u|=24),C=Si(3,null,null,u),l.current=C,C.stateNode=l,u=Iv(),u.refCount++,l.pooledCache=u,u.refCount++,C.memoizedState={element:v,isDehydrated:g,cache:u},Fv(C),l}function L4(l){return l?(l=gl,l):gl}function I4(l,u,g,v,w,C){w=L4(w),v.context===null?v.context=w:v.pendingContext=w,v=us(u),v.payload={element:g},C=C===void 0?null:C,C!==null&&(v.callback=C),g=ds(l,v,u),g!==null&&(fi(g,l,u),ou(g,l,u))}function B4(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<u?g:u}}function a0(l,u){B4(l,u),(l=l.alternate)&&B4(l,u)}function z4(l){if(l.tag===13||l.tag===31){var u=eo(l,67108864);u!==null&&fi(u,l,67108864),a0(l,67108864)}}function $4(l){if(l.tag===13||l.tag===31){var u=Ti();u=ev(u);var g=eo(l,u);g!==null&&fi(g,l,u),a0(l,u)}}var Of=!0;function rB(l,u,g,v){var w=M.T;M.T=null;var C=I.p;try{I.p=2,s0(l,u,g,v)}finally{I.p=C,M.T=w}}function aB(l,u,g,v){var w=M.T;M.T=null;var C=I.p;try{I.p=8,s0(l,u,g,v)}finally{I.p=C,M.T=w}}function s0(l,u,g,v){if(Of){var w=o0(v);if(w===null)G1(l,u,v,Mf,g),H4(l,v);else if(oB(w,l,u,g,v))v.stopPropagation();else if(H4(l,v),u&4&&-1<sB.indexOf(l)){for(;w!==null;){var C=rl(w);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var D=Xs(C.pendingLanes);if(D!==0){var F=C;for(F.pendingLanes|=2,F.entangledLanes|=2;D;){var te=1<<31-ji(D);F.entanglements[1]|=te,D&=~te}$r(C),(lt&6)===0&&(gf=It()+500,wu(0))}}break;case 31:case 13:F=eo(C,2),F!==null&&fi(F,C,2),vf(),a0(C,2)}if(C=o0(v),C===null&&G1(l,u,v,Mf,g),C===w)break;w=C}w!==null&&v.stopPropagation()}else G1(l,u,v,null,g)}}function o0(l){return l=cv(l),l0(l)}var Mf=null;function l0(l){if(Mf=null,l=il(l),l!==null){var u=s(l);if(u===null)l=null;else{var g=u.tag;if(g===13){if(l=o(u),l!==null)return l;l=null}else if(g===31){if(l=c(u),l!==null)return l;l=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Mf=l,null}function F4(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ys()){case kn:return 2;case pe:return 8;case ye:case De:return 32;case de:return 268435456;default:return 32}default:return 32}}var c0=!1,js=null,ws=null,Ss=null,ku=new Map,Du=new Map,Cs=[],sB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H4(l,u){switch(l){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":ku.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(u.pointerId)}}function Ou(l,u,g,v,w,C){return l===null||l.nativeEvent!==C?(l={blockedOn:u,domEventName:g,eventSystemFlags:v,nativeEvent:C,targetContainers:[w]},u!==null&&(u=rl(u),u!==null&&z4(u)),l):(l.eventSystemFlags|=v,u=l.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),l)}function oB(l,u,g,v,w){switch(u){case"focusin":return js=Ou(js,l,u,g,v,w),!0;case"dragenter":return ws=Ou(ws,l,u,g,v,w),!0;case"mouseover":return Ss=Ou(Ss,l,u,g,v,w),!0;case"pointerover":var C=w.pointerId;return ku.set(C,Ou(ku.get(C)||null,l,u,g,v,w)),!0;case"gotpointercapture":return C=w.pointerId,Du.set(C,Ou(Du.get(C)||null,l,u,g,v,w)),!0}return!1}function U4(l){var u=il(l.target);if(u!==null){var g=s(u);if(g!==null){if(u=g.tag,u===13){if(u=o(g),u!==null){l.blockedOn=u,iw(l.priority,function(){$4(g)});return}}else if(u===31){if(u=c(g),u!==null){l.blockedOn=u,iw(l.priority,function(){$4(g)});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Pf(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var g=o0(l.nativeEvent);if(g===null){g=l.nativeEvent;var v=new g.constructor(g.type,g);lv=v,g.target.dispatchEvent(v),lv=null}else return u=rl(g),u!==null&&z4(u),l.blockedOn=g,!1;u.shift()}return!0}function V4(l,u,g){Pf(l)&&g.delete(u)}function lB(){c0=!1,js!==null&&Pf(js)&&(js=null),ws!==null&&Pf(ws)&&(ws=null),Ss!==null&&Pf(Ss)&&(Ss=null),ku.forEach(V4),Du.forEach(V4)}function Rf(l,u){l.blockedOn===u&&(l.blockedOn=null,c0||(c0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,lB)))}var Lf=null;function q4(l){Lf!==l&&(Lf=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lf===l&&(Lf=null);for(var u=0;u<l.length;u+=3){var g=l[u],v=l[u+1],w=l[u+2];if(typeof v!="function"){if(l0(v||g)===null)continue;break}var C=rl(g);C!==null&&(l.splice(u,3),u-=3,o1(C,{pending:!0,data:w,method:g.method,action:v},v,w))}}))}function zl(l){function u(te){return Rf(te,l)}js!==null&&Rf(js,l),ws!==null&&Rf(ws,l),Ss!==null&&Rf(Ss,l),ku.forEach(u),Du.forEach(u);for(var g=0;g<Cs.length;g++){var v=Cs[g];v.blockedOn===l&&(v.blockedOn=null)}for(;0<Cs.length&&(g=Cs[0],g.blockedOn===null);)U4(g),g.blockedOn===null&&Cs.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(v=0;v<g.length;v+=3){var w=g[v],C=g[v+1],D=w[oi]||null;if(typeof C=="function")D||q4(g);else if(D){var F=null;if(C&&C.hasAttribute("formAction")){if(w=C,D=C[oi]||null)F=D.formAction;else if(l0(w)!==null)continue}else F=D.action;typeof F=="function"?g[v+1]=F:(g.splice(v,3),v-=3),q4(g)}}}function G4(){function l(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(D){return w=D})},focusReset:"manual",scroll:"manual"})}function u(){w!==null&&(w(),w=null),v||setTimeout(g,20)}function g(){if(!v&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,w=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(g,100),function(){v=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),w!==null&&(w(),w=null)}}}function u0(l){this._internalRoot=l}If.prototype.render=u0.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(i(409));var g=u.current,v=Ti();I4(g,v,l,u,null,null)},If.prototype.unmount=u0.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;I4(l.current,2,null,l,null,null),vf(),u[nl]=null}};function If(l){this._internalRoot=l}If.prototype.unstable_scheduleHydration=function(l){if(l){var u=nw();l={blockedOn:null,target:l,priority:u};for(var g=0;g<Cs.length&&u!==0&&u<Cs[g].priority;g++);Cs.splice(g,0,l),g===0&&U4(l)}};var W4=e.version;if(W4!=="19.2.3")throw Error(i(527,W4,"19.2.3"));I.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=h(u),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var cB={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{Dn=Bf.inject(cB),Xn=Bf}catch{}}return Pu.createRoot=function(l,u){if(!a(l))throw Error(i(299));var g=!1,v="",w=eC,C=tC,D=nC;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError)),u=R4(l,1,!1,null,null,g,v,null,w,C,D,G4),l[nl]=u.current,q1(l),new u0(u)},Pu.hydrateRoot=function(l,u,g){if(!a(l))throw Error(i(299));var v=!1,w="",C=eC,D=tC,F=nC,te=null;return g!=null&&(g.unstable_strictMode===!0&&(v=!0),g.identifierPrefix!==void 0&&(w=g.identifierPrefix),g.onUncaughtError!==void 0&&(C=g.onUncaughtError),g.onCaughtError!==void 0&&(D=g.onCaughtError),g.onRecoverableError!==void 0&&(F=g.onRecoverableError),g.formState!==void 0&&(te=g.formState)),u=R4(l,1,!0,u,g??null,v,w,te,C,D,F,G4),u.context=L4(null),g=u.current,v=Ti(),v=ev(v),w=us(v),w.callback=null,ds(g,w,v),g=v,u.current.lanes=g,Uc(u,g),$r(u),l[nl]=u.current,q1(l),new If(u)},Pu.version="19.2.3",Pu}var aA;function bB(){if(aA)return p0.exports;aA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),p0.exports=yB(),p0.exports}var _B=bB();const jB=vr(_B);var sA="popstate";function wB(t={}){function e(i,a){let{pathname:s,search:o,hash:c}=i.location;return Oy("",{pathname:s,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:fd(a)}return CB(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SB(){return Math.random().toString(36).substring(2,10)}function oA(t,e){return{usr:t.state,key:t.key,idx:e}}function Oy(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wc(e):e,state:n,key:e&&e.key||i||SB()}}function fd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function CB(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:s=!1}=i,o=a.history,c="POP",d=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function p(){c="POP";let _=f(),S=_==null?null:_-h;h=_,d&&d({action:c,location:y.location,delta:S})}function m(_,S){c="PUSH";let N=Oy(y.location,_,S);h=f()+1;let E=oA(N,h),A=y.createHref(N);try{o.pushState(E,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(A)}s&&d&&d({action:c,location:y.location,delta:1})}function x(_,S){c="REPLACE";let N=Oy(y.location,_,S);h=f();let E=oA(N,h),A=y.createHref(N);o.replaceState(E,"",A),s&&d&&d({action:c,location:y.location,delta:0})}function b(_){return AB(_)}let y={get action(){return c},get location(){return t(a,o)},listen(_){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(sA,p),d=_,()=>{a.removeEventListener(sA,p),d=null}},createHref(_){return e(a,_)},createURL:b,encodeLocation(_){let S=b(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:x,go(_){return o.go(_)}};return y}function AB(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:fd(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Qk(t,e,n="/"){return NB(t,e,n,!1)}function NB(t,e,n,i){let a=typeof e=="string"?wc(e):e,s=za(a.pathname||"/",n);if(s==null)return null;let o=eD(t);EB(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=zB(s);c=IB(o[d],h,i)}return c}function eD(t,e=[],n=[],i="",a=!1){let s=(o,c,d=a,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&d)return;Rt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let p=La([i,f.relativePath]),m=n.concat(f);o.children&&o.children.length>0&&(Rt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),eD(o.children,e,m,p,d)),!(o.path==null&&!o.index)&&e.push({path:p,score:RB(p,o.index),routesMeta:m})};return t.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))s(o,c);else for(let d of tD(o.path))s(o,c,!0,d)}),e}function tD(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return a?[s,""]:[s];let o=tD(i.join("/")),c=[];return c.push(...o.map(d=>d===""?s:[s,d].join("/"))),a&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function EB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LB(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var TB=/^:[\w-]+$/,kB=3,DB=2,OB=1,MB=10,PB=-2,lA=t=>t==="*";function RB(t,e){let n=t.split("/"),i=n.length;return n.some(lA)&&(i+=PB),e&&(i+=DB),n.filter(a=>!lA(a)).reduce((a,s)=>a+(TB.test(s)?kB:s===""?OB:MB),i)}function LB(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function IB(t,e,n=!1){let{routesMeta:i}=t,a={},s="/",o=[];for(let c=0;c<i.length;++c){let d=i[c],h=c===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=Dp({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),m=d.route;if(!p&&h&&n&&!i[i.length-1].route.index&&(p=Dp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:La([s,p.pathname]),pathnameBase:UB(La([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=La([s,p.pathnameBase]))}return o}function Dp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=BB(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:i.reduce((h,{paramName:f,isOptional:p},m)=>{if(f==="*"){let b=c[m]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const x=c[m];return p&&!x?h[f]=void 0:h[f]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function BB(t,e=!1,n=!0){Fi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(i.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function zB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function za(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var nD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$B=t=>nD.test(t);function FB(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?wc(t):t,s;if(n)if($B(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Fi(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=cA(n.substring(1),"/"):s=cA(n,e)}else s=e;return{pathname:s,search:VB(i),hash:qB(a)}}function cA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function x0(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function e2(t){let e=HB(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function t2(t,e,n,i=!1){let a;typeof t=="string"?a=wc(t):(a={...t},Rt(!a.pathname||!a.pathname.includes("?"),x0("?","pathname","search",a)),Rt(!a.pathname||!a.pathname.includes("#"),x0("#","pathname","hash",a)),Rt(!a.search||!a.search.includes("#"),x0("#","search","hash",a)));let s=t===""||a.pathname==="",o=s?"/":a.pathname,c;if(o==null)c=n;else{let p=e.length-1;if(!i&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;a.pathname=m.join("/")}c=p>=0?e[p]:"/"}let d=FB(a,c),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}var La=t=>t.join("/").replace(/\/\/+/g,"/"),UB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,GB=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function WB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function YB(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var iD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rD(t,e){let n=t;if(typeof n!="string"||!nD.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(iD)try{let s=new URL(window.location.href),o=n.startsWith("//")?new URL(s.protocol+n):new URL(n),c=za(o.pathname,e);o.origin===s.origin&&c!=null?n=c+o.search+o.hash:a=!0}catch{Fi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aD=["POST","PUT","PATCH","DELETE"];new Set(aD);var XB=["GET",...aD];new Set(XB);var Sc=j.createContext(null);Sc.displayName="DataRouter";var Ug=j.createContext(null);Ug.displayName="DataRouterState";var KB=j.createContext(!1),sD=j.createContext({isTransitioning:!1});sD.displayName="ViewTransition";var JB=j.createContext(new Map);JB.displayName="Fetchers";var ZB=j.createContext(null);ZB.displayName="Await";var Vi=j.createContext(null);Vi.displayName="Navigation";var Ud=j.createContext(null);Ud.displayName="Location";var xr=j.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var n2=j.createContext(null);n2.displayName="RouteError";var oD="REACT_ROUTER_ERROR",QB="REDIRECT",e7="ROUTE_ERROR_RESPONSE";function t7(t){if(t.startsWith(`${oD}:${QB}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function n7(t){if(t.startsWith(`${oD}:${e7}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new GB(e.status,e.statusText,e.data)}catch{}}function i7(t,{relative:e}={}){Rt(Cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(Vi),{hash:a,pathname:s,search:o}=Vd(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:La([n,s])),i.createHref({pathname:c,search:o,hash:a})}function Cc(){return j.useContext(Ud)!=null}function Wn(){return Rt(Cc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Ud).location}var lD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cD(t){j.useContext(Vi).static||j.useLayoutEffect(t)}function sa(){let{isDataRoute:t}=j.useContext(xr);return t?x7():r7()}function r7(){Rt(Cc(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Sc),{basename:e,navigator:n}=j.useContext(Vi),{matches:i}=j.useContext(xr),{pathname:a}=Wn(),s=JSON.stringify(e2(i)),o=j.useRef(!1);return cD(()=>{o.current=!0}),j.useCallback((d,h={})=>{if(Fi(o.current,lD),!o.current)return;if(typeof d=="number"){n.go(d);return}let f=t2(d,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:La([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,s,a,t])}var a7=j.createContext(null);function s7(t){let e=j.useContext(xr).outlet;return j.useMemo(()=>e&&j.createElement(a7.Provider,{value:t},e),[e,t])}function Xo(){let{matches:t}=j.useContext(xr),e=t[t.length-1];return e?e.params:{}}function Vd(t,{relative:e}={}){let{matches:n}=j.useContext(xr),{pathname:i}=Wn(),a=JSON.stringify(e2(n));return j.useMemo(()=>t2(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function o7(t,e){return uD(t,e)}function uD(t,e,n,i,a){Rt(Cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(Vi),{matches:o}=j.useContext(xr),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let N=p&&p.path||"";hD(h,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let m=Wn(),x;if(e){let N=typeof e=="string"?wc(e):e;Rt(f==="/"||N.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=m;let b=x.pathname||"/",y=b;if(f!=="/"){let N=f.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=Qk(t,{pathname:y});Fi(p||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Fi(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=h7(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:La([f,s.encodeLocation?s.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:La([f,s.encodeLocation?s.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,n,i,a);return e&&S?j.createElement(Ud.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function l7(){let t=v7(),e=WB(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:a},n):null,o)}var c7=j.createElement(l7,null),dD=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=n7(t.digest);n&&(t=n)}let e=t!==void 0?j.createElement(xr.Provider,{value:this.props.routeContext},j.createElement(n2.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(u7,{error:t},e):e}};dD.contextType=KB;var y0=new WeakMap;function u7({children:t,error:e}){let{basename:n}=j.useContext(Vi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=t7(e.digest);if(i){let a=y0.get(e);if(a)throw a;let s=rD(i.location,n);if(iD&&!y0.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw y0.set(e,o),o}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function d7({routeContext:t,match:e,children:n}){let i=j.useContext(Sc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(xr.Provider,{value:t},n)}function h7(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n?.errors;if(o!=null){let f=s.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);Rt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:x}=n,b=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||b){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}let h=n&&i?(f,p)=>{i(f,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:YB(n.matches),errorInfo:p})}:void 0;return s.reduceRight((f,p,m)=>{let x,b=!1,y=null,_=null;n&&(x=o&&p.route.id?o[p.route.id]:void 0,y=p.route.errorElement||c7,c&&(d<0&&m===0?(hD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):d===m&&(b=!0,_=p.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,m+1)),N=()=>{let E;return x?E=y:b?E=_:p.route.Component?E=j.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=f,j.createElement(d7,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:E})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?j.createElement(dD,{location:n.location,revalidation:n.revalidation,component:y,error:x,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:h}):N()},null)}function i2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f7(t){let e=j.useContext(Sc);return Rt(e,i2(t)),e}function p7(t){let e=j.useContext(Ug);return Rt(e,i2(t)),e}function g7(t){let e=j.useContext(xr);return Rt(e,i2(t)),e}function r2(t){let e=g7(t),n=e.matches[e.matches.length-1];return Rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function m7(){return r2("useRouteId")}function v7(){let t=j.useContext(n2),e=p7("useRouteError"),n=r2("useRouteError");return t!==void 0?t:e.errors?.[n]}function x7(){let{router:t}=f7("useNavigate"),e=r2("useNavigate"),n=j.useRef(!1);return cD(()=>{n.current=!0}),j.useCallback(async(a,s={})=>{Fi(n.current,lD),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var uA={};function hD(t,e,n){!e&&!uA[t]&&(uA[t]=!0,Fi(!1,n))}j.memo(y7);function y7({routes:t,future:e,state:n,onError:i}){return uD(t,void 0,n,i,e)}function a2({to:t,replace:e,state:n,relative:i}){Rt(Cc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(Vi);Fi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(xr),{pathname:o}=Wn(),c=sa(),d=t2(t,e2(s),o,i==="path"),h=JSON.stringify(d);return j.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:i})},[c,h,i,e,n]),null}function s2(t){return s7(t.context)}function be(t){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b7({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:s=!1,unstable_useTransitions:o}){Rt(!Cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:a,static:s,unstable_useTransitions:o,future:{}}),[c,a,s,o]);typeof n=="string"&&(n=wc(n));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:x="default"}=n,b=j.useMemo(()=>{let y=za(h,c);return y==null?null:{location:{pathname:y,search:f,hash:p,state:m,key:x},navigationType:i}},[c,h,f,p,m,x,i]);return Fi(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:j.createElement(Vi.Provider,{value:d},j.createElement(Ud.Provider,{children:e,value:b}))}function dA({children:t,location:e}){return o7(My(t),e)}function My(t,e=[]){let n=[];return j.Children.forEach(t,(i,a)=>{if(!j.isValidElement(i))return;let s=[...e,a];if(i.type===j.Fragment){n.push.apply(n,My(i.props.children,s));return}Rt(i.type===be,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=My(i.props.children,s)),n.push(o)}),n}var xp="get",yp="application/x-www-form-urlencoded";function Vg(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function _7(t){return Vg(t)&&t.tagName.toLowerCase()==="button"}function j7(t){return Vg(t)&&t.tagName.toLowerCase()==="form"}function w7(t){return Vg(t)&&t.tagName.toLowerCase()==="input"}function S7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function C7(t,e){return t.button===0&&(!e||e==="_self")&&!S7(t)}function Py(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(a=>[n,a]):[[n,i]])},[]))}function A7(t,e){let n=Py(t);return e&&e.forEach((i,a)=>{n.has(a)||e.getAll(a).forEach(s=>{n.append(a,s)})}),n}var zf=null;function N7(){if(zf===null)try{new FormData(document.createElement("form"),0),zf=!1}catch{zf=!0}return zf}var E7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function b0(t){return t!=null&&!E7.has(t)?(Fi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yp}"`),null):t}function T7(t,e){let n,i,a,s,o;if(j7(t)){let c=t.getAttribute("action");i=c?za(c,e):null,n=t.getAttribute("method")||xp,a=b0(t.getAttribute("enctype"))||yp,s=new FormData(t)}else if(_7(t)||w7(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(i=d?za(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||xp,a=b0(t.getAttribute("formenctype"))||b0(c.getAttribute("enctype"))||yp,s=new FormData(c,t),!N7()){let{name:h,type:f,value:p}=t;if(f==="image"){let m=h?`${h}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else h&&s.append(h,p)}}else{if(Vg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xp,i=null,a=yp,o=t}return s&&a==="text/plain"&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function o2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function k7(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&za(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function D7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function M7(t,e,n){let i=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let o=await D7(s,n);return o.links?o.links():[]}return[]}));return I7(i.flat(1).filter(O7).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function hA(t,e,n,i,a,s){let o=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,h)=>o(d,h)||c(d,h)):s==="data"?e.filter((d,h)=>{let f=i.routes[d.route.id];if(!f||!f.hasLoader)return!1;if(o(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function P7(t,e,{includeHydrateFallback:n}={}){return R7(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function R7(t){return[...new Set(t)]}function L7(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function I7(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let s=JSON.stringify(L7(a));return n.has(s)||(n.add(s),i.push({key:s,link:a})),i},[])}function fD(){let t=j.useContext(Sc);return o2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function B7(){let t=j.useContext(Ug);return o2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var l2=j.createContext(void 0);l2.displayName="FrameworkContext";function pD(){let t=j.useContext(l2);return o2(t,"You must render this element inside a <HydratedRouter> element"),t}function z7(t,e){let n=j.useContext(l2),[i,a]=j.useState(!1),[s,o]=j.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,m=j.useRef(null);j.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=S=>{S.forEach(N=>{o(N.isIntersecting)})},_=new IntersectionObserver(y,{threshold:.5});return m.current&&_.observe(m.current),()=>{_.disconnect()}}},[t]),j.useEffect(()=>{if(i){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[i]);let x=()=>{a(!0)},b=()=>{a(!1),o(!1)};return n?t!=="intent"?[s,m,{}]:[s,m,{onFocus:Ru(c,x),onBlur:Ru(d,b),onMouseEnter:Ru(h,x),onMouseLeave:Ru(f,b),onTouchStart:Ru(p,x)}]:[!1,m,{}]}function Ru(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $7({page:t,...e}){let{router:n}=fD(),i=j.useMemo(()=>Qk(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?j.createElement(H7,{page:t,matches:i,...e}):null}function F7(t){let{manifest:e,routeModules:n}=pD(),[i,a]=j.useState([]);return j.useEffect(()=>{let s=!1;return M7(t,e,n).then(o=>{s||a(o)}),()=>{s=!0}},[t,e,n]),i}function H7({page:t,matches:e,...n}){let i=Wn(),{future:a,manifest:s,routeModules:o}=pD(),{basename:c}=fD(),{loaderData:d,matches:h}=B7(),f=j.useMemo(()=>hA(t,e,h,s,i,"data"),[t,e,h,s,i]),p=j.useMemo(()=>hA(t,e,h,s,i,"assets"),[t,e,h,s,i]),m=j.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let y=new Set,_=!1;if(e.forEach(N=>{let E=s.routes[N.route.id];!E||!E.hasLoader||(!f.some(A=>A.route.id===N.route.id)&&N.route.id in d&&o[N.route.id]?.shouldRevalidate||E.hasClientLoader?_=!0:y.add(N.route.id))}),y.size===0)return[];let S=k7(t,c,a.unstable_trailingSlashAwareDataRequests,"data");return _&&y.size>0&&S.searchParams.set("_routes",e.filter(N=>y.has(N.route.id)).map(N=>N.route.id).join(",")),[S.pathname+S.search]},[c,a.unstable_trailingSlashAwareDataRequests,d,i,s,f,e,t,o]),x=j.useMemo(()=>P7(p,s),[p,s]),b=F7(p);return j.createElement(j.Fragment,null,m.map(y=>j.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),x.map(y=>j.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),b.map(({key:y,link:_})=>j.createElement("link",{key:y,nonce:n.nonce,..._})))}function U7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var V7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V7&&(window.__reactRouterVersion="7.12.0")}catch{}function q7({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=j.useRef();a.current==null&&(a.current=wB({window:i,v5Compat:!0}));let s=a.current,[o,c]=j.useState({action:s.action,location:s.location}),d=j.useCallback(h=>{n===!1?c(h):j.startTransition(()=>c(h))},[n]);return j.useLayoutEffect(()=>s.listen(d),[s,d]),j.createElement(b7,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:n})}var gD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pi=j.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:s,replace:o,state:c,target:d,to:h,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m,...x},b){let{basename:y,unstable_useTransitions:_}=j.useContext(Vi),S=typeof h=="string"&&gD.test(h),N=rD(h,y);h=N.to;let E=i7(h,{relative:a}),[A,T,k]=z7(i,x),R=Y7(h,{replace:o,state:c,target:d,preventScrollReset:f,relative:a,viewTransition:p,unstable_defaultShouldRevalidate:m,unstable_useTransitions:_});function H(Y){e&&e(Y),Y.defaultPrevented||R(Y)}let V=j.createElement("a",{...x,...k,href:N.absoluteURL||E,onClick:N.isExternal||s?e:H,ref:U7(b,T),target:d,"data-discover":!S&&n==="render"?"true":void 0});return A&&!S?j.createElement(j.Fragment,null,V,j.createElement($7,{page:E})):V});Pi.displayName="Link";var Op=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:s,to:o,viewTransition:c,children:d,...h},f){let p=Vd(o,{relative:h.relative}),m=Wn(),x=j.useContext(Ug),{navigator:b,basename:y}=j.useContext(Vi),_=x!=null&&ez(p)&&c===!0,S=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,N=m.pathname,E=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(N=N.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&y&&(E=za(E,y)||E);const A=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let T=N===S||!a&&N.startsWith(S)&&N.charAt(A)==="/",k=E!=null&&(E===S||!a&&E.startsWith(S)&&E.charAt(S.length)==="/"),R={isActive:T,isPending:k,isTransitioning:_},H=T?e:void 0,V;typeof i=="function"?V=i(R):V=[i,T?"active":null,k?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let Y=typeof s=="function"?s(R):s;return j.createElement(Pi,{...h,"aria-current":H,className:V,ref:f,style:Y,to:o,viewTransition:c},typeof d=="function"?d(R):d)});Op.displayName="NavLink";var G7=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:s,method:o=xp,action:c,onSubmit:d,relative:h,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m,...x},b)=>{let{unstable_useTransitions:y}=j.useContext(Vi),_=Z7(),S=Q7(c,{relative:h}),N=o.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&gD.test(c),A=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let k=T.nativeEvent.submitter,R=k?.getAttribute("formmethod")||o,H=()=>_(k||T.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:s,relative:h,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m});y&&n!==!1?j.startTransition(()=>H()):H()};return j.createElement("form",{ref:b,method:N,action:S,onSubmit:i?d:A,...x,"data-discover":!E&&t==="render"?"true":void 0})});G7.displayName="Form";function W7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mD(t){let e=j.useContext(Sc);return Rt(e,W7(t)),e}function Y7(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let h=sa(),f=Wn(),p=Vd(t,{relative:s});return j.useCallback(m=>{if(C7(m,e)){m.preventDefault();let x=n!==void 0?n:fd(f)===fd(p),b=()=>h(t,{replace:x,state:i,preventScrollReset:a,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:c});d?j.startTransition(()=>b()):b()}},[f,h,p,n,i,e,t,a,s,o,c,d])}function X7(t){Fi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(Py(t)),n=j.useRef(!1),i=Wn(),a=j.useMemo(()=>A7(i.search,n.current?null:e.current),[i.search]),s=sa(),o=j.useCallback((c,d)=>{const h=Py(typeof c=="function"?c(new URLSearchParams(a)):c);n.current=!0,s("?"+h,d)},[s,a]);return[a,o]}var K7=0,J7=()=>`__${String(++K7)}__`;function Z7(){let{router:t}=mD("useSubmit"),{basename:e}=j.useContext(Vi),n=m7(),i=t.fetch,a=t.navigate;return j.useCallback(async(s,o={})=>{let{action:c,method:d,encType:h,formData:f,body:p}=T7(s,e);if(o.navigate===!1){let m=o.fetcherKey||J7();await i(m,n,o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||d,formEncType:o.encType||h,flushSync:o.flushSync})}else await a(o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||d,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,a,e,n])}function Q7(t,{relative:e}={}){let{basename:n}=j.useContext(Vi),i=j.useContext(xr);Rt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s={...Vd(t||".",{relative:e})},o=Wn();if(t==null){s.search=o.search;let c=new URLSearchParams(s.search),d=c.getAll("index");if(d.some(f=>f==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:La([n,s.pathname])),fd(s)}function ez(t,{relative:e}={}){let n=j.useContext(sD);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mD("useViewTransitionState"),a=Vd(t,{relative:e});if(!n.isTransitioning)return!1;let s=za(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=za(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Dp(a.pathname,o)!=null||Dp(a.pathname,s)!=null}var qd=Zk();const tz=vr(qd),nz={siteTitle:"   2026 |    ",waterDecade:{title:"      ",subtitle:" ,    ",previousConferences:" ",dushanbe:"",learnMore:""},waterDecadePage:{title:" ",subtitle:"       2018-2028",aboutTitle:" ",aboutText1:"       (2018-2028)         .",aboutText2:"             ,    .",goalsTitle:" ",goal1Title:" ",goal1Desc:"    ,   ",goal2Title:"",goal2Desc:"      ",goal3Title:" ",goal3Desc:"     ",conferencesTitle:" ",conf2018Title:"1-    ",conf2018Desc:" ,    ",conf2022Title:"2-    ",conf2022Desc:"      ",conf2024Title:"3-    ",conf2024Desc:"      ",conf2026Title:"4-    ",conf2026Desc:"    , ",currentConference:" ",detailedInfo:" ",visitWebsite:" ",keyOutcomes:" ",backToDecade:"   ",date:"",location:" ",participants:""},header:{titleLine1:"4-    ",titleLine2:"   ",titleLine3:"   ",titleLine4:"10-12  2026",titleLine5:", "},nav:{waterDecade:"2018-2028",waterDecadeAbout:" ",conf2018:" 1  2018",conf2022:" 2  2022",conf2024:" 3  2024",conference:"",aboutConference:" ",welcomeMessages:" ",program:"",partners:"",events:"",excursions:"",exhibition:"",logistics:"",accommodation:"",transport:"",visaInfo:" ",usefulInfo:" ",registration:"",contacts:""},hero:{conference:"4-  ",highLevel:"   ",decade:" ",waterForSustainable:"   ",date:"25-28  2026",location:" , ",registerBtn:"",programBtn:"",videoBtn:" ",scrollDown:" ",viewAllSpeakers:" "},home:{news:{title:"",subtitle:"     ",allNews:" "},program:{title:" ",subtitle:"   ",day:"",viewFull:" "},partners:{title:"",subtitle:"   "},app:{title:" ",subtitle:"   ",description:", ,       ",appStore:"App Store",googlePlay:"Google Play"}},events:{title:"",subtitle:"    ",mainEvents:" ",mainEventsSubtitle:"    ",plenary:{category:"",title:" ",description:"        ,     .      .",highlights:["  ","  ","   ","  "]},thematic:{category:"",title:" ",description:"        ,       .",highlights:["   "," ","   "," "]},special:{category:"",title:" ",description:",     :  ,    networking-.",highlights:["  ","  ","Networking-"," "]},youth:{category:"",title:" ",description:"       .      .",highlights:[" ","  "," "," "]},schedule:{label:"25-28  2026",title:" ",description:"   :  ,  ,     .  100      150+  .",days:"",eventsCount:"",countries:"",viewProgram:" "},sideEvents:" ",sideEventsSubtitle:"   ",exhibitionTitle:" ",exhibitionDesc:"      ",culturalTitle:" ",culturalDesc:"     ",excursionsTitle:"",excursionsDesc:"    "},excursions:{title:"",subtitle:"    ",allExcursions:" ",allExcursionsSubtitle:"    ",duration:"",dushanbe:{category:"",title:" ",description:"           .        .",duration:"4 ",highlights:["  ","   "," ","  "]},nurek:{category:"",title:" ",description:"           .      XX .",duration:"6 ",highlights:["     (300)","   "," "," "]},lakes:{category:"",title:" ",description:"           .     .",duration:"8-10 ",highlights:[" ","  ()"," "," "]},hisor:{category:"",title:" ",description:"           .      .",duration:"5 ",highlights:["  (3000 )"," ","-"," "]},rogun:{title:" ",subtitle:"     "},dushanbe:{title:"   ",subtitle:"   "}},exhibition:{title:"",subtitle:"     ",introLabel:" ",introTitle:"   ",introDesc:"      ,           .  100   50+      .",exhibitors:"",countriesCount:"",daysCount:"",zonesTitle:" ",zonesSubtitle:"   ",innovations:{title:"  ",description:"    ,  ,       .",items:["  ","  ","IoT-  "]},international:{title:" ",description:"   ,       .",items:["    ","   ","  "]},pavilions:{title:" ",description:"-          .",items:[" "," "," "]},ecology:{title:" ",description:"    ,       .",items:["  "," "," "]}},logistics:{title:"",subtitle:"   ",accommodation:{title:"",subtitle:"    ",officialHotel:" ",cityCenter:" ",transfer:"",spa:"",historicDistrict:". ",fitness:"",restaurant:"",businessCenter:"-",restaurants:"",conferenceRooms:"-",hyatt:{name:"Hyatt Regency Dushanbe",desc:"      "},serena:{name:"Serena Hotel Dushanbe",desc:"    "},hilton:{name:"Hilton Dushanbe",desc:"   -"}},transport:{title:"",subtitle:"     ",airport:{title:" ",desc:"       5    .      ."},shuttle:{title:"-",desc:"        ."},taxi:{title:"",desc:"       .     ."}},visa:{title:" ",subtitle:"    ",visaFree:{title:" ",desc:"            30 ."},eVisa:{title:" ",desc:"      .   2-3  ."},support:{title:" ",desc:"       ."}},info:{title:" ",subtitle:"   ",weather:{title:"",desc:"     : +25-30C .   ."},currency:{title:"",desc:"    (TJS).        ."},communication:{title:"",desc:"SIM-       ."}}},registration:{title:"",subtitle:"  ",successTitle:"  !",successText1:"                 .",successText2:"  email      .",info:{title:"  ",dates:" ",datesValue:"25-28  2026 ",venue:" ",venueValue:"   , ",participants:"",participantsValue:" 150  ",note:" .           ."},form:{title:" ",firstName:"",firstNamePlaceholder:"  ",lastName:"",lastNamePlaceholder:"  ",email:"Email",emailPlaceholder:"example@email.com",phone:"",phonePlaceholder:"+992 ...",organization:"",organizationPlaceholder:" ",position:"",positionPlaceholder:" ",country:"",selectCountry:" ",searchCountry:" ...",countryNotFound:"  ",participationType:" ",inPerson:" ",online:" ",dietaryRequirements:" ",dietaryPlaceholder:",   ..",specialNeeds:" ",specialNeedsPlaceholder:",         ",agreeToTerms:"       ",submit:"",submitting:"..."},toast:{success:"  !",error:"  . ,  .",emailAlreadyRegistered:" email  . ,   email."},validation:{required:"    ",invalidEmail:"  email ",selectCountry:",  ",agreeToTerms:"   "}},contacts:{title:"",subtitle:"   ",secretariat:{category:"",title:" ",desc:"   ,   ,   ."},registration:{category:"",title:" ",desc:"   ,     ."},logisticsContact:{category:"",title:" ",desc:"  ,       ."},media:{category:"",title:"-",desc:"  ,      ."},form:{title:" ",desc:" ?  ,        .",name:" ",namePlaceholder:"  ",email:"Email",emailPlaceholder:"example@email.com",subject:"",subjectPlaceholder:" ",message:"",messagePlaceholder:"  ...",send:" ",sending:"...",successTitle:" !",successText:"        ."},map:{title:""}},footer:{description:"          ",quickLinks:"",forParticipants:"",mediaAccreditation:" ",contactsTitle:"",copyright:" 2026   .   .",organizer:"  "},common:{learnMore:"",viewAll:" ",back:"",next:"",close:"",loading:"..."},heroQuote:{text:"       .            .",author:" "},programSection:{dateBadge:"25-28  2026",title:" ",subtitle:"      ,     ",days:"",sessions:"",speakers:"",day:"",events:"",fullProgram:" ",downloadPdf:" PDF",swipeHint:"   "},partnersSection:{mainOrganizer:" ",organizerTitle:"",emblemAlt:"  ",republicLabel:" ",governmentName:"  ",governmentDesc:"              , 2018-2028",internationalCooperation:" ",partnersTitle:"",partnersSubtitle:"  ,       "},appSection:{badge:" ",titlePart1:" ",titlePart2:" ",description:"   ,        .  ,     .",feature1Title:"  ",feature1Desc:"   ",feature2Title:"Push-",feature2Desc:"   ",feature3Title:" ",feature3Desc:"   ",feature4Title:" ",feature4Desc:"    ",downloadOn:" ",availableOn:" ",appName:"Water Conference",dateShort:"25-28 ",nextEvent:" ",plenarySession:" ",sessionTime:"10:00 - 12:30   ",schedule:"",map:"",speakersMenu:"",materials:""},newsSection:{badge:" ",title:" ",subtitle:"       ",viewAll:" ",readMore:" ",notFound:"  ",backToNews:"  ",backBtn:"",share:":",otherNews:" ",allNews:" "},schedule:{day1:{date:"25  2026",title:" 1:  "},day2:{date:"26  2026",title:" 2:  "},day3:{date:"27  2026",title:" 3:  "},day4:{date:"28  2026",title:" 4:  "},events:{registration:" ",registrationDesc:"    ",registrationLocation:"  ",opening:" ",openingDesc:"   ",coffeeBreak:"-",foyer:"",mainHall:" ",banquetHall:" ",plenaryHigh:"   ",plenaryHighDesc:"     ",lunch:"",plenaryContinued:"  ()",plenaryContinuedDesc:"  -",sessionWater:":   ",sessionWaterDesc:"     ",hallA:" A",hallB:" B",sessionClimate:":    ",sessionClimateDesc:"      ",sessionTrans:":  ",sessionTransDesc:"    ",sessionInnovation:":    ",sessionInnovationDesc:"    ",multilateralDialogue:" ",multilateralDialogueDesc:"    6",innovationPresentation:"  ",innovationPresentationDesc:"  ",exhibitionHall:" ",specialEvents:"  ",specialEventsDesc:"   ",hallsABC:" A, B, C",finalDocs:"  ",finalDocsDesc:"  ",meetingRoom:" ",adoptionDocs:"  ",adoptionDocsDesc:"   ",closingCeremony:"  ",closingCeremonyDesc:"    ",galaLunch:" "}},speakersSection:{primeMinister:"-  ",unDeputySecretary:"   ",flagTajikistan:" ",flagUN:" "},speakers:{title:"",subtitle:"    "},conference:{intro:{title:"",subtitle:"     "},goals:{title:"  ",subtitle:"  "},dateVenue:{title:"  ",subtitle:"    "},participation:{title:" ",subtitle:"   "}},program:{structure:{title:" ",subtitle:"  "},plenary:{title:" ",subtitle:"   "},events:{title:" ",subtitle:"    "},forums:{title:"  ",subtitle:"   "}},eventsPages:{parallel:{title:" ",subtitle:"    "},cultural:{title:" ",subtitle:"   "}},logisticsPages:{practical:{title:" ",subtitle:"   "},visa:{title:" ",subtitle:"     "},press:{title:"  ",subtitle:"   "},flights:{title:"  ",subtitle:"   "},accommodation:{title:"",subtitle:"   "},weather:{title:"",subtitle:"     "}}},iz={siteTitle:"Dushanbe Water Conference 2026 | Water for Sustainable Development",waterDecade:{title:'International Decade for Action "Water for Sustainable Development"',subtitle:"Tajikistan's initiative supported by the UN General Assembly",previousConferences:"Previous Conferences",dushanbe:"Dushanbe",learnMore:"Learn More"},waterDecadePage:{title:"Water Decade",subtitle:'International Decade for Action "Water for Sustainable Development" 2018-2028',aboutTitle:"About the Decade",aboutText1:'The International Decade for Action "Water for Sustainable Development" (2018-2028) was proclaimed by the UN General Assembly at the initiative of the Republic of Tajikistan.',aboutText2:"The Decade aims to promote sustainable development and integrated water resources management to achieve social, economic and environmental goals.",goalsTitle:"Goals of the Decade",goal1Title:"Sustainable Development",goal1Desc:"Advancing the achievement of water-related sustainable development goals",goal2Title:"Cooperation",goal2Desc:"Strengthening international cooperation in the field of water resources",goal3Title:"Global Action",goal3Desc:"Mobilizing action to achieve water security",conferencesTitle:"Decade Conferences",conf2018Title:"1st International High-Level Conference",conf2018Desc:"The first conference that launched the decade of action",conf2022Title:"2nd International High-Level Conference",conf2022Desc:"Review of progress achieved and identification of next steps",conf2024Title:"3rd International High-Level Conference",conf2024Desc:"Strengthening global partnerships in water resources",conf2026Title:"4th International High-Level Conference",conf2026Desc:"The culminating conference of the decade in Dushanbe, Tajikistan",currentConference:"Current Conference",detailedInfo:"Detailed Information",visitWebsite:"Visit Website",keyOutcomes:"Key Outcomes",backToDecade:"Back to Water Decade",date:"Date",location:"Location",participants:"Participants"},header:{titleLine1:"4th HIGH-LEVEL INTERNATIONAL CONFERENCE ON THE",titleLine2:"INTERNATIONAL DECADE FOR ACTION",titleLine3:'"WATER FOR SUSTAINABLE DEVELOPMENT"',titleLine4:"June 10-12, 2026",titleLine5:"Dushanbe, Tajikistan"},nav:{waterDecade:"2018-2028",waterDecadeAbout:"About the Decade",conf2018:"Conference 1  2018",conf2022:"Conference 2  2022",conf2024:"Conference 3  2024",conference:"Conference",aboutConference:"About Conference",welcomeMessages:"Welcome Messages",program:"Program",partners:"Partners",events:"Events",excursions:"Excursions",exhibition:"Exhibition",logistics:"Logistics",accommodation:"Accommodation",transport:"Transport",visaInfo:"Visa Information",usefulInfo:"Useful Information",registration:"Registration",contacts:"Contacts"},hero:{conference:"4th INTERNATIONAL CONFERENCE",highLevel:"HIGH-LEVEL ON THE INTERNATIONAL",decade:"DECADE FOR ACTION",waterForSustainable:'"WATER FOR SUSTAINABLE DEVELOPMENT"',date:"May 25-28, 2026",location:"Kohi Somon, Dushanbe",registerBtn:"Register",programBtn:"Program",videoBtn:"Video Presentation",scrollDown:"Scroll down",viewAllSpeakers:"All Speakers"},home:{news:{title:"News",subtitle:"Latest news and updates about the conference",allNews:"All News"},program:{title:"Conference Program",subtitle:"Four days of intensive program",day:"Day",viewFull:"Full Program"},partners:{title:"Partners",subtitle:"Organizers and partners of the conference"},app:{title:"Mobile Application",subtitle:"Download the official conference app",description:"Program, notifications, maps and more on your smartphone",appStore:"App Store",googlePlay:"Google Play"}},events:{title:"Events",subtitle:"Various formats of participation in the conference",mainEvents:"Main Events",mainEventsSubtitle:"Key formats of participation in the conference",plenary:{category:"Main",title:"Plenary Sessions",description:"High-level sessions with heads of state and government, ministers and heads of international organizations. Discussion of key issues on the global water agenda.",highlights:["Opening ceremony","Speeches by heads of state","High-level panel discussions","Adoption of the final declaration"]},thematic:{category:"Sessions",title:"Thematic Sessions",description:"In-depth discussion of key water agenda issues with experts, scientists and practitioners from around the world.",highlights:["Water security and climate","Transboundary cooperation","Innovation in the water sector","Sustainable development"]},special:{category:"Partners",title:"Special Events",description:"Events organized by partners and international organizations: project presentations, round tables and networking sessions.",highlights:["UN project presentations","Expert round tables","Networking sessions","Signing of agreements"]},youth:{category:"Youth",title:"Youth Forum",description:"A platform for young leaders and activists in the water sector. An opportunity to present innovative ideas and projects.",highlights:["Youth debates","Water solutions hackathon","Mentoring sessions","Project competition"]},schedule:{label:"May 25-28, 2026",title:"Conference Program",description:"Four days of intensive program: plenary sessions, thematic sessions, special events and cultural program. More than 100 events with experts from 150+ countries.",days:"Days",eventsCount:"Events",countries:"Countries",viewProgram:"View Program"},sideEvents:"Side Events",sideEventsSubtitle:"Additional opportunities for participants",exhibitionTitle:"Innovation Exhibition",exhibitionDesc:"Demonstration of advanced water technologies",culturalTitle:"Cultural Program",culturalDesc:"Discover the culture and traditions of Tajikistan",excursionsTitle:"Excursions",excursionsDesc:"Visit attractions and natural sites"},excursions:{title:"Excursions",subtitle:"Discover the beauty of Tajikistan",allExcursions:"All Excursions",allExcursionsSubtitle:"Choose your destination",duration:"Duration",dushanbe:{category:"Culture",title:"Historic Dushanbe",description:"A sightseeing tour of the capital of Tajikistan visiting the main attractions and cultural sites. Discover the rich history and modern life of the city.",duration:"4 hours",highlights:["National Museum of Tajikistan","Friendship Square and flagpole","Rudaki Park","Mehrgon Central Market"]},nurek:{category:"Technology",title:"Nurek Hydropower Plant",description:"Visit one of the largest hydroelectric power plants in the world and learn about the country's water infrastructure. A unique opportunity to see an engineering marvel of the 20th century.",duration:"6 hours",highlights:["World's highest dam (300m)","Machine hall tour","Observation deck","Construction history"]},lakes:{category:"Nature",title:"Mountain Lakes",description:"A journey to the picturesque mountain lakes of Tajikistan - unique natural water resources of the region. Enjoy the incredible beauty of mountain landscapes.",duration:"8-10 hours",highlights:["Lake Iskanderkul","Seven Lakes (Haftkul)","Fann Mountains","Alpine meadows"]},hisor:{category:"History",title:"Ancient Hisor",description:"An excursion to the ancient Hisor fortress - one of the oldest settlements in Central Asia. Immerse yourself in the history of the Great Silk Road.",duration:"5 hours",highlights:["Hisor Fortress (3000 years)","Old madrasa","Caravanserai","Archaeological museum"]},rogun:{title:"Rogun Hydropower Plant",subtitle:"Technical tour to a magnificent hydroelectric facility"},dushanbe:{title:"Dushanbe City Tour",subtitle:"Discover the capital of Tajikistan"}},exhibition:{title:"Exhibition",subtitle:"Showcase of innovative solutions in the water sector",introLabel:"International Exhibition",introTitle:"Innovation for a Sustainable Future",introDesc:"The conference will host a large-scale exhibition showcasing the latest achievements in water resources management and sustainable development. More than 100 exhibitors from 50+ countries will present advanced technologies and solutions.",exhibitors:"Exhibitors",countriesCount:"Countries",daysCount:"Days",zonesTitle:"Thematic Zones",zonesSubtitle:"Four key areas of the exhibition",innovations:{title:"Innovation and Technology",description:"Advanced technologies in water supply, water treatment, quality monitoring and smart water management.",items:["Smart water supply systems","Water treatment technologies","IoT solutions for monitoring"]},international:{title:"International Organizations",description:"Stands of leading international organizations representing global water initiatives.",items:["UN and UN system agencies","World Bank and IMF","UNESCO and UNEP"]},pavilions:{title:"National Pavilions",description:"Participating countries will present their achievements and experience in water resources management.",items:["National projects","Regional cooperation","Cultural programs"]},ecology:{title:"Environmental Initiatives",description:"Projects for water resource protection, ecosystem restoration and climate change adaptation.",items:["Water ecosystem protection","Climate adaptation","Sustainable development"]}},logistics:{title:"Logistics",subtitle:"Practical information for participants",accommodation:{title:"Accommodation",subtitle:"Recommended hotels for conference participants",officialHotel:"Official Hotel",cityCenter:"City Center",transfer:"Transfer",spa:"SPA",historicDistrict:"Historic District",fitness:"Fitness",restaurant:"Restaurant",businessCenter:"Business Center",restaurants:"Restaurants",conferenceRooms:"Conference Rooms",hyatt:{name:"Hyatt Regency Dushanbe",desc:"Official conference hotel in the city center"},serena:{name:"Serena Hotel Dushanbe",desc:"Premium accommodation in the historic district"},hilton:{name:"Hilton Dushanbe",desc:"Modern comfort and business facilities"}},transport:{title:"Transport",subtitle:"How to get to the conference venue",airport:{title:"Dushanbe Airport",desc:"Ismoil Somoni International Airport is located 5 km from the city center. Transfer for official delegations will be arranged."},shuttle:{title:"Shuttle Service",desc:"Free transfer between official hotels and the conference venue."},taxi:{title:"Taxi",desc:"Taxis are available at the airport and throughout the city. We recommend using official taxi services."}},visa:{title:"Visa Information",subtitle:"Entry requirements for Tajikistan",visaFree:{title:"Visa-Free Regime",desc:"Citizens of certain countries can enter Tajikistan without a visa for up to 30 days."},eVisa:{title:"Electronic Visa",desc:"E-visa is available for citizens of most countries. Processing takes 2-3 business days."},support:{title:"Visa Support",desc:"The conference secretariat provides visa support for official delegations."}},info:{title:"Useful Information",subtitle:"Practical tips for participants",weather:{title:"Weather",desc:"May in Dushanbe is warm: +25-30C during the day. Light clothing is recommended."},currency:{title:"Currency",desc:"The national currency is somoni (TJS). Currency exchange is available at banks and exchange offices."},communication:{title:"Communication",desc:"SIM cards from local operators are available at the airport and in the city."}}},registration:{title:"Registration",subtitle:"Conference participant registration",successTitle:"Registration completed successfully!",successText1:'Thank you for registering for the Fourth High-Level International Conference on the International Decade for Action "Water for Sustainable Development".',successText2:"A confirmation with additional information will be sent to the specified email.",info:{title:"Conference Information",dates:"Dates",datesValue:"May 25-28, 2026",venue:"Venue",venueValue:'Palace of Nations "Kohi Somon", Dushanbe',participants:"Participants",participantsValue:"More than 150 countries",note:"Registration is free. After confirming your registration, you will receive additional information about the program and logistics."},form:{title:"Registration Form",firstName:"First Name",firstNamePlaceholder:"Enter your first name",lastName:"Last Name",lastNamePlaceholder:"Enter your last name",email:"Email",emailPlaceholder:"example@email.com",phone:"Phone",phonePlaceholder:"+992 ...",organization:"Organization",organizationPlaceholder:"Organization name",position:"Position",positionPlaceholder:"Your position",country:"Country",selectCountry:"Select country",searchCountry:"Search country...",countryNotFound:"Country not found",participationType:"Participation Format",inPerson:"In-person",online:"Online",dietaryRequirements:"Dietary Preferences",dietaryPlaceholder:"Vegetarian, halal, etc.",specialNeeds:"Special Needs",specialNeedsPlaceholder:"Indicate if you have any accessibility needs or other requirements",agreeToTerms:"I agree to the terms of participation and privacy policy",submit:"Register",submitting:"Submitting..."},toast:{success:"Registration completed successfully!",error:"Registration error. Please try again.",emailAlreadyRegistered:"This email is already registered. Please use a different email."},validation:{required:"This field is required",invalidEmail:"Please enter a valid email address",selectCountry:"Please select a country",agreeToTerms:"You must agree to the terms"}},contacts:{title:"Contacts",subtitle:"Contact the conference secretariat",secretariat:{category:"Secretariat",title:"General Inquiries",desc:"For all general inquiries related to the conference, please contact the secretariat."},registration:{category:"Registration",title:"Registration Inquiries",desc:"For questions about participant registration, media accreditation and invitations."},logisticsContact:{category:"Logistics",title:"Organizational Matters",desc:"For questions about accommodation, transport and visa support for conference participants."},media:{category:"Media",title:"Press Office",desc:"For media representatives, journalist accreditation and interview requests."},form:{title:"Write to Us",desc:"Have questions? Fill out the form and we will contact you shortly.",name:"Your Name",namePlaceholder:"Enter your name",email:"Email",emailPlaceholder:"example@email.com",subject:"Subject",subjectPlaceholder:"Message subject",message:"Message",messagePlaceholder:"Enter your message...",send:"Send Message",sending:"Sending...",successTitle:"Message sent!",successText:"We have received your message and will respond shortly."},map:{title:"Location"}},footer:{description:'High-Level International Conference on the Decade for Action "Water for Sustainable Development"',quickLinks:"Quick Links",forParticipants:"For Participants",mediaAccreditation:"Media Accreditation",contactsTitle:"Contacts",copyright:" 2026 Dushanbe Water Conference. All rights reserved.",organizer:"Government of the Republic of Tajikistan"},common:{learnMore:"Learn More",viewAll:"View All",back:"Back",next:"Next",close:"Close",loading:"Loading..."},heroQuote:{text:'"Water is the foundation of life and sustainable development. We must unite the efforts of the entire global community to solve global water problems."',author:"Emomali Rahmon"},programSection:{dateBadge:"May 25-28, 2026",title:"Conference Program",subtitle:"Four days of intensive program with plenary sessions, thematic sessions and cultural events",days:"days",sessions:"sessions",speakers:"speakers",day:"Day",events:"events",fullProgram:"Full Program",downloadPdf:"Download PDF",swipeHint:"Swipe to change day"},partnersSection:{mainOrganizer:"Main Organizer",organizerTitle:"Organizer",emblemAlt:"Emblem of the Republic of Tajikistan",republicLabel:"Republic of Tajikistan",governmentName:"Government of the Republic of Tajikistan",governmentDesc:'Official organizer of the Fourth High-Level International Conference on the International Decade for Action "Water for Sustainable Development", 2018-2028',internationalCooperation:"International Cooperation",partnersTitle:"Partners",partnersSubtitle:"Leading international organizations supporting the global water agenda"},appSection:{badge:"Mobile Application",titlePart1:"Download the official",titlePart2:"conference app",description:"Get access to the program, materials and conference notifications right on your smartphone. Interactive map, session schedule and much more.",feature1Title:"Program & Schedule",feature1Desc:"Full schedule of all events",feature2Title:"Push Notifications",feature2Desc:"Instant alerts about changes",feature3Title:"Interactive Map",feature3Desc:"Navigate the conference venue",feature4Title:"Participant Materials",feature4Desc:"Access to documents and presentations",downloadOn:"Download on",availableOn:"Available on",appName:"Water Conference",dateShort:"May 25-28",nextEvent:"Next Event",plenarySession:"Plenary Session",sessionTime:"10:00 - 12:30  Main Hall",schedule:"Schedule",map:"Map",speakersMenu:"Speakers",materials:"Materials"},newsSection:{badge:"Latest Updates",title:"Conference News",subtitle:"Follow the latest news and announcements of the upcoming conference",viewAll:"All News",readMore:"Read more",notFound:"News not found",backToNews:"Back to news",backBtn:"Back",share:"Share:",otherNews:"Other News",allNews:"All News"},schedule:{day1:{date:"May 25, 2026",title:"Day 1: Opening Ceremony"},day2:{date:"May 26, 2026",title:"Day 2: Thematic Sessions"},day3:{date:"May 27, 2026",title:"Day 3: Interactive Dialogues"},day4:{date:"May 28, 2026",title:"Day 4: Closing Ceremony"},events:{registration:"Participant Registration",registrationDesc:"Badge and conference materials distribution",registrationLocation:"Main Hall Lobby",opening:"Grand Opening",openingDesc:"Welcome speeches by heads of delegations",coffeeBreak:"Coffee Break",foyer:"Foyer",mainHall:"Main Hall",banquetHall:"Banquet Hall",plenaryHigh:"High-Level Plenary Session",plenaryHighDesc:"Reports by ministers and representatives of international organizations",lunch:"Lunch",plenaryContinued:"Plenary Session (continued)",plenaryContinuedDesc:"Speeches by delegations of participating countries",sessionWater:"Session: Water Resource Management",sessionWaterDesc:"Best practices in integrated water resource management",hallA:"Hall A",hallB:"Hall B",sessionClimate:"Session: Climate and Water Security",sessionClimateDesc:"Climate change adaptation in the water sector",sessionTrans:"Session: Transboundary Cooperation",sessionTransDesc:"Experience in joint water resource management",sessionInnovation:"Session: Innovation in the Water Sector",sessionInnovationDesc:"Technological solutions for sustainable water use",multilateralDialogue:"Multilateral Dialogue",multilateralDialogueDesc:"Discussion on achieving SDG 6",innovationPresentation:"Innovative Solutions Presentations",innovationPresentationDesc:"Demonstration of advanced technologies",exhibitionHall:"Exhibition Hall",specialEvents:"Partner Special Events",specialEventsDesc:"Parallel sessions by international organizations",hallsABC:"Halls A, B, C",finalDocs:"Final Documents Preparation",finalDocsDesc:"Finalization of conference declaration",meetingRoom:"Meeting Room",adoptionDocs:"Adoption of Final Documents",adoptionDocsDesc:"Official adoption of the Dushanbe Declaration",closingCeremony:"Grand Closing Ceremony",closingCeremonyDesc:"Summary and closing of the conference",galaLunch:"Gala Lunch"}},speakersSection:{primeMinister:"Prime Minister of the Republic of Tajikistan",unDeputySecretary:"Deputy Secretary-General of the United Nations",flagTajikistan:"Flag of Tajikistan",flagUN:"Flag of the UN"},speakers:{title:"Speakers",subtitle:"Distinguished guests and conference speakers"},conference:{intro:{title:"Introduction",subtitle:"About the Fourth High-Level Conference"},goals:{title:"Goals and Objectives",subtitle:"Main objectives of the conference"},dateVenue:{title:"Date and Venue",subtitle:"When and where the conference will take place"},participation:{title:"Participation",subtitle:"Participant categories and registration"}},program:{structure:{title:"Program Structure",subtitle:"Overview of the conference program"},plenary:{title:"Plenary Sessions",subtitle:"High-level plenary sessions"},events:{title:"Conference Events",subtitle:"Main conference events and activities"},forums:{title:"Forums and Dialogues",subtitle:"Interactive forums and dialogues"}},eventsPages:{parallel:{title:"Parallel Events",subtitle:"Side events and special sessions"},cultural:{title:"Cultural Events",subtitle:"Cultural program and activities"}},logisticsPages:{practical:{title:"Practical Information",subtitle:"Essential information for participants"},visa:{title:"Visa Information",subtitle:"Visa requirements and support"},press:{title:"Press and Media",subtitle:"Information for media representatives"},flights:{title:"Flights and Travel",subtitle:"How to get to Dushanbe"},accommodation:{title:"Accommodation",subtitle:"Hotels and lodging options"},weather:{title:"Weather",subtitle:"Climate and weather conditions in Dushanbe"}}},rz={siteTitle:"   2026 |    ",waterDecade:{title:"      ",subtitle:" ,        ",previousConferences:" ",dushanbe:"",learnMore:" "},waterDecadePage:{title:" ",subtitle:"       2018-2028",aboutTitle:"  ",aboutText1:"       (2018-2028)            .",aboutText2:"                 ,     .",goalsTitle:" ",goal1Title:" ",goal1Desc:"          ",goal2Title:"",goal2Desc:"       ",goal3Title:" ",goal3Desc:"        ",conferencesTitle:" ",conf2018Title:"1-    ",conf2018Desc:" ,     ",conf2022Title:"2-    ",conf2022Desc:"         ",conf2024Title:"3-    ",conf2024Desc:"       ",conf2026Title:"4-    ",conf2026Desc:"    , ",currentConference:" ",detailedInfo:" ",visitWebsite:"   ",keyOutcomes:" ",backToDecade:"   ",date:"",location:" ",participants:""},header:{titleLine1:" 4-  ",titleLine2:"    ",titleLine3:"   ",titleLine4:"10-12  2026",titleLine5:", "},nav:{waterDecade:"2018-2028",waterDecadeAbout:"  ",conf2018:" 1  2018",conf2022:" 2  2022",conf2024:" 3  2024",conference:"",aboutConference:"  ",welcomeMessages:" ",program:"",partners:"",events:"",excursions:"",exhibition:"",logistics:"",accommodation:"",transport:"",visaInfo:"   ",usefulInfo:" ",registration:"",contacts:""},hero:{conference:" 4- ",highLevel:"   ",decade:" ",waterForSustainable:"   ",date:"25-28  2026",location:" , ",registerBtn:"",programBtn:"",videoBtn:" ",scrollDown:"  ",viewAllSpeakers:" "},home:{news:{title:"",subtitle:"      ",allNews:" "},program:{title:" ",subtitle:"   ",day:"",viewFull:" "},partners:{title:"",subtitle:"   "},app:{title:" ",subtitle:"    ",description:", ,        ",appStore:"App Store",googlePlay:"Google Play"}},events:{title:"",subtitle:"    ",mainEvents:" ",mainEventsSubtitle:"    ",plenary:{category:"",title:" ",description:"        ,     .",highlights:["  ","  ","   ","  "]},thematic:{category:"",title:" ",description:"        ,    .",highlights:["   "," ","   "," "]},special:{category:"",title:" ",description:",         .",highlights:["  "," "," networking"," "]},youth:{category:"",title:" ",description:"       .",highlights:[" ","  "," "," "]},schedule:{label:"25-28  2026",title:" ",description:"   :  ,  ,     .",days:"",eventsCount:"",countries:"",viewProgram:" "},sideEvents:" ",sideEventsSubtitle:"   ",exhibitionTitle:" ",exhibitionDesc:"   ",culturalTitle:" ",culturalDesc:"     ",excursionsTitle:"",excursionsDesc:"     "},excursions:{title:"",subtitle:"   ",allExcursions:" ",allExcursionsSubtitle:"   ",duration:"",dushanbe:{category:"",title:" ",description:"           .",duration:"4 ",highlights:["  ","   "," ","  "]},nurek:{category:"",title:"- ",description:"        .      XX.",duration:"6 ",highlights:["   (300)","   "," "," "]},lakes:{category:"",title:" ",description:"           .",duration:"8-10 ",highlights:[" ","  ()"," "," "]},hisor:{category:"",title:" ",description:"           .",duration:"5 ",highlights:["  (3000 )"," ",""," "]},rogun:{title:"- ",subtitle:"     "},dushanbe:{title:"  ",subtitle:"   "}},exhibition:{title:"",subtitle:"     ",introLabel:" ",introTitle:"   ",introDesc:"      ,             .",exhibitors:"",countriesCount:"",daysCount:"",zonesTitle:" ",zonesSubtitle:"   ",innovations:{title:"  ",description:"    ,       .",items:["  ","  "," IoT  "]},international:{title:" ",description:"   ,      .",items:["    ","   ","  "]},pavilions:{title:" ",description:"            .",items:[" "," "," "]},ecology:{title:" ",description:"     ,       .",items:["  "," "," "]}},logistics:{title:"",subtitle:"   ",accommodation:{title:"",subtitle:"    ",officialHotel:" ",cityCenter:" ",transfer:"",spa:"",historicDistrict:" ",fitness:"",restaurant:"",businessCenter:" ",restaurants:"",conferenceRooms:" ",hyatt:{name:"Hyatt Regency Dushanbe",desc:"     "},serena:{name:"Serena Hotel Dushanbe",desc:"    "},hilton:{name:"Hilton Dushanbe",desc:"    "}},transport:{title:"",subtitle:"        ",airport:{title:" ",desc:"       5      ."},shuttle:{title:" ",desc:"        ."},taxi:{title:"",desc:"        ."}},visa:{title:"   ",subtitle:"    ",visaFree:{title:"  ",desc:"       30     ."},eVisa:{title:" ",desc:"       ."},support:{title:" ",desc:"        ."}},info:{title:" ",subtitle:"   ",weather:{title:" ",desc:"       : +25-30C ."},currency:{title:"",desc:"    (TJS).         ."},communication:{title:"",desc:"SIM-        ."}}},registration:{title:"",subtitle:"  ",successTitle:"    !",successText1:"                 .",successText2:"         .",info:{title:"   ",dates:"",datesValue:"25-28  2026",venue:"",venueValue:"   , ",participants:"",participantsValue:"  150 ",note:"  .    ,         ."},form:{title:" ",firstName:"",firstNamePlaceholder:"   ",lastName:"",lastNamePlaceholder:"   ",email:" ",emailPlaceholder:"example@email.com",phone:"",phonePlaceholder:"+992 ...",organization:"",organizationPlaceholder:" ",position:"",positionPlaceholder:" ",country:"",selectCountry:"  ",searchCountry:" ...",countryNotFound:"  ",participationType:" ",inPerson:"",online:"",dietaryRequirements:" ",dietaryPlaceholder:",   .",specialNeeds:" ",specialNeedsPlaceholder:"       ,  ",agreeToTerms:"        ",submit:"",submitting:" ..."},toast:{success:"    !",error:" .    .",emailAlreadyRegistered:"     .     ."},validation:{required:"   ",invalidEmail:"     ",selectCountry:"   ",agreeToTerms:"     "}},contacts:{title:"",subtitle:"    ",secretariat:{category:"",title:" ",desc:"          ."},registration:{category:"",title:"   ",desc:"   ,     ."},logisticsContact:{category:"",title:" ",desc:"  ,    ."},media:{category:"",title:" ",desc:"  ,      ."},form:{title:"  ",desc:" ?           .",name:" ",namePlaceholder:"   ",email:" ",emailPlaceholder:"example@email.com",subject:"",subjectPlaceholder:" ",message:"",messagePlaceholder:"   ...",send:" ",sending:" ...",successTitle:"  !",successText:"        ."},map:{title:""}},footer:{description:"           ",quickLinks:"",forParticipants:" ",mediaAccreditation:" ",contactsTitle:"",copyright:" 2026   .    .",organizer:"  "},common:{learnMore:"",viewAll:" ",back:"",next:"",close:"",loading:"..."},heroQuote:{text:"      .             .",author:" "},programSection:{dateBadge:"25-28  2026",title:" ",subtitle:"      ,     ",days:"",sessions:"",speakers:"",day:"",events:"",fullProgram:" ",downloadPdf:" PDF",swipeHint:"   ,  "},partnersSection:{mainOrganizer:" ",organizerTitle:"",emblemAlt:"   ",republicLabel:" ",governmentName:"  ",governmentDesc:"               , 2018-2028",internationalCooperation:" ",partnersTitle:"",partnersSubtitle:"  ,      "},appSection:{badge:" ",titlePart1:" ",titlePart2:"  ",description:" ,           .  ,      .",feature1Title:"  ",feature1Desc:"   ",feature2Title:"Push-",feature2Desc:"    ",feature3Title:" ",feature3Desc:"   ",feature4Title:" ",feature4Desc:"    ",downloadOn:" ",availableOn:" ",appName:"Water Conference",dateShort:"25-28 ",nextEvent:" ",plenarySession:" ",sessionTime:"10:00 - 12:30   ",schedule:"",map:"",speakersMenu:"",materials:""},newsSection:{badge:" ",title:" ",subtitle:"     ",viewAll:" ",readMore:" ",notFound:"  ",backToNews:"  ",backBtn:"",share:":",otherNews:" ",allNews:" "},schedule:{day1:{date:"25  2026",title:" 1:  "},day2:{date:"26  2026",title:" 2:  "},day3:{date:"27  2026",title:" 3:  "},day4:{date:"28  2026",title:" 4:  "},events:{registration:" ",registrationDesc:"    ",registrationLocation:"  ",opening:" ",openingDesc:"   ",coffeeBreak:" ",foyer:"",mainHall:" ",banquetHall:" ",plenaryHigh:"   ",plenaryHighDesc:"     ",lunch:" ",plenaryContinued:"  ()",plenaryContinuedDesc:"   ",sessionWater:":   ",sessionWaterDesc:"      ",hallA:" A",hallB:" B",sessionClimate:":    ",sessionClimateDesc:"      ",sessionTrans:":  ",sessionTransDesc:"    ",sessionInnovation:":    ",sessionInnovationDesc:"     ",multilateralDialogue:" ",multilateralDialogueDesc:"     6",innovationPresentation:"  ",innovationPresentationDesc:"  ",exhibitionHall:" ",specialEvents:"  ",specialEventsDesc:"   ",hallsABC:" A, B, C",finalDocs:"   ",finalDocsDesc:"   ",meetingRoom:" ",adoptionDocs:"  ",adoptionDocsDesc:"   ",closingCeremony:"  ",closingCeremonyDesc:"   ",galaLunch:" "}},speakersSection:{primeMinister:"  ",unDeputySecretary:"   ",flagTajikistan:" ",flagUN:" "},speakers:{title:"",subtitle:"    "},conference:{intro:{title:"",subtitle:"      "},goals:{title:"  ",subtitle:"  "},dateVenue:{title:"  ",subtitle:"      "},participation:{title:" ",subtitle:"   "}},program:{structure:{title:" ",subtitle:"  "},plenary:{title:" ",subtitle:"   "},events:{title:" ",subtitle:"    "},forums:{title:"  ",subtitle:"   "}},eventsPages:{parallel:{title:" ",subtitle:"    "},cultural:{title:" ",subtitle:"   "}},logisticsPages:{practical:{title:" ",subtitle:"   "},visa:{title:"   ",subtitle:"     "},press:{title:"  ",subtitle:"   "},flights:{title:"  ",subtitle:"      "},accommodation:{title:"",subtitle:"   "},weather:{title:" ",subtitle:"      "}}},fA={ru:nz,en:iz,tj:rz},vD=["ru","tj"],xD="en";function pA(t){if(t.startsWith("/admin"))return null;const e=t.split("/").filter(Boolean);return e.length>0&&vD.includes(e[0])?e[0]:xD}function c2(t){const e=t.split("/").filter(Boolean);return e.length>0&&vD.includes(e[0])?"/"+e.slice(1).join("/"):t}function u2(t,e){if(!t||t.startsWith("/admin")||t.startsWith("http")||t==="#")return t;const n=c2(t);return!e||e===xD?n:n==="/"?`/${e}`:`/${e}${n}`}const yD=j.createContext(),az="";function sz({children:t}){const[e,n]=j.useState({}),[i,a]=j.useState(!0),[s,o]=j.useState(null),c=j.useCallback(async()=>{try{a(!0);const A=await fetch(`${az}/api/settings`);if(!A.ok)throw new Error("Failed to fetch settings");const T=await A.json();n(T),o(null)}catch(A){console.error("Error fetching settings:",A),o(A.message)}finally{a(!1)}},[]);j.useEffect(()=>{c()},[c]);const d=j.useCallback((A,T="")=>e[A]??T,[e]),h=j.useCallback((A,T=null)=>{const k=e[A];if(!k)return T;try{return JSON.parse(k)}catch{return T}},[e]),f=j.useCallback(()=>({titleRu:d("site_title_ru",""),titleEn:d("site_title_en",""),titleTj:d("site_title_tj","")}),[d]),p=j.useCallback(()=>({logoUrl:d("header_logo_url","/assets/images/logo-compact.png"),logoUrlRu:d("header_logo_url_ru","/assets/images/logo/LOGO_WATER_CONFERENCE_2026_left_ru.png"),logoUrlEn:d("header_logo_url_en","/assets/images/logo/LOGO_WATER_CONFERENCE_2026_left_eng.png"),logoUrlTj:d("header_logo_url_tj","/assets/images/logo/LOGO_WATER_CONFERENCE_2026_left_taj.png"),titleRu:d("header_title_ru",""),titleEn:d("header_title_en",""),titleTj:d("header_title_tj",""),navigation:h("header_navigation",null),socialTwitter:d("header_twitter_url",""),socialInstagram:d("header_instagram_url",""),socialFacebook:d("header_facebook_url","")}),[d,h]),m=j.useCallback(()=>({logoUrlRu:d("footer_logo_url_ru","/assets/images/logo/LOGO_WATER_CONFERENCE_2026_full_ru.png"),logoUrlEn:d("footer_logo_url_en","/assets/images/logo/LOGO_WATER_CONFERENCE_2026_full_eng.png"),logoUrlTj:d("footer_logo_url_tj","/assets/images/logo/LOGO_WATER_CONFERENCE_2026_full_taj.png"),descriptionRu:d("footer_description_ru",""),descriptionEn:d("footer_description_en",""),descriptionTj:d("footer_description_tj",""),quickLinks:h("footer_quick_links",null),participantLinks:h("footer_participant_links",null),quickLinksTitle:{ru:d("footer_quick_links_title_ru",""),en:d("footer_quick_links_title_en","Quick Links"),tj:d("footer_quick_links_title_tj","")},participantLinksTitle:{ru:d("footer_participants_title_ru",""),en:d("footer_participants_title_en","For Participants"),tj:d("footer_participants_title_tj"," ")},contactsTitle:{ru:d("footer_contacts_title_ru",""),en:d("footer_contacts_title_en","Contacts"),tj:d("footer_contacts_title_tj","")},addressRu:d("footer_address_ru",", "),addressEn:d("footer_address_en","Dushanbe, Tajikistan"),addressTj:d("footer_address_tj",", "),phone:d("footer_phone","+992 (37) 227-68-43"),email:d("footer_email","secretariat@dushanbewaterprocess.org"),copyrightRu:d("footer_copyright_ru"," 2026   .   ."),copyrightEn:d("footer_copyright_en"," 2026 Dushanbe Water Conference. All rights reserved."),copyrightTj:d("footer_copyright_tj"," 2026   .    ."),organizerRu:d("footer_organizer_ru","  "),organizerEn:d("footer_organizer_en","Government of the Republic of Tajikistan"),organizerTj:d("footer_organizer_tj","  "),socialFacebook:d("footer_facebook_url",""),socialInstagram:d("footer_instagram_url",""),socialTwitter:d("footer_twitter_url","")}),[d,h]),x=j.useCallback(()=>({programData:h("program_data",null),pdfRu:d("program_pdf_ru",""),pdfEn:d("program_pdf_en",""),pdfTj:d("program_pdf_tj","")}),[d,h]),b=j.useCallback(()=>({videoUrl:d("hero_video_url","/assets/video/hero-background.mp4"),youtubeUrl:d("hero_youtube_url",""),videoSource:d("hero_video_source","url"),titleRu:d("hero_title_ru",""),titleEn:d("hero_title_en",""),titleTj:d("hero_title_tj",""),datesRu:d("hero_dates_ru",""),datesEn:d("hero_dates_en",""),datesTj:d("hero_dates_tj",""),locationRu:d("hero_location_ru",""),locationEn:d("hero_location_en",""),locationTj:d("hero_location_tj",""),quoteRu:d("hero_quote_ru",""),quoteEn:d("hero_quote_en",""),quoteTj:d("hero_quote_tj",""),quoteAuthorRu:d("hero_quote_author_ru",""),quoteAuthorEn:d("hero_quote_author_en",""),quoteAuthorTj:d("hero_quote_author_tj",""),registrationBtnRu:d("hero_registration_btn_ru",""),registrationBtnEn:d("hero_registration_btn_en",""),registrationBtnTj:d("hero_registration_btn_tj",""),videoBtnRu:d("hero_video_btn_ru",""),videoBtnEn:d("hero_video_btn_en",""),videoBtnTj:d("hero_video_btn_tj",""),showRegistrationBtn:d("hero_show_registration_btn","true"),showVideoBtn:d("hero_show_video_btn","true")}),[d]),y=j.useCallback(()=>({titleRu:d("news_section_title_ru",""),titleEn:d("news_section_title_en","News"),titleTj:d("news_section_title_tj","")}),[d]),_=j.useCallback(()=>({logoUrl:d("loading_logo_url","/assets/images/logo-mini.png"),titleLine1Ru:d("loading_title_line1_ru",""),titleLine1En:d("loading_title_line1_en",""),titleLine1Tj:d("loading_title_line1_tj",""),titleLine2Ru:d("loading_title_line2_ru",""),titleLine2En:d("loading_title_line2_en",""),titleLine2Tj:d("loading_title_line2_tj",""),titleLine3Ru:d("loading_title_line3_ru",""),titleLine3En:d("loading_title_line3_en",""),titleLine3Tj:d("loading_title_line3_tj",""),titleLine4Ru:d("loading_title_line4_ru",""),titleLine4En:d("loading_title_line4_en",""),titleLine4Tj:d("loading_title_line4_tj",""),titleLine5Ru:d("loading_title_line5_ru",""),titleLine5En:d("loading_title_line5_en",""),titleLine5Tj:d("loading_title_line5_tj",""),duration:d("loading_duration","2"),bgColorStart:d("loading_bg_color_start","#0c4a6e"),bgColorMid:d("loading_bg_color_mid","#075985"),bgColorEnd:d("loading_bg_color_end","#0369a1"),dateColor:d("loading_date_color","#7dd3fc")}),[d]),S=j.useCallback(()=>h("custom_pages",[]),[h]),N=j.useCallback(A=>S().find(k=>k.slug===A&&k.isPublished),[S]),E=j.useCallback(()=>S().filter(T=>T.isPublished&&T.showInMenu),[S]);return r.jsx(yD.Provider,{value:{settings:e,loading:i,error:s,getSetting:d,getJsonSetting:h,getSiteTitleSettings:f,getHeaderSettings:p,getFooterSettings:m,getProgramSettings:x,getHeroSettings:b,getNewsSettings:y,getLoadingSettings:_,getCustomPages:S,getCustomPageBySlug:N,getPublishedCustomPages:E,refetchSettings:c},children:t})}function Xe(){const t=j.useContext(yD);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t}const bD=j.createContext(),_0=[{code:"en",label:"English",flag:"https://flagicons.lipis.dev/flags/4x3/gb.svg"},{code:"ru",label:"",flag:"https://flagicons.lipis.dev/flags/4x3/ru.svg"},{code:"tj",label:"",flag:"https://flagicons.lipis.dev/flags/4x3/tj.svg"}];function oz({children:t}){const e=Wn(),{getSiteTitleSettings:n}=Xe(),[i,a]=j.useState(()=>{const c=pA(window.location.pathname);if(c)return localStorage.setItem("language",c),c;const d=localStorage.getItem("language");return d&&_0.some(h=>h.code===d)?d:"en"}),s=j.useCallback(c=>{const d=c.split(".");let h=fA[i];for(const f of d)if(h&&typeof h=="object")h=h[f];else return c;return h||c},[i]);j.useEffect(()=>{const c=pA(e.pathname);c&&c!==i&&(a(c),localStorage.setItem("language",c))},[e.pathname]),j.useEffect(()=>{const c=n();let d="";i==="en"&&c.titleEn?d=c.titleEn:i==="ru"&&c.titleRu?d=c.titleRu:i==="tj"&&c.titleTj?d=c.titleTj:d=fA[i]?.siteTitle,d&&(document.title=d)},[i,n]);const o=j.useCallback(c=>{if(!_0.some(p=>p.code===c)||(a(c),localStorage.setItem("language",c),e.pathname.startsWith("/admin")))return;const d=c2(e.pathname),f=u2(d,c)+e.search+e.hash;window.history.replaceState(null,"",f)},[e]);return r.jsx(bD.Provider,{value:{language:i,setLanguage:o,t:s,languages:_0},children:t})}function Ie(){const t=j.useContext(bD);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t}function Mt({to:t,children:e,...n}){const{language:i}=Ie();return r.jsx(Pi,{to:u2(t,i),...n,children:e})}function _D({width:t=20,height:e=20}){return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:t,height:e,children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}function lz({width:t=24,height:e=24}){return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:t,height:e,children:[r.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}function cz({width:t=20,height:e=20}){return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:t,height:e,children:[r.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),r.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),r.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}function bp({width:t=14,height:e=14}){return r.jsx("svg",{className:"nav__dropdown-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:t,height:e,children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})}function gA(){return r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}function mA(){return r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}function vA(){return r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}function uz({width:t=28,height:e=28}){return r.jsx("svg",{viewBox:"0 0 384 512",fill:"currentColor",width:t,height:e,children:r.jsx("path",{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"})})}function dz({width:t=28,height:e=28}){return r.jsxs("svg",{viewBox:"0 0 512 512",fill:"currentColor",width:t,height:e,children:[r.jsx("path",{d:"M35.4 40.7C27.2 49.3 22 64 22 83.5v345c0 19.5 5.2 34.1 13.4 42.8l2.3 2.2 193.2-193.2v-4.5L37.7 82.5l-2.3 2.2z"}),r.jsx("path",{d:"M295.5 321l-64.4-64.5v-4.5l64.4-64.4 1.4.8 76.4 43.4c21.8 12.4 21.8 32.7 0 45.1L297 321l-1.5.8z"}),r.jsx("path",{d:"M298.3 320.3L231.1 253 35.4 448.8c7.2 7.6 19 8.5 32.4 1l230.5-129.5"}),r.jsx("path",{d:"M298.3 185.7L67.8 56.2c-13.4-7.5-25.2-6.6-32.4 1L231.1 253l67.2-67.3z"})]})}function hz({width:t=24,height:e=24}){return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",width:t,height:e,children:[r.jsx("path",{d:"M12 19V5"}),r.jsx("path",{d:"M5 12l7-7 7 7"})]})}function fz({width:t=20,height:e=20}){return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:t,height:e,children:[r.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"9",cy:"7",r:"4"}),r.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),r.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}function pz({width:t=20,height:e=20}){return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:t,height:e,children:[r.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}function jD({width:t=20,height:e=20}){return r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:t,height:e,children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),r.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}function gz({item:t,onClose:e,isOpen:n,onToggle:i}){const a=()=>{t.hasDropdown?i():e()};return r.jsx("li",{className:`header-mobile__nav-item ${n?"header-mobile__nav-item--open":""}`,children:t.hasDropdown?r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"header-mobile__nav-link",onClick:a,children:[t.label,r.jsx(bp,{})]}),r.jsx("div",{className:"header-mobile__nav-dropdown",children:t.dropdown.map((s,o)=>r.jsx(Mt,{to:s.path,className:"header-mobile__nav-dropdown-link",onClick:e,children:s.label},o))})]}):r.jsx(Mt,{to:t.path,className:"header-mobile__nav-link",onClick:e,children:t.label})})}function mz(){const[t,e]=j.useState(!1),[n,i]=j.useState(!1),[a,s]=j.useState(!1),[o,c]=j.useState(null),[d,h]=j.useState(null),f=j.useRef(null),p=j.useRef(null),m=j.useRef(null),x=Wn(),{language:b,setLanguage:y,t:_,languages:S}=Ie(),{getHeaderSettings:N,loading:E}=Xe(),A=N(),T=S.find(U=>U.code===b)||S[0],k={ru:"/assets/images/logo/LOGO_WATER_CONFERENCE_2026_left_ru.png",en:"/assets/images/logo/LOGO_WATER_CONFERENCE_2026_left_eng.png",tj:"/assets/images/logo/LOGO_WATER_CONFERENCE_2026_left_taj.png"},R=k[b]||k.en,H={ru:"/assets/images/logo/LOGO_WATER_CONFERENCE_2026_el_ru.png",en:"/assets/images/logo/LOGO_WATER_CONFERENCE_2026_el_eng.png",tj:"/assets/images/logo/LOGO_WATER_CONFERENCE_2026_el_taj.png"},V=H[b]||H.en;j.useEffect(()=>{const U=K=>{const z=p.current&&p.current.contains(K.target),O=m.current&&m.current.contains(K.target);!z&&!O&&s(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]),j.useEffect(()=>(t?(document.body.dataset.scrollY=window.scrollY,document.body.style.overflow="hidden",document.body.classList.add("mobile-menu-open")):(c(null),document.body.style.overflow="",document.body.classList.remove("mobile-menu-open"),delete document.body.dataset.scrollY),()=>{document.body.style.overflow="",document.body.classList.remove("mobile-menu-open"),delete document.body.dataset.scrollY}),[t]),j.useEffect(()=>{const U=f.current;if(!U)return;const K=new IntersectionObserver(([z])=>{i(!z.isIntersecting)},{threshold:[1],rootMargin:"-1px 0px 0px 0px"});return K.observe(U),()=>K.disconnect()},[]);const Y=[{id:"conference",label_ru:"",label_en:"Conference",label_tj:"",path:"/conference",hasDropdown:!0,submenus:[{id:"intro",path:"/conference/introduction",label_ru:"",label_en:"Introduction",label_tj:""},{id:"goals",path:"/conference/goals",label_ru:"",label_en:"Goals",label_tj:""},{id:"date-venue",path:"/conference/date-venue",label_ru:"   ",label_en:"Date and Venue",label_tj:"  "},{id:"participation",path:"/conference/participation",label_ru:"",label_en:"Participation",label_tj:""}]},{id:"program",label_ru:"",label_en:"Program",label_tj:"",path:"/program",hasDropdown:!0,submenus:[{id:"structure",path:"/program/structure",label_ru:" ",label_en:"Program Structure",label_tj:" "},{id:"plenary",path:"/program/plenary",label_ru:" ",label_en:"Plenary Session",label_tj:" "},{id:"events",path:"/program/events",label_ru:"   ",label_en:"Conference Events",label_tj:" "},{id:"forums",path:"/program/forums",label_ru:"",label_en:"Forums",label_tj:""}]},{id:"events",label_ru:"",label_en:"Events",label_tj:"",path:"/events",hasDropdown:!0,submenus:[{id:"parallel-events",path:"/events/parallel",label_ru:" ",label_en:"Parallel Events",label_tj:" "},{id:"cultural-events",path:"/events/cultural",label_ru:" ",label_en:"Cultural Events",label_tj:" "}]},{id:"exhibition",label_ru:"",label_en:"Exhibition",label_tj:"",path:"/exhibition",hasDropdown:!1,submenus:[]},{id:"excursions",label_ru:"",label_en:"Excursions",label_tj:"",path:"/excursions",hasDropdown:!1,submenus:[]},{id:"logistics",label_ru:"",label_en:"Logistics",label_tj:"",path:"/logistics",hasDropdown:!0,submenus:[{id:"practical-info",path:"/logistics/practical",label_ru:" ",label_en:"Practical Information",label_tj:" "},{id:"visa",path:"/logistics/visa",label_ru:"  ",label_en:"Visa to Tajikistan",label_tj:"o "},{id:"press",path:"/logistics/press",label_ru:" ",label_en:"Press Accreditation",label_tj:" "},{id:"flights",path:"/logistics/flights",label_ru:"",label_en:"Flights",label_tj:""},{id:"accommodation",path:"/logistics/accommodation",label_ru:"  ",label_en:"Hotel Accommodation",label_tj:"  "},{id:"weather",path:"/logistics/weather",label_ru:"",label_en:"Weather",label_tj:" "}]},{id:"registration",label_ru:"",label_en:"Registration",label_tj:"",path:"/registration",hasDropdown:!1,isButton:!0,submenus:[]},{id:"contacts",label_ru:"",label_en:"Contacts",label_tj:"",path:"/contacts",hasDropdown:!1,submenus:[]},{id:"water-decade",label_ru:" ",label_en:"Water Decade",label_tj:" ",path:"/water-decade",hasDropdown:!1,isSpecialButton:!0,submenus:[]}];let W=A.navigation||Y;if(Array.isArray(W)&&!W.find(U=>U.id==="excursions")){const U=Y.find(z=>z.id==="excursions"),K=W.findIndex(z=>z.id==="exhibition");U&&(W=[...W],W.splice(K+1,0,U))}const X=W.map(U=>({label:U[`label_${b}`]||U.label_ru||U.label,path:U.path,hasDropdown:U.hasDropdown&&U.submenus&&U.submenus.length>0,isRegister:U.isButton||U.id==="registration",isWaterDecade:U.isSpecialButton||U.id==="water-decade",dropdown:U.submenus?U.submenus.map(K=>({label:K[`label_${b}`]||K.label_ru||K.label,path:K.path})):[]}));(()=>{const U=b==="en"?A.titleEn:b==="tj"?A.titleTj:A.titleRu;return U&&U.trim()&&U.includes(`
`)?U.split(`
`).filter(K=>K.trim()):[_("header.titleLine1"),_("header.titleLine2"),_("header.titleLine3"),_("header.titleLine4")].filter(K=>K&&!K.startsWith("header."))})();const L=c2(x.pathname),P=(U,K)=>{if(K.includes("#")){const[z,O]=K.split("#");if(L===(z||"/")){U.preventDefault();const B=document.getElementById(O);if(B){const q=B.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:q,behavior:"smooth"})}}}else K==="/"&&L==="/"&&(U.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}))};j.useEffect(()=>{e(!1)},[x]);const M=U=>U==="/"?L==="/":L.startsWith(U),I={twitter:A.socialTwitter,instagram:A.socialInstagram,facebook:A.socialFacebook},G=()=>r.jsxs(r.Fragment,{children:[r.jsx("nav",{className:`nav ${t?"nav--open":""}`,children:r.jsx("ul",{className:"nav__list",children:X.map((U,K)=>r.jsxs("li",{className:`nav__item ${U.hasDropdown?"nav__item--dropdown":""} ${U.isRegister?"nav__item--register":""} ${U.isWaterDecade?"nav__item--water-decade":""}`,onMouseEnter:()=>U.hasDropdown&&h(K),onMouseLeave:()=>U.hasDropdown&&h(null),children:[U.hasDropdown?r.jsxs("button",{className:`nav__link ${M(U.path)?"nav__link--active":""}`,type:"button",onClick:()=>h(d===K?null:K),children:[U.label,r.jsx(bp,{})]}):r.jsx(Mt,{to:U.path,className:`nav__link ${M(U.path)?"nav__link--active":""}`,children:U.label}),U.hasDropdown&&r.jsx("ul",{className:`nav__dropdown ${d===K?"nav__dropdown--open":""}`,children:U.dropdown.map((z,O)=>r.jsx("li",{children:r.jsx(Mt,{to:z.path,className:"nav__dropdown-link",onClick:$=>{P($,z.path),h(null)},children:z.label})},O))})]},K))})}),r.jsxs("button",{className:`nav__toggle ${t?"nav__toggle--open":""}`,onClick:()=>e(!t),"aria-label":"Menu",children:[r.jsx("span",{className:"nav__toggle-bar"}),r.jsx("span",{className:"nav__toggle-bar"}),r.jsx("span",{className:"nav__toggle-bar"})]})]});return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"header-mobile",children:r.jsxs("div",{className:"header-mobile__container",children:[r.jsx(Mt,{to:"/",className:"header-mobile__logo",children:r.jsx("img",{src:V,alt:"Conference Logo"})}),r.jsxs("div",{className:"header-mobile__lang",ref:m,children:[r.jsxs("button",{className:"header-mobile__lang-toggle",onClick:()=>s(!a),children:[r.jsx("img",{src:T.flag,alt:T.label}),r.jsx("span",{children:T.code.toUpperCase()}),r.jsx(bp,{})]}),a&&r.jsx("div",{className:"header-mobile__lang-dropdown",children:S.filter(U=>U.code!==b).map(U=>r.jsxs("button",{className:"header-mobile__lang-option",onClick:()=>{y(U.code),s(!1)},children:[r.jsx("img",{src:U.flag,alt:U.label}),r.jsx("span",{children:U.code.toUpperCase()})]},U.code))})]}),r.jsxs("button",{className:`header-mobile__menu-toggle ${t?"header-mobile__menu-toggle--open":""}`,onClick:()=>e(!t),"aria-label":"Menu",children:[r.jsx("span",{}),r.jsx("span",{}),r.jsx("span",{})]})]})}),r.jsx("nav",{className:`header-mobile__nav ${t?"header-mobile__nav--open":""}`,children:r.jsx("ul",{className:"header-mobile__nav-list",children:X.map((U,K)=>r.jsx(gz,{item:U,onClose:()=>e(!1),isOpen:o===K,onToggle:()=>c(o===K?null:K)},K))})}),r.jsxs("div",{className:"header-wrapper",children:[r.jsx("div",{className:"header-wrapper__pattern"}),r.jsx("header",{className:"header",children:r.jsx("div",{className:"header__top",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"header__top-content",children:[r.jsx(Mt,{to:"/",className:"header__logo",children:r.jsx("img",{src:R,alt:"Conference Logo",className:"header__logo-img"})}),r.jsxs("div",{className:"header__actions",children:[r.jsx("div",{className:"header__lang-buttons",children:S.map(U=>r.jsxs("button",{className:`header__lang-btn ${b===U.code?"header__lang-btn--active":""}`,onClick:()=>y(U.code),children:[r.jsx("img",{src:U.flag,alt:U.label,className:"header__lang-btn-flag"}),r.jsx("span",{children:U.code.toUpperCase()})]},U.code))}),r.jsxs("div",{className:"header__socials",children:[I.twitter&&r.jsx("a",{href:I.twitter,className:"header__social-link header__social-link--twitter","aria-label":"Twitter",target:"_blank",rel:"noopener noreferrer",children:r.jsx(gA,{})}),I.instagram&&r.jsx("a",{href:I.instagram,className:"header__social-link header__social-link--instagram","aria-label":"Instagram",target:"_blank",rel:"noopener noreferrer",children:r.jsx(mA,{})}),I.facebook&&r.jsx("a",{href:I.facebook,className:"header__social-link header__social-link--facebook","aria-label":"Facebook",target:"_blank",rel:"noopener noreferrer",children:r.jsx(vA,{})}),!I.twitter&&!I.instagram&&!I.facebook&&r.jsxs(r.Fragment,{children:[r.jsx("a",{href:"#",className:"header__social-link header__social-link--twitter","aria-label":"Twitter",children:r.jsx(gA,{})}),r.jsx("a",{href:"#",className:"header__social-link header__social-link--instagram","aria-label":"Instagram",children:r.jsx(mA,{})}),r.jsx("a",{href:"#",className:"header__social-link header__social-link--facebook","aria-label":"Facebook",children:r.jsx(vA,{})})]})]})]})]})})})})]}),r.jsx("nav",{ref:f,className:`navbar-sticky ${n?"navbar-sticky--stuck":""}`,children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"navbar-sticky__content",children:[r.jsx(Mt,{to:"/",className:"navbar-sticky__logo",children:r.jsx("img",{src:V,alt:"Conference Logo",className:"navbar-sticky__logo-img"})}),G(),r.jsxs("div",{className:"navbar-sticky__lang",ref:p,children:[r.jsxs("button",{className:"navbar-sticky__lang-toggle",onClick:()=>s(!a),children:[r.jsx("img",{src:T.flag,alt:T.label,className:"navbar-sticky__lang-flag"}),r.jsx("span",{children:T.code.toUpperCase()}),r.jsx(bp,{})]}),a&&r.jsx("div",{className:"navbar-sticky__lang-dropdown",children:S.filter(U=>U.code!==b).map(U=>r.jsxs("button",{className:"navbar-sticky__lang-option",onClick:()=>{y(U.code),s(!1)},children:[r.jsx("img",{src:U.flag,alt:U.label,className:"navbar-sticky__lang-flag"}),r.jsx("span",{children:U.code.toUpperCase()})]},U.code))})]})]})})})]})}function vz(){const{t,language:e}=Ie(),{getFooterSettings:n}=Xe(),i=n(),a=e==="ru"?"Ru":e==="en"?"En":"Tj",s={ru:i.logoUrlRu,en:i.logoUrlEn,tj:i.logoUrlTj},o=s[e]||s.en,c=[{id:"about",path:"/",label_ru:" ",label_en:"About",label_tj:"  "},{id:"program",path:"/program",label_ru:"",label_en:"Program",label_tj:""},{id:"events",path:"/events",label_ru:"",label_en:"Events",label_tj:""},{id:"logistics",path:"/logistics",label_ru:"",label_en:"Logistics",label_tj:""}],d=[{id:"registration",path:"/registration",label_ru:"",label_en:"Registration",label_tj:""},{id:"media",path:"#",label_ru:"-",label_en:"Media Accreditation",label_tj:" "},{id:"excursions",path:"/excursions",label_ru:"",label_en:"Excursions",label_tj:""},{id:"exhibition",path:"/exhibition",label_ru:"",label_en:"Exhibition",label_tj:""}],h=i.quickLinks||c,f=i.participantLinks||d,p=i.quickLinksTitle[e]||t("footer.quickLinks"),m=i.participantLinksTitle[e]||t("footer.forParticipants"),x=i.contactsTitle[e]||t("footer.contactsTitle"),b=T=>T[`label_${e}`]||T.label_ru||T.label||"",y=i[`address${a}`]||"Dushanbe, Tajikistan",_=i.phone||"+992 (37) 227-68-43",S=i.email||"secretariat@dushanbewaterprocess.org",N=i[`copyright${a}`]||t("footer.copyright"),E=i[`organizer${a}`]||t("footer.organizer"),A={facebook:i.socialFacebook,instagram:i.socialInstagram,twitter:i.socialTwitter};return r.jsx("footer",{className:"footer",id:"contacts",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"footer__top",children:[r.jsxs("div",{className:"footer__brand",children:[r.jsx("div",{className:"footer__logo-wrapper",children:r.jsx("img",{src:o,alt:"Water Conference 2026",className:"footer__logo-img"})}),r.jsxs("div",{className:"footer__socials",children:[A.facebook&&r.jsx("a",{href:A.facebook,className:"footer__social-link","aria-label":"Facebook",target:"_blank",rel:"noopener noreferrer",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),A.instagram&&r.jsx("a",{href:A.instagram,className:"footer__social-link","aria-label":"Instagram",target:"_blank",rel:"noopener noreferrer",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),r.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),r.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),A.twitter&&r.jsx("a",{href:A.twitter,className:"footer__social-link","aria-label":"Twitter",target:"_blank",rel:"noopener noreferrer",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),!A.facebook&&!A.instagram&&!A.twitter&&r.jsxs(r.Fragment,{children:[r.jsx("a",{href:"#",className:"footer__social-link","aria-label":"Facebook",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),r.jsx("a",{href:"#",className:"footer__social-link","aria-label":"Instagram",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),r.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),r.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),r.jsx("a",{href:"#",className:"footer__social-link","aria-label":"Twitter",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})]})]})]}),r.jsxs("div",{className:"footer__links",children:[r.jsxs("div",{className:"footer__links-column",children:[r.jsx("h4",{className:"footer__links-title",children:p}),r.jsx("ul",{className:"footer__links-list",children:h.map(T=>r.jsx("li",{children:T.path.startsWith("http")?r.jsx("a",{href:T.path,target:"_blank",rel:"noopener noreferrer",children:b(T)}):T.path==="#"?r.jsx("a",{href:"#",children:b(T)}):r.jsx(Mt,{to:T.path,children:b(T)})},T.id))})]}),r.jsxs("div",{className:"footer__links-column",children:[r.jsx("h4",{className:"footer__links-title",children:m}),r.jsx("ul",{className:"footer__links-list",children:f.map(T=>r.jsx("li",{children:T.path.startsWith("http")?r.jsx("a",{href:T.path,target:"_blank",rel:"noopener noreferrer",children:b(T)}):T.path==="#"?r.jsx("a",{href:"#",children:b(T)}):r.jsx(Mt,{to:T.path,children:b(T)})},T.id))})]}),r.jsxs("div",{className:"footer__links-column",children:[r.jsx("h4",{className:"footer__links-title",children:x}),r.jsxs("ul",{className:"footer__links-list footer__links-list--contacts",children:[r.jsxs("li",{children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[r.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),r.jsx("span",{children:y})]}),r.jsxs("li",{children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:r.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),r.jsx("span",{children:_})]}),r.jsxs("li",{children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[r.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),r.jsx("polyline",{points:"22,6 12,13 2,6"})]}),r.jsx("a",{href:`mailto:${S}`,children:S})]})]})]})]})]}),r.jsxs("div",{className:"footer__bottom",children:[r.jsx("div",{className:"footer__bottom-left",children:r.jsx("p",{className:"footer__copyright",children:N})}),r.jsx("div",{className:"footer__bottom-right",children:r.jsx("span",{className:"footer__organizer-text",children:E})})]})]})})}function wD(){return r.jsxs(r.Fragment,{children:[r.jsx(mz,{}),r.jsx("main",{children:r.jsx(s2,{})}),r.jsx(vz,{})]})}function xz({id:t,slug:e,title:n,titleEn:i,titleTj:a,date:s,dateEn:o,dateTj:c,image:d,category:h,categoryEn:f,categoryTj:p,excerpt:m,excerptEn:x,excerptTj:b}){const{language:y}=Ie(),_=y==="en"&&i?i:y==="tj"&&a?a:n,S=y==="en"&&o?o:y==="tj"&&c?c:s,N=y==="en"&&f?f:y==="tj"&&p?p:h,E=y==="en"&&x?x:y==="tj"&&b?b:m,A=y==="ru"?" ":y==="en"?"Read more":" ";return r.jsxs("article",{className:"news__card",children:[r.jsx(Mt,{to:`/news/${e}`,className:"news__image-link",children:r.jsxs("div",{className:"news__image-container",children:[r.jsx("img",{src:d,alt:_,className:"news__image"}),r.jsx("div",{className:"news__image-overlay"}),N&&r.jsx("span",{className:"news__category",children:N})]})}),r.jsxs("div",{className:"news__content",children:[r.jsx("div",{className:"news__meta",children:r.jsxs("span",{className:"news__date",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),S]})}),r.jsx("h3",{className:"news__title",children:r.jsx(Mt,{to:`/news/${e}`,children:_})}),E&&r.jsx("p",{className:"news__excerpt",children:E}),r.jsxs(Mt,{to:`/news/${e}`,className:"news__link",children:[r.jsx("span",{children:A}),r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"18",height:"18",children:[r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),r.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})]})}function yz({name:t,title:e,image:n,flag:i,flagAlt:a,id:s,clickable:o=!0}){const c=r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"hero__speaker-image",children:[r.jsx("img",{src:n,alt:t}),r.jsx("div",{className:"hero__speaker-flag",children:r.jsx("img",{src:i,alt:a})})]}),r.jsxs("div",{className:"hero__speaker-info",children:[r.jsx("p",{className:"hero__speaker-title",children:e}),r.jsx("p",{className:"hero__speaker-name",children:t})]})]});return o?r.jsx(Mt,{to:`/speaker/${s}`,className:"hero__speaker-card",children:c}):r.jsx("div",{className:"hero__speaker-card hero__speaker-card--static",children:c})}function bz(){const[t,e]=j.useState(!1);j.useEffect(()=>{const i=()=>{window.scrollY>400?e(!0):e(!1)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return r.jsxs("button",{className:`scroll-to-top ${t?"scroll-to-top--visible":""}`,onClick:n,"aria-label":"Scroll to top",children:[r.jsx("span",{className:"scroll-to-top__icon",children:r.jsx(hz,{})}),r.jsx("span",{className:"scroll-to-top__ripple"})]})}const _z=j.createContext(null);function jz({children:t}){const[e,n]=j.useState([]),i=j.useCallback((o,c="success",d=4e3)=>{const h=Date.now()+Math.random();return n(f=>[...f,{id:h,message:o,type:c,duration:d}]),h},[]),a=j.useCallback(o=>{n(c=>c.filter(d=>d.id!==o))},[]),s={success:(o,c)=>i(o,"success",c),error:(o,c)=>i(o,"error",c),info:(o,c)=>i(o,"info",c),warning:(o,c)=>i(o,"warning",c)};return r.jsxs(_z.Provider,{value:s,children:[t,r.jsx(wz,{toasts:e,removeToast:a})]})}function wz({toasts:t,removeToast:e}){return r.jsx("div",{className:"toast-container",children:t.map(n=>r.jsx(Sz,{toast:n,onClose:()=>e(n.id)},n.id))})}function Sz({toast:t,onClose:e}){const[n,i]=j.useState(!1);j.useEffect(()=>{const o=setTimeout(()=>{i(!0),setTimeout(e,300)},t.duration);return()=>clearTimeout(o)},[t.duration,e]);const a=()=>{i(!0),setTimeout(e,300)},s={success:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"22",height:"22",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),error:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"22",height:"22",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),r.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),info:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"22",height:"22",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),r.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),warning:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"22",height:"22",children:[r.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),r.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),r.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})};return r.jsxs("div",{className:`toast toast--${t.type} ${n?"toast--exit":""}`,children:[r.jsx("div",{className:"toast__icon",children:s[t.type]}),r.jsx("div",{className:"toast__content",children:r.jsx("p",{className:"toast__message",children:t.message})}),r.jsx("button",{className:"toast__close",onClick:a,"aria-label":"Close",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"18",height:"18",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),r.jsx("div",{className:"toast__progress",style:{animationDuration:`${t.duration}ms`}})]})}function Cz(){const{t,language:e}=Ie(),{getHeroSettings:n}=Xe(),i=j.useRef(null),[a,s]=j.useState([]),o=n(),c=(S,N,E,A)=>{const T=e==="en"?o[N]:e==="tj"?o[E]:o[S];return T&&T.trim()?T:A?t(A):""},d=c("titleRu","titleEn","titleTj",""),h=c("datesRu","datesEn","datesTj","hero.date"),f=c("locationRu","locationEn","locationTj","hero.location"),p=c("quoteRu","quoteEn","quoteTj","heroQuote.text"),m=c("quoteAuthorRu","quoteAuthorEn","quoteAuthorTj","heroQuote.author"),x=c("registrationBtnRu","registrationBtnEn","registrationBtnTj","hero.registerBtn"),b=c("videoBtnRu","videoBtnEn","videoBtnTj","hero.videoBtn"),y=o.videoSource==="youtube"?o.youtubeUrl:o.videoUrl||"/assets/video/hero-background.mp4";j.useEffect(()=>{const S=i.current;if(!S)return;S.style.opacity=0;const N=()=>{S.play().catch(()=>{S.style.opacity=1})},E=()=>{const T=S.duration-S.currentTime;T<=1.5?S.style.opacity=T/1.5:S.currentTime<=1.5?S.style.opacity=Math.max(.1,S.currentTime/1.5):S.style.opacity=1},A=()=>{S.style.display="none"};return S.addEventListener("canplay",N),S.addEventListener("timeupdate",E),S.addEventListener("error",A),S.readyState>=3&&N(),()=>{S.removeEventListener("canplay",N),S.removeEventListener("timeupdate",E),S.removeEventListener("error",A)}},[]),j.useEffect(()=>{fetch(`/api/speakers?lang=${e}`).then(S=>S.json()).then(S=>s(S)).catch(()=>{})},[e]);const _=()=>{if(!d)return r.jsxs(r.Fragment,{children:[t("hero.conference"),r.jsx("br",{}),t("hero.highLevel"),r.jsx("br",{}),t("hero.decade"),r.jsx("br",{}),r.jsx("span",{children:t("hero.waterForSustainable")})]});if(d.includes(`
`)){const S=d.split(`
`).filter(N=>N.trim());return S.map((N,E)=>r.jsxs("span",{children:[N,E<S.length-1&&r.jsx("br",{})]},E))}return d};return r.jsxs("section",{className:"hero",id:"conference",children:[r.jsxs("div",{className:"hero__background",children:[o.videoSource!=="youtube"?r.jsx("video",{ref:i,className:"hero__bg-video",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto",children:r.jsx("source",{src:y,type:"video/mp4"})}):r.jsx("div",{className:"hero__bg-video hero__bg-video--youtube",children:r.jsx("iframe",{src:`https://www.youtube.com/embed/${Az(o.youtubeUrl)}?autoplay=1&mute=1&loop=1&controls=0&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playsinline=1&enablejsapi=1`,frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:"Background Video"})}),r.jsx("div",{className:"hero__bg-overlay"})]}),r.jsx("div",{className:"hero__pattern"}),r.jsx("div",{className:"hero__waves",children:r.jsx("div",{className:"hero__wave hero__wave--1"})}),r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"hero__layout",children:[r.jsxs("div",{className:"hero__content",children:[r.jsx("h1",{className:"hero__title",children:_()}),r.jsxs("div",{className:"hero__meta",children:[r.jsxs("div",{className:"hero__meta-item",children:[r.jsx(_D,{width:24,height:24}),r.jsx("span",{children:h})]}),r.jsxs("div",{className:"hero__meta-item",children:[r.jsx(lz,{}),r.jsx("span",{children:f})]})]}),r.jsxs("div",{className:"hero__mobile-quote",children:[r.jsx("blockquote",{children:p}),r.jsx("cite",{children:m})]}),(o.showRegistrationBtn!=="false"||o.showVideoBtn!=="false")&&r.jsxs("div",{className:"hero__actions",children:[o.showRegistrationBtn!=="false"&&r.jsxs(Mt,{to:"/registration",className:"btn btn--primary btn--large",children:[r.jsx(cz,{}),x]}),o.showVideoBtn!=="false"&&r.jsxs("a",{href:o.youtubeUrl||"https://www.youtube.com/watch?v=YOUR_VIDEO_ID",target:"_blank",rel:"noopener noreferrer",className:"btn btn--outline btn--icon","aria-label":"Watch on YouTube",children:[r.jsx("img",{src:"/assets/images/youtube-icon.png",alt:"YouTube",width:"32",height:"22"}),r.jsx("span",{children:b})]})]})]}),r.jsxs("div",{className:"hero__quote",children:[r.jsx("div",{className:"hero__quote-icon",children:""}),r.jsx("blockquote",{className:"hero__quote-text",children:p}),r.jsx("p",{className:"hero__quote-author",children:m})]})]}),r.jsxs("div",{className:"hero__speakers",id:"speakers",children:[r.jsx("h3",{className:"hero__speakers-title",children:t("nav.welcomeMessages")}),r.jsx("div",{className:"hero__speakers-grid",children:a.map(S=>r.jsx(yz,{id:S.id,name:S.name,title:S.title,image:S.image,flag:S.flag_url,flagAlt:S.flag_alt,clickable:S.clickable},S.id))})]})]}),r.jsxs("div",{className:"hero__scroll",children:[r.jsx("div",{className:"hero__scroll-mouse"}),r.jsx("span",{className:"hero__scroll-text",children:t("hero.scrollDown")})]})]})}function Az(t){if(!t)return"";const e=t.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/);return e?e[1]:""}function Nz(){const{t,language:e}=Ie(),{getNewsSettings:n}=Xe(),[i,a]=j.useState([]),s=n();j.useEffect(()=>{fetch("/api/news?limit=6").then(c=>c.json()).then(c=>a(c)).catch(()=>{})},[]);const o=()=>{const c=e==="en"?s.titleEn:e==="tj"?s.titleTj:s.titleRu;return c&&c.trim()?c:t("home.news.title")};return r.jsxs("section",{className:"news-section section",id:"news",children:[r.jsx("div",{className:"news-section__pattern"}),r.jsxs("div",{className:"container",children:[r.jsx("h2",{className:"news__section-title reveal",children:o()}),r.jsx("div",{className:"news__grid reveal",children:i.map(c=>r.jsx(xz,{id:c.id,slug:c.slug,title:c.title.ru,titleEn:c.title.en,titleTj:c.title.tj,date:c.published_at,image:c.image,category:c.category,excerpt:c.excerpt.ru,excerptEn:c.excerpt.en,excerptTj:c.excerpt.tj},c.id))})]})]})}const Ez=[{day:1,date:"25  2026",title:" 1:  ",shortTitle:" ",isOpen:!0,events:[{time:"08:30  10:00",title:" ",description:"    ",location:"  ",type:"registration"},{time:"10:00  11:30",title:" ",description:"   ",location:" ",type:"ceremony"},{time:"11:30  12:00",title:"-",location:"",type:"break"},{time:"12:00  13:30",title:"   ",description:"     ",location:" ",type:"plenary"},{time:"13:30  15:00",title:"",location:" ",type:"break"},{time:"15:00  18:00",title:"  ()",description:"  -",location:" ",type:"plenary"}]},{day:2,date:"26  2026",title:" 2:  ",shortTitle:" ",isOpen:!1,events:[{time:"09:00  10:30",title:":   ",description:"     ",location:" A",type:"session"},{time:"10:30  11:00",title:"-",location:"",type:"break"},{time:"11:00  12:30",title:":    ",description:"      ",location:" B",type:"session"},{time:"12:30  14:00",title:"",location:" ",type:"break"},{time:"14:00  15:30",title:":  ",description:"    ",location:" A",type:"session"},{time:"15:30  17:00",title:":    ",description:"    ",location:" B",type:"session"}]},{day:3,date:"27  2026",title:" 3:  ",shortTitle:" ",isOpen:!1,events:[{time:"09:00  11:00",title:" ",description:"    6",location:" ",type:"session"},{time:"11:00  11:30",title:"-",location:"",type:"break"},{time:"11:30  13:00",title:"  ",description:"  ",location:" ",type:"session"},{time:"13:00  14:30",title:"",location:" ",type:"break"},{time:"14:30  17:00",title:"  ",description:"   ",location:" A, B, C",type:"session"}]},{day:4,date:"28  2026",title:" 4:  ",shortTitle:" ",isOpen:!1,events:[{time:"09:00  10:30",title:"  ",description:"  ",location:" ",type:"plenary"},{time:"10:30  11:00",title:"-",location:"",type:"break"},{time:"11:00  12:30",title:"  ",description:"   ",location:" ",type:"plenary"},{time:"12:30  13:30",title:"  ",description:"    ",location:" ",type:"ceremony"},{time:"13:30  15:00",title:" ",location:" ",type:"break"}]}],Tz=[{day:1,date:"May 25, 2026",title:"Day 1: Opening Ceremony",shortTitle:"Opening Ceremony",isOpen:!0,events:[{time:"08:30  10:00",title:"Participant Registration",description:"Badge and conference materials distribution",location:"Main Hall Lobby",type:"registration"},{time:"10:00  11:30",title:"Grand Opening",description:"Welcome speeches by heads of delegations",location:"Main Hall",type:"ceremony"},{time:"11:30  12:00",title:"Coffee Break",location:"Foyer",type:"break"},{time:"12:00  13:30",title:"High-Level Plenary Session",description:"Reports by ministers and representatives of international organizations",location:"Main Hall",type:"plenary"},{time:"13:30  15:00",title:"Lunch",location:"Banquet Hall",type:"break"},{time:"15:00  18:00",title:"Plenary Session (continued)",description:"Speeches by delegations of participating countries",location:"Main Hall",type:"plenary"}]},{day:2,date:"May 26, 2026",title:"Day 2: Thematic Sessions",shortTitle:"Thematic Sessions",isOpen:!1,events:[{time:"09:00  10:30",title:"Session: Water Resource Management",description:"Best practices in integrated water resource management",location:"Hall A",type:"session"},{time:"10:30  11:00",title:"Coffee Break",location:"Foyer",type:"break"},{time:"11:00  12:30",title:"Session: Climate and Water Security",description:"Climate change adaptation in the water sector",location:"Hall B",type:"session"},{time:"12:30  14:00",title:"Lunch",location:"Banquet Hall",type:"break"},{time:"14:00  15:30",title:"Session: Transboundary Cooperation",description:"Experience in joint water resource management",location:"Hall A",type:"session"},{time:"15:30  17:00",title:"Session: Innovation in the Water Sector",description:"Technological solutions for sustainable water use",location:"Hall B",type:"session"}]},{day:3,date:"May 27, 2026",title:"Day 3: Interactive Dialogues",shortTitle:"Interactive Dialogues",isOpen:!1,events:[{time:"09:00  11:00",title:"Multilateral Dialogue",description:"Discussion on achieving SDG 6",location:"Main Hall",type:"session"},{time:"11:00  11:30",title:"Coffee Break",location:"Foyer",type:"break"},{time:"11:30  13:00",title:"Innovative Solutions Presentations",description:"Demonstration of advanced technologies",location:"Exhibition Hall",type:"session"},{time:"13:00  14:30",title:"Lunch",location:"Banquet Hall",type:"break"},{time:"14:30  17:00",title:"Partner Special Events",description:"Parallel sessions by international organizations",location:"Halls A, B, C",type:"session"}]},{day:4,date:"May 28, 2026",title:"Day 4: Closing Ceremony",shortTitle:"Closing Ceremony",isOpen:!1,events:[{time:"09:00  10:30",title:"Final Documents Preparation",description:"Finalization of conference declaration",location:"Meeting Room",type:"plenary"},{time:"10:30  11:00",title:"Coffee Break",location:"Foyer",type:"break"},{time:"11:00  12:30",title:"Adoption of Final Documents",description:"Official adoption of the Dushanbe Declaration",location:"Main Hall",type:"plenary"},{time:"12:30  13:30",title:"Grand Closing Ceremony",description:"Summary and closing of the conference",location:"Main Hall",type:"ceremony"},{time:"13:30  15:00",title:"Gala Lunch",location:"Banquet Hall",type:"break"}]}],kz=[{day:1,date:"25  2026",title:" 1:  ",shortTitle:" ",isOpen:!0,events:[{time:"08:30  10:00",title:" ",description:"    ",location:"  ",type:"registration"},{time:"10:00  11:30",title:" ",description:"   ",location:" ",type:"ceremony"},{time:"11:30  12:00",title:" ",location:"",type:"break"},{time:"12:00  13:30",title:"   ",description:"     ",location:" ",type:"plenary"},{time:"13:30  15:00",title:" ",location:" ",type:"break"},{time:"15:00  18:00",title:"  ()",description:"   ",location:" ",type:"plenary"}]},{day:2,date:"26  2026",title:" 2:  ",shortTitle:" ",isOpen:!1,events:[{time:"09:00  10:30",title:":   ",description:"      ",location:" A",type:"session"},{time:"10:30  11:00",title:" ",location:"",type:"break"},{time:"11:00  12:30",title:":    ",description:"      ",location:" B",type:"session"},{time:"12:30  14:00",title:" ",location:" ",type:"break"},{time:"14:00  15:30",title:":  ",description:"    ",location:" A",type:"session"},{time:"15:30  17:00",title:":    ",description:"     ",location:" B",type:"session"}]},{day:3,date:"27  2026",title:" 3:  ",shortTitle:" ",isOpen:!1,events:[{time:"09:00  11:00",title:" ",description:"     6",location:" ",type:"session"},{time:"11:00  11:30",title:" ",location:"",type:"break"},{time:"11:30  13:00",title:"  ",description:"  ",location:" ",type:"session"},{time:"13:00  14:30",title:" ",location:" ",type:"break"},{time:"14:30  17:00",title:"  ",description:"   ",location:" A, B, C",type:"session"}]},{day:4,date:"28  2026",title:" 4:  ",shortTitle:" ",isOpen:!1,events:[{time:"09:00  10:30",title:"   ",description:"   ",location:" ",type:"plenary"},{time:"10:30  11:00",title:" ",location:"",type:"break"},{time:"11:00  12:30",title:"  ",description:"   ",location:" ",type:"plenary"},{time:"12:30  13:30",title:"  ",description:"   ",location:" ",type:"ceremony"},{time:"13:30  15:00",title:" ",location:" ",type:"break"}]}],Dz=t=>{switch(t){case"en":return Tz;case"tj":return kz;default:return Ez}};function Oz(){const{t,language:e}=Ie(),{getProgramSettings:n}=Xe(),i=n(),s=(()=>{if(i.programData){const T=i.programData[e]||i.programData.ru;if(Array.isArray(T)&&T.length>0)return T}return Dz(e)})(),[o,c]=j.useState(1),[d,h]=j.useState("right"),f=j.useRef(0),p=j.useRef(0),m=j.useRef(o);m.current=o;const x=j.useCallback(T=>{T!==m.current&&T>=1&&T<=s.length&&(h(T>m.current?"right":"left"),c(T))},[s.length]),b=j.useCallback(T=>{f.current=T.touches[0].clientX,p.current=T.touches[0].clientX},[]),y=j.useCallback(T=>{p.current=T.touches[0].clientX},[]),_=j.useCallback(()=>{const T=f.current,k=p.current;if(T===0&&k===0)return;const R=T-k;Math.abs(R)>50&&(R>0&&m.current<s.length?x(m.current+1):R<0&&m.current>1&&x(m.current-1)),f.current=0,p.current=0},[s.length,x]),S=s.find(T=>T.day===o),N=T=>T.type||"default",A=(()=>{const T={ru:i.pdfRu,en:i.pdfEn,tj:i.pdfTj};return T[e]||T.ru||null})();return r.jsx("section",{className:"program-section section",id:"program",style:{position:"relative"},children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"program__header reveal",children:[r.jsxs("div",{className:"program__header-content",children:[r.jsxs("span",{className:"program__badge",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),t("programSection.dateBadge")]}),r.jsx("h2",{className:"program__section-title",children:t("programSection.title")}),r.jsx("p",{className:"program__subtitle",children:t("programSection.subtitle")})]}),r.jsxs("div",{className:"program__header-actions",children:[r.jsxs("div",{className:"program__stats",children:[r.jsxs("div",{className:"program__stat",children:[r.jsx("span",{className:"program__stat-number",children:s.length}),r.jsx("span",{className:"program__stat-label",children:t("programSection.days")})]}),r.jsxs("div",{className:"program__stat",children:[r.jsx("span",{className:"program__stat-number",children:"20+"}),r.jsx("span",{className:"program__stat-label",children:t("programSection.sessions")})]}),r.jsxs("div",{className:"program__stat",children:[r.jsx("span",{className:"program__stat-number",children:"150+"}),r.jsx("span",{className:"program__stat-label",children:t("programSection.speakers")})]})]}),A&&r.jsxs("a",{href:A,download:!0,className:"program__download-pdf",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),r.jsx("polyline",{points:"7 10 12 15 17 10"}),r.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),r.jsx("span",{children:t("programSection.downloadPdf")})]})]})]}),r.jsx("div",{className:"program__days-nav reveal",children:s.map(T=>r.jsxs("button",{onClick:()=>x(T.day),className:`program__day-tab ${o===T.day?"program__day-tab--active":""}`,children:[r.jsxs("span",{className:"program__day-tab-num",children:[t("programSection.day")," ",T.day]}),r.jsx("span",{className:"program__day-tab-date",children:T.date})]},T.day))}),S&&r.jsxs("div",{className:"program__content reveal",onTouchStart:b,onTouchMove:y,onTouchEnd:_,children:[r.jsxs("div",{className:`program__day-panel program__day-panel--${d}`,children:[r.jsxs("div",{className:"program__day-header",children:[r.jsxs("div",{className:"program__day-info",children:[r.jsxs("span",{className:"program__day-badge-large",children:[t("programSection.day")," ",S.day]}),r.jsxs("div",{className:"program__day-details",children:[r.jsx("span",{className:"program__day-date",children:S.date}),r.jsx("h3",{className:"program__day-title",children:S.shortTitle})]})]}),r.jsxs("span",{className:"program__events-count",children:[S.events.length," ",t("programSection.events")]})]}),r.jsx("div",{className:"schedule",children:S.events.map((T,k)=>r.jsxs("div",{className:`schedule__item schedule__item--${N(T)}`,children:[r.jsxs("div",{className:"schedule__time-block",children:[r.jsx("span",{className:"schedule__time",children:T.time}),r.jsx("span",{className:"schedule__timeline-dot"})]}),r.jsxs("div",{className:"schedule__event",children:[r.jsx("div",{className:"schedule__event-header",children:r.jsx("h4",{className:"schedule__event-title",children:T.title})}),T.description&&r.jsx("p",{className:"schedule__event-desc",children:T.description}),r.jsx("div",{className:"schedule__event-meta",children:r.jsxs("span",{className:"schedule__location",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14",children:[r.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),T.location]})})]})]},k))})]},o),r.jsxs("div",{className:"program__swipe-hint",children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:r.jsx("polyline",{points:"15 18 9 12 15 6"})}),r.jsx("span",{children:t("programSection.swipeHint")}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})]}),r.jsxs("div",{className:"program__nav-arrows",children:[r.jsx("button",{className:"program__nav-arrow program__nav-arrow--prev",onClick:()=>x(Math.max(1,o-1)),disabled:o===1,children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:r.jsx("polyline",{points:"15 18 9 12 15 6"})})}),r.jsx("button",{className:"program__nav-arrow program__nav-arrow--next",onClick:()=>x(Math.min(s.length,o+1)),disabled:o===s.length,children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:r.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]})]})})}function Mz(){const{t}=Ie(),[e,n]=j.useState([]);return j.useEffect(()=>{fetch("/api/partners").then(i=>i.json()).then(i=>{const a=i.filter(s=>!s.logo?.includes("emblem-tajikistan")&&!s.name?.toLowerCase().includes("")&&!s.name?.toLowerCase().includes("tajikistan"));n(a)}).catch(()=>{})},[]),r.jsxs("section",{className:"partners section section--light",id:"partners",style:{position:"relative",zIndex:10},children:[r.jsx("div",{className:"partners-section__pattern"}),r.jsxs("div",{className:"container",children:[r.jsx("div",{className:"text-center",children:r.jsx("h2",{className:"section-title reveal",children:t("partnersSection.organizerTitle")})}),r.jsxs("div",{className:"organizer__content reveal",children:[r.jsx("img",{src:"/assets/images/emblem-tajikistan.png",alt:t("partnersSection.emblemAlt"),className:"organizer__emblem"}),r.jsx("h3",{className:"organizer__name",children:t("partnersSection.governmentName")})]}),r.jsx("div",{className:"text-center",style:{marginTop:"var(--space-16)"},children:r.jsx("h2",{className:"section-title reveal",children:t("partnersSection.partnersTitle")})}),r.jsx("div",{className:"partners__logos-row reveal",children:e.map(i=>r.jsx("div",{className:"partners__logo",children:r.jsx("img",{src:i.logo,alt:i.name})},i.id))})]})]})}function Pz(){const{t}=Ie(),e=[{icon:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"22",height:"22",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),titleKey:"appSection.feature1Title",descKey:"appSection.feature1Desc"},{icon:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"22",height:"22",children:[r.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),r.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),titleKey:"appSection.feature2Title",descKey:"appSection.feature2Desc"},{icon:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"22",height:"22",children:[r.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),titleKey:"appSection.feature3Title",descKey:"appSection.feature3Desc"},{icon:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"22",height:"22",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),r.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),titleKey:"appSection.feature4Title",descKey:"appSection.feature4Desc"}];return r.jsxs("section",{className:"app-section section",id:"app",style:{position:"relative",zIndex:0},children:[r.jsxs("div",{className:"app-section__bg",children:[r.jsx("div",{className:"app-section__bg-gradient"}),r.jsx("div",{className:"app-section__bg-pattern"}),r.jsx("div",{className:"app-section__bg-glow app-section__bg-glow--1"}),r.jsx("div",{className:"app-section__bg-glow app-section__bg-glow--2"})]}),r.jsx("div",{className:"container",children:r.jsxs("div",{className:"app-section__content reveal",children:[r.jsxs("div",{className:"app-section__info",children:[r.jsxs("span",{className:"app-section__badge",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[r.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),r.jsx("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"})]}),t("appSection.badge")]}),r.jsxs("h2",{className:"app-section__title",children:[t("appSection.titlePart1"),r.jsx("span",{className:"app-section__title-highlight",children:t("appSection.titlePart2")})]}),r.jsx("p",{className:"app-section__desc",children:t("appSection.description")}),r.jsx("div",{className:"app-section__features",children:e.map((n,i)=>r.jsxs("div",{className:"app-section__feature",children:[r.jsx("div",{className:"app-section__feature-icon",children:n.icon}),r.jsxs("div",{className:"app-section__feature-content",children:[r.jsx("span",{className:"app-section__feature-title",children:t(n.titleKey)}),r.jsx("span",{className:"app-section__feature-desc",children:t(n.descKey)})]})]},i))}),r.jsxs("div",{className:"app-section__buttons",children:[r.jsxs("a",{href:"#",className:"app-section__btn app-section__btn--apple",children:[r.jsx(uz,{}),r.jsxs("div",{className:"app-section__btn-text",children:[r.jsx("span",{children:t("appSection.downloadOn")}),r.jsx("strong",{children:"App Store"})]})]}),r.jsxs("a",{href:"#",className:"app-section__btn app-section__btn--google",children:[r.jsx(dz,{}),r.jsxs("div",{className:"app-section__btn-text",children:[r.jsx("span",{children:t("appSection.availableOn")}),r.jsx("strong",{children:"Google Play"})]})]})]})]}),r.jsx("div",{className:"app-section__mockup",children:r.jsxs("div",{className:"app-section__phone-wrapper",children:[r.jsx("div",{className:"app-section__phone-glow"}),r.jsxs("div",{className:"app-section__phone",children:[r.jsxs("div",{className:"app-section__phone-frame",children:[r.jsx("div",{className:"app-section__phone-speaker"}),r.jsx("div",{className:"app-section__phone-camera"})]}),r.jsxs("div",{className:"app-section__phone-screen",children:[r.jsxs("div",{className:"app-section__screen-statusbar",children:[r.jsx("span",{children:"9:41"}),r.jsxs("div",{className:"app-section__screen-statusbar-icons",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"14",height:"14",children:[r.jsx("path",{d:"M12 21l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.18L12 21z",opacity:"0"}),r.jsx("rect",{x:"1",y:"7",width:"3",height:"10",rx:"1"}),r.jsx("rect",{x:"5",y:"5",width:"3",height:"12",rx:"1"}),r.jsx("rect",{x:"9",y:"3",width:"3",height:"14",rx:"1"}),r.jsx("rect",{x:"13",y:"6",width:"3",height:"11",rx:"1"})]}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"14",height:"14",children:r.jsx("path",{d:"M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"})}),r.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"14",children:[r.jsx("rect",{x:"2",y:"7",width:"18",height:"10",rx:"2",stroke:"currentColor",strokeWidth:"1",fill:"none"}),r.jsx("rect",{x:"4",y:"9",width:"12",height:"6",rx:"1",fill:"currentColor"}),r.jsx("rect",{x:"20",y:"10",width:"2",height:"4",rx:"0.5",fill:"currentColor"})]})]})]}),r.jsxs("div",{className:"app-section__screen-header",children:[r.jsxs("div",{className:"app-section__screen-logo",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"waterGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),r.jsx("stop",{offset:"100%",stopColor:"#3b82f6"})]})}),r.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z",fill:"url(#waterGradient)"})]}),r.jsx("span",{children:t("appSection.appName")})]}),r.jsx("span",{className:"app-section__screen-date",children:t("appSection.dateShort")})]}),r.jsxs("div",{className:"app-section__screen-content",children:[r.jsxs("div",{className:"app-section__screen-card app-section__screen-card--featured",children:[r.jsx("div",{className:"app-section__screen-card-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"18",height:"18",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),r.jsxs("div",{className:"app-section__screen-card-info",children:[r.jsx("span",{className:"app-section__screen-card-label",children:t("appSection.nextEvent")}),r.jsx("span",{className:"app-section__screen-card-title",children:t("appSection.plenarySession")}),r.jsx("span",{className:"app-section__screen-card-time",children:t("appSection.sessionTime")})]})]}),r.jsxs("div",{className:"app-section__screen-grid",children:[r.jsxs("div",{className:"app-section__screen-item",children:[r.jsx("div",{className:"app-section__screen-item-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),r.jsx("span",{children:t("appSection.schedule")})]}),r.jsxs("div",{className:"app-section__screen-item",children:[r.jsx("div",{className:"app-section__screen-item-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:[r.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),r.jsx("span",{children:t("appSection.map")})]}),r.jsxs("div",{className:"app-section__screen-item",children:[r.jsx("div",{className:"app-section__screen-item-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:[r.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"9",cy:"7",r:"4"}),r.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),r.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),r.jsx("span",{children:t("appSection.speakersMenu")})]}),r.jsxs("div",{className:"app-section__screen-item",children:[r.jsx("div",{className:"app-section__screen-item-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),r.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),r.jsx("span",{children:t("appSection.materials")})]})]})]}),r.jsxs("div",{className:"app-section__screen-nav",children:[r.jsx("div",{className:"app-section__screen-nav-item app-section__screen-nav-item--active",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"22",height:"22",children:[r.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),r.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),r.jsx("div",{className:"app-section__screen-nav-item",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"22",height:"22",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),r.jsx("div",{className:"app-section__screen-nav-item",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"22",height:"22",children:[r.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),r.jsx("div",{className:"app-section__screen-nav-item",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"22",height:"22",children:[r.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})]}),r.jsx("div",{className:"app-section__screen-homebar"})]})]})]})})]})})]})}function ut({title:t,subtitle:e,backgroundImage:n}){return r.jsxs("section",{className:"page-hero",children:[r.jsxs("div",{className:"page-hero__background",children:[r.jsx("img",{src:n||"/assets/images/background_wave.jpg",alt:"",className:"page-hero__bg-image"}),r.jsx("div",{className:"page-hero__overlay"})]}),r.jsx("div",{className:"page-hero__pattern"}),r.jsx("div",{className:"container",children:r.jsxs("div",{className:"page-hero__content",children:[r.jsx("h1",{className:"page-hero__title",children:t}),e&&r.jsx("p",{className:"page-hero__subtitle",children:e})]})})]})}function Rz({onLoadingComplete:t}){const{t:e,language:n}=Ie(),{getLoadingSettings:i}=Xe(),[a,s]=j.useState(!0),[o,c]=j.useState(!1),d=i(),h=n==="ru"?"Ru":n==="en"?"En":"Tj",f=d[`titleLine1${h}`]||e("header.titleLine5"),p=d[`titleLine2${h}`]||e("header.titleLine1"),m=d[`titleLine3${h}`]||e("header.titleLine2"),x=d[`titleLine4${h}`]||e("header.titleLine3"),b=d[`titleLine5${h}`]||e("header.titleLine4"),y=d.logoUrl||"/assets/images/logo-mini.png",_=parseFloat(d.duration)||2,S=.5;if(j.useEffect(()=>{const E=setTimeout(()=>{c(!0)},_*1e3),A=setTimeout(()=>{s(!1),t&&t()},(_+S)*1e3);return()=>{clearTimeout(E),clearTimeout(A)}},[t,_]),!a)return null;const N={background:`linear-gradient(135deg, ${d.bgColorStart} 0%, ${d.bgColorMid} 50%, ${d.bgColorEnd} 100%)`};return r.jsxs("div",{className:`loading ${o?"loading--fading":""}`,style:N,children:[r.jsxs("div",{className:"loading__content",children:[r.jsxs("div",{className:"loading__logo-wrapper",children:[r.jsx("img",{src:y,alt:"Water Conference 2026",className:"loading__logo"}),r.jsx("div",{className:"loading__logo-glow"})]}),r.jsxs("div",{className:"loading__text",children:[r.jsx("span",{className:"loading__years",children:f}),r.jsxs("h1",{className:"loading__title",children:[r.jsx("span",{children:p}),r.jsx("span",{children:m}),r.jsx("span",{children:x})]}),r.jsx("span",{className:"loading__date",style:{color:d.dateColor},children:b})]}),r.jsxs("div",{className:"loading__spinner",children:[r.jsx("div",{className:"loading__spinner-ring"}),r.jsx("div",{className:"loading__spinner-ring"}),r.jsx("div",{className:"loading__spinner-ring"})]})]}),r.jsxs("div",{className:"loading__water-effect",children:[r.jsx("div",{className:"loading__wave loading__wave--1"}),r.jsx("div",{className:"loading__wave loading__wave--2"}),r.jsx("div",{className:"loading__wave loading__wave--3"})]})]})}function Lz(){const[t,e]=j.useState(!0);return r.jsxs(r.Fragment,{children:[t&&r.jsx(Rz,{onLoadingComplete:()=>e(!1)}),r.jsx(Cz,{}),r.jsx(Nz,{}),r.jsx(Oz,{}),r.jsx(Mz,{}),r.jsx(Pz,{})]})}function _t(t,e={},n=null){const{language:i}=Ie(),{getJsonSetting:a}=Xe(),s=a(`page_banner_${t}`,null),o=n?a(n,null):null,c=e.title?.[i]||e.title?.ru||"",d=e.subtitle?.[i]||e.subtitle?.ru||"",h="/assets/images/background_wave.jpg";let f;o&&o.showBanner!==void 0?f=o.showBanner!==!1:s?f=s.showBanner!==!1:f=!0;const p=o?.[`bannerTitle_${i}`]||s?.[`title_${i}`]||c,m=o?.[`bannerSubtitle_${i}`]||s?.[`subtitle_${i}`]||d,x=s?.backgroundImage||h;return{showBanner:f,title:p,subtitle:m,backgroundImage:x}}function Iz(){const{t}=Ie(),e=_t("conference",{title:{ru:"",en:"Conference",tj:""},subtitle:{ru:" ",en:"About the Conference",tj:"  "}});return r.jsxs(r.Fragment,{children:[e.showBanner&&r.jsx(ut,{title:e.title,subtitle:e.subtitle,backgroundImage:e.backgroundImage}),r.jsx("section",{id:"intro",className:"section",children:r.jsxs("div",{className:"container",children:[r.jsx("h2",{className:"section-title",children:t("conferencePage.introTitle")||""}),r.jsxs("div",{className:"content-text",children:[r.jsx("p",{children:"4-               , , 25-28  2026 ."}),r.jsx("p",{children:"                  ."})]})]})}),r.jsx("section",{id:"goals",className:"section section--gray",children:r.jsxs("div",{className:"container",children:[r.jsx("h2",{className:"section-title",children:t("conferencePage.goalsTitle")||" "}),r.jsxs("div",{className:"goals-grid",children:[r.jsxs("div",{className:"goal-card",children:[r.jsx("div",{className:"goal-icon",children:""}),r.jsx("h3",{children:" "}),r.jsx("p",{children:"        "})]}),r.jsxs("div",{className:"goal-card",children:[r.jsx("div",{className:"goal-icon",children:""}),r.jsx("h3",{children:" "}),r.jsx("p",{children:"      "})]}),r.jsxs("div",{className:"goal-card",children:[r.jsx("div",{className:"goal-icon",children:""}),r.jsx("h3",{children:" "}),r.jsx("p",{children:"     "})]}),r.jsxs("div",{className:"goal-card",children:[r.jsx("div",{className:"goal-icon",children:""}),r.jsx("h3",{children:" "}),r.jsx("p",{children:"    ,   "})]})]})]})}),r.jsx("section",{id:"date-venue",className:"section",children:r.jsxs("div",{className:"container",children:[r.jsx("h2",{className:"section-title",children:t("conferencePage.dateVenueTitle")||"   "}),r.jsxs("div",{className:"venue-info",children:[r.jsxs("div",{className:"venue-card",children:[r.jsx("h3",{children:" "}),r.jsx("p",{className:"venue-detail",children:"25-28  2026 "})]}),r.jsxs("div",{className:"venue-card",children:[r.jsx("h3",{children:" "}),r.jsx("p",{className:"venue-detail",children:" , "}),r.jsx("p",{className:"venue-detail",children:" "})]}),r.jsxs("div",{className:"venue-card",children:[r.jsx("h3",{children:" "}),r.jsx("p",{className:"venue-detail",children:"  "}),r.jsx("p",{className:"venue-detail",children:""})]})]})]})}),r.jsx("section",{id:"participation",className:"section section--gray",children:r.jsxs("div",{className:"container",children:[r.jsx("h2",{className:"section-title",children:t("conferencePage.participationTitle")||" "}),r.jsxs("div",{className:"content-text",children:[r.jsx("h3",{children:" "}),r.jsxs("ul",{children:[r.jsxs("li",{children:[r.jsx("strong",{children:" "})," -   - "]}),r.jsxs("li",{children:[r.jsx("strong",{children:" "})," -      "]}),r.jsxs("li",{children:[r.jsx("strong",{children:" "})," - ,  ,  "]}),r.jsxs("li",{children:[r.jsx("strong",{children:""})," -  "]})]}),r.jsx("h3",{style:{marginTop:"2rem"},children:""}),r.jsx("p",{children:"         .    1  2026 ."}),r.jsx("a",{href:"/registration",className:"btn btn--primary",style:{marginTop:"1rem"},children:""})]})]})})]})}const Bz=[{id:"structure",title_ru:" ",title_en:"Program Structure",title_tj:" ",description_ru:"      ",description_en:"Overview of main formats and structure of conference events",description_tj:"      ",link:"/program/structure"},{id:"plenary",title_ru:" ",title_en:"Plenary Session",title_tj:" ",description_ru:"   ,    ",description_en:"Main topics and issues discussed at plenary sessions",description_tj:"       ",link:"/program/plenary"},{id:"events",title_ru:"   ",title_en:"Conference Events",title_tj:"   ",description_ru:" ,     ",description_en:"Thematic sessions, panel discussions and special events",description_tj:" ,     ",link:"/program/events"},{id:"forums",title_ru:"",title_en:"Forums",title_tj:"",description_ru:"      ",description_en:"Specialized forums on key areas of water cooperation",description_tj:"      ",link:"/program/forums"}];function zz(){const{language:t}=Ie(),e=_t("program",{title:{ru:"",en:"Program",tj:""},subtitle:{ru:" ",en:"Conference Program",tj:" "}}),n=(i,a)=>{const s=`${a}_${t}`;return i[s]||i[`${a}_ru`]};return r.jsxs(r.Fragment,{children:[e.showBanner&&r.jsx(ut,{title:e.title,subtitle:e.subtitle,backgroundImage:e.backgroundImage}),r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"program-sections-grid",children:Bz.map(i=>r.jsxs("a",{href:i.link,className:"program-section-card",children:[r.jsxs("div",{className:"program-section-card__content",children:[r.jsx("h3",{children:n(i,"title")}),r.jsx("p",{children:n(i,"description")})]}),r.jsx("div",{className:"program-section-card__arrow",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:[r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),r.jsx("polyline",{points:"12 5 19 12 12 19"})]})})]},i.id))})})})]})}const $z=t=>t==="en"?"_en":t==="tj"?"_tj":"_ru",Fz=[{id:1,icon:"people",category_ru:" ",category_en:"Plenary Sessions",category_tj:" ",title_ru:"   ",title_en:"High-Level Plenary Sessions",title_tj:"   ",description_ru:"    ,     ",description_en:"Speeches by heads of state and government, ministers and leaders of international organizations",description_tj:"    ,     ",highlights_ru:[" "," "," "],highlights_en:["Ministerial reports","Policy discussions","Decision making"],highlights_tj:[" "," "," "]},{id:2,icon:"book",category_ru:" ",category_en:"Thematic Sessions",category_tj:" ",title_ru:"  ",title_en:"Interactive Thematic Sessions",title_tj:"  ",description_ru:"      ",description_en:"In-depth discussion of key water resource management issues",description_tj:"      ",highlights_ru:[" "," "," "],highlights_en:["Expert discussions","Experience sharing","Best practices"],highlights_tj:[" "," "," "]},{id:3,icon:"globe",category_ru:" ",category_en:"Special Events",category_tj:" ",title_ru:"   ",title_en:"Special Events and Ceremonies",title_tj:"   ",description_ru:"    ,  ",description_en:"Grand opening and closing ceremonies, award presentations",description_tj:"   ,  ",highlights_ru:[" "," ",""],highlights_en:["Opening ceremony","Closing ceremony","Awards"],highlights_tj:[" "," ",""]},{id:4,icon:"graduation",category_ru:" ",category_en:"Youth Forum",category_tj:" ",title_ru:"  ",title_en:"International Youth Forum",title_tj:"  ",description_ru:"         ",description_en:"Platform for young leaders and activists in the water sector",description_tj:"        ",highlights_ru:[" ","",""],highlights_en:["Young leaders","Innovations","Networking"],highlights_tj:[" ","",""]}],Hz=[{id:1,title_ru:" ",title_en:"Exhibition",title_tj:"",description_ru:"        ",description_en:"International exhibition of technologies and solutions in water resources",description_tj:"       ",link:"/exhibition"},{id:2,title_ru:" ",title_en:"Cultural Program",title_tj:" ",description_ru:"     ",description_en:"Introduction to the culture and traditions of Tajikistan",description_tj:"     ",link:"/excursions"},{id:3,title_ru:"",title_en:"Excursions",title_tj:"",description_ru:"     ",description_en:"Visits to attractions and water facilities of the country",description_tj:"       ",link:"/excursions"}],Uz={days:"4",eventsCount:"100+",countries:"150+",image:"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=600&h=400&fit=crop",date_ru:"25-28  2026",date_en:"MAY 25-28, 2026",date_tj:"25-28  2026",title_ru:" ",title_en:"Conference Program",title_tj:" ",description_ru:"   :  ,  ,     .  100      150+  .",description_en:"Four days of intensive program: plenary sessions, thematic sessions, special events and cultural program. More than 100 events with experts from 150+ countries.",description_tj:"   :  ,  ,     .   100      150+  ."},xA={people:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"32",height:"32",children:[r.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"9",cy:"7",r:"4"}),r.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),r.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),book:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"32",height:"32",children:[r.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),r.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),globe:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"32",height:"32",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),graduation:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"32",height:"32",children:r.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})};function Vz(){const{t,language:e}=Ie(),{getJsonSetting:n}=Xe(),i=$z(e),a=n("events_main",Fz),s=n("events_side",Hz),o=n("events_schedule_stats",Uz),c=n("events_page_settings",null),d=c&&c[`title${i}`]||t("events.title"),h=c&&c[`subtitle${i}`]||t("events.subtitle");c&&c[`mainEventsTitle${i}`]||t("events.mainEvents"),c&&c[`mainEventsSubtitle${i}`]||t("events.mainEventsSubtitle");const f=c&&c[`sideEventsTitle${i}`]||t("events.sideEvents"),p=c&&c[`sideEventsSubtitle${i}`]||t("events.sideEventsSubtitle"),m=_t("events",{title:{ru:d,en:d,tj:d},subtitle:{ru:h,en:h,tj:h}});return r.jsxs(r.Fragment,{children:[m.showBanner&&r.jsx(ut,{title:m.title,subtitle:m.subtitle,backgroundImage:m.backgroundImage}),r.jsx("section",{id:"parallel",className:"section events-main",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"section-header",children:[r.jsx("h2",{className:"section-title",children:" "}),r.jsx("p",{className:"section-subtitle",children:"   ,   "})]}),r.jsx("div",{className:"events-grid",children:a.map((x,b)=>r.jsxs("div",{className:"event-card",children:[r.jsxs("div",{className:"event-card__header",children:[r.jsx("div",{className:"event-card__icon",children:xA[x.icon]||xA.globe}),r.jsx("span",{className:"event-card__category",children:x[`category${i}`]||x.category_ru})]}),r.jsxs("div",{className:"event-card__content",children:[r.jsx("h3",{children:x[`title${i}`]||x.title_ru}),r.jsx("p",{children:x[`description${i}`]||x.description_ru}),r.jsx("ul",{className:"event-card__highlights",children:Array.isArray(x[`highlights${i}`]||x.highlights_ru)&&(x[`highlights${i}`]||x.highlights_ru).map((y,_)=>r.jsxs("li",{children:[r.jsx("span",{className:"highlight-icon",children:x.highlightIcon||""}),y]},_))})]})]},x.id||b))})]})}),r.jsx("section",{className:"section events-schedule",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"events-schedule__content",children:[r.jsxs("div",{className:"events-schedule__text",children:[r.jsx("span",{className:"events-schedule__label",children:o[`date${i}`]||o.date_ru||t("events.schedule.label")}),r.jsx("h2",{children:o[`title${i}`]||o.title_ru||t("events.schedule.title")}),r.jsx("p",{children:o[`description${i}`]||o.description_ru||t("events.schedule.description")}),r.jsxs("div",{className:"events-schedule__stats",children:[r.jsxs("div",{className:"events-stat",children:[r.jsx("span",{className:"events-stat__number",children:o.days}),r.jsx("span",{className:"events-stat__label",children:t("events.schedule.days")})]}),r.jsxs("div",{className:"events-stat",children:[r.jsx("span",{className:"events-stat__number",children:o.eventsCount}),r.jsx("span",{className:"events-stat__label",children:t("events.schedule.eventsCount")})]}),r.jsxs("div",{className:"events-stat",children:[r.jsx("span",{className:"events-stat__number",children:o.countries}),r.jsx("span",{className:"events-stat__label",children:t("events.schedule.countries")})]})]}),r.jsxs("a",{href:"/program",className:"btn btn--primary",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),t("events.schedule.viewProgram")]})]}),r.jsx("div",{className:"events-schedule__image",children:r.jsx("img",{src:o.image,alt:"Conference"})})]})})}),r.jsx("section",{id:"cultural",className:"section section--gray",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"section-header",children:[r.jsx("h2",{className:"section-title",children:" "}),r.jsx("p",{className:"section-subtitle",children:"      "})]}),r.jsxs("div",{className:"content-text",children:[r.jsx("p",{children:"         :"}),r.jsxs("ul",{children:[r.jsxs("li",{children:[r.jsx("strong",{children:" "})," -      "]}),r.jsxs("li",{children:[r.jsx("strong",{children:"-"})," -      "]}),r.jsxs("li",{children:[r.jsx("strong",{children:" "})," -   "]}),r.jsxs("li",{children:[r.jsx("strong",{children:" "})," -   "]})]})]})]})}),r.jsx("section",{className:"section events-side",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"section-header",children:[r.jsx("h2",{className:"section-title",children:f}),r.jsx("p",{className:"section-subtitle",children:p})]}),r.jsx("div",{className:"side-events-grid",children:s.map((x,b)=>r.jsxs("a",{href:x.link,className:"side-event-card",children:[r.jsxs("div",{className:"side-event-card__content",children:[r.jsx("h3",{children:x[`title${i}`]||x.title_ru}),r.jsx("p",{children:x[`description${i}`]||x.description_ru})]}),r.jsx("div",{className:"side-event-card__arrow",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:[r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),r.jsx("polyline",{points:"12 5 19 12 12 19"})]})})]},x.id||b))})]})})]})}const Zn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Ry=[.001,0,0,.001,0,0],j0=1.35,ki={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Zr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},pd="pdfjs_internal_editor_",ze={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Qe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},SD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},In={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},od={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Jt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Gl={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Gd={ERRORS:0,WARNINGS:1,INFOS:5},lc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},$f={moveTo:0,lineTo:1,curveTo:2,closePath:3},CD={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let qg=Gd.WARNINGS;function qz(t){Number.isInteger(t)&&(qg=t)}function Gz(){return qg}function Gg(t){qg>=Gd.INFOS&&console.info(`Info: ${t}`)}function $e(t){qg>=Gd.WARNINGS&&console.warn(`Warning: ${t}`)}function wt(t){throw new Error(t)}function tt(t,e){t||wt(e)}function Wz(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function d2(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"&&(n.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),n.tryConvertEncoding))try{t=Zz(t)}catch{}const i=e?URL.parse(t,e):URL.parse(t);return Wz(i)?i:null}function h2(t,e,n=!1){const i=URL.parse(t);return i?(i.hash=e,i.href):n&&d2(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ve(t,e,n,i=!1){return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const Ko=(function(){function e(n,i){this.message=n,this.name=i}return e.prototype=new Error,e.constructor=e,e})();class yA extends Ko{constructor(e,n){super(e,"PasswordException"),this.code=n}}class w0 extends Ko{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class Mp extends Ko{constructor(e){super(e,"InvalidPDFException")}}class gd extends Ko{constructor(e,n,i){super(e,"ResponseException"),this.status=n,this.missing=i}}class Yz extends Ko{constructor(e){super(e,"FormatError")}}class $a extends Ko{constructor(e){super(e,"AbortException")}}function AD(t){(typeof t!="object"||t?.length===void 0)&&wt("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let a=0;a<e;a+=n){const s=Math.min(a+n,e),o=t.subarray(a,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function Wd(t){typeof t!="string"&&wt("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=t.charCodeAt(i)&255;return n}function Xz(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function Kz(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function Jz(){try{return new Function(""),!0}catch{return!1}}class wn{static get isLittleEndian(){return Ve(this,"isLittleEndian",Kz())}static get isEvalSupported(){return Ve(this,"isEvalSupported",Jz())}static get isOffscreenCanvasSupported(){return Ve(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ve(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return Ve(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){return Ve(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const S0=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class Ce{static makeHexColor(e,n,i){return`#${S0[e]}${S0[n]}${S0[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let i;e[0]?(e[0]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=e[3],n[3]*=e[3]):(i=n[0],n[0]=n[1],n[1]=i,i=n[2],n[2]=n[3],n[3]=i,e[1]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,i=0){const a=e[i],s=e[i+1];e[i]=a*n[0]+s*n[2]+n[4],e[i+1]=a*n[1]+s*n[3]+n[5]}static applyTransformToBezier(e,n,i=0){const a=n[0],s=n[1],o=n[2],c=n[3],d=n[4],h=n[5];for(let f=0;f<6;f+=2){const p=e[i+f],m=e[i+f+1];e[i+f]=p*a+m*o+d,e[i+f+1]=p*s+m*c+h}}static applyInverseTransform(e,n){const i=e[0],a=e[1],s=n[0]*n[3]-n[1]*n[2];e[0]=(i*n[3]-a*n[2]+n[2]*n[5]-n[4]*n[3])/s,e[1]=(-i*n[1]+a*n[0]+n[4]*n[1]-n[5]*n[0])/s}static axialAlignedBoundingBox(e,n,i){const a=n[0],s=n[1],o=n[2],c=n[3],d=n[4],h=n[5],f=e[0],p=e[1],m=e[2],x=e[3];let b=a*f+d,y=b,_=a*m+d,S=_,N=c*p+h,E=N,A=c*x+h,T=A;if(s!==0||o!==0){const k=s*f,R=s*m,H=o*p,V=o*x;b+=H,S+=H,_+=V,y+=V,N+=k,T+=k,A+=R,E+=R}i[0]=Math.min(i[0],b,_,y,S),i[1]=Math.min(i[1],N,A,E,T),i[2]=Math.max(i[2],b,_,y,S),i[3]=Math.max(i[3],N,A,E,T)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const i=e[0],a=e[1],s=e[2],o=e[3],c=i**2+a**2,d=i*s+a*o,h=s**2+o**2,f=(c+h)/2,p=Math.sqrt(f**2-(c*h-d**2));n[0]=Math.sqrt(f+p||1),n[1]=Math.sqrt(f-p||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const i=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),a=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(i>a)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>o?null:[i,s,a,o]}static pointBoundingBox(e,n,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],n),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],n)}static rectBoundingBox(e,n,i,a,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],n,a),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],n,a)}static#e(e,n,i,a,s,o,c,d,h,f){if(h<=0||h>=1)return;const p=1-h,m=h*h,x=m*h,b=p*(p*(p*e+3*h*n)+3*m*i)+x*a,y=p*(p*(p*s+3*h*o)+3*m*c)+x*d;f[0]=Math.min(f[0],b),f[1]=Math.min(f[1],y),f[2]=Math.max(f[2],b),f[3]=Math.max(f[3],y)}static#t(e,n,i,a,s,o,c,d,h,f,p,m){if(Math.abs(h)<1e-12){Math.abs(f)>=1e-12&&this.#e(e,n,i,a,s,o,c,d,-p/f,m);return}const x=f**2-4*p*h;if(x<0)return;const b=Math.sqrt(x),y=2*h;this.#e(e,n,i,a,s,o,c,d,(-f+b)/y,m),this.#e(e,n,i,a,s,o,c,d,(-f-b)/y,m)}static bezierBoundingBox(e,n,i,a,s,o,c,d,h){h[0]=Math.min(h[0],e,c),h[1]=Math.min(h[1],n,d),h[2]=Math.max(h[2],e,c),h[3]=Math.max(h[3],n,d),this.#t(e,i,s,c,n,a,o,d,3*(-e+3*(i-s)+c),6*(e-2*i+s),3*(i-e),h),this.#t(e,i,s,c,n,a,o,d,3*(-n+3*(a-o)+d),6*(n-2*a+o),3*(a-n),h)}}function Zz(t){return decodeURIComponent(escape(t))}let C0=null,bA=null;function ND(t){return C0||(C0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,bA=new Map([["","t"]])),t.replaceAll(C0,(e,n,i)=>n?n.normalize("NFKC"):bA.get(i))}function f2(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),AD(t)}const p2="pdfjs_internal_id_";function Qz(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,a,...s]=n;if(!t(i)&&!Number.isInteger(i)||!e(a))return!1;const o=s.length;let c=!0;switch(a.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;c=!1;break;default:return!1}for(const d of s)if(!(typeof d=="number"||c&&d===null))return!1;return!0}function Un(t,e,n){return Math.min(Math.max(t,e),n)}function ED(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(AD(t))}function e$(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):Wd(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class md{static textContent(e){const n=[],i={items:n,styles:Object.create(null)};function a(s){if(!s)return;let o=null;const c=s.name;if(c==="#text")o=s.value;else if(md.shouldBuildText(c))s?.attributes?.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&n.push({str:o}),!!s.children)for(const d of s.children)a(d)}return a(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class g2{static setupStorage(e,n,i,a,s){const o=a.getValue(n,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",c=>{a.setValue(n,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",c=>{a.setValue(n,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",c=>{a.setValue(n,{value:c.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const c of i.children)c.attributes.value===o.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const d=c.target.options,h=d.selectedIndex===-1?"":d[d.selectedIndex].value;a.setValue(n,{value:h})});break}}static setAttributes({html:e,element:n,storage:i=null,intent:a,linkService:s}){const{attributes:o}=n,c=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${a}`);for(const[d,h]of Object.entries(o))if(h!=null)switch(d){case"class":h.length&&e.setAttribute(d,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!c||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,h)}c&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,n,i)}static render(e){const n=e.annotationStorage,i=e.linkService,a=e.xfaHtml,s=e.intent||"display",o=document.createElement(a.name);a.attributes&&this.setAttributes({html:o,element:a,intent:s,linkService:i});const c=s!=="richText",d=e.div;if(d.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=p}c&&d.setAttribute("class","xfaLayer xfaFont");const h=[];if(a.children.length===0){if(a.value){const p=document.createTextNode(a.value);o.append(p),c&&md.shouldBuildText(a.name)&&h.push(p)}return{textDivs:h}}const f=[[a,-1,o]];for(;f.length>0;){const[p,m,x]=f.at(-1);if(m+1===p.children.length){f.pop();continue}const b=p.children[++f.at(-1)[1]];if(b===null)continue;const{name:y}=b;if(y==="#text"){const S=document.createTextNode(b.value);h.push(S),x.append(S);continue}const _=b?.attributes?.xmlns?document.createElementNS(b.attributes.xmlns,y):document.createElement(y);if(x.append(_),b.attributes&&this.setAttributes({html:_,element:b,storage:n,intent:s,linkService:i}),b.children?.length>0)f.push([b,-1,_]);else if(b.value){const S=document.createTextNode(b.value);c&&md.shouldBuildText(y)&&h.push(S),_.append(S)}}for(const p of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const ka="http://www.w3.org/2000/svg";class Io{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Ac(t,e="text"){if(td(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType=e,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(a.response);return}n(a.responseText);return}i(new Error(a.statusText))}},a.send(null)})}class Yd{constructor({viewBox:e,userUnit:n,scale:i,rotation:a,offsetX:s=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=n,this.scale=i,this.rotation=a,this.offsetX=s,this.offsetY=o,i*=n;const d=(e[2]+e[0])/2,h=(e[3]+e[1])/2;let f,p,m,x;switch(a%=360,a<0&&(a+=360),a){case 180:f=-1,p=0,m=0,x=1;break;case 90:f=0,p=1,m=1,x=0;break;case 270:f=0,p=-1,m=-1,x=0;break;case 0:f=1,p=0,m=0,x=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(m=-m,x=-x);let b,y,_,S;f===0?(b=Math.abs(h-e[1])*i+s,y=Math.abs(d-e[0])*i+o,_=(e[3]-e[1])*i,S=(e[2]-e[0])*i):(b=Math.abs(d-e[0])*i+s,y=Math.abs(h-e[1])*i+o,_=(e[2]-e[0])*i,S=(e[3]-e[1])*i),this.transform=[f*i,p*i,m*i,x*i,b-f*i*d-m*i*h,y-p*i*d-x*i*h],this.width=_,this.height=S}get rawDims(){const e=this.viewBox;return Ve(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:i=this.offsetX,offsetY:a=this.offsetY,dontFlip:s=!1}={}){return new Yd({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:i,offsetY:a,dontFlip:s})}convertToViewportPoint(e,n){const i=[e,n];return Ce.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const n=[e[0],e[1]];Ce.applyTransform(n,this.transform);const i=[e[2],e[3]];return Ce.applyTransform(i,this.transform),[n[0],n[1],i[0],i[1]]}convertToPdfPoint(e,n){const i=[e,n];return Ce.applyInverseTransform(i,this.transform),i}}class Wg extends Ko{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function Xd(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function Yg(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function TD(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function kD(t,e="document.pdf"){if(typeof t!="string")return e;if(Xd(t))return $e('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(t);if(!i)return e;const a=c=>{try{let d=decodeURIComponent(c);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:c):d}catch{return c}},s=/\.pdf$/i,o=i.pathname.split("/").at(-1);if(s.test(o))return a(o);if(i.searchParams.size>0){const c=Array.from(i.searchParams.values()).reverse();for(const h of c)if(s.test(h))return a(h);const d=Array.from(i.searchParams.keys()).reverse();for(const h of d)if(s.test(h))return a(h)}if(i.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(d)return a(d[0])}return e}class _A{started=Object.create(null);times=[];time(e){e in this.started&&$e(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||$e(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:i}of this.times)n=Math.max(i.length,n);for(const{name:i,start:a,end:s}of this.times)e.push(`${i.padEnd(n)} ${s-a}ms
`);return e.join("")}}function td(t,e){const n=e?URL.parse(t,e):URL.parse(t);return n?.protocol==="http:"||n?.protocol==="https:"}function Hi(t){t.preventDefault()}function zt(t){t.preventDefault(),t.stopPropagation()}function t$(t){console.log("Deprecated API usage: "+t)}class Pp{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#e.exec(e);if(!n)return null;const i=parseInt(n[1],10);let a=parseInt(n[2],10);a=a>=1&&a<=12?a-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(n[4],10);o=o>=0&&o<=23?o:0;let c=parseInt(n[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(n[6],10);d=d>=0&&d<=59?d:0;const h=n[7]||"Z";let f=parseInt(n[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(n[9],10)||0;return p=p>=0&&p<=59?p:0,h==="-"?(o+=f,c+=p):h==="+"&&(o-=f,c-=p),new Date(Date.UTC(i,a,s,o,c,d))}}function DD(t,{scale:e=1,rotation:n=0}){const{width:i,height:a}=t.attributes.style,s=[0,0,parseInt(i),parseInt(a)];return new Yd({viewBox:s,userUnit:1,scale:e,rotation:n})}function Nc(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):($e(`Not a valid color format: "${t}"`),[0,0,0])}function n$(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,Nc(i))}e.remove()}function Bt(t){const{a:e,b:n,c:i,d:a,e:s,f:o}=t.getTransform();return[e,n,i,a,s,o]}function Ur(t){const{a:e,b:n,c:i,d:a,e:s,f:o}=t.getTransform().invertSelf();return[e,n,i,a,s,o]}function Fs(t,e,n=!1,i=!0){if(e instanceof Yd){const{pageWidth:a,pageHeight:s}=e.rawDims,{style:o}=t,c=wn.isCSSRoundSupported,d=`var(--total-scale-factor) * ${a}px`,h=`var(--total-scale-factor) * ${s}px`,f=c?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,p=c?`round(down, ${h}, var(--scale-round-y))`:`calc(${h})`;!n||e.rotation%180===0?(o.width=f,o.height=p):(o.width=p,o.height=f)}i&&t.setAttribute("data-main-rotation",e.rotation)}class Dr{constructor(){const{pixelRatio:e}=Dr;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,i,a,s=-1){let o=1/0,c=1/0,d=1/0;i=Dr.capPixels(i,s),i>0&&(o=Math.sqrt(i/(e*n))),a!==-1&&(c=a/e,d=a/n);const h=Math.min(o,c,d);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,i):i}return e}}const Rp=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class i${static get isDarkMode(){return Ve(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class OD{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),Ve(this,"commentForegroundColor",Nc(i))}}function MD(t,e,n,i){i=Math.min(Math.max(i??1,0),1);const a=255*(1-i);return t=Math.round(t*i+a),e=Math.round(e*i+a),n=Math.round(n*i+a),[t,e,n]}function jA(t,e){const n=t[0]/255,i=t[1]/255,a=t[2]/255,s=Math.max(n,i,a),o=Math.min(n,i,a),c=(s+o)/2;if(s===o)e[0]=e[1]=0;else{const d=s-o;switch(e[1]=c<.5?d/(s+o):d/(2-s-o),s){case n:e[0]=((i-a)/d+(i<a?6:0))*60;break;case i:e[0]=((a-n)/d+2)*60;break;case a:e[0]=((n-i)/d+4)*60;break}}e[2]=c}function Ly(t,e){const n=t[0],i=t[1],a=t[2],s=(1-Math.abs(2*a-1))*i,o=s*(1-Math.abs(n/60%2-1)),c=a-s/2;switch(Math.floor(n/60)){case 0:e[0]=s+c,e[1]=o+c,e[2]=c;break;case 1:e[0]=o+c,e[1]=s+c,e[2]=c;break;case 2:e[0]=c,e[1]=s+c,e[2]=o+c;break;case 3:e[0]=c,e[1]=o+c,e[2]=s+c;break;case 4:e[0]=o+c,e[1]=c,e[2]=s+c;break;case 5:case 6:e[0]=s+c,e[1]=c,e[2]=o+c;break}}function wA(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function SA(t,e,n){Ly(t,n),n.map(wA);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];Ly(e,n),n.map(wA);const a=.2126*n[0]+.7152*n[1]+.0722*n[2];return i>a?(i+.05)/(a+.05):(a+.05)/(i+.05)}const CA=new Map;function PD(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=CA.get(n);if(i)return i;const a=new Float32Array(9),s=a.subarray(0,3),o=a.subarray(3,6);jA(t,o);const c=a.subarray(6,9);jA(e,c);const d=c[2]<.5,h=d?12:4.5;if(o[2]=d?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),SA(o,c,s)<h){let f,p;d?(f=o[2],p=1):(f=0,p=o[2]);const m=.005;for(;p-f>m;){const x=o[2]=(f+p)/2;d===SA(o,c,s)<h?f=x:p=x}o[2]=d?p:f}return Ly(o,s),i=Ce.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),CA.set(n,i),i}function m2({html:t,dir:e,className:n},i){const a=document.createDocumentFragment();if(typeof t=="string"){const s=document.createElement("p");s.dir=e||"auto";const o=t.split(/(?:\r\n?|\n)/);for(let c=0,d=o.length;c<d;++c){const h=o[c];s.append(document.createTextNode(h)),c<d-1&&s.append(document.createElement("br"))}a.append(s)}else g2.render({xfaHtml:t,div:a,intent:"richText"});a.firstChild.classList.add("richText",n),i.append(a)}class ld{#e=null;#t=null;#i;#n=null;#s=null;#r=null;#a=null;#o=null;static#c=null;constructor(e){this.#i=e,ld.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=this.#i._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",Hi,{signal:n}),e.addEventListener("pointerdown",ld.#l,{signal:n}));const i=this.#n=document.createElement("div");i.className="buttons",e.append(i);const a=this.#i.toolbarPosition;if(a){const{style:s}=e,o=this.#i._uiManager.direction==="ltr"?1-a[0]:a[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#h(e){this.#i._focusEventsAllowed=!1,zt(e)}#d(e){this.#i._focusEventsAllowed=!0,zt(e)}#f(e){const n=this.#i._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Hi,{signal:n}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown(),this.#r?.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=this.#i,i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",ld.#c[e]),this.#f(i)&&i.addEventListener("click",a=>{n.delete()},{signal:n._signal}),this.#n.append(i)}get#m(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const n=await e.render();this.#f(n),this.#n.append(n,this.#m),this.#s=e}addComment(e,n=null){if(this.#r)return;const i=e.renderForToolbar();if(!i)return;this.#f(i);const a=this.#a=this.#m;n?(this.#n.insertBefore(i,n),this.#n.insertBefore(a,n)):this.#n.append(i,a),this.#r=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const n=e.renderButton();this.#f(n),this.#n.append(n,this.#m)}async addEditSignatureButton(e){const n=this.#o=await e.renderEditButton(this.#i);this.#f(n),this.#n.append(n,this.#m)}removeButton(e){e==="comment"&&(this.#r?.removeToolbarCommentButton(),this.#r=null,this.#a?.remove(),this.#a=null)}async addButton(e,n){switch(e){case"colorPicker":this.addColorPicker(n);break;case"altText":await this.addAltText(n);break;case"editSignature":await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(n);break}}async addButtonBefore(e,n,i){const a=this.#n.querySelector(i);a&&e==="comment"&&this.addComment(n,a)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class r${#e=null;#t=null;#i;constructor(e){this.#i=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const n=this.#i._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",Hi,{signal:n});const i=this.#e=document.createElement("div");return i.className="buttons",e.append(i),this.#i.hasCommentManager()&&this.#r("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#r("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),e}#s(e,n){let i=0,a=0;for(const s of e){const o=s.y+s.height;if(o<i)continue;const c=s.x+(n?s.width:0);if(o>i){a=c,i=o;continue}n?c>a&&(a=c):c<a&&(a=c)}return[n?1-a:a,i]}show(e,n,i){const[a,s]=this.#s(n,i),{style:o}=this.#t||=this.#n();e.append(this.#t),o.insetInlineEnd=`${100*a}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#r(e,n,i,a){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",n);const o=document.createElement("span");s.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",i);const c=this.#i._signal;c instanceof AbortSignal&&!c.aborted&&(s.addEventListener("contextmenu",Hi,{signal:c}),s.addEventListener("click",a,{signal:c})),this.#e.append(s)}}function RD(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}class a${#e=0;get id(){return`${pd}${this.#e++}`}}class v2{#e=f2();#t=0;#i=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=e;const s=a.decode().then(()=>(i.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ve(this,"_isSVGFittingCanvas",s)}async#n(e,n){this.#i||=new Map;let i=this.#i.get(e);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let a;if(typeof n=="string"?(i.url=n,a=await Ac(n,"blob")):n instanceof File?a=i.file=n:n instanceof Blob&&(a=n),a.type==="image/svg+xml"){const s=v2._isSVGFittingCanvas,o=new FileReader,c=new Image,d=new Promise((h,f)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,h()},o.onload=async()=>{const p=i.svgUrl=o.result;c.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},c.onerror=o.onerror=f});o.readAsDataURL(a),await d}else i.bitmap=await createImageBitmap(a);i.refCounter=1}catch(a){$e(a),i=null}return this.#i.set(e,i),i&&this.#i.set(i.id,i),i}async getFromFile(e){const{lastModified:n,name:i,size:a,type:s}=e;return this.#n(`${n}_${i}_${a}_${s}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,n){const i=await n;return this.#n(e,i)}async getFromId(e){this.#i||=new Map;const n=this.#i.get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:i}=n;return delete n.blobPromise,this.getFromBlob(n.id,i)}return this.getFromUrl(n.url)}getFromCanvas(e,n){this.#i||=new Map;let i=this.#i.get(e);if(i?.bitmap)return i.refCounter+=1,i;const a=new OffscreenCanvas(n.width,n.height);return a.getContext("2d").drawImage(n,0,0),i={bitmap:a.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#i.set(e,i),this.#i.set(i.id,i),i}getSvgUrl(e){const n=this.#i.get(e);return n?.isSvg?n.svgUrl:null}deleteId(e){this.#i||=new Map;const n=this.#i.get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:i}=n;if(!n.url&&!n.file){const a=new OffscreenCanvas(i.width,i.height);a.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=a.convertToBlob()}i.close?.(),n.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class s${#e=[];#t=!1;#i;#n=-1;constructor(e=128){this.#i=e}add({cmd:e,undo:n,post:i,mustExec:a,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:c=!1}){if(a&&e(),this.#t)return;const d={cmd:e,undo:n,post:i,type:s};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(d);return}if(o&&this.#e[this.#n].type===s){c&&(d.undo=this.#e[this.#n].undo),this.#e[this.#n]=d;return}const h=this.#n+1;h===this.#i?this.#e.splice(0,1):(this.#n=h,h<this.#e.length&&this.#e.splice(h)),this.#e.push(d)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let n=this.#n;n>=0;n--)if(this.#e[n].type!==e){this.#e.splice(n+1,this.#n-n),this.#n=n;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class Kd{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=wn.platform;for(const[i,a,s={}]of e)for(const o of i){const c=o.startsWith("mac+");n&&c?(this.callbacks.set(o.slice(4),{callback:a,options:s}),this.allKeys.add(o.split("+").at(-1))):!n&&!c&&(this.callbacks.set(o,{callback:a,options:s}),this.allKeys.add(o.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(e,n){if(!this.allKeys.has(n.key))return;const i=this.callbacks.get(this.#e(n));if(!i)return;const{callback:a,options:{bubbles:s=!1,args:o=[],checker:c=null}}=i;c&&!c(e,n)||(a.bind(e,...o,n)(),s||zt(n))}}class x2{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return n$(e),Ve(this,"_colors",e)}convert(e){const n=Nc(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[i,a]of this._colors)if(a.every((s,o)=>s===n[o]))return x2._colorsMapping.get(i);return n}getHexCode(e){const n=this._colors.get(e);return n?Ce.makeHexColor(...n):e}}class Fa{#e=new AbortController;#t=null;#i=null;#n=new Map;#s=new Map;#r=null;#a=null;#o=null;#c=new s$;#l=null;#h=null;#d=null;#f=0;#m=new Set;#p=null;#u=null;#g=new Set;_editorUndoBar=null;#v=!1;#y=!1;#x=!1;#C=null;#w=null;#b=null;#N=null;#j=!1;#S=null;#k=new a$;#E=!1;#T=!1;#I=!1;#O=null;#P=null;#B=null;#R=null;#V=null;#A=ze.NONE;#_=new Set;#M=null;#z=null;#F=null;#W=null;#G=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#L=null;#q=null;#Z=null;#Q=null;#$=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Fa.prototype,n=o=>o.#q.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},a=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ve(this,"_keyboardManager",new Kd([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#q.contains(c)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#q.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}constructor(e,n,i,a,s,o,c,d,h,f,p,m,x,b,y,_){const S=this._signal=this.#e.signal;this.#q=e,this.#Z=n,this.#Q=i,this.#r=a,this.#l=s,this.#z=o,this.#G=d,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:S}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),c._on("setpreference",this.onSetPreference.bind(this),{signal:S}),c._on("switchannotationeditorparams",N=>this.updateParams(N.type,N.value),{signal:S}),window.addEventListener("pointerdown",()=>{this.#T=!0},{capture:!0,signal:S}),window.addEventListener("pointerup",()=>{this.#T=!1},{capture:!0,signal:S}),this.#le(),this.#he(),this.#te(),this.#a=d.annotationStorage,this.#C=d.filterFactory,this.#F=h,this.#N=f||null,this.#v=p,this.#y=m,this.#x=x,this.#V=b||null,this.viewParameters={realScale:Io.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=_!==!1,s?.setSidebarUiManager(this)}destroy(){this.#$?.resolve(),this.#$=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#s.values())e.destroy();this.#s.clear(),this.#n.clear(),this.#g.clear(),this.#R?.clear(),this.#t=null,this.#_.clear(),this.#c.destroy(),this.#r?.destroy(),this.#l?.destroy(),this.#z?.destroy(),this.#S?.hide(),this.#S=null,this.#B?.destroy(),this.#B=null,this.#i=null,this.#w&&(clearTimeout(this.#w),this.#w=null),this.#L&&(clearTimeout(this.#L),this.#L=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#V}get useNewAltTextFlow(){return this.#y}get useNewAltTextWhenAddingImage(){return this.#x}get hcmFilter(){return Ve(this,"hcmFilter",this.#F?this.#C.addHCMFilter(this.#F.foreground,this.#F.background):"none")}get direction(){return Ve(this,"direction",getComputedStyle(this.#q).direction)}get _highlightColors(){return Ve(this,"_highlightColors",this.#N?new Map(this.#N.split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ve(this,"highlightColors",null);const n=new Map,i=!!this.#F;for(const[a,s]of e){const o=a.endsWith("_HCM");if(i&&o){n.set(a.replace("_HCM",""),s);continue}!i&&!o&&n.set(a,s)}return Ve(this,"highlightColors",n)}get highlightColorNames(){return Ve(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#B=e}editAltText(e,n=!1){this.#r?.editAltText(this,e,n)}hasCommentManager(){return!!this.#l}editComment(e,n,i,a){this.#l?.showDialog(this,e,n,i,a)}selectComment(e,n){this.#s.get(e)?.getEditorByUID(n)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,n,i=void 0){this.#l?.toggleCommentPopup(e,n,i)}makeCommentColor(e,n){return e&&this.#l?.makeCommentColor(e,n)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#s.has(e-1))return;const{resolve:n,promise:i}=Promise.withResolvers(),a=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",a),n())};this._eventBus.on("editorsrendered",a),await i}getSignature(e){this.#z?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#z}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){e==="enableNewAltTextWhenAddingImage"&&(this.#x=n)}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#q.focus()}findParent(e,n){for(const i of this.#s.values()){const{x:a,y:s,width:o,height:c}=i.div.getBoundingClientRect();if(e>=a&&e<=a+o&&n>=s&&n<=s+c)return i}return null}disableUserSelect(e=!1){this.#Z.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#g.add(e)}removeShouldRescale(e){this.#g.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Io.PDF_TO_CSS_UNITS;for(const n of this.#g)n.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#J({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const i of this.#s.values())if(i.hasTextLayer(e))return i;return null}highlightSelection(e="",n=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:a,anchorOffset:s,focusNode:o,focusOffset:c}=i,d=i.toString(),f=this.#J(i).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;i.empty();const m=this.#ee(f),x=this.#A===ze.NONE,b=()=>{const y=m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:a,anchorOffset:s,focusNode:o,focusOffset:c,text:d});x&&this.showAllEditors("highlight",!0,!0),n&&y?.editComment()};if(x){this.switchToMode(ze.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}#se(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=this.#J(e).closest(".textLayer"),a=this.getSelectionBoxes(i);a&&(this.#S||=new r$(this),this.#S.show(i,a,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#a)return null;const n=`${pd}${e}`,i=this.#a.getRawValue(n);return i&&this.#a.remove(n),i}addToAnnotationStorage(e){!e.isEmpty()&&this.#a&&!this.#a.has(e.id)&&this.#a.setValue(e.id,e)}a11yAlert(e,n=null){const i=this.#Q;i&&(i.setAttribute("data-l10n-id",e),n?i.setAttribute("data-l10n-args",JSON.stringify(n)):i.removeAttribute("data-l10n-args"))}#oe(){const e=document.getSelection();if(!e||e.isCollapsed){this.#M&&(this.#S?.hide(),this.#M=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===this.#M)return;const a=this.#J(e).closest(".textLayer");if(!a){this.#M&&(this.#S?.hide(),this.#M=null,this.#D({hasSelectedText:!1}));return}if(this.#S?.hide(),this.#M=n,this.#D({hasSelectedText:!0}),!(this.#A!==ze.HIGHLIGHT&&this.#A!==ze.NONE)&&(this.#A===ze.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#j=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#A===ze.HIGHLIGHT?this.#ee(a):null;if(s?.toggleDrawing(),this.#T){const o=new AbortController,c=this.combinedSignal(o),d=h=>{h.type==="pointerup"&&h.button!==0||(o.abort(),s?.toggleDrawing(!0),h.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}else s?.toggleDrawing(!0),this.#X("main_toolbar")}}#X(e=""){this.#A===ze.HIGHLIGHT?this.highlightSelection(e):this.#v&&this.#se()}#le(){document.addEventListener("selectionchange",this.#oe.bind(this),{signal:this._signal})}#ce(){if(this.#b)return;this.#b=new AbortController;const e=this.combinedSignal(this.#b);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ue(){this.#b?.abort(),this.#b=null}blur(){if(this.isShiftKeyDown=!1,this.#j&&(this.#j=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of this.#_)if(n.div.contains(e)){this.#P=[n,e],n._focusEventsAllowed=!1;break}}focus(){if(!this.#P)return;const[e,n]=this.#P;this.#P=null,n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#te(){if(this.#O)return;this.#O=new AbortController;const e=this.combinedSignal(this.#O);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#de(){this.#O?.abort(),this.#O=null}#ne(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#ie(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.#ne()}removeEditListeners(){this.#de(),this.#ie()}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(n.type)){i.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of this.#_){const a=i.serialize(!0);a&&n.push(a)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const o of this.#u)if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=n.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){$e(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const a=this.currentLayer;try{const s=[];for(const d of i){const h=await a.deserialize(d);if(!h)return;s.push(h)}const o=()=>{for(const d of s)this.#re(d);this.#ae(s)},c=()=>{for(const d of s)d.remove()};this.addCommands({cmd:o,undo:c,mustExec:!0})}catch(s){$e(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#A!==ze.NONE&&!this.isEditorHandlingKeyboard&&Fa._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#j&&(this.#j=!1,this.#X("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#D(e){Object.entries(e).some(([i,a])=>this.#Y[i]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,e)}),this.#A===ze.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#U([[Qe.HIGHLIGHT_FREE,!0]]))}#U(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ce(),this.#ne(),this.#D({isEditing:this.#A!==ze.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ue(),this.#ie(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const n of this.#u)this.#U(n.defaultPropertiesToUpdate)}}getId(){return this.#k.id}get currentLayer(){return this.#s.get(this.#f)}getLayer(e){return this.#s.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#s.set(e.pageIndex,e),this.#E?e.enable():e.disable()}removeLayer(e){this.#s.delete(e.pageIndex)}async updateMode(e,n=null,i=!1,a=!1,s=!1){if(this.#A!==e&&!(this.#$&&(await this.#$.promise,!this.#$))){if(this.#$=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#A===ze.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#A=e,e===ze.NONE){this.setEditingState(!1),this.#pe();for(const o of this.#n.values())o.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#$.resolve();return}for(const o of this.#n.values())o.addStandaloneCommentButton();e===ze.SIGNATURE&&await this.#z?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const o of this.#s.values())o.updateMode(e);if(e===ze.POPUP){this.#i||=await this.#G.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const o=new Set,c=[];for(const d of this.#n.values()){const{annotationElementId:h,hasComment:f,deleted:p}=d;h&&o.add(h),f&&!p&&c.push(d.getData())}for(const d of this.#i){const{id:h,popupRef:f,contentsObj:p}=d;f&&p?.str&&!o.has(h)&&!this.#m.has(h)&&c.push(d)}this.#l?.showSidebar(c)}if(!n){i&&this.addNewEditorFromKeyboard(),this.#$.resolve();return}for(const o of this.#n.values())o.uid===n?(this.setSelected(o),s?o.editComment():a?o.enterInEditMode():o.focus()):o.unselect();this.#$.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#A&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(this.#u){switch(e){case Qe.CREATE:this.currentLayer.addNewEditor(n);return;case Qe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#W||=new Map).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const i of this.#_)i.updateParams(e,n);else for(const i of this.#u)i.updateDefaultParams(e,n)}}showAllEditors(e,n,i=!1){for(const s of this.#n.values())s.editorType===e&&s.show(n);(this.#W?.get(Qe.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#U([[Qe.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(this.#I!==e){this.#I=e;for(const n of this.#s.values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#E){this.#E=!0;const e=[];for(const n of this.#s.values())e.push(n.enable());await Promise.all(e);for(const n of this.#n.values())n.enable()}}#pe(){if(this.unselectAll(),this.#E){this.#E=!1;for(const e of this.#s.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const n of this.#n.values())n.pageIndex===e&&(yield n)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.focusMainContainer(),this.#w=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#R?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#m.has(e.annotationElementId))&&this.#a?.remove(e.id)}addDeletedAnnotationElement(e){this.#m.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#m.has(e)}removeDeletedAnnotationElement(e){this.#m.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#re(e){const n=this.#s.get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#U(e.propertiesToUpdate))}get#ge(){let e=null;for(e of this.#_);return e}updateUI(e){this.#ge===e&&this.#U(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#U(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#_.has(e)){this.#_.delete(e),e.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#_.add(e),e.select(),this.#U(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#d?.commitOrRemove();for(const n of this.#_)n!==e&&n.unselect();this.#_.clear(),this.#_.add(e),e.select(),this.#U(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(e){return this.#_.has(e)}get firstSelectedEditor(){return this.#_.values().next().value}unselect(e){e.unselect(),this.#_.delete(e),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#_.size!==0}get isEnterHandled(){return this.#_.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#D({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(e){this.#c.add(e),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(e){this.#c.cleanType(e)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...this.#_],i=()=>{this._editorUndoBar?.show(a,n.length===1?n[0].editorType:n.length);for(const s of n)s.remove()},a=()=>{for(const s of n)this.#re(s)};this.addCommands({cmd:i,undo:a,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ae(e){for(const n of this.#_)n.unselect();this.#_.clear();for(const n of e)n.isEmpty()||(this.#_.add(n),n.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#_)e.commit();this.#ae(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#A!==ze.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#_)e.unselect();this.#_.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(e,n,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=e,this.#H[1]+=n;const[a,s]=this.#H,o=[...this.#_],c=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of o)this.#n.has(d.id)&&(d.translateInPage(a,s),d.translationDone())},undo:()=>{for(const d of o)this.#n.has(d.id)&&(d.translateInPage(-a,-s),d.translationDone())},mustExec:!1})},c);for(const d of o)d.translateInPage(e,n),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const e of this.#_)this.#p.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const e=this.#p;this.#p=null;let n=!1;for(const[{x:a,y:s,pageIndex:o},c]of e)c.newX=a,c.newY=s,c.newPageIndex=o,n||=a!==c.savedX||s!==c.savedY||o!==c.savedPageIndex;if(!n)return!1;const i=(a,s,o,c)=>{if(this.#n.has(a.id)){const d=this.#s.get(c);d?a._setParentAndPosition(d,s,o):(a.pageIndex=c,a.x=s,a.y=o)}};return this.addCommands({cmd:()=>{for(const[a,{newX:s,newY:o,newPageIndex:c}]of e)i(a,s,o,c)},undo:()=>{for(const[a,{savedX:s,savedY:o,savedPageIndex:c}]of e)i(a,s,o,c)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(this.#p)for(const i of this.#p.keys())i.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#_.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#A}isEditingMode(){return this.#A!==ze.NONE}get imageManager(){return Ve(this,"imageManager",new v2)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let h=0,f=n.rangeCount;h<f;h++)if(!e.contains(n.getRangeAt(h).commonAncestorContainer))return null;const{x:i,y:a,width:s,height:o}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(h,f,p,m)=>({x:(f-a)/o,y:1-(h+p-i)/s,width:m/o,height:p/s});break;case"180":c=(h,f,p,m)=>({x:1-(h+p-i)/s,y:1-(f+m-a)/o,width:p/s,height:m/o});break;case"270":c=(h,f,p,m)=>({x:1-(f+m-a)/o,y:(h-i)/s,width:m/o,height:p/s});break;default:c=(h,f,p,m)=>({x:(h-i)/s,y:(f-a)/o,width:p/s,height:m/o});break}const d=[];for(let h=0,f=n.rangeCount;h<f;h++){const p=n.getRangeAt(h);if(!p.collapsed)for(const{x:m,y:x,width:b,height:y}of p.getClientRects())b===0||y===0||d.push(c(m,x,b,y))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:n}){(this.#o||=new Map).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const n=this.#o?.get(e.data.id);if(!n)return;const i=this.#a.getRawValue(n);i&&(this.#A===ze.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,n,i){const a=this.#R?.get(e);a&&(a.setCanvas(n,i),this.#R.delete(e))}addMissingCanvas(e,n){(this.#R||=new Map).set(e,n)}}class Kr{#e=null;#t=!1;#i=null;#n=null;#s=null;#r=null;#a=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,Kr.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){Kr._l10n??=e}async render(){const e=this.#i=document.createElement("button");e.className="altText",e.tabIndex="0";const n=this.#n=document.createElement("span");e.append(n),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",Kr.#f.missing),n.setAttribute("data-l10n-id",Kr.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#c._uiManager._signal;e.addEventListener("contextmenu",Hi,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const a=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return e.addEventListener("click",a,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#a=!0,a(s))},{signal:i}),await this.#p(),e}get#m(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await Kr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const n=this.#o=document.createElement("div");n.className="noAltTextBadge",this.#c.div.append(n)}this.#o.classList.toggle("hidden",!e)}serialize(e){let n=this.#e;return!e&&this.#l===n&&(n=this.#h),{altText:n,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:n,guessedText:i,textWithDisclaimer:a,cancel:s=!1}){i&&(this.#l=i,this.#h=a),!(this.#e===e&&this.#t===n)&&(s||(this.#e=e,this.#t=n),this.#p())}toggle(e=!1){this.#i&&(!e&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#i.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#s=null,this.#o?.remove(),this.#o=null}async#p(){const e=this.#i;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",Kr.#f[this.#m]),this.#n?.setAttribute("data-l10n-id",Kr.#f[`${this.#m}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#s?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#s;if(!n){this.#s=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#c.id}`;const a=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#s.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#s?.classList.remove("show")},{signal:s})}this.#t?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#e),n.parentNode||e.append(n),this.#c.getElementForAltText()?.setAttribute("aria-describedby",n.id)}}class Ff{#e=null;#t=null;#i=!1;#n=null;#s=null;#r=null;#a=null;#o=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const n=this.#n.commentButtonPosition;if(n){const{style:i}=e;i.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const a=this.#n.commentButtonColor;a&&(i.backgroundColor=a)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:n,height:i}=this.#e.getBoundingClientRect(),{x:a,y:s,width:o,height:c}=this.#n.parent.boundingClientRect;return[(e-a)/o,(n+i-s)/c]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:n}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=n)}#h(e,n){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const i=this.#n._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",Hi,{signal:i}),n&&(e.addEventListener("focusin",s=>{this.#n._focusEventsAllowed=!1,zt(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{this.#n._focusEventsAllowed=!0,zt(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const a=s=>{s.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",a,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#i=!0,a(s))},{signal:i}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:i}),e}edit(e){const n=this.commentPopupPositionInLayer;let i,a;if(n)[i,a]=n;else{[i,a]=this.#n.commentButtonPosition;const{width:f,height:p,x:m,y:x}=this.#n;i=m+i*f,a=x+a*p}const s=this.#n.parent.boundingClientRect,{x:o,y:c,width:d,height:h}=s;this.#n._uiManager.editComment(this.#n,o+i*d,c+a*h,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#a===""}isEmpty(){return this.#a===null}hasBeenEdited(){return this.isDeleted()||this.#a!==this.#s}serialize(){return this.data}get data(){return{text:this.#a,richText:this.#r,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#a&&(this.#r=null),e===null){this.#a="",this.#c=!0;return}this.#a=e,this.#o=new Date,this.#c=!1}setInitialText(e,n=null){this.#s=e,this.data=e,this.#o=null,this.#r=n}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#a="",this.#r=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class Jd{#e;#t=!1;#i=null;#n;#s;#r;#a;#o=null;#c;#l=null;#h;#d=null;constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:a=null,onPinching:s=null,onPinchEnd:o=null,signal:c}){this.#e=e,this.#i=i,this.#n=n,this.#s=a,this.#r=s,this.#a=o,this.#h=new AbortController,this.#c=AbortSignal.any([c,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Dr.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,s=AbortSignal.any([this.#c,a.signal]),o=this.#e,c={capture:!0,signal:s,passive:!1},d=h=>{h.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};o.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(zt(h),d(h))},c),o.addEventListener("pointerup",d,c),o.addEventListener("pointercancel",d,c);return}if(!this.#d){this.#d=new AbortController;const a=AbortSignal.any([this.#c,this.#d.signal]),s=this.#e,o={signal:a,capture:!1,passive:!1};s.addEventListener("touchmove",this.#m.bind(this),o);const c=this.#p.bind(this);s.addEventListener("touchend",c,o),s.addEventListener("touchcancel",c,o),o.capture=!0,s.addEventListener("pointerdown",zt,o),s.addEventListener("pointermove",zt,o),s.addEventListener("pointercancel",zt,o),s.addEventListener("pointerup",zt,o),this.#s?.()}if(zt(e),e.touches.length!==2||this.#i?.()){this.#l=null;return}let[n,i]=e.touches;n.identifier>i.identifier&&([n,i]=[i,n]),this.#l={touch0X:n.screenX,touch0Y:n.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#m(e){if(!this.#l||e.touches.length!==2)return;zt(e);let[n,i]=e.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:a,screenY:s}=n,{screenX:o,screenY:c}=i,d=this.#l,{touch0X:h,touch0Y:f,touch1X:p,touch1Y:m}=d,x=p-h,b=m-f,y=o-a,_=c-s,S=Math.hypot(y,_)||1,N=Math.hypot(x,b)||1;if(!this.#t&&Math.abs(N-S)<=Jd.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=a,d.touch0Y=s,d.touch1X=o,d.touch1Y=c,!this.#t){this.#t=!0;return}const E=[(a+o)/2,(s+c)/2];this.#r?.(E,N,S)}#p(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#a?.()),this.#l&&(zt(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class Pe{#e=null;#t=null;#i=null;#n=null;#s=null;#r=!1;#a=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#m="";#p=!1;#u=null;#g=!1;#v=!1;#y=!1;#x=null;#C=0;#w=0;#b=null;#N=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#j=!1;#S=Pe._zIndex++;static _borderLineWidth=-1;static _colorManager=new x2;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Pe.prototype._resizeWithKeyboard,n=Fa.TRANSLATE_SMALL,i=Fa.TRANSLATE_BIG;return Ve(this,"_resizerKeyboardManager",new Kd([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Pe.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:n,rawDims:{pageWidth:i,pageHeight:a,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,a],this.pageTranslation=[s,o];const[c,d]=this.parentDimensions;this.x=e.x/c,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ve(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new o$({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(Pe._l10n??=e,Pe._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Pe._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Pe._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){wt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#j}set _isDraggable(e){this.#j=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#S}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#L(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,i,a){const[s,o]=this.parentDimensions;[i,a]=this.screenToPageTranslation(i,a),this.x=(e+i)/s,this.y=(n+a)/o,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[i,a]=this.parentDimensions;this.setAt(e*i,n*a,this.width*i,this.height*a),this._onTranslated()}#k([e,n],i,a){[i,a]=this.screenToPageTranslation(i,a),this.x+=i/e,this.y+=a/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,n){this.#k(this.parentDimensions,e,n)}translateInPage(e,n){this.#u||=[this.x,this.y,this.width,this.height],this.#k(this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){this.#u||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[a,s]}=this;if(this.x+=e/a,this.y+=n/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[d,h]=this.getBaseTranslation();o+=d,c+=h;const{style:f}=i;f.left=`${(100*o).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(o,c),i.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:i}=Pe,a=i/e,s=i/n;switch(this.rotation){case 90:return[-a,s];case 180:return[a,s];case 270:return[a,-s];default:return[-a,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[i,a]}=this;let{x:s,y:o,width:c,height:d}=this;if(c*=i,d*=a,s*=i,o*=a,this._mustFixPosition)switch(e){case 0:s=Un(s,0,i-c),o=Un(o,0,a-d);break;case 90:s=Un(s,0,i-d),o=Un(o,c,a);break;case 180:s=Un(s,c,i),o=Un(o,d,a);break;case 270:s=Un(s,d,i),o=Un(o,0,a-c);break}this.x=s/=i,this.y=o/=a;const[h,f]=this.getBaseTranslation();s+=h,o+=f,n.left=`${(100*s).toFixed(2)}%`,n.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#E(e,n,i){switch(i){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}}screenToPageTranslation(e,n){return Pe.#E(e,n,this.parentRotation)}pageTranslationToScreen(e,n){return Pe.#E(e,n,360-this.parentRotation)}#T(e){switch(e){case 90:{const[n,i]=this.pageDimensions;return[0,-n/i,i/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,i]=this.pageDimensions;return[0,n/i,-i/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,i]}=this;return[n*e,i*e]}setDims(){const{div:{style:e},width:n,height:i}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#I(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const i of e){const a=document.createElement("div");this.#c.append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",this.#O.bind(this,i),{signal:n}),a.addEventListener("contextmenu",Hi,{signal:n}),a.tabIndex=-1}this.div.prepend(this.#c)}#O(e,n){n.preventDefault();const{isMac:i}=wn.platform;if(n.button!==0||n.ctrlKey&&i)return;this.#i?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#l=[n.screenX,n.screenY];const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#R.bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",zt,{passive:!1,signal:o}),window.addEventListener("contextmenu",Hi,{signal:o}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const h=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=c,this.div.style.cursor=d,this.#B()};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})}#P(e,n,i,a){this.width=i,this.height=a,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#B(){if(!this.#h)return;const{savedX:e,savedY:n,savedWidth:i,savedHeight:a}=this.#h;this.#h=null;const s=this.x,o=this.y,c=this.width,d=this.height;s===e&&o===n&&c===i&&d===a||this.addCommands({cmd:this.#P.bind(this,s,o,c,d),undo:this.#P.bind(this,e,n,i,a),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#R(e,n){const[i,a]=this.parentDimensions,s=this.x,o=this.y,c=this.width,d=this.height,h=Pe.MIN_SIZE/i,f=Pe.MIN_SIZE/a,p=this.#T(this.rotation),m=(M,I)=>[p[0]*M+p[2]*I,p[1]*M+p[3]*I],x=this.#T(360-this.rotation),b=(M,I)=>[x[0]*M+x[2]*I,x[1]*M+x[3]*I];let y,_,S=!1,N=!1;switch(e){case"topLeft":S=!0,y=(M,I)=>[0,0],_=(M,I)=>[M,I];break;case"topMiddle":y=(M,I)=>[M/2,0],_=(M,I)=>[M/2,I];break;case"topRight":S=!0,y=(M,I)=>[M,0],_=(M,I)=>[0,I];break;case"middleRight":N=!0,y=(M,I)=>[M,I/2],_=(M,I)=>[0,I/2];break;case"bottomRight":S=!0,y=(M,I)=>[M,I],_=(M,I)=>[0,0];break;case"bottomMiddle":y=(M,I)=>[M/2,I],_=(M,I)=>[M/2,0];break;case"bottomLeft":S=!0,y=(M,I)=>[0,I],_=(M,I)=>[M,0];break;case"middleLeft":N=!0,y=(M,I)=>[0,I/2],_=(M,I)=>[M,I/2];break}const E=y(c,d),A=_(c,d);let T=m(...A);const k=Pe._round(s+T[0]),R=Pe._round(o+T[1]);let H=1,V=1,Y,W;if(n.fromKeyboard)({deltaX:Y,deltaY:W}=n);else{const{screenX:M,screenY:I}=n,[G,U]=this.#l;[Y,W]=this.screenToPageTranslation(M-G,I-U),this.#l[0]=M,this.#l[1]=I}if([Y,W]=b(Y/i,W/a),S){const M=Math.hypot(c,d);H=V=Math.max(Math.min(Math.hypot(A[0]-E[0]-Y,A[1]-E[1]-W)/M,1/c,1/d),h/c,f/d)}else N?H=Un(Math.abs(A[0]-E[0]-Y),h,1)/c:V=Un(Math.abs(A[1]-E[1]-W),f,1)/d;const X=Pe._round(c*H),ee=Pe._round(d*V);T=m(..._(X,ee));const L=k-T[0],P=R-T[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=X,this.height=ee,this.x=L,this.y=P,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new ld(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,i]of e)await this._editToolbar.addButton(n,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(e){const n=this._editToolbar?.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Kr.initialize(Pe._l10n),this.#i=new Kr(this),this.#e&&(this.#i.data=this.#e,this.#e=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(e){this.#i&&(this.#i.data=e)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(e){await this.#i?.setGuessedText(e)}serializeAltText(e){return this.#i?.serialize(e)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new Ff(this)}addStandaloneCommentButton(){if(this.#s){this._uiManager.isEditingMode()&&this.#s.classList.remove("hidden");return}this.hasComment&&(this.#s=this.#n.renderForStandalone(),this.div.append(this.#s))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#s=null}hideStandaloneCommentButton(){this.#s?.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:i,deleted:a}}=this.#n;return{text:n,richText:e,date:i,deleted:a,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new Ff(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:i}){if(!n||(this.#n||=new Ff(this),this.#n.setInitialText(e,i),!this.annotationElementId))return;const a=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);a&&this.updateFromAnnotationLayer(a)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new Ff(this),this.#n.edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,a]=e.rect,[s]=this.pageDimensions,[o]=this.pageTranslation,c=o+s+1,d=a-100,h=c+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,d,h,a]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){this.#n.data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#r?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#F();const[n,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/i).toFixed(2)}%`);const[a,s]=this.getInitialTranslation();return this.translate(a,s),RD(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#N||=new Jd({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#V.bind(this),onPinching:this.#A.bind(this),onPinchEnd:this.#_.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#V(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#A(e,n,i){let s=.7*(i/n)+1-.7;if(s===1)return;const o=this.#T(this.rotation),c=(k,R)=>[o[0]*k+o[2]*R,o[1]*k+o[3]*R],[d,h]=this.parentDimensions,f=this.x,p=this.y,m=this.width,x=this.height,b=Pe.MIN_SIZE/d,y=Pe.MIN_SIZE/h;s=Math.max(Math.min(s,1/m,1/x),b/m,y/x);const _=Pe._round(m*s),S=Pe._round(x*s);if(_===m&&S===x)return;this.#u||=[f,p,m,x];const N=c(m/2,x/2),E=Pe._round(f+N[0]),A=Pe._round(p+N[1]),T=c(_/2,S/2);this.x=E-T[0],this.y=A-T[1],this.width=_,this.height=S,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#_(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#B()}pointerdown(e){const{isMac:n}=wn.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#z(e);return}this.#M(e)}#M(e){const{isMac:n}=wn.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#z(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let i=!1;const a=new AbortController,s=this._uiManager.combinedSignal(a),o={capture:!0,passive:!1,signal:s},c=h=>{a.abort(),this.#a=null,this.#p=!1,this._uiManager.endDragSession()||this.#M(h),i&&this._onStopDragging()};n&&(this.#C=e.clientX,this.#w=e.clientY,this.#a=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",h=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:p,pointerId:m}=h;if(m!==this.#a){zt(h);return}const[x,b]=this.screenToPageTranslation(f-this.#C,p-this.#w);this.#C=f,this.#w=p,this._uiManager.dragSelectedEditors(x,b)},o),window.addEventListener("touchmove",zt,o),window.addEventListener("pointerdown",h=>{h.pointerType===this.#o&&(this.#N||h.isPrimary)&&c(h),zt(h)},o));const d=h=>{if(!this.#a||this.#a===h.pointerId){c(h);return}zt(h)};window.addEventListener("pointerup",d,{signal:s}),window.addEventListener("blur",d,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.#x=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,n,i){e.changeParent(this),this.x=n,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,i=this.rotation){const a=this.parentScale,[s,o]=this.pageDimensions,[c,d]=this.pageTranslation,h=e/a,f=n/a,p=this.x*s,m=this.y*o,x=this.width*s,b=this.height*o;switch(i){case 0:return[p+h+c,o-m-f-b+d,p+h+x+c,o-m-f+d];case 90:return[p+f+c,o-m+h+d,p+f+b+c,o-m+h+x+d];case 180:return[p-h-x+c,o-m+f+d,p-h+c,o-m+f+b+d];case 270:return[p-f-b+c,o-m-h-x+d,p-f+c,o-m-h+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[i,a,s,o]=e,c=s-i,d=o-a;switch(this.rotation){case 0:return[i,n-o,c,d];case 90:return[i,n-a,d,c];case 180:return[s,n-a,c,d];case 270:return[s,n-o,d,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Pe._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:i,opacity:a,deleted:s,richText:o},uid:c,pageIndex:d,creationDate:h,modificationDate:f}=this;return{id:c,pageIndex:d,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:h,modificationDate:i||f,popupRef:!s,color:n,opacity:a}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#y}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:i,right:a}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return n<o&&a>0&&e<s&&i>0}#F(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#F()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,n=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,n,i){const a=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});a.rotation=e.rotation,a.#e=e.accessibilityData,a._isCopy=e.isCopy||!1;const[s,o]=a.pageDimensions,[c,d,h,f]=a.getRectInCurrentCoords(e.rect,o);return a.x=c/s,a.y=d/o,a.width=h/s,a.height=f/o,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#x&&(clearTimeout(this.#x),this.#x=null),this.#L(),this.removeEditToolbar(),this.#b){for(const e of this.#b.values())clearTimeout(e);this.#b=null}this.parent=null,this.#N?.destroy(),this.#N=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#I(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[i,a,s,o]=this.getPDFRect();return[Pe._round(i+(s-i)*e),Pe._round(a+(o-a)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#c.children;if(!this.#t){this.#t=Array.from(n);const o=this.#W.bind(this),c=this.#G.bind(this),d=this._uiManager._signal;for(const h of this.#t){const f=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",o,{signal:d}),h.addEventListener("blur",c,{signal:d}),h.addEventListener("focus",this.#Y.bind(this,f),{signal:d}),h.setAttribute("data-l10n-id",Pe._l10nResizer[f])}}const i=this.#t[0];let a=0;for(const o of n){if(o===i)break;a++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==a){if(s<a)for(let c=0;c<a-s;c++)this.#c.append(this.#c.firstChild);else if(s>a)for(let c=0;c<s-a;c++)this.#c.firstChild.before(this.#c.lastChild);let o=0;for(const c of n){const h=this.#t[o++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Pe._l10nResizer[h])}}this.#H(0),this.#y=!0,this.#c.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#W(e){Pe._resizerKeyboardManager.exec(this,e)}#G(e){this.#y&&e.relatedTarget?.parentNode!==this.#c&&this.#L()}#Y(e){this.#m=this.#y?e:""}#H(e){if(this.#t)for(const n of this.#t)n.tabIndex=e}_resizeWithKeyboard(e,n){this.#y&&this.#R(this.#m,{deltaX:e,deltaY:n,fromKeyboard:!0})}#L(){this.#y=!1,this.#H(-1),this.#B()}_stopResizingWithKeyboard(){this.#L(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(e){this.#g=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){this.#b||=new Map;const{action:i}=e;let a=this.#b.get(i);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(e),this.#b.delete(i),this.#b.size===0&&(this.#b=null)},Pe._telemetryTimeout),this.#b.set(i,a);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#r=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#r=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const i=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),i.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class o$ extends Pe{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const AA=3285377520,nr=4294901760,Vr=65535;class LD{constructor(e){this.h1=e?e&4294967295:AA,this.h2=e?e&4294967295:AA}update(e){let n,i;if(typeof e=="string"){n=new Uint8Array(e.length*2),i=0;for(let y=0,_=e.length;y<_;y++){const S=e.charCodeAt(y);S<=255?n[i++]=S:(n[i++]=S>>>8,n[i++]=S&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),i=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=i>>2,s=i-a*4,o=new Uint32Array(n.buffer,0,a);let c=0,d=0,h=this.h1,f=this.h2;const p=3432918353,m=461845907,x=p&Vr,b=m&Vr;for(let y=0;y<a;y++)y&1?(c=o[y],c=c*p&nr|c*x&Vr,c=c<<15|c>>>17,c=c*m&nr|c*b&Vr,h^=c,h=h<<13|h>>>19,h=h*5+3864292196):(d=o[y],d=d*p&nr|d*x&Vr,d=d<<15|d>>>17,d=d*m&nr|d*b&Vr,f^=d,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,s){case 3:c^=n[a*4+2]<<16;case 2:c^=n[a*4+1]<<8;case 1:c^=n[a*4],c=c*p&nr|c*x&Vr,c=c<<15|c>>>17,c=c*m&nr|c*b&Vr,a&1?h^=c:f^=c}this.h1=h,this.h2=f}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&nr|e*36045&Vr,n=n*4283543511&nr|((n<<16|e>>>16)*2950163797&nr)>>>16,e^=n>>>1,e=e*444984403&nr|e*60499&Vr,n=n*3301882366&nr|((n<<16|e>>>16)*3120437893&nr)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const Iy=Object.freeze({map:null,hash:"",transfer:void 0});class y2{#e=!1;#t=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const i=this.#n.get(e);return i===void 0?n:Object.assign(n,i)}getRawValue(e){return this.#n.get(e)}remove(e){const n=this.#n.get(e);if(n!==void 0&&(n instanceof Pe&&this.#i.delete(n.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of this.#n.values())if(i instanceof Pe)return;this.onAnnotationEditor(null)}}setValue(e,n){const i=this.#n.get(e);let a=!1;if(i!==void 0)for(const[s,o]of Object.entries(n))i[s]!==o&&(a=!0,i[s]=o);else a=!0,this.#n.set(e,n);a&&this.#s(),n instanceof Pe&&((this.#i||=new Map).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#s(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ID(this)}get serializable(){if(this.#n.size===0)return Iy;const e=new Map,n=new LD,i=[],a=Object.create(null);let s=!1;for(const[o,c]of this.#n){const d=c instanceof Pe?c.serialize(!1,a):c;d&&(e.set(o,d),n.update(`${o}:${JSON.stringify(d)}`),s||=!!d.bitmap)}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:i}:Iy}get editorStats(){let e=null;const n=new Map;let i=0,a=0;for(const s of this.#n.values()){if(!(s instanceof Pe)){s.popup&&(s.popup.deleted?a+=1:i+=1);continue}s.isCommentDeleted?a+=1:s.hasEditedComment&&(i+=1);const o=s.telemetryFinalData;if(!o)continue;const{type:c}=o;n.has(c)||n.set(c,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const d=e[c]||=new Map;for(const[h,f]of Object.entries(o)){if(h==="type")continue;let p=d.get(h);p||(p=new Map,d.set(h,p));const m=p.get(f)??0;p.set(f,m+1)}}if((a>0||i>0)&&(e||=Object.create(null),e.comments={deleted:a,edited:i}),!e)return null;for(const[s,o]of n)e[s]=o.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,n){const i=this.#i?.get(e);return i?(i.updateFromAnnotationLayer(n),!0):!1}getEditor(e){return this.#i?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#i)for(const n of this.#i.values())n.serialize()&&e.push(n.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class ID extends y2{#e;constructor(e){super();const{map:n,hash:i,transfer:a}=e.serializable,s=structuredClone(n,a?{transfer:a}:null);this.#e={map:s,hash:i,transfer:a}}get print(){wt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Ve(this,"modifiedIds",{ids:new Set,hash:""})}}class l${#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:i}){if(!(!e||this.#e.has(e.loadedName))){if(tt(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:s,style:o}=e,c=new FontFace(a,s,o);this.addNativeFontFace(c);try{await c.load(),this.#e.add(a),i?.(e)}catch{$e(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}wt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(a){throw $e(`Failed to load font '${i.family}': '${a}'.`),e.disableFontFace=!0,a}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const a=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,a)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Ve(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ve(this,"isSyncFontLoadingSupported",Zn||wn.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(tt(!a.done,"completeRequest() cannot be called twice."),a.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,a={done:!1,complete:n,callback:e};return i.push(a),a}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ve(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function i(A,T){return A.charCodeAt(T)<<24|A.charCodeAt(T+1)<<16|A.charCodeAt(T+2)<<8|A.charCodeAt(T+3)&255}function a(A,T,k,R){const H=A.substring(0,T),V=A.substring(T+k);return H+R+V}let s,o;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let h=0;function f(A,T){if(++h>30){$e("Load test font never loaded."),T();return}if(d.font="30px "+A,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(f.bind(null,A,T))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=a(m,976,p.length,p);const b=16,y=1482184792;let _=i(m,b);for(s=0,o=p.length-3;s<o;s+=4)_=_-y+i(p,s)|0;s<p.length&&(_=_-y+i(p+"XXX",s)|0),m=a(m,b,4,Xz(_));const S=`url(data:font/opentype;base64,${btoa(m)});`,N=`@font-face {font-family:"${p}";src:${S}}`;this.insertRule(N);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const A of[e.loadedName,p]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=A,E.append(T)}this._document.body.append(E),f(p,()=>{E.remove(),n.complete()})}}class c${#e;constructor(e,n=null,i,a){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=n,i&&Object.assign(this,i),a&&(this.charProcOperatorList=a)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${ED(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return this._inspectFont?.(this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const i=this.loadedName+"_path_"+n;let a;try{a=e.get(i)}catch(o){$e(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(a||"");return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[n]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}function u$(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(Zn)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function d$(t){if(Zn&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return Wd(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Hf(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const By=t=>typeof t=="object"&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0,h$=t=>typeof t=="object"&&typeof t?.name=="string",BD=Qz.bind(null,By,h$);class f${#e=new Map;#t=Promise.resolve();postMessage(e,n){const i={data:structuredClone(e,n?{transfer:n}:null)};this.#t.then(()=>{for(const[a]of this.#e)a.call(this,i)})}addEventListener(e,n,i=null){let a=null;if(i?.signal instanceof AbortSignal){const{signal:s}=i;if(s.aborted){$e("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,n);a=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}this.#e.set(n,a)}removeEventListener(e,n){this.#e.get(n)?.(),this.#e.delete(n)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Uf={DATA:1,ERROR:2},sn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function NA(){}function gi(t){if(t instanceof $a||t instanceof Mp||t instanceof yA||t instanceof gd||t instanceof w0)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||wt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new $a(t.message);case"InvalidPDFException":return new Mp(t.message);case"PasswordException":return new yA(t.message,t.code);case"ResponseException":return new gd(t.message,t.status,t.missing);case"UnknownErrorException":return new w0(t.message,t.details)}return new w0(t.message,t.toString())}class nd{#e=new AbortController;constructor(e,n,i){this.sourceName=e,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const i=e.callbackId,a=this.callbackCapabilities[i];if(!a)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===Uf.DATA)a.resolve(e.data);else if(e.callback===Uf.ERROR)a.reject(gi(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,a=e.sourceName,s=this.comObj;Promise.try(n,e.data).then(function(o){s.postMessage({sourceName:i,targetName:a,callback:Uf.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:i,targetName:a,callback:Uf.ERROR,callbackId:e.callbackId,reason:gi(o)})});return}if(e.streamId){this.#i(e);return}n(e.data)}on(e,n){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=n}send(e,n,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},i)}sendWithPromise(e,n,i){const a=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[a]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:n},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,n,i,a){const s=this.streamId++,o=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:h=>{const f=Promise.withResolvers();return this.streamControllers[s]={controller:h,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:o,targetName:c,action:e,streamId:s,data:n,desiredSize:h.desiredSize},a),f.promise},pull:h=>{const f=Promise.withResolvers();return this.streamControllers[s].pullCall=f,d.postMessage({sourceName:o,targetName:c,stream:sn.PULL,streamId:s,desiredSize:h.desiredSize}),f.promise},cancel:h=>{tt(h instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[s].cancelCall=f,this.streamControllers[s].isClosed=!0,d.postMessage({sourceName:o,targetName:c,stream:sn.CANCEL,streamId:s,reason:gi(h)}),f.promise}},i)}#i(e){const n=e.streamId,i=this.sourceName,a=e.sourceName,s=this.comObj,o=this,c=this.actionHandler[e.action],d={enqueue(h,f=1,p){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=f,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:a,stream:sn.ENQUEUE,streamId:n,chunk:h},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:a,stream:sn.CLOSE,streamId:n}),delete o.streamSinks[n])},error(h){tt(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:a,stream:sn.ERROR,streamId:n,reason:gi(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[n]=d,Promise.try(c,e.data,d).then(function(){s.postMessage({sourceName:i,targetName:a,stream:sn.START_COMPLETE,streamId:n,success:!0})},function(h){s.postMessage({sourceName:i,targetName:a,stream:sn.START_COMPLETE,streamId:n,reason:gi(h)})})}#n(e){const n=e.streamId,i=this.sourceName,a=e.sourceName,s=this.comObj,o=this.streamControllers[n],c=this.streamSinks[n];switch(e.stream){case sn.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(gi(e.reason));break;case sn.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(gi(e.reason));break;case sn.PULL:if(!c){s.postMessage({sourceName:i,targetName:a,stream:sn.PULL_COMPLETE,streamId:n,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||NA).then(function(){s.postMessage({sourceName:i,targetName:a,stream:sn.PULL_COMPLETE,streamId:n,success:!0})},function(h){s.postMessage({sourceName:i,targetName:a,stream:sn.PULL_COMPLETE,streamId:n,reason:gi(h)})});break;case sn.ENQUEUE:if(tt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case sn.CLOSE:if(tt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#s(o,n);break;case sn.ERROR:tt(o,"error should have stream controller"),o.controller.error(gi(e.reason)),this.#s(o,n);break;case sn.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(gi(e.reason)),this.#s(o,n);break;case sn.CANCEL:if(!c)break;const d=gi(e.reason);Promise.try(c.onCancel||NA,d).then(function(){s.postMessage({sourceName:i,targetName:a,stream:sn.CANCEL_COMPLETE,streamId:n,success:!0})},function(h){s.postMessage({sourceName:i,targetName:a,stream:sn.CANCEL_COMPLETE,streamId:n,reason:gi(h)})}),c.sinkCapability.reject(d),c.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#s(e,n){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#e?.abort(),this.#e=null}}class zD{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,n);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,n,i){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){wt("Abstract method `_createCanvas` called.")}}class p$ extends zD{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const i=this._document.createElement("canvas");return i.width=e,i.height=n,i}}class $D{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){wt("Abstract method `_fetch` called.")}}class EA extends $D{async _fetch(e){const n=await Ac(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Wd(n)}}class FD{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,i,a,s){return"none"}destroy(e=!1){}}class g$ extends FD{#e;#t;#i;#n;#s;#r;#a=0;constructor({docId:e,ownerDocument:n=globalThis.document}){super(),this.#n=e,this.#s=n}get#o(){return this.#t||=new Map}get#c(){return this.#r||=new Map}get#l(){if(!this.#i){const e=this.#s.createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=this.#s.createElementNS(ka,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#i=this.#s.createElementNS(ka,"defs"),e.append(i),i.append(this.#i),this.#s.body.append(e)}return this.#i}#h(e){if(e.length===1){const d=e[0],h=new Array(256);for(let p=0;p<256;p++)h[p]=d[p]/255;const f=h.join(",");return[f,f,f]}const[n,i,a]=e,s=new Array(256),o=new Array(256),c=new Array(256);for(let d=0;d<256;d++)s[d]=n[d]/255,o[d]=i[d]/255,c[d]=a[d]/255;return[s.join(","),o.join(","),c.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const n=this.#s.URL;n!==this.#s.baseURI&&(Xd(n)?$e('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=h2(n,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let n=this.#o.get(e);if(n)return n;const[i,a,s]=this.#h(e),o=e.length===1?i:`${i}${a}${s}`;if(n=this.#o.get(o),n)return this.#o.set(e,n),n;const c=`g_${this.#n}_transfer_map_${this.#a++}`,d=this.#d(c);this.#o.set(e,d),this.#o.set(o,d);const h=this.#p(c);return this.#g(i,a,s,h),d}addHCMFilter(e,n){const i=`${e}-${n}`,a="base";let s=this.#c.get(a);if(s?.key===i||(s?(s.filter?.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},this.#c.set(a,s)),!e||!n))return s.url;const o=this.#y(e);e=Ce.makeHexColor(...o);const c=this.#y(n);if(n=Ce.makeHexColor(...c),this.#l.style.color="",e==="#000000"&&n==="#ffffff"||e===n)return s.url;const d=new Array(256);for(let x=0;x<=255;x++){const b=x/255;d[x]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const h=d.join(","),f=`g_${this.#n}_hcm_filter`,p=s.filter=this.#p(f);this.#g(h,h,h,p),this.#m(p);const m=(x,b)=>{const y=o[x]/255,_=c[x]/255,S=new Array(b+1);for(let N=0;N<=b;N++)S[N]=y+N/b*(_-y);return S.join(",")};return this.#g(m(0,5),m(1,5),m(2,5),p),s.url=this.#d(f),s.url}addAlphaFilter(e){let n=this.#o.get(e);if(n)return n;const[i]=this.#h([e]),a=`alpha_${i}`;if(n=this.#o.get(a),n)return this.#o.set(e,n),n;const s=`g_${this.#n}_alpha_map_${this.#a++}`,o=this.#d(s);this.#o.set(e,o),this.#o.set(a,o);const c=this.#p(s);return this.#v(i,c),o}addLuminosityFilter(e){let n=this.#o.get(e||"luminosity");if(n)return n;let i,a;if(e?([i]=this.#h([e]),a=`luminosity_${i}`):a="luminosity",n=this.#o.get(a),n)return this.#o.set(e,n),n;const s=`g_${this.#n}_luminosity_map_${this.#a++}`,o=this.#d(s);this.#o.set(e,o),this.#o.set(a,o);const c=this.#p(s);return this.#f(c),e&&this.#v(i,c),o}addHighlightHCMFilter(e,n,i,a,s){const o=`${n}-${i}-${a}-${s}`;let c=this.#c.get(e);if(c?.key===o||(c?(c.filter?.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},this.#c.set(e,c)),!n||!i))return c.url;const[d,h]=[n,i].map(this.#y.bind(this));let f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[m,x]=[a,s].map(this.#y.bind(this));p<f&&([f,p,m,x]=[p,f,x,m]),this.#l.style.color="";const b=(S,N,E)=>{const A=new Array(256),T=(p-f)/E,k=S/255,R=(N-S)/(255*E);let H=0;for(let V=0;V<=E;V++){const Y=Math.round(f+V*T),W=k+V*R;for(let X=H;X<=Y;X++)A[X]=W;H=Y+1}for(let V=H;V<256;V++)A[V]=A[H-1];return A.join(",")},y=`g_${this.#n}_hcm_${e}_filter`,_=c.filter=this.#p(y);return this.#m(_),this.#g(b(m[0],x[0],5),b(m[1],x[1],5),b(m[2],x[2],5),_),c.url=this.#d(y),c.url}destroy(e=!1){e&&this.#r?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#t?.clear(),this.#t=null,this.#r?.clear(),this.#r=null,this.#a=0)}#f(e){const n=this.#s.createElementNS(ka,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)}#m(e){const n=this.#s.createElementNS(ka,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)}#p(e){const n=this.#s.createElementNS(ka,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),this.#l.append(n),n}#u(e,n,i){const a=this.#s.createElementNS(ka,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),e.append(a)}#g(e,n,i,a){const s=this.#s.createElementNS(ka,"feComponentTransfer");a.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",n),this.#u(s,"feFuncB",i)}#v(e,n){const i=this.#s.createElementNS(ka,"feComponentTransfer");n.append(i),this.#u(i,"feFuncA",e)}#y(e){return this.#l.style.color=e,Nc(getComputedStyle(this.#l).getPropertyValue("color"))}}class HD{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){wt("Abstract method `_fetch` called.")}}class TA extends HD{async _fetch(e){const n=await Ac(e,"arraybuffer");return new Uint8Array(n)}}class UD{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){wt("Abstract method `_fetch` called.")}}class kA extends UD{async _fetch(e){const n=await Ac(e,"arraybuffer");return new Uint8Array(n)}}Zn&&$e("Please use the `legacy` build in Node.js environments.");async function b2(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class m$ extends FD{}class v$ extends zD{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class x$ extends $D{async _fetch(e){return b2(e)}}class y$ extends HD{async _fetch(e){return b2(e)}}class b$ extends UD{async _fetch(e){return b2(e)}}const $l="__forcedDependency",{floor:DA,ceil:OA}=Math;function Vf(t,e,n,i,a,s){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],i),t[e*4+2]=Math.max(t[e*4+2],a),t[e*4+3]=Math.max(t[e*4+3],s)}const zy=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class _${#e;#t;constructor(e,n){this.#e=e,this.#t=n}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===zy}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const qf=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};class j${#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[$l]:[]};#i=new Map;#n=[];#s=[];#r=[[1,0,0,1,0,0]];#a=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#m;#p;#u;#g;constructor(e,n,i=!1){this.#f=e.width,this.#m=e.height,this.#v(n),i&&(this.#g=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#v(e,this.#u)}#v(e,n){const i=new ArrayBuffer(e*4);this.#p=new Uint8ClampedArray(i),this.#u=new Uint32Array(i),n&&n.length>0?(this.#u.set(n),this.#u.fill(zy,n.length)):this.#u.fill(zy)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[$l]:{__proto__:this.#t[$l]}},this.#a={__proto__:this.#a},this.#n.push(e),this}restore(e){const n=Object.getPrototypeOf(this.#e);if(n===null)return this;this.#e=n,this.#t=Object.getPrototypeOf(this.#t),this.#a=Object.getPrototypeOf(this.#a);const i=this.#n.pop();return i!==void 0&&(qf(this.#g,e)?.dependencies.add(i),this.#u[e]=this.#u[i]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const n=this.#n.pop();return n!==void 0&&(qf(this.#g,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}beginMarkedContent(e){return this.#s.push(e),this}endMarkedContent(e){const n=this.#s.pop();return n!==void 0&&(qf(this.#g,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}pushBaseTransform(e){return this.#r.push(Ce.multiplyByDOMMatrix(this.#r.at(-1),e.getTransform())),this}popBaseTransform(){return this.#r.length>1&&this.#r.pop(),this}recordSimpleData(e,n){return this.#e[e]=n,this}recordIncrementalData(e,n){return this.#t[e].push(n),this}resetIncrementalData(e,n){return this.#t[e].length=0,this}recordNamedData(e,n){return this.#i.set(e,n),this}recordSimpleDataFromNamed(e,n,i){this.#e[e]=this.#i.get(n)??i}recordFutureForcedDependency(e,n){return this.recordIncrementalData($l,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in this.#e&&this.recordFutureForcedDependency(n,this.#e[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency($l,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,n,i,a,s,o){const c=Ce.multiplyByDOMMatrix(this.#r.at(-1),n.getTransform()),d=[1/0,1/0,-1/0,-1/0];Ce.axialAlignedBoundingBox([i,s,a,o],c,d);const h=Ce.intersect(this.#a,d);return h?(this.#a[0]=h[0],this.#a[1]=h[1],this.#a[2]=h[2],this.#a[3]=h[3]):(this.#a[0]=this.#a[1]=1/0,this.#a[2]=this.#a[3]=-1/0),this}recordBBox(e,n,i,a,s,o){const c=this.#a;if(c[0]===1/0)return this;const d=Ce.multiplyByDOMMatrix(this.#r.at(-1),n.getTransform());if(c[0]===-1/0)return Ce.axialAlignedBoundingBox([i,s,a,o],d,this.#o),this;const h=[1/0,1/0,-1/0,-1/0];return Ce.axialAlignedBoundingBox([i,s,a,o],d,h),this.#o[0]=Math.min(this.#o[0],Math.max(h[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(h[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(h[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(h[3],c[3])),this}recordCharacterBBox(e,n,i,a=1,s=0,o=0,c){const d=i.bbox;let h,f;if(d&&(h=d[2]!==d[0]&&d[3]!==d[1]&&this.#d.get(i),h!==!1&&(f=[0,0,0,0],Ce.axialAlignedBoundingBox(d,i.fontMatrix,f),(a!==1||s!==0||o!==0)&&Ce.scaleMinMax([a,0,0,-a,s,o],f),h)))return this.recordBBox(e,n,f[0],f[2],f[1],f[3]);if(!c)return this.recordFullPageBBox(e);const p=c();return d&&f&&h===void 0&&(h=f[0]<=s-p.actualBoundingBoxLeft&&f[2]>=s+p.actualBoundingBoxRight&&f[1]<=o-p.actualBoundingBoxAscent&&f[3]>=o+p.actualBoundingBoxDescent,this.#d.set(i,h),h)?this.recordBBox(e,n,f[0],f[2],f[1],f[3]):this.recordBBox(e,n,s-p.actualBoundingBoxLeft,s+p.actualBoundingBoxRight,o-p.actualBoundingBoxAscent,o+p.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#a[0]),this.#o[1]=Math.max(0,this.#a[1]),this.#o[2]=Math.min(this.#f,this.#a[2]),this.#o[3]=Math.min(this.#m,this.#a[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,n){const i=this.#l,a=this.#e,s=this.#t;for(const o of n)o in this.#e?i.add(a[o]):o in s&&s[o].forEach(i.add,i);return this}recordNamedDependency(e,n){return this.#i.has(n)&&this.#l.add(this.#i.get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[$l]),this.#g){const i=qf(this.#g,e),{dependencies:a}=i;this.#l.forEach(a.add,a),this.#n.forEach(a.add,a),this.#s.forEach(a.add,a),a.delete(e),i.isRenderingOperation=!0}if(this.#c===e){const i=DA(this.#o[0]*256/this.#f),a=DA(this.#o[1]*256/this.#m),s=OA(this.#o[2]*256/this.#f),o=OA(this.#o[3]*256/this.#m);Vf(this.#p,e,i,a,s,o);for(const c of this.#l)c!==e&&Vf(this.#p,c,i,a,s,o);for(const c of this.#n)c!==e&&Vf(this.#p,c,i,a,s,o);for(const c of this.#s)c!==e&&Vf(this.#p,c,i,a,s,o);n||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,n=!1){const i=Array.from(this.#l);this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const a of i)this.recordIncrementalData("sameLineText",a);return this}bboxToClipBoxDropOperation(e,n=!1){return this.#c===e&&(this.#c=-1,this.#a[0]=Math.max(this.#a[0],this.#o[0]),this.#a[1]=Math.max(this.#a[1],this.#o[1]),this.#a[2]=Math.min(this.#a[2],this.#o[2]),this.#a[3]=Math.min(this.#a[3],this.#o[3]),n||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const n=this.#h.get(e);return this.#h.delete(e),n}_pushPendingDependencies(e){for(const n of e)this.#l.add(n)}take(){return this.#d.clear(),new _$(this.#u,this.#p)}takeDebugMetadata(){return this.#g}}class Lp{#e;#t;#i;#n=0;#s=0;constructor(e,n,i){if(e instanceof Lp&&e.#i===!!i)return e;this.#e=e,this.#t=n,this.#i=!!i}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#s++,this.#e.save(this.#t),this}restore(e){return this.#s>0&&(this.#e.restore(this.#t),this.#s--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,n){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,n){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,n){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,i){return this.#e.recordSimpleDataFromNamed(e,n,this.#t),this}recordFutureForcedDependency(e,n){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#i||this.#e.resetBBox(this.#t),this}recordClipBox(e,n,i,a,s,o){return this.#i||this.#e.recordClipBox(this.#t,n,i,a,s,o),this}recordBBox(e,n,i,a,s,o){return this.#i||this.#e.recordBBox(this.#t,n,i,a,s,o),this}recordCharacterBBox(e,n,i,a,s,o,c){return this.#i||this.#e.recordCharacterBBox(this.#t,n,i,a,s,o,c),this}recordFullPageBBox(e){return this.#i||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,n){return this.#e.recordDependencies(this.#t,n),this}recordNamedDependency(e,n){return this.#e.recordNamedDependency(this.#t,n),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#i||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const ir={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},zn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function $y(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],a=new Path2D;a.rect(e[0],e[1],n,i),t.clip(a)}class _2{isModifyingCurrentTransform(){return!1}getPattern(){wt("Abstract method `getPattern` called.")}}class w$ extends _2{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)n.addColorStop(i[0],i[1]);return n}getPattern(e,n,i,a){let s;if(a===zn.STROKE||a===zn.FILL){const o=n.current.getClippedPathBoundingBox(a,Bt(e))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,d=Math.ceil(o[3]-o[1])||1,h=n.cachedCanvases.getCanvas("pattern",c,d),f=h.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),i=Ce.transform(i,[1,0,0,1,o[0],o[1]]),f.transform(...n.baseTransform),this.matrix&&f.transform(...this.matrix),$y(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),s=e.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(i);s.setTransform(p)}else $y(e,this._bbox),s=this._createGradient(e);return s}}function A0(t,e,n,i,a,s,o,c){const d=e.coords,h=e.colors,f=t.data,p=t.width*4;let m;d[n+1]>d[i+1]&&(m=n,n=i,i=m,m=s,s=o,o=m),d[i+1]>d[a+1]&&(m=i,i=a,a=m,m=o,o=c,c=m),d[n+1]>d[i+1]&&(m=n,n=i,i=m,m=s,s=o,o=m);const x=(d[n]+e.offsetX)*e.scaleX,b=(d[n+1]+e.offsetY)*e.scaleY,y=(d[i]+e.offsetX)*e.scaleX,_=(d[i+1]+e.offsetY)*e.scaleY,S=(d[a]+e.offsetX)*e.scaleX,N=(d[a+1]+e.offsetY)*e.scaleY;if(b>=N)return;const E=h[s],A=h[s+1],T=h[s+2],k=h[o],R=h[o+1],H=h[o+2],V=h[c],Y=h[c+1],W=h[c+2],X=Math.round(b),ee=Math.round(N);let L,P,M,I,G,U,K,z;for(let O=X;O<=ee;O++){if(O<_){const q=O<b?0:(b-O)/(b-_);L=x-(x-y)*q,P=E-(E-k)*q,M=A-(A-R)*q,I=T-(T-H)*q}else{let q;O>N?q=1:_===N?q=0:q=(_-O)/(_-N),L=y-(y-S)*q,P=k-(k-V)*q,M=R-(R-Y)*q,I=H-(H-W)*q}let $;O<b?$=0:O>N?$=1:$=(b-O)/(b-N),G=x-(x-S)*$,U=E-(E-V)*$,K=A-(A-Y)*$,z=T-(T-W)*$;const B=Math.round(Math.min(L,G)),Q=Math.round(Math.max(L,G));let J=p*O+B*4;for(let q=B;q<=Q;q++)$=(L-q)/(L-G),$<0?$=0:$>1&&($=1),f[J++]=P-(P-U)*$|0,f[J++]=M-(M-K)*$|0,f[J++]=I-(I-z)*$|0,f[J++]=255}}function S$(t,e,n){const i=e.coords,a=e.colors;let s,o;switch(e.type){case"lattice":const c=e.verticesPerRow,d=Math.floor(i.length/c)-1,h=c-1;for(s=0;s<d;s++){let f=s*c;for(let p=0;p<h;p++,f++)A0(t,n,i[f],i[f+1],i[f+c],a[f],a[f+1],a[f+c]),A0(t,n,i[f+c+1],i[f+1],i[f+c],a[f+c+1],a[f+1],a[f+c])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)A0(t,n,i[s],i[s+1],i[s+2],a[s],a[s+1],a[s+2]);break;default:throw new Error("illegal figure")}}class C$ extends _2{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,i){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-d,p=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),x=h/p,b=f/m,y={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/x,scaleY:1/b},_=p+4,S=m+4,N=i.getCanvas("mesh",_,S),E=N.context,A=E.createImageData(p,m);if(n){const k=A.data;for(let R=0,H=k.length;R<H;R+=4)k[R]=n[0],k[R+1]=n[1],k[R+2]=n[2],k[R+3]=255}for(const k of this._figures)S$(A,k,y);return E.putImageData(A,2,2),{canvas:N.canvas,offsetX:c-2*x,offsetY:d-2*b,scaleX:x,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,n,i,a){$y(e,this._bbox);const s=new Float32Array(2);if(a===zn.SHADING)Ce.singularValueDecompose2dScale(Bt(e),s);else if(this.matrix){Ce.singularValueDecompose2dScale(this.matrix,s);const[c,d]=s;Ce.singularValueDecompose2dScale(n.baseTransform,s),s[0]*=c,s[1]*=d}else Ce.singularValueDecompose2dScale(n.baseTransform,s);const o=this._createMeshCanvas(s,a===zn.SHADING?null:this._background,n.cachedCanvases);return a!==zn.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class A$ extends _2{getPattern(){return"hotpink"}}function N$(t){switch(t[0]){case"RadialAxial":return new w$(t);case"Mesh":return new C$(t);case"Dummy":return new A$}throw new Error(`Unknown IR type: ${t[0]}`)}const MA={COLORED:1,UNCOLORED:2};class j2{static MAX_PATTERN_SIZE=3e3;constructor(e,n,i,a){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(e,n){const{bbox:i,operatorList:a,paintType:s,tilingType:o,color:c,canvasGraphicsFactory:d}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),Gg("TilingType: "+o);const p=i[0],m=i[1],x=i[2],b=i[3],y=x-p,_=b-m,S=new Float32Array(2);Ce.singularValueDecompose2dScale(this.matrix,S);const[N,E]=S;Ce.singularValueDecompose2dScale(this.baseTransform,S);const A=N*S[0],T=E*S[1];let k=y,R=_,H=!1,V=!1;const Y=Math.ceil(h*A),W=Math.ceil(f*T),X=Math.ceil(y*A),ee=Math.ceil(_*T);Y>=X?k=h:H=!0,W>=ee?R=f:V=!0;const L=this.getSizeAndScale(k,this.ctx.canvas.width,A),P=this.getSizeAndScale(R,this.ctx.canvas.height,T),M=e.cachedCanvases.getCanvas("pattern",L.size,P.size),I=M.context,G=d.createCanvasGraphics(I,n);if(G.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(G,s,c),I.translate(-L.scale*p,-P.scale*m),G.transform(0,L.scale,0,0,P.scale,0,0),I.save(),G.dependencyTracker?.save(),this.clipBbox(G,p,m,x,b),G.baseTransform=Bt(G.ctx),G.executeOperatorList(a),G.endDrawing(),G.dependencyTracker?.restore(),I.restore(),H||V){const U=M.canvas;H&&(k=h),V&&(R=f);const K=this.getSizeAndScale(k,this.ctx.canvas.width,A),z=this.getSizeAndScale(R,this.ctx.canvas.height,T),O=K.size,$=z.size,B=e.cachedCanvases.getCanvas("pattern-workaround",O,$),Q=B.context,J=H?Math.floor(y/h):0,q=V?Math.floor(_/f):0;for(let re=0;re<=J;re++)for(let Z=0;Z<=q;Z++)Q.drawImage(U,O*re,$*Z,O,$,0,0,O,$);return{canvas:B.canvas,scaleX:K.scale,scaleY:z.scale,offsetX:p,offsetY:m}}return{canvas:M.canvas,scaleX:L.scale,scaleY:P.scale,offsetX:p,offsetY:m}}getSizeAndScale(e,n,i){const a=Math.max(j2.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*i);return s>=a?s=a:i=s/e,{scale:i,size:s}}clipBbox(e,n,i,a,s){const o=a-n,c=s-i;e.ctx.rect(n,i,o,c),Ce.axialAlignedBoundingBox([n,i,a,s],Bt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,i){const a=e.ctx,s=e.current;switch(n){case MA.COLORED:const{fillStyle:o,strokeStyle:c}=this.ctx;a.fillStyle=s.fillColor=o,a.strokeStyle=s.strokeColor=c;break;case MA.UNCOLORED:a.fillStyle=a.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new Yz(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,i,a,s){let o=i;a!==zn.SHADING&&(o=Ce.transform(o,n.baseTransform),this.matrix&&(o=Ce.transform(o,this.matrix)));const c=this.createPatternCanvas(n,s);let d=new DOMMatrix(o);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const h=e.createPattern(c.canvas,"repeat");return h.setTransform(d),h}}function E$({src:t,srcPos:e=0,dest:n,width:i,height:a,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const c=wn.isLittleEndian?4278190080:255,[d,h]=o?[s,c]:[c,s],f=i>>3,p=i&7,m=t.length;n=new Uint32Array(n.buffer);let x=0;for(let b=0;b<a;b++){for(const _=e+f;e<_;e++){const S=e<m?t[e]:255;n[x++]=S&128?h:d,n[x++]=S&64?h:d,n[x++]=S&32?h:d,n[x++]=S&16?h:d,n[x++]=S&8?h:d,n[x++]=S&4?h:d,n[x++]=S&2?h:d,n[x++]=S&1?h:d}if(p===0)continue;const y=e<m?t[e++]:255;for(let _=0;_<p;_++)n[x++]=y&1<<7-_?h:d}return{srcPos:e,destPos:x}}const PA=16,RA=100,T$=15,LA=10,mi=16,N0=new DOMMatrix,Oi=new Float32Array(2),Xl=new Float32Array([1/0,1/0,-1/0,-1/0]);function k$(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},t.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},t.transform=function(n,i,a,s,o,c){e.transform(n,i,a,s,o,c),this.__originalTransform(n,i,a,s,o,c)},t.setTransform=function(n,i,a,s,o,c){e.setTransform(n,i,a,s,o,c),this.__originalSetTransform(n,i,a,s,o,c)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,i){e.moveTo(n,i),this.__originalMoveTo(n,i)},t.lineTo=function(n,i){e.lineTo(n,i),this.__originalLineTo(n,i)},t.bezierCurveTo=function(n,i,a,s,o,c){e.bezierCurveTo(n,i,a,s,o,c),this.__originalBezierCurveTo(n,i,a,s,o,c)},t.rect=function(n,i,a,s){e.rect(n,i,a,s),this.__originalRect(n,i,a,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class D${constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,i){let a;return this.cache[e]!==void 0?(a=this.cache[e],this.canvasFactory.reset(a,n,i)):(a=this.canvasFactory.create(n,i),this.cache[e]=a),a}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Gf(t,e,n,i,a,s,o,c,d,h){const[f,p,m,x,b,y]=Bt(t);if(p===0&&m===0){const N=o*f+b,E=Math.round(N),A=c*x+y,T=Math.round(A),k=(o+d)*f+b,R=Math.abs(Math.round(k)-E)||1,H=(c+h)*x+y,V=Math.abs(Math.round(H)-T)||1;return t.setTransform(Math.sign(f),0,0,Math.sign(x),E,T),t.drawImage(e,n,i,a,s,0,0,R,V),t.setTransform(f,p,m,x,b,y),[R,V]}if(f===0&&x===0){const N=c*m+b,E=Math.round(N),A=o*p+y,T=Math.round(A),k=(c+h)*m+b,R=Math.abs(Math.round(k)-E)||1,H=(o+d)*p+y,V=Math.abs(Math.round(H)-T)||1;return t.setTransform(0,Math.sign(p),Math.sign(m),0,E,T),t.drawImage(e,n,i,a,s,0,0,V,R),t.setTransform(f,p,m,x,b,y),[V,R]}t.drawImage(e,n,i,a,s,o,c,d,h);const _=Math.hypot(f,p),S=Math.hypot(m,x);return[_*d,S*h]}class IA{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Ry;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=In.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,n,i){i?.(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=Xl.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=zn.FILL,n=null){const i=this.minMax.slice();if(e===zn.STROKE){n||wt("Stroke bounding box must include transform."),Ce.singularValueDecompose2dScale(n,Oi);const a=Oi[0]*this.lineWidth/2,s=Oi[1]*this.lineWidth/2;i[0]-=a,i[1]-=s,i[2]+=a,i[3]+=s}return i}updateClipFromPath(){const e=Ce.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Xl,0)}getClippedPathBoundingBox(e=zn.FILL,n=null){return Ce.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function BA(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,i=e.width,a=n%mi,s=(n-a)/mi,o=a===0?s:s+1,c=t.createImageData(i,mi);let d=0,h;const f=e.data,p=c.data;let m,x,b,y;if(e.kind===od.GRAYSCALE_1BPP){const _=f.byteLength,S=new Uint32Array(p.buffer,0,p.byteLength>>2),N=S.length,E=i+7>>3,A=4294967295,T=wn.isLittleEndian?4278190080:255;for(m=0;m<o;m++){for(b=m<s?mi:a,h=0,x=0;x<b;x++){const k=_-d;let R=0;const H=k>E?i:k*8-7,V=H&-8;let Y=0,W=0;for(;R<V;R+=8)W=f[d++],S[h++]=W&128?A:T,S[h++]=W&64?A:T,S[h++]=W&32?A:T,S[h++]=W&16?A:T,S[h++]=W&8?A:T,S[h++]=W&4?A:T,S[h++]=W&2?A:T,S[h++]=W&1?A:T;for(;R<H;R++)Y===0&&(W=f[d++],Y=128),S[h++]=W&Y?A:T,Y>>=1}for(;h<N;)S[h++]=0;t.putImageData(c,0,m*mi)}}else if(e.kind===od.RGBA_32BPP){for(x=0,y=i*mi*4,m=0;m<s;m++)p.set(f.subarray(d,d+y)),d+=y,t.putImageData(c,0,x),x+=mi;m<o&&(y=i*a*4,p.set(f.subarray(d,d+y)),t.putImageData(c,0,x))}else if(e.kind===od.RGB_24BPP)for(b=mi,y=i*b,m=0;m<o;m++){for(m>=s&&(b=a,y=i*b),h=0,x=y;x--;)p[h++]=f[d++],p[h++]=f[d++],p[h++]=f[d++],p[h++]=255;t.putImageData(c,0,m*mi)}else throw new Error(`bad image kind: ${e.kind}`)}function zA(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,i=e.width,a=n%mi,s=(n-a)/mi,o=a===0?s:s+1,c=t.createImageData(i,mi);let d=0;const h=e.data,f=c.data;for(let p=0;p<o;p++){const m=p<s?mi:a;({srcPos:d}=E$({src:h,srcPos:d,dest:f,width:i,height:m,nonBlackColor:0})),t.putImageData(c,0,p*mi)}}function Lu(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)t[i]!==void 0&&(e[i]=t[i]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Wf(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function $A(t,e){if(e)return!0;Ce.singularValueDecompose2dScale(t,Oi);const n=Math.fround(Dr.pixelRatio*Io.PDF_TO_CSS_UNITS);return Oi[0]<=n&&Oi[1]<=n}const O$=["butt","round","square"],M$=["miter","round","bevel"],P$={},FA={};class ec{constructor(e,n,i,a,s,{optionalContentConfig:o,markedContentStack:c=null},d,h,f){this.ctx=e,this.current=new IA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=i,this.canvasFactory=a,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=o,this.cachedCanvases=new D$(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,n,i=null){return typeof n=="string"?(this.dependencyTracker?.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):i}beginDrawing({transform:e,viewport:n,transparency:i=!1,background:a=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=c,i){const d=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...Bt(this.compositeCtx))}this.ctx.save(),Wf(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Bt(this.ctx)}executeOperatorList(e,n,i,a,s){const o=e.argsArray,c=e.fnArray;let d=n||0;const h=o.length;if(h===d)return d;const f=h-d>LA&&typeof i=="function",p=f?Date.now()+T$:0;let m=0;const x=this.commonObjs,b=this.objs;let y,_;for(;;){if(a!==void 0&&d===a.nextBreakPoint)return a.breakIt(d,i),d;if(!s||s(d))if(y=c[d],_=o[d]??null,y!==lc.dependency)_===null?this[y](d):this[y](d,..._);else for(const S of _){this.dependencyTracker?.recordNamedData(S,d);const N=S.startsWith("g_")?x:b;if(!N.has(S))return N.get(S,i),d}if(d++,d===h)return d;if(f&&++m>LA){if(Date.now()>p)return i(),d;m=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(e,n){const i=e.width??e.displayWidth,a=e.height??e.displayHeight;let s=Math.max(Math.hypot(n[0],n[1]),1),o=Math.max(Math.hypot(n[2],n[3]),1),c=i,d=a,h="prescale1",f,p;for(;s>2&&c>1||o>2&&d>1;){let m=c,x=d;s>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),s/=c/m),o>2&&d>1&&(x=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,o/=d/x),f=this.cachedCanvases.getCanvas(h,m,x),p=f.context,p.clearRect(0,0,m,x),p.drawImage(e,0,0,c,d,0,0,m,x),e=f.canvas,c=m,d=x,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:d}}_createMaskCanvas(e,n){const i=this.ctx,{width:a,height:s}=n,o=this.current.fillColor,c=this.current.patternFill,d=Bt(i);let h,f,p,m;if((n.bitmap||n.data)&&n.count>1){const Y=n.bitmap||n.data.buffer;f=JSON.stringify(c?d:[d.slice(0,4),o]),h=this._cachedBitmapsMap.get(Y),h||(h=new Map,this._cachedBitmapsMap.set(Y,h));const W=h.get(f);if(W&&!c){const X=Math.round(Math.min(d[0],d[2])+d[4]),ee=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(e,ir.transformAndFill),{canvas:W,offsetX:X,offsetY:ee}}p=W}p||(m=this.cachedCanvases.getCanvas("maskCanvas",a,s),zA(m.context,n));let x=Ce.transform(d,[1/a,0,0,-1/s,0,0]);x=Ce.transform(x,[1,0,0,1,0,-s]);const b=Xl.slice();Ce.axialAlignedBoundingBox([0,0,a,s],x,b);const[y,_,S,N]=b,E=Math.round(S-y)||1,A=Math.round(N-_)||1,T=this.cachedCanvases.getCanvas("fillCanvas",E,A),k=T.context,R=y,H=_;k.translate(-R,-H),k.transform(...x),p||(p=this._scaleImage(m.canvas,Ur(k)),p=p.img,h&&c&&h.set(f,p)),k.imageSmoothingEnabled=$A(Bt(k),n.interpolate),Gf(k,p,0,0,p.width,p.height,0,0,a,s),k.globalCompositeOperation="source-in";const V=Ce.transform(Ur(k),[1,0,0,1,-R,-H]);return k.fillStyle=c?o.getPattern(i,this,V,zn.FILL,e):o,k.fillRect(0,0,a,s),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,T.canvas)),this.dependencyTracker?.recordDependencies(e,ir.transformAndFill),{canvas:T.canvas,offsetX:Math.round(R),offsetY:Math.round(H)}}setLineWidth(e,n){this.dependencyTracker?.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=O$[n]}setLineJoin(e,n){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=M$[n]}setMiterLimit(e,n){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,i){this.dependencyTracker?.recordSimpleData("dash",e);const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(n),a.lineDashOffset=i)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){for(const[i,a]of n)switch(i){case"LW":this.setLineWidth(e,a);break;case"LC":this.setLineCap(e,a);break;case"LJ":this.setLineJoin(e,a);break;case"ML":this.setMiterLimit(e,a);break;case"D":this.setDash(e,a[0],a[1]);break;case"RI":this.setRenderingIntent(e,a);break;case"FL":this.setFlatness(e,a);break;case"Font":this.setFont(e,a[0],a[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=a;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=a;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=a;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,i=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(a,n,i);this.suspendedCtx=this.ctx;const o=this.ctx=s.context;o.setTransform(this.suspendedCtx.getTransform()),Lu(this.suspendedCtx,o),k$(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Lu(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,i,a){const s=a[0],o=a[1],c=a[2]-s,d=a[3]-o;c===0||d===0||(this.genericComposeSMask(n.context,i,c,d,n.subtype,n.backdrop,n.transferMap,s,o,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,n,i,a,s,o,c,d,h,f,p){let m=e.canvas,x=d-f,b=h-p;if(o)if(x<0||b<0||x+i>m.width||b+a>m.height){const _=this.cachedCanvases.getCanvas("maskExtension",i,a),S=_.context;S.drawImage(m,-x,-b),S.globalCompositeOperation="destination-atop",S.fillStyle=o,S.fillRect(0,0,i,a),S.globalCompositeOperation="source-over",m=_.canvas,x=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(x,b,i,a),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(x,b,i,a),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&c?n.filter=this.filterFactory.addAlphaFilter(c):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(c));const y=new Path2D;y.rect(d,h,i,a),n.clip(y),n.globalCompositeOperation="destination-in",n.drawImage(m,x,b,i,a,d,h,i,a),n.restore()}save(e){this.inSMaskMode&&Lu(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Lu(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,i,a,s,o,c){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(n,i,a,s,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,i,a){let[s]=i;if(!a){s||=i[0]=new Path2D,this[n](e,s);return}if(this.dependencyTracker!==null){const o=n===lc.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,a[0]-o,a[2]+o,a[1]-o,a[3]+o).recordDependencies(e,["transform"])}if(!(s instanceof Path2D)){const o=i[0]=new Path2D;for(let c=0,d=s.length;c<d;)switch(s[c++]){case $f.moveTo:o.moveTo(s[c++],s[c++]);break;case $f.lineTo:o.lineTo(s[c++],s[c++]);break;case $f.curveTo:o.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]);break;case $f.closePath:o.closePath();break;default:$e(`Unrecognized drawing path operator: ${s[c-1]}`);break}s=o}Ce.axialAlignedBoundingBox(a,Bt(this.ctx),this.current.minMax),this[n](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,i=!0){const a=this.ctx,s=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const o=s.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=s.getPattern(a,this,Ur(a),zn.STROKE,e),o){const c=new Path2D;c.addPath(n,a.getTransform().invertSelf().multiplySelf(o)),n=c}this.rescaleAndStroke(n,!1),a.restore()}else this.rescaleAndStroke(n,!0);this.dependencyTracker?.recordDependencies(e,ir.stroke),i&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(zn.STROKE,Bt(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,i=!0){const a=this.ctx,s=this.current.fillColor,o=this.current.patternFill;let c=!1;if(o){const h=s.isModifyingCurrentTransform()?a.getTransform():null;if(this.dependencyTracker?.save(e),a.save(),a.fillStyle=s.getPattern(a,this,Ur(a),zn.FILL,e),h){const f=new Path2D;f.addPath(n,a.getTransform().invertSelf().multiplySelf(h)),n=f}c=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(a.fill(n,"evenodd"),this.pendingEOFill=!1):a.fill(n)),this.dependencyTracker?.recordDependencies(e,ir.fill),c&&(a.restore(),this.dependencyTracker?.restore(e)),i&&this.consumePath(e,n,d)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){this.ctx.fill(n),this.dependencyTracker?.recordDependencies(e,ir.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=P$}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=FA}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:a}=this;n!==void 0&&a.recordFutureForcedDependency("textClip",a.getOpenMarker()).recordFutureForcedDependency("textClip",e),a.recordCloseMarker(e)}if(n!==void 0){const a=new Path2D,s=i.getTransform().invertSelf();for(const{transform:o,x:c,y:d,fontSize:h,path:f}of n)f&&a.addPath(f,new DOMMatrix(o).preMultiplySelf(s).translate(c,d).scale(h,-h));i.clip(a)}delete this.pendingTextPaths}setCharSpacing(e,n){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,i){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const a=this.commonObjs.get(n),s=this.current;if(!a)throw new Error(`Can't find font for ${n}`);if(s.fontMatrix=a.fontMatrix||Ry,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&$e("Invalid font matrix for font "+n),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=a,this.current.fontSize=i,a.isType3Font)return;const o=a.loadedName||"sans-serif",c=a.systemFontInfo?.css||`"${o}", ${a.fallbackName}`;let d="normal";a.black?d="900":a.bold&&(d="bold");const h=a.italic?"italic":"normal";let f=i;i<PA?f=PA:i>RA&&(f=RA),this.current.fontSizeScale=i/f,this.ctx.font=`${h} ${d} ${f}px ${c}`}setTextRenderingMode(e,n){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,i){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,n,i){this.setLeading(e,-i),this.moveText(e,n,i)}setTextMatrix(e,n){this.dependencyTracker?.recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=n,i.textMatrixScale=Math.hypot(n[0],n[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#i(e,n,i){const a=new Path2D;return a.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(n)),a}paintChar(e,n,i,a,s,o){const c=this.ctx,d=this.current,h=d.font,f=d.textRenderingMode,p=d.fontSize/d.fontSizeScale,m=f&In.FILL_STROKE_MASK,x=!!(f&In.ADD_TO_PATH_FLAG),b=d.patternFill&&!h.missingFile,y=d.patternStroke&&!h.missingFile;let _;if((h.disableFontFace||x||b||y)&&!h.missingFile&&(_=h.getPathGenerator(this.commonObjs,n)),_&&(h.disableFontFace||b||y)){c.save(),c.translate(i,a),c.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(e,c,h);let S;if(m===In.FILL||m===In.FILL_STROKE)if(s){S=c.getTransform(),c.setTransform(...s);const N=this.#i(_,S,s);c.fill(N)}else c.fill(_);if(m===In.STROKE||m===In.FILL_STROKE)if(o){S||=c.getTransform(),c.setTransform(...o);const{a:N,b:E,c:A,d:T}=S,k=Ce.inverseTransform(o),R=Ce.transform([N,E,A,T,0,0],k);Ce.singularValueDecompose2dScale(R,Oi),c.lineWidth*=Math.max(Oi[0],Oi[1])/p,c.stroke(this.#i(_,S,o))}else c.lineWidth/=p,c.stroke(_);c.restore()}else(m===In.FILL||m===In.FILL_STROKE)&&(c.fillText(n,i,a),this.dependencyTracker?.recordCharacterBBox(e,c,h,p,i,a,()=>c.measureText(n))),(m===In.STROKE||m===In.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,c,h,p,i,a,()=>c.measureText(n)).recordDependencies(e,ir.stroke),c.strokeText(n,i,a));x&&((this.pendingTextPaths||=[]).push({transform:Bt(c),x:i,y:a,fontSize:p,path:_}),this.dependencyTracker?.recordCharacterBBox(e,c,h,p,i,a))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let i=!1;for(let a=3;a<n.length;a+=4)if(n[a]>0&&n[a]<255){i=!0;break}return Ve(this,"isFontSubpixelAAEnabled",i)}showText(e,n){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,ir.showText).resetBBox(e),this.current.textRenderingMode&In.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,a=i.font;if(a.isType3Font){this.showType3Text(e,n),this.dependencyTracker?.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const o=this.ctx,c=i.fontSizeScale,d=i.charSpacing,h=i.wordSpacing,f=i.fontDirection,p=i.textHScale*f,m=n.length,x=a.vertical,b=x?1:-1,y=a.defaultVMetrics,_=s*i.fontMatrix[0],S=i.textRenderingMode===In.FILL&&!a.disableFontFace&&!i.patternFill;o.save(),i.textMatrix&&o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),f>0?o.scale(p,-1):o.scale(p,1);let N,E;if(i.patternFill){o.save();const H=i.fillColor.getPattern(o,this,Ur(o),zn.FILL,e);N=Bt(o),o.restore(),o.fillStyle=H}if(i.patternStroke){o.save();const H=i.strokeColor.getPattern(o,this,Ur(o),zn.STROKE,e);E=Bt(o),o.restore(),o.strokeStyle=H}let A=i.lineWidth;const T=i.textMatrixScale;if(T===0||A===0){const H=i.textRenderingMode&In.FILL_STROKE_MASK;(H===In.STROKE||H===In.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=T;if(c!==1&&(o.scale(c,c),A/=c),o.lineWidth=A,a.isInvalidPDFjsFont){const H=[];let V=0;for(const W of n)H.push(W.unicode),V+=W.width;const Y=H.join("");if(o.fillText(Y,0,0),this.dependencyTracker!==null){const W=o.measureText(Y);this.dependencyTracker.recordBBox(e,this.ctx,-W.actualBoundingBoxLeft,W.actualBoundingBoxRight,-W.actualBoundingBoxAscent,W.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=V*_*p,o.restore(),this.compose();return}let k=0,R;for(R=0;R<m;++R){const H=n[R];if(typeof H=="number"){k+=b*H*s/1e3;continue}let V=!1;const Y=(H.isSpace?h:0)+d,W=H.fontChar,X=H.accent;let ee,L,P=H.width;if(x){const G=H.vmetric||y,U=-(H.vmetric?G[1]:P*.5)*_,K=G[2]*_;P=G?-G[0]:P,ee=U/c,L=(k+K)/c}else ee=k/c,L=0;let M;if(a.remeasure&&P>0){M=o.measureText(W);const G=M.width*1e3/s*c;if(P<G&&this.isFontSubpixelAAEnabled){const U=P/G;V=!0,o.save(),o.scale(U,1),ee/=U}else P!==G&&(ee+=(P-G)/2e3*s/c)}if(this.contentVisible&&(H.isInFont||a.missingFile)){if(S&&!X)o.fillText(W,ee,L),this.dependencyTracker?.recordCharacterBBox(e,o,M?{bbox:null}:a,s/c,ee,L,()=>M??o.measureText(W));else if(this.paintChar(e,W,ee,L,N,E),X){const G=ee+s*X.offset.x/c,U=L-s*X.offset.y/c;this.paintChar(e,X.fontChar,G,U,N,E)}}const I=x?P*_-Y*f:P*_+Y*f;k+=I,V&&o.restore()}x?i.y-=k:i.x+=k*p,o.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,n){const i=this.ctx,a=this.current,s=a.font,o=a.fontSize,c=a.fontDirection,d=s.vertical?1:-1,h=a.charSpacing,f=a.wordSpacing,p=a.textHScale*c,m=a.fontMatrix||Ry,x=n.length,b=a.textRenderingMode===In.INVISIBLE;let y,_,S,N;if(b||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),a.textMatrix&&i.transform(...a.textMatrix),i.translate(a.x,a.y+a.textRise),i.scale(p,c);const E=this.dependencyTracker;for(this.dependencyTracker=E?new Lp(E,e):null,y=0;y<x;++y){if(_=n[y],typeof _=="number"){N=d*_*o/1e3,this.ctx.translate(N,0),a.x+=N*p;continue}const A=(_.isSpace?f:0)+h,T=s.charProcOperatorList[_.operatorListId];T?this.contentVisible&&(this.save(),i.scale(o,o),i.transform(...m),this.executeOperatorList(T),this.restore()):$e(`Type3 character "${_.operatorListId}" is not available.`);const k=[_.width,0];Ce.applyTransform(k,m),S=k[0]*o+A,i.translate(S,0),a.x+=S*p}i.restore(),E&&(this.dependencyTracker=E)}setCharWidth(e,n,i){}setCharWidthAndBounds(e,n,i,a,s,o,c){const d=new Path2D;d.rect(a,s,o-a,c-s),this.ctx.clip(d),this.dependencyTracker?.recordBBox(e,this.ctx,a,o,s,c).recordClipBox(e,this.ctx,a,o,s,c),this.endPath(e)}getColorN_Pattern(e,n){let i;if(n[0]==="TilingPattern"){const a=this.baseTransform||Bt(this.ctx),s={createCanvasGraphics:(o,c)=>new ec(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Lp(this.dependencyTracker,c,!0):null)};i=new j2(n,this.ctx,s,a)}else i=this._getPattern(e,n[1],n[2]);return i}setStrokeColorN(e,...n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,i=null){let a;return this.cachedPatterns.has(n)?a=this.cachedPatterns.get(n):(a=N$(this.getObject(e,n)),this.cachedPatterns.set(n,a)),i&&(a.matrix=i),a}shadingFill(e,n){if(!this.contentVisible)return;const i=this.ctx;this.save(e);const a=this._getPattern(e,n);i.fillStyle=a.getPattern(i,this,Ur(i),zn.SHADING,e);const s=Ur(i);if(s){const{width:o,height:c}=i.canvas,d=Xl.slice();Ce.axialAlignedBoundingBox([0,0,o,c],s,d);const[h,f,p,m]=d;this.ctx.fillRect(h,f,p-h,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,ir.transform).recordDependencies(e,ir.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){wt("Should not call beginInlineImage")}beginImageData(){wt("Should not call beginImageData")}paintFormXObjectBegin(e,n,i){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=Bt(this.ctx),i)){Ce.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[a,s,o,c]=i,d=new Path2D;d.rect(a,s,o-a,c-s),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(e,this.ctx,a,o,s,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;n.isolated||Gg("TODO: Support non-isolated groups."),n.knockout&&$e("Knockout groups not supported.");const a=Bt(i);if(n.matrix&&i.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let s=Xl.slice();Ce.axialAlignedBoundingBox(n.bbox,Bt(i),s);const o=[0,0,i.canvas.width,i.canvas.height];s=Ce.intersect(s,o)||[0,0,0,0];const c=Math.floor(s[0]),d=Math.floor(s[1]),h=Math.max(Math.ceil(s[2])-c,1),f=Math.max(Math.ceil(s[3])-d,1);this.current.startNewPathAndClipBox([0,0,h,f]);let p="groupAt"+this.groupLevel;n.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,h,f),x=m.context;x.translate(-c,-d),x.transform(...a);let b=new Path2D;const[y,_,S,N]=n.bbox;if(b.rect(y,_,S-y,N-_),n.matrix){const E=new Path2D;E.addPath(b,new DOMMatrix(n.matrix)),b=E}x.clip(b),n.smask&&this.smaskStack.push({canvas:m.canvas,context:x,offsetX:c,offsetY:d,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(c,d),i.save()),Lu(i,x),this.ctx=x,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,n){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=Bt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const o=Xl.slice();Ce.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],s,o),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,i,a,s,o){if(this.#e(),Wf(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],d=i[3]-i[1];if(o&&this.annotationCanvasMap){a=a.slice(),a[4]-=i[0],a[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=d,Ce.singularValueDecompose2dScale(Bt(this.ctx),Oi);const{viewportScale:h}=this,f=Math.ceil(c*this.outputScaleX*h),p=Math.ceil(d*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:m,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(n,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(Oi[0],0,0,-Oi[1],0,d*Oi[1]),Wf(this.ctx)}else{Wf(this.ctx),this.endPath(e);const h=new Path2D;h.rect(i[0],i[1],c,d),this.ctx.clip(h)}}this.current=new IA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...a),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){if(!this.contentVisible)return;const i=n.count;n=this.getObject(e,n.data,n),n.count=i;const a=this.ctx,s=this._createMaskCanvas(e,n),o=s.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(o,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+o.width,s.offsetY,s.offsetY+o.height).recordOperation(e),a.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,i,a=0,s=0,o,c){if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const d=this.ctx;d.save();const h=Bt(d);d.transform(i,a,s,o,0,0);const f=this._createMaskCanvas(e,n);d.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]),this.dependencyTracker?.resetBBox(e);for(let p=0,m=c.length;p<m;p+=2){const x=Ce.transform(h,[i,a,s,o,c[p],c[p+1]]);d.drawImage(f.canvas,x[4],x[5]),this.dependencyTracker?.recordBBox(e,this.ctx,x[4],x[4]+f.canvas.width,x[5],x[5]+f.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,n){if(!this.contentVisible)return;const i=this.ctx,a=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,ir.transformAndFill);for(const o of n){const{data:c,width:d,height:h,transform:f}=o,p=this.cachedCanvases.getCanvas("maskCanvas",d,h),m=p.context;m.save();const x=this.getObject(e,c,o);zA(m,x),m.globalCompositeOperation="source-in",m.fillStyle=s?a.getPattern(m,this,Ur(i),zn.FILL,e):a,m.fillRect(0,0,d,h),m.restore(),i.save(),i.transform(...f),i.scale(1,-1),Gf(i,p.canvas,0,0,d,h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,d,0,h),i.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const i=this.getObject(e,n);if(!i){$e("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,n,i,a,s){if(!this.contentVisible)return;const o=this.getObject(e,n);if(!o){$e("Dependent image isn't ready yet");return}const c=o.width,d=o.height,h=[];for(let f=0,p=s.length;f<p;f+=2)h.push({transform:[i,0,0,a,s[f],s[f+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(e,o,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:i,height:a}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,a),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(n,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e,n){if(!this.contentVisible)return;const i=n.width,a=n.height,s=this.ctx;this.save(e);const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none"),s.scale(1/i,-1/a);let c;if(n.bitmap)c=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)c=n;else{const f=this.cachedCanvases.getCanvas("inlineImage",i,a).context;BA(f,n),c=this.applyTransferMapsToCanvas(f)}const d=this._scaleImage(c,Ur(s));s.imageSmoothingEnabled=$A(Bt(s),n.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,i,-a,0).recordDependencies(e,ir.imageXObject).recordOperation(e),Gf(s,d.img,0,0,d.paintWidth,d.paintHeight,0,-a,i,a),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,i){if(!this.contentVisible)return;const a=this.ctx;let s;if(n.bitmap)s=n.bitmap;else{const o=n.width,c=n.height,h=this.cachedCanvases.getCanvas("inlineImage",o,c).context;BA(h,n),s=this.applyTransferMapsToCanvas(h)}this.dependencyTracker?.resetBBox(e);for(const o of i)a.save(),a.transform(...o.transform),a.scale(1,-1),Gf(a,s,o.x,o.y,o.w,o.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,a,0,1,-1,0),a.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,ir.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,i){}beginMarkedContent(e,n){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,i){this.dependencyTracker?.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,i){const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(a||(this.pendingClip===FA?s.clip(n,"evenodd"):s.clip(n)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Bt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),a=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,a)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:i,c:a,d:s}=this.ctx.getTransform();let o,c;if(i===0&&a===0){const d=Math.abs(n),h=Math.abs(s);if(d===h)if(e===0)o=c=1/d;else{const f=d*e;o=c=f<1?1/f:1}else if(e===0)o=1/d,c=1/h;else{const f=d*e,p=h*e;o=f<1?1/f:1,c=p<1?1/p:1}}else{const d=Math.abs(n*s-i*a),h=Math.hypot(n,i),f=Math.hypot(a,s);if(e===0)o=f/d,c=h/d;else{const p=e*d;o=f>p?f/p:1,c=h>p?h/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:i,current:{lineWidth:a}}=this,[s,o]=this.getScaleForStroking();if(s===o){i.lineWidth=(a||1)*s,i.stroke(e);return}const c=i.getLineDash();n&&i.save(),i.scale(s,o),N0.a=1/s,N0.d=1/o;const d=new Path2D;if(d.addPath(e,N0),c.length>0){const h=Math.max(s,o);i.setLineDash(c.map(f=>f/h)),i.lineDashOffset/=h}i.lineWidth=a||1,i.stroke(d),n&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const t in lc)ec.prototype[t]!==void 0&&(ec.prototype[lc[t]]=ec.prototype[t]);class tc{#e;#t;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const n=new TextEncoder,i={};let a=0;for(const h of tc.strings){const f=n.encode(e[h]);i[h]=f,a+=4+f.length}const s=new ArrayBuffer(a),o=new Uint8Array(s),c=new DataView(s);let d=0;for(const h of tc.strings){const f=i[h],p=f.length;c.setUint32(d,p),o.set(f,d+4),d+=4+p}return tt(d===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}#n(e){tt(e<tc.strings.length,"Invalid string index");let n=0;for(let a=0;a<e;a++)n+=this.#t.getUint32(n)+4;const i=this.#t.getUint32(n);return this.#i.decode(new Uint8Array(this.#e,n+4,i))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class nc{#e;#t;#i;static strings=["css","loadedName","baseFontName","src"];static write(e){const n=new TextEncoder,i={};let a=0;for(const m of nc.strings){const x=n.encode(e[m]);i[m]=x,a+=4+x.length}a+=4;let s,o,c=1+a;e.style&&(s=n.encode(e.style.style),o=n.encode(e.style.weight),c+=4+s.length+4+o.length);const d=new ArrayBuffer(c),h=new Uint8Array(d),f=new DataView(d);let p=0;f.setUint8(p++,e.guessFallback?1:0),f.setUint32(p,0),p+=4,a=0;for(const m of nc.strings){const x=i[m],b=x.length;a+=4+b,f.setUint32(p,b),h.set(x,p+4),p+=4+b}return f.setUint32(p-a-4,a),e.style&&(f.setUint32(p,s.length),h.set(s,p+4),p+=4+s.length,f.setUint32(p,o.length),h.set(o,p+4),p+=4+o.length),tt(p<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(p)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){tt(e<nc.strings.length,"Invalid string index");let n=5;for(let a=0;a<e;a++)n+=this.#t.getUint32(n)+4;const i=this.#t.getUint32(n);return this.#i.decode(new Uint8Array(this.#e,n+4,i))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const n=this.#t.getUint32(e),i=this.#i.decode(new Uint8Array(this.#e,e+4,n));e+=4+n;const a=this.#t.getUint32(e),s=this.#i.decode(new Uint8Array(this.#e,e+4,a));return{style:i,weight:s}}}class bt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#i=this.#t+1+8;static#n=this.#i+1+48;static#s=this.#n+1+6;#r;#a;#o;constructor({data:e,extra:n}){this.#r=e,this.#a=new TextDecoder,this.#o=new DataView(this.#r),n&&Object.assign(this,n)}#c(e){tt(e<bt.bools.length,"Invalid boolean index");const n=Math.floor(e/4),i=e*2%8,a=this.#o.getUint8(n)>>i&3;return a===0?void 0:a===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return tt(e<bt.numbers.length,"Invalid number index"),this.#o.getFloat64(bt.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=bt.#t;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let a=0;a<4;a++)i.push(this.#o.getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=bt.#i;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let a=0;a<6;a++)i.push(this.#o.getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=bt.#n;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let a=0;a<3;a++)i.push(this.#o.getInt16(e,!0)),e+=2;return i}#h(e){tt(e<bt.strings.length,"Invalid string index");let n=bt.#s+4;for(let s=0;s<e;s++)n+=this.#o.getUint32(n)+4;const i=this.#o.getUint32(n),a=new Uint8Array(i);return a.set(new Uint8Array(this.#r,n+4,i)),this.#a.decode(a)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=bt.#s;const n=this.#o.getUint32(e);e+=4+n;const i=this.#o.getUint32(e);e+=4+i;const a=this.#o.getUint32(e);e+=4+a;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#r,e+4,s)}clearData(){let e=bt.#s;const n=this.#o.getUint32(e);e+=4+n;const i=this.#o.getUint32(e);e+=4+i;const a=this.#o.getUint32(e);e+=4+a;const s=this.#o.getUint32(e);new Uint8Array(this.#r,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=bt.#s;const n=this.#o.getUint32(e);e+=4+n;const i=this.#o.getUint32(e);e+=4+i;const a=this.#o.getUint32(e);if(a===0)return null;const s=new Uint8Array(a);return s.set(new Uint8Array(this.#r,e+4,a)),new tc(s.buffer)}get systemFontInfo(){let e=bt.#s;const n=this.#o.getUint32(e);e+=4+n;const i=this.#o.getUint32(e);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(this.#r,e+4,i)),new nc(a.buffer)}static write(e){const n=e.systemFontInfo?nc.write(e.systemFontInfo):null,i=e.cssFontInfo?tc.write(e.cssFontInfo):null,a=new TextEncoder,s={};let o=0;for(const y of bt.strings)s[y]=a.encode(e[y]),o+=4+s[y].length;const c=bt.#s+4+o+4+(n?n.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),d=new ArrayBuffer(c),h=new Uint8Array(d),f=new DataView(d);let p=0;const m=bt.bools.length;let x=0,b=0;for(let y=0;y<m;y++){const _=e[bt.bools[y]];x|=(_===void 0?0:_?2:1)<<b,b+=2,(b===8||y===m-1)&&(f.setUint8(p++,x),x=0,b=0)}tt(p===bt.#e,"FontInfo.write: Boolean properties offset mismatch");for(const y of bt.numbers)f.setFloat64(p,e[y]),p+=8;if(tt(p===bt.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(p++,4);for(const y of e.bbox)f.setInt16(p,y,!0),p+=2}else f.setUint8(p++,0),p+=8;if(tt(p===bt.#i,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(p++,6);for(const y of e.fontMatrix)f.setFloat64(p,y,!0),p+=8}else f.setUint8(p++,0),p+=48;if(tt(p===bt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(p++,1);for(const y of e.defaultVMetrics)f.setInt16(p,y,!0),p+=2}else f.setUint8(p++,0),p+=6;tt(p===bt.#s,"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(bt.#s,0),p+=4;for(const y of bt.strings){const _=s[y],S=_.length;f.setUint32(p,S),h.set(_,p+4),p+=4+S}if(f.setUint32(bt.#s,p-bt.#s-4),!n)f.setUint32(p,0),p+=4;else{const y=n.byteLength;f.setUint32(p,y),tt(p+4+y<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),h.set(new Uint8Array(n),p+4),p+=4+y}if(!i)f.setUint32(p,0),p+=4;else{const y=i.byteLength;f.setUint32(p,y),tt(p+4+y<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),h.set(new Uint8Array(i),p+4),p+=4+y}return e.data===void 0?(f.setUint32(p,0),p+=4):(f.setUint32(p,e.data.length),h.set(e.data,p+4),p+=4+e.data.length),tt(p<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(p)}}class Rs{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class R${#e;#t;constructor({parsedData:e,rawData:n}){this.#e=e,this.#t=n}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const Wl=Symbol("INTERNAL");class L${#e=!1;#t=!1;#i=!1;#n=!0;constructor(e,{name:n,intent:i,usage:a,rbGroups:s}){this.#e=!!(e&ki.DISPLAY),this.#t=!!(e&ki.PRINT),this.name=n,this.intent=i,this.usage=a,this.rbGroups=s}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:e,view:n}=this.usage;return this.#e?n?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,n,i=!1){e!==Wl&&wt("Internal method `_setVisible` called."),this.#i=i,this.#n=n}}class I${#e=null;#t=new Map;#i=null;#n=null;constructor(e,n=ki.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const i of e.groups)this.#t.set(i.id,new L$(n,i));if(e.baseState==="OFF")for(const i of this.#t.values())i._setVisible(Wl,!1);for(const i of e.on)this.#t.get(i)._setVisible(Wl,!0);for(const i of e.off)this.#t.get(i)._setVisible(Wl,!1);this.#i=this.getHash()}}#s(e){const n=e.length;if(n<2)return!0;const i=e[0];for(let a=1;a<n;a++){const s=e[a];let o;if(Array.isArray(s))o=this.#s(s);else if(this.#t.has(s))o=this.#t.get(s).visible;else return $e(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return Gg("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:($e(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#s(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!this.#t.has(n))return $e(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!this.#t.has(n))return $e(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!this.#t.has(n))return $e(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!this.#t.has(n))return $e(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!1}return!0}return $e(`Unknown optional content policy ${e.policy}.`),!0}return $e(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,i=!0){const a=this.#t.get(e);if(!a){$e(`Optional content group not found: ${e}`);return}if(i&&n&&a.rbGroups.length)for(const s of a.rbGroups)for(const o of s)o!==e&&this.#t.get(o)?._setVisible(Wl,!1,!0);a._setVisible(Wl,!!n,!0),this.#e=null}setOCGState({state:e,preserveRB:n}){let i;for(const a of e){switch(a){case"ON":case"OFF":case"Toggle":i=a;continue}const s=this.#t.get(a);if(s)switch(i){case"ON":this.setVisibility(a,!0,n);break;case"OFF":this.setVisibility(a,!1,n);break;case"Toggle":this.setVisibility(a,!s.visible,n);break}}this.#e=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new LD;for(const[n,i]of this.#t)e.update(`${n}:${i.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class B${constructor(e,{disableRange:n=!1,disableStream:i=!1}){tt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:s,progressiveDone:o,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=c,s?.length>0){const d=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,h)=>{this._onReceiveData({begin:d,chunk:h})}),e.addProgressListener((d,h)=>{this._onProgress({loaded:d,total:h})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const a=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});tt(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){tt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new z$(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new $$(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class z${constructor(e,n,i=!1,a=null){this._stream=e,this._done=i||!1,this._filename=Yg(a)?a:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class $${constructor(e,n,i){this._stream=e,this._begin=n,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function F$(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let f=c(n);return f=unescape(f),f=d(f),f=h(f),s(f)}if(n=o(t),n){const f=h(n);return s(f)}if(n=i("filename","i").exec(t),n){n=n[1];let f=c(n);return f=h(f),s(f)}function i(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function a(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const m=new TextDecoder(f,{fatal:!0}),x=Wd(p);p=m.decode(x),e=!1}catch{}}return p}function s(f){return e&&/[\x80-\xff]/.test(f)&&(f=a("utf-8",f),e&&(f=a("iso-8859-1",f))),f}function o(f){const p=[];let m;const x=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=x.exec(f))!==null;){let[,y,_,S]=m;if(y=parseInt(y,10),y in p){if(y===0)break;continue}p[y]=[_,S]}const b=[];for(let y=0;y<p.length&&y in p;++y){let[_,S]=p[y];S=c(S),_&&(S=unescape(S),y===0&&(S=d(S))),b.push(S)}return b.join("")}function c(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let m=0;m<p.length;++m){const x=p[m].indexOf('"');x!==-1&&(p[m]=p[m].slice(0,x),p.length=m+1),p[m]=p[m].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function d(f){const p=f.indexOf("'");if(p===-1)return f;const m=f.slice(0,p),b=f.slice(p+1).replace(/^[^']*'/,"");return a(m,b)}function h(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,m,x,b){if(x==="q"||x==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,_){return String.fromCharCode(parseInt(_,16))}),a(m,b);try{b=atob(b)}catch{}return a(m,b)})}return""}function VD(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const i in e){const a=e[i];a!==void 0&&n.append(i,a)}return n}function Xg(t){return URL.parse(t)?.origin??null}function qD({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:i}){const a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(a.suggestedLength=s,s<=2*n)||i||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function GD(t){const e=t.get("Content-Disposition");if(e){let n=F$(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(Yg(n))return n}return null}function Zd(t,e){return new gd(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function WD(t){return t===200||t===206}function YD(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function XD(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:($e(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class H${_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=VD(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return tt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new U$(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new V$(this,e,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class U${constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const i=new Headers(e.headers),a=n.url;fetch(a,YD(i,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=Xg(s.url),!WD(s.status))throw Zd(s.status,a);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:c,suggestedLength:d}=qD({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=GD(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new $a("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:XD(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class V${constructor(e,n,i){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${n}-${i-1}`);const o=a.url;fetch(o,YD(s,this._withCredentials,this._abortController)).then(c=>{const d=Xg(c.url);if(d!==e._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${e._responseOrigin}".`);if(!WD(c.status))throw Zd(c.status,o);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:XD(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const E0=200,T0=206;function q$(t){const e=t.response;return typeof e!="string"?e:Wd(e).buffer}class G${_responseOrigin=null;constructor({url:e,httpHeaders:n,withCredentials:i}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=VD(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,i=this.currXhrId++,a=this.pendingRequests[i]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[s,o]of this.headers)n.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),a.expectedStatus=T0):a.expectedStatus=E0,n.responseType="arraybuffer",tt(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,i),n.onprogress=this.onProgress.bind(this,i),a.onHeadersReceived=e.onHeadersReceived,a.onDone=e.onDone,a.onError=e.onError,a.onProgress=e.onProgress,n.send(null),i}onProgress(e,n){const i=this.pendingRequests[e];i&&i.onProgress?.(n)}onStateChange(e,n){const i=this.pendingRequests[e];if(!i)return;const a=i.xhr;if(a.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),a.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],a.status===0&&this.isHttp){i.onError(a.status);return}const s=a.status||E0;if(!(s===E0&&i.expectedStatus===T0)&&s!==i.expectedStatus){i.onError(a.status);return}const c=q$(a);if(s===T0){const d=a.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);h?i.onDone({begin:parseInt(h[1],10),chunk:c}):($e('Missing or invalid "Content-Range" header.'),i.onError(0))}else c?i.onDone({begin:0,chunk:c}):i.onError(a.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class W${constructor(e){this._source=e,this._manager=new G$(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return tt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Y$(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const i=new X$(this._manager,e,n);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Y${constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=Xg(n.responseURL);const i=n.getAllResponseHeaders(),a=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[d,...h]=c.split(": ");return[d,h.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=qD({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=GD(a),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Zd(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class X${constructor(e,n,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=Xg(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Zd(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const K$=/^[a-z][a-z0-9\-+.]+:/i;function J$(t){if(K$.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class Z${constructor(e){this.source=e,this.url=J$(e.url),tt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return tt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Q$(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new eF(this,e,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Q${constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=Zd(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new $a("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class eF{constructor(e,n,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=e.source;this._isStreamingSupported=!a.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:n,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Iu=Symbol("INITIAL_DATA");class KD{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Iu}}get(e,n=null){if(n){const a=this.#t(e);return a.promise.then(()=>n(a.data)),null}const i=this.#e[e];if(!i||i.data===Iu)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const n=this.#e[e];return!!n&&n.data!==Iu}delete(e){const n=this.#e[e];return!n||n.data===Iu?!1:(delete this.#e[e],!0)}resolve(e,n=null){const i=this.#t(e);i.data=n,i.resolve()}clear(){for(const e in this.#e){const{data:n}=this.#e[e];n?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:n}=this.#e[e];n!==Iu&&(yield[e,n])}}}const tF=1e5,HA=30;let vd=class cr{#e=Promise.withResolvers();#t=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#s=null;#r=null;#a=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#m=[];#p=null;#u=[];#g=new WeakMap;#v=null;static#y=new Map;static#x=new Map;static#C=new WeakMap;static#w=null;static#b=new Set;constructor({textContentSource:e,container:n,viewport:i}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(d){d.enqueue(e),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=n,this.#d=i.scale*Dr.pixelRatio,this.#h=i.rotation,this.#r={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:s,pageX:o,pageY:c}=i.rawDims;this.#v=[1,0,0,-1,-o,c+s],this.#o=a,this.#a=s,cr.#T(),Fs(n,i),this.#e.promise.finally(()=>{cr.#b.delete(this),this.#r=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=wn.platform;return Ve(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:n,done:i})=>{if(i){this.#e.resolve();return}this.#s??=n.lang,Object.assign(this.#f,n.styles),this.#N(n.items),e()},this.#e.reject)};return this.#c=this.#p.getReader(),cr.#b.add(this),e(),this.#e.promise}update({viewport:e,onBefore:n=null}){const i=e.scale*Dr.pixelRatio,a=e.rotation;if(a!==this.#h&&(n?.(),this.#h=a,Fs(this.#l,{rotation:a})),i!==this.#d){n?.(),this.#d=i;const s={div:null,properties:null,ctx:cr.#k(this.#s)};for(const o of this.#u)s.properties=this.#g.get(o),s.div=o,this.#S(s)}}cancel(){const e=new $a("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#m}#N(e){if(this.#i)return;this.#r.ctx??=cr.#k(this.#s);const n=this.#u,i=this.#m;for(const a of e){if(n.length>tF){$e("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),a.id&&this.#t.setAttribute("id",`${a.id}`),s.append(this.#t)}else a.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}i.push(a.str),this.#j(a)}}#j(e){const n=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(n);const a=Ce.transform(this.#v,e.transform);let s=Math.atan2(a[1],a[0]);const o=this.#f[e.fontName];o.vertical&&(s+=Math.PI/2);let c=this.#n&&o.fontSubstitution||o.fontFamily;c=cr.fontFamilyMap.get(c)||c;const d=Math.hypot(a[2],a[3]),h=d*cr.#I(c,o,this.#s);let f,p;s===0?(f=a[4],p=a[5]-h):(f=a[4]+h*Math.sin(s),p=a[5]-h*Math.cos(s));const m="calc(var(--total-scale-factor) *",x=n.style;this.#t===this.#l?(x.left=`${(100*f/this.#o).toFixed(2)}%`,x.top=`${(100*p/this.#a).toFixed(2)}%`):(x.left=`${m}${f.toFixed(2)}px)`,x.top=`${m}${p.toFixed(2)}px)`),x.fontSize=`${m}${(cr.#w*d).toFixed(2)}px)`,x.fontFamily=c,i.fontSize=d,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,this.#n&&(n.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const y=Math.abs(e.transform[0]),_=Math.abs(e.transform[3]);y!==_&&Math.max(y,_)/Math.min(y,_)>1.5&&(b=!0)}if(b&&(i.canvasWidth=o.vertical?e.height:e.width),this.#g.set(n,i),this.#r.div=n,this.#r.properties=i,this.#S(this.#r),i.hasText&&this.#t.append(n),i.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),this.#t.append(y)}}#S(e){const{div:n,properties:i,ctx:a}=e,{style:s}=n;let o="";if(cr.#w>1&&(o=`scale(${1/cr.#w})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=s,{canvasWidth:d,fontSize:h}=i;cr.#E(a,h*this.#d,c);const{width:f}=a.measureText(n.textContent);f>0&&(o=`scaleX(${d*this.#d/f}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(s.transform=o)}static cleanup(){if(!(this.#b.size>0)){this.#y.clear();for(const{canvas:e}of this.#x.values())e.remove();this.#x.clear()}}static#k(e=null){let n=this.#x.get(e||="");if(!n){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),n=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#x.set(e,n),this.#C.set(n,{size:0,family:""})}return n}static#E(e,n,i){const a=this.#C.get(e);n===a.size&&i===a.family||(e.font=`${n}px ${i}`,a.size=n,a.family=i)}static#T(){if(this.#w!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#w=e.getBoundingClientRect().height,e.remove()}static#I(e,n,i){const a=this.#y.get(e);if(a)return a;const s=this.#k(i);s.canvas.width=s.canvas.height=HA,this.#E(s,HA,e);const o=s.measureText(""),c=o.fontBoundingBoxAscent,d=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let h=.8;return c?h=c/(c+d):(wn.platform.isFirefox&&$e("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?h=n.ascent:n.descent&&(h=1+n.descent)),this.#y.set(e,h),h}};const nF=100;function w2(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new S2,{docId:n}=e,i=t.url?u$(t.url):null,a=t.data?d$(t.data):null,s=t.httpHeaders||null,o=t.withCredentials===!0,c=t.password??null,d=t.range instanceof C2?t.range:null,h=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let f=t.worker instanceof cc?t.worker:null;const p=t.verbosity,m=typeof t.docBaseUrl=="string"&&!Xd(t.docBaseUrl)?t.docBaseUrl:null,x=Hf(t.cMapUrl),b=t.cMapPacked!==!1,y=t.CMapReaderFactory||(Zn?x$:EA),_=Hf(t.iccUrl),S=Hf(t.standardFontDataUrl),N=t.StandardFontDataFactory||(Zn?y$:TA),E=Hf(t.wasmUrl),A=t.WasmFactory||(Zn?b$:kA),T=t.stopAtErrors!==!0,k=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,R=t.isEvalSupported!==!1,H=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Zn,V=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!Zn&&(wn.platform.isFirefox||!globalThis.chrome),Y=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,W=typeof t.disableFontFace=="boolean"?t.disableFontFace:Zn,X=t.fontExtraProperties===!0,ee=t.enableXfa===!0,L=t.ownerDocument||globalThis.document,P=t.disableRange===!0,M=t.disableStream===!0,I=t.disableAutoFetch===!0,G=t.pdfBug===!0,U=t.CanvasFactory||(Zn?v$:p$),K=t.FilterFactory||(Zn?m$:g$),z=t.enableHWA===!0,O=t.useWasm!==!1,$=d?d.length:t.length??NaN,B=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Zn&&!W,Q=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(y===EA&&N===TA&&A===kA&&x&&S&&E&&td(x,document.baseURI)&&td(S,document.baseURI)&&td(E,document.baseURI)),J=null;qz(p);const q={canvasFactory:new U({ownerDocument:L,enableHWA:z}),filterFactory:new K({docId:n,ownerDocument:L}),cMapReaderFactory:Q?null:new y({baseUrl:x,isCompressed:b}),standardFontDataFactory:Q?null:new N({baseUrl:S}),wasmFactory:Q?null:new A({baseUrl:E})};f||(f=cc.create({verbosity:p,port:Rs.workerPort}),e._worker=f);const re={docId:n,apiVersion:"5.4.296",data:a,password:c,disableAutoFetch:I,rangeChunkSize:h,length:$,docBaseUrl:m,enableXfa:ee,evaluatorOptions:{maxImageSize:k,disableFontFace:W,ignoreErrors:T,isEvalSupported:R,isOffscreenCanvasSupported:H,isImageDecoderSupported:V,canvasMaxAreaInBytes:Y,fontExtraProperties:X,useSystemFonts:B,useWasm:O,useWorkerFetch:Q,cMapUrl:x,iccUrl:_,standardFontDataUrl:S,wasmUrl:E}},Z={ownerDocument:L,pdfBug:G,styleElement:J,loadingParams:{disableAutoFetch:I,enableXfa:ee}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const ve=f.messageHandler.sendWithPromise("GetDocRequest",re,a?[a.buffer]:null);let ae;if(d)ae=new B$(d,{disableRange:P,disableStream:M});else if(!a){if(!i)throw new Error("getDocument - no `url` parameter provided.");const se=td(i)?H$:Zn?Z$:W$;ae=new se({url:i,length:$,httpHeaders:s,withCredentials:o,rangeChunkSize:h,disableRange:P,disableStream:M})}return ve.then(se=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const we=new nd(n,se,f.port),_e=new aF(we,e,ae,Z,q,z);e._transport=_e,we.send("Ready",null)})}).catch(e._capability.reject),e}class S2{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${S2.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let C2=class{#e=Promise.withResolvers();#t=[];#i=[];#n=[];#s=[];constructor(e,n,i=!1,a=null){this.length=e,this.initialData=n,this.progressiveDone=i,this.contentDispositionFilename=a}addRangeListener(e){this.#s.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#i.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,n){for(const i of this.#s)i(e,n)}onDataProgress(e,n){this.#e.promise.then(()=>{for(const i of this.#n)i(e,n)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const n of this.#i)n(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,n){wt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class iF{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ve(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class rF{#e=!1;constructor(e,n,i,a=!1){this._pageIndex=e,this._pageInfo=n,this._transport=i,this._stats=a?new _A:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new KD,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:i=0,offsetY:a=0,dontFlip:s=!1}={}){return new Yd({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:i,offsetY:a,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ve(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:n=e.canvas,viewport:i,intent:a="display",annotationMode:s=Zr.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:m=!1,recordOperations:x=!1,operationsFilter:b=null}){this._stats?.time("Overall");const y=this._transport.getRenderingIntent(a,s,p,m),{renderingIntent:_,cacheKey:S}=y;this.#e=!1,d||=this._transport.getOptionalContentConfig(_);let N=this._intentStates.get(S);N||(N=Object.create(null),this._intentStates.set(S,N)),N.streamReaderCancelTimeout&&(clearTimeout(N.streamReaderCancelTimeout),N.streamReaderCancelTimeout=null);const E=!!(_&ki.PRINT);N.displayReadyCapability||(N.displayReadyCapability=Promise.withResolvers(),N.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y));const A=!!(this._pdfBug&&globalThis.StepperManager?.enabled),T=!this.recordedBBoxes&&(x||A),k=V=>{if(N.renderTasks.delete(R),T){const Y=R.gfx?.dependencyTracker.take();Y&&(R.stepper&&R.stepper.setOperatorBBoxes(Y,R.gfx.dependencyTracker.takeDebugMetadata()),x&&(this.recordedBBoxes=Y))}E&&(this.#e=!0),this.#t(),V?(R.capability.reject(V),this._abortOperatorList({intentState:N,reason:V instanceof Error?V:new Error(V)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new Kl({callback:k,params:{canvas:n,canvasContext:e,dependencyTracker:T?new j$(n,N.operatorList.length,A):null,viewport:i,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:N.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:b});(N.renderTasks||=new Set).add(R);const H=R.task;return Promise.all([N.displayReadyCapability.promise,d]).then(([V,Y])=>{if(this.destroyed){k();return}if(this._stats?.time("Rendering"),!(Y.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:V,optionalContentConfig:Y}),R.operatorListChanged()}).catch(k),H}getOperatorList({intent:e="display",annotationMode:n=Zr.ENABLE,printAnnotationStorage:i=null,isEditing:a=!1}={}){function s(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(d))}const o=this._transport.getRenderingIntent(e,n,i,a,!0);let c=this._intentStates.get(o.cacheKey);c||(c=Object.create(null),this._intentStates.set(o.cacheKey,c));let d;return c.opListReadCapability||(d=Object.create(null),d.operatorListChanged=s,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>md.textContent(i));const n=this.streamTextContent(e);return new Promise(function(i,a){function s(){o.read().then(function({value:d,done:h}){if(h){i(c);return}c.lang??=d.lang,Object.assign(c.styles,d.styles),c.items.push(...d.items),s()},a)}const o=n.getReader(),c={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const i of n.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const n=this.#t();return e&&n&&(this._stats&&=new _A),n}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,n){const i=this._intentStates.get(n);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(e))}_renderPageChunk(e,n){for(let i=0,a=e.length;i<a;i++)n.operatorList.fnArray.push(e.fnArray[i]),n.operatorList.argsArray.push(e.argsArray[i]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const i of n.renderTasks)i.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:i,modifiedIds:a}){const{map:s,transfer:o}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:s,modifiedIds:a},o).getReader(),h=this._intentStates.get(n);h.streamReader=d;const f=()=>{d.read().then(({value:p,done:m})=>{if(m){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,h),f())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const m of h.renderTasks)m.operatorListChanged();this.#t()}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else if(h.opListReadCapability)h.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:e,reason:n,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof Wg){let a=nF;n.extraDelay>0&&n.extraDelay<1e3&&(a+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},a);return}}if(e.streamReader.cancel(new $a(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[a,s]of this._intentStates)if(s===e){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var Ms,Cr,Oa,ko,Hg,Do,Oo,ti,_p,JD,ZD,id,oc,jp;const Dt=class Dt{constructor({name:e=null,port:n=null,verbosity:i=Gz()}={}){Fr(this,ti);Fr(this,Ms,Promise.withResolvers());Fr(this,Cr,null);Fr(this,Oa,null);Fr(this,ko,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,n){if(kt(Dt,Oo).has(n))throw new Error("Cannot use more than one PDFWorker per port.");kt(Dt,Oo).set(n,this),Hr(this,ti,JD).call(this,n)}else Hr(this,ti,ZD).call(this)}get promise(){return kt(this,Ms).promise}get port(){return kt(this,Oa)}get messageHandler(){return kt(this,Cr)}destroy(){this.destroyed=!0,kt(this,ko)?.terminate(),pi(this,ko,null),kt(Dt,Oo).delete(kt(this,Oa)),pi(this,Oa,null),kt(this,Cr)?.destroy(),pi(this,Cr,null)}static create(e){const n=kt(this,Oo).get(e?.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Dt(e)}static get workerSrc(){if(Rs.workerSrc)return Rs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ve(this,"_setupFakeWorkerGlobal",(async()=>kt(this,oc,jp)?kt(this,oc,jp):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ms=new WeakMap,Cr=new WeakMap,Oa=new WeakMap,ko=new WeakMap,Hg=new WeakMap,Do=new WeakMap,Oo=new WeakMap,ti=new WeakSet,_p=function(){kt(this,Ms).resolve(),kt(this,Cr).send("configure",{verbosity:this.verbosity})},JD=function(e){pi(this,Oa,e),pi(this,Cr,new nd("main","worker",e)),kt(this,Cr).on("ready",()=>{}),Hr(this,ti,_p).call(this)},ZD=function(){if(kt(Dt,Do)||kt(Dt,oc,jp)){Hr(this,ti,id).call(this);return}let{workerSrc:e}=Dt;try{Dt._isSameOrigin(window.location,e)||(e=Dt._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),i=new nd("main","worker",n),a=()=>{s.abort(),i.destroy(),n.terminate(),this.destroyed?kt(this,Ms).reject(new Error("Worker was destroyed")):Hr(this,ti,id).call(this)},s=new AbortController;n.addEventListener("error",()=>{kt(this,ko)||a()},{signal:s.signal}),i.on("test",c=>{if(s.abort(),this.destroyed||!c){a();return}pi(this,Cr,i),pi(this,Oa,n),pi(this,ko,n),Hr(this,ti,_p).call(this)}),i.on("ready",c=>{if(s.abort(),this.destroyed){a();return}try{o()}catch{Hr(this,ti,id).call(this)}});const o=()=>{const c=new Uint8Array;i.send("test",c,[c.buffer])};o();return}catch{Gg("The worker has been disabled.")}Hr(this,ti,id).call(this)},id=function(){kt(Dt,Do)||($e("Setting up fake worker."),pi(Dt,Do,!0)),Dt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){kt(this,Ms).reject(new Error("Worker was destroyed"));return}const n=new f$;pi(this,Oa,n);const i=`fake${X4(Dt,Hg)._++}`,a=new nd(i+"_worker",i,n);e.setup(a,n),pi(this,Cr,new nd(i,i+"_worker",n)),Hr(this,ti,_p).call(this)}).catch(e=>{kt(this,Ms).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},oc=new WeakSet,jp=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Fr(Dt,oc),Fr(Dt,Hg,0),Fr(Dt,Do,!1),Fr(Dt,Oo,new WeakMap),Zn&&(pi(Dt,Do,!0),Rs.workerSrc||="./pdf.worker.mjs"),Dt._isSameOrigin=(e,n)=>{const i=URL.parse(e);if(!i?.origin||i.origin==="null")return!1;const a=new URL(n,i);return i.origin===a.origin},Dt._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},Dt.fromPort=e=>{if(t$("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Dt.create(e)};let cc=Dt;class aF{#e=new Map;#t=new Map;#i=new Map;#n=new Map;#s=null;constructor(e,n,i,a,s,o){this.messageHandler=e,this.loadingTask=n,this.commonObjs=new KD,this.fontLoader=new l$({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}#r(e,n=null){const i=this.#e.get(e);if(i)return i;const a=this.messageHandler.sendWithPromise(e,n);return this.#e.set(e,a),a}get annotationStorage(){return Ve(this,"annotationStorage",new y2)}getRenderingIntent(e,n=Zr.ENABLE,i=null,a=!1,s=!1){let o=ki.DISPLAY,c=Iy;switch(e){case"any":o=ki.ANY;break;case"display":break;case"print":o=ki.PRINT;break;default:$e(`getRenderingIntent - invalid intent: ${e}`)}const d=o&ki.PRINT&&i instanceof ID?i:this.annotationStorage;switch(n){case Zr.DISABLE:o+=ki.ANNOTATIONS_DISABLE;break;case Zr.ENABLE:break;case Zr.ENABLE_FORMS:o+=ki.ANNOTATIONS_FORMS;break;case Zr.ENABLE_STORAGE:o+=ki.ANNOTATIONS_STORAGE,c=d.serializable;break;default:$e(`getRenderingIntent - invalid annotationMode: ${n}`)}a&&(o+=ki.IS_EDITING),s&&(o+=ki.OPLIST);const{ids:h,hash:f}=d.modifiedIds,p=[o,c.hash,f];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:c,modifiedIds:h}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of this.#t.values())e.push(i._destroy());this.#t.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),vd.cleanup(),this._networkStream?.cancelAllRequests(new $a("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(i,a)=>{tt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},a.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){a.close();return}tt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{a.error(s)})},a.onCancel=s=>{this._fullReader.cancel(s),a.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async i=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:s,contentLength:o}=this._fullReader;return(!a||!s)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{n.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:a,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(i,a)=>{tt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){a.close();return}a.onPull=()=>{s.read().then(function({value:o,done:c}){if(c){a.close();return}tt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{a.error(o)})},a.onCancel=o=>{s.cancel(o),a.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,n._capability.resolve(new iF(i,this))}),e.on("DocException",i=>{n._capability.reject(gi(i))}),e.on("PasswordRequest",i=>{this.#s=Promise.withResolvers();try{if(!n.onPassword)throw gi(i);const a=s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})};n.onPassword(a,i.code)}catch(a){this.#s.reject(a)}return this.#s.promise}),e.on("DataLoaded",i=>{n.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,a,s])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(a){case"Font":if("error"in s){const f=s.error;$e(`Error during font loading: ${f}`),this.commonObjs.resolve(i,f);break}const o=new bt(s),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,d=new c$(o,c,s.extra,s.charProcOperatorList);this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:h}=s;tt(h,"The imageRef must be defined.");for(const f of this.#t.values())for(const[,p]of f.objs)if(p?.ref===h)return p.dataLen?(this.commonObjs.resolve(i,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),e.on("obj",([i,a,s,o])=>{if(this.destroyed)return;const c=this.#t.get(a);if(!c.objs.has(i)){if(c._intentStates.size===0){o?.bitmap?.close();return}switch(s){case"Image":case"Pattern":c.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{this.destroyed||n.onProgress?.({loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[i.type];if(!a)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&$e("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,i=this.#i.get(n);if(i)return i;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#n.set(s.refStr,e);const o=new rF(n,s,this,this._params.pdfBug);return this.#t.set(n,o),o});return this.#i.set(n,a),a}getPageIndex(e){return By(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#r("GetOptionalContentConfig").then(n=>new I$(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=this.#e.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,null).then(a=>({info:a[0],metadata:a[1]?new R$(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),vd.cleanup()}}cachedPageNumber(e){if(!By(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(n)??null}}class sF{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:n}=this.#e;return e.form||e.canvas&&n?.size>0}}class Kl{#e=null;static#t=new WeakSet;constructor({callback:e,params:n,objs:i,commonObjs:a,annotationCanvasMap:s,operatorList:o,pageIndex:c,canvasFactory:d,filterFactory:h,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:m=null,enableHWA:x=!1,operationsFilter:b=null}){this.callback=e,this.params=n,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=h,this._pdfBug=p,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new sF(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=x,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(Kl.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Kl.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:a,background:s,dependencyTracker:o}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new ec(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:a,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Kl.#t.delete(this._canvas),e||=new Wg(`Rendering cancelled, page ${this._pageIndex+1}`,n),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Kl.#t.delete(this._canvas),this.callback())))}}const A2="5.4.296",QD="f56dc8601";class Di{#e=null;#t=null;#i;#n=null;#s=!1;#r=!1;#a=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return Ve(this,"_keyboardManager",new Kd([[["Escape","mac+Escape"],Di.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Di.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Di.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Di.prototype._moveToPrevious],[["Home","mac+Home"],Di.prototype._moveToBeginning],[["End","mac+End"],Di.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:n=null}){e?(this.#r=!1,this.#a=e):this.#r=!0,this.#l=e?._uiManager||n,this.#o=this.#l._eventBus,this.#i=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Di.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#a&&(e.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const n=this.#l._signal;e.addEventListener("click",this.#p.bind(this),{signal:n}),e.addEventListener("keydown",this.#m.bind(this),{signal:n});const i=this.#t=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#i,e.append(i),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),n=this.#l._signal;e.addEventListener("contextmenu",Hi,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(e.id=`${this.#a.id}_colorpicker_dropdown`);for(const[i,a]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",a),s.title=i,s.setAttribute("data-l10n-id",Di.#h[i]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=a,s.ariaSelected=a===this.#i,s.addEventListener("click",this.#f.bind(this,a),{signal:n}),e.append(s)}return e.addEventListener("keydown",this.#m.bind(this),{signal:n}),e}#f(e,n){n.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Qe.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#p(e);return}const n=e.target.getAttribute("data-color");n&&this.#f(n,e)}_moveToNext(e){if(!this.#g){this.#p(e);return}if(e.target===this.#e){this.#n.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstChild||e.target===this.#e){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#p(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#g){this.#p(e);return}this.#n.firstChild?.focus()}_moveToEnd(e){if(!this.#g){this.#p(e);return}this.#n.lastChild?.focus()}#m(e){Di._keyboardManager.exec(this,e)}#p(e){if(this.#g){this.hideDropdown();return}if(this.#s=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const n=this.#n=this.#d();this.#e.append(n)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#g(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#g){this.#a?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const n=this.#l.highlightColors.values();for(const i of this.#n.children)i.ariaSelected=n.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class xd{#e=null;#t=null;#i=null;static#n=null;constructor(e){this.#t=e,this.#i=e._uiManager,xd.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:n,colorValue:i}=this.#t,a=this.#e=document.createElement("input");return a.type="color",a.value=i||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",xd.#n[e]),a.addEventListener("input",()=>{this.#i.updateParams(n,a.value)},{signal:this.#i._signal}),a}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function UA(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Bu(t){return Math.max(0,Math.min(255,255*t))}class VA{static CMYK_G([e,n,i,a]){return["G",1-Math.min(1,.3*e+.59*i+.11*n+a)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Bu(e),[e,e,e]}static G_HTML([e]){const n=UA(e);return`#${n}${n}${n}`}static RGB_G([e,n,i]){return["G",.3*e+.59*n+.11*i]}static RGB_rgb(e){return e.map(Bu)}static RGB_HTML(e){return`#${e.map(UA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,i,a]){return["RGB",1-Math.min(1,e+a),1-Math.min(1,i+a),1-Math.min(1,n+a)]}static CMYK_rgb([e,n,i,a]){return[Bu(1-Math.min(1,e+a)),Bu(1-Math.min(1,i+a)),Bu(1-Math.min(1,n+a))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,i]){const a=1-e,s=1-n,o=1-i,c=Math.min(a,s,o);return["CMYK",a,s,o,c]}}class oF{create(e,n,i=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),i||(a.setAttribute("width",`${e}px`),a.setAttribute("height",`${n}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${e} ${n}`),a}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){wt("Abstract method `_createSVG` called.")}}class yd extends oF{_createSVG(e){return document.createElementNS(ka,e)}}const lF=9,Bo=new WeakSet,cF=new Date().getTimezoneOffset()*60*1e3;class qA{static create(e){switch(e.data.annotationType){case Jt.LINK:return new N2(e);case Jt.TEXT:return new dF(e);case Jt.WIDGET:switch(e.data.fieldType){case"Tx":return new hF(e);case"Btn":return e.data.radioButton?new e6(e):e.data.checkBox?new pF(e):new gF(e);case"Ch":return new mF(e);case"Sig":return new fF(e)}return new Jo(e);case Jt.POPUP:return new Fy(e);case Jt.FREETEXT:return new t6(e);case Jt.LINE:return new xF(e);case Jt.SQUARE:return new yF(e);case Jt.CIRCLE:return new bF(e);case Jt.POLYLINE:return new n6(e);case Jt.CARET:return new jF(e);case Jt.INK:return new E2(e);case Jt.POLYGON:return new _F(e);case Jt.HIGHLIGHT:return new i6(e);case Jt.UNDERLINE:return new wF(e);case Jt.SQUIGGLY:return new SF(e);case Jt.STRIKEOUT:return new CF(e);case Jt.STAMP:return new r6(e);case Jt.FILEATTACHMENT:return new AF(e);default:return new Ht(e)}}}class Ht{#e=null;#t=!1;#i=null;constructor(e,{isRenderable:n=!1,ignoreBorder:i=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(i)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ht._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,n=this.annotationStorage?.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:i,rect:a}=this.data;let s=-1/0,o=-1/0;if(n?.length>=8){for(let c=0;c<n.length;c+=8)n[c+1]>o?(o=n[c+1],s=n[c+2]):n[c+1]===o&&(s=Math.max(s,n[c+2]));return[s,o]}if(i?.length>=1){for(const c of i)for(let d=0,h=c.length;d<h;d+=2)c[d+1]>o?(o=c[d+1],s=c[d]):c[d+1]===o&&(s=Math.max(s,c[d]));if(s!==1/0)return[s,o]}return a?[a[2],a[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:s,pageY:o}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-o)/a,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${pd}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:n}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:i})||this.annotationStorage.setValue(`${pd}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:n,popup:i}=e;n&&this.#n(n);let a=this.#i?.popup||this.popup;!a&&i?.text&&(this._createPopup(i),a=this.#i.popup),a&&(a.updateEdited(e),i?.deleted&&(a.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#i?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:n},data:{rect:i,rotation:a},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:c,pageY:d}}}}=this;i?.splice(0,4,...e),n.left=`${100*(e[0]-c)/s}%`,n.top=`${100*(o-e[3]+d)/o}%`,a===0?(n.width=`${100*(e[2]-e[0])/s}%`,n.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(a)}_createContainer(e){const{data:n,parent:{page:i,viewport:a}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),!(this instanceof Jo)&&!(this instanceof N2)&&(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof Fy){const{rotation:y}=n;return!n.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:c,height:d}=this;if(!e&&n.borderStyle.width>0){o.borderWidth=`${n.borderStyle.width}px`;const y=n.borderStyle.horizontalCornerRadius,_=n.borderStyle.verticalCornerRadius;if(y>0||_>0){const N=`calc(${y}px * var(--total-scale-factor)) / calc(${_}px * var(--total-scale-factor))`;o.borderRadius=N}else if(this instanceof e6){const N=`calc(${c}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;o.borderRadius=N}switch(n.borderStyle.style){case Gl.SOLID:o.borderStyle="solid";break;case Gl.DASHED:o.borderStyle="dashed";break;case Gl.BEVELED:$e("Unimplemented border style: beveled");break;case Gl.INSET:$e("Unimplemented border style: inset");break;case Gl.UNDERLINE:o.borderBottomStyle="solid";break}const S=n.borderColor||null;S?(this.#t=!0,o.borderColor=Ce.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):o.borderWidth=0}const h=Ce.normalizeRect([n.rect[0],i.view[3]-n.rect[1]+i.view[1],n.rect[2],i.view[3]-n.rect[3]+i.view[1]]),{pageWidth:f,pageHeight:p,pageX:m,pageY:x}=a.rawDims;o.left=`${100*(h[0]-m)/f}%`,o.top=`${100*(h[1]-x)/p}%`;const{rotation:b}=n;return n.hasOwnCanvas||b===0?(o.width=`${100*c/f}%`,o.height=`${100*d/p}%`):this.setRotation(b,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:a}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),n.style.width=`${100*s/i}%`,n.style.height=`${100*o/a}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,i,a)=>{const s=a.detail[n],o=s[0],c=s.slice(1);a.target.style[i]=VA[`${o}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:VA[`${o}_rgb`](c)})};return Ve(this,"_commonActions",{display:n=>{const{display:i}=n.detail,a=i%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:i===1||i===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:i}=n.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const i=n.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,n){const i=this._commonActions;for(const a of Object.keys(n.detail))(e[a]||i[a])?.(n)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const i=this._commonActions;for(const[a,s]of Object.entries(n)){const o=i[a];if(o){const c={detail:{[a]:s},target:e};o(c),delete n[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,i,a,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,_,S,N]=e.subarray(2,6);if(a===y&&s===_&&n===S&&i===N)return}const{style:o}=this.container;let c;if(this.#t){const{borderColor:y,borderWidth:_}=o;o.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const d=a-n,h=s-i,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const m=f.createElement("defs");p.append(m);const x=f.createElement("clipPath"),b=`clippath_${this.data.id}`;x.setAttribute("id",b),x.setAttribute("clipPathUnits","objectBoundingBox"),m.append(x);for(let y=2,_=e.length;y<_;y+=8){const S=e[y],N=e[y+1],E=e[y+2],A=e[y+3],T=f.createElement("rect"),k=(E-n)/d,R=(s-N)/h,H=(S-E)/d,V=(N-A)/h;T.setAttribute("x",k),T.setAttribute("y",R),T.setAttribute("width",H),T.setAttribute("height",V),x.append(T),c?.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${R}" width="${H}" height="${V}"/>`)}this.#t&&(c.push("</g></svg>')"),o.backgroundImage=c.join("")),this.container.append(p),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){const{data:n}=this;let i,a;e?(i={str:e.text},a=e.date):(i=n.contentsObj,a=n.modificationDate);const s=this.#i=new Fy({data:{color:n.color,titleObj:n.titleObj,modificationDate:a,contentsObj:i,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(s.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){wt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const i=[];if(this._fieldObjects){const a=this._fieldObjects[e];if(a)for(const{page:s,id:o,exportValues:c}of a){if(s===-1||o===n)continue;const d=typeof c=="string"?c:null,h=document.querySelector(`[data-element-id="${o}"]`);if(h&&!Bo.has(h)){$e(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:d,domElement:h})}return i}for(const a of document.getElementsByName(e)){const{exportValue:s}=a,o=a.getAttribute("data-element-id");o!==n&&Bo.has(a)&&i.push({id:o,exportValue:s,domElement:a})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class uF extends Ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class N2 extends Ht{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let a=!1;return e.url?(n.addLinkAttributes(i,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(i,e.action,e.overlaidText),a=!0):e.attachment?(this.#t(i,e.attachment,e.overlaidText,e.attachmentDest),a=!0):e.setOCGState?(this.#i(i,e.setOCGState,e.overlaidText),a=!0):e.dest?(this._bindLink(i,e.dest,e.overlaidText),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),a=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,n,i=""){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#e(),i&&(e.title=i)}_bindNamedAction(e,n,i=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(e.title=i),this.#e()}#t(e,n,i="",a=null){e.href=this.linkService.getAnchorUrl(""),n.description?e.title=n.description:i&&(e.title=i),e.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,a),!1),this.#e()}#i(e,n,i=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(e.title=i),this.#e()}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const s=i.get(a);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1))}n.overlaidText&&(e.title=n.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,n){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){$e('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{i?.();const{fields:a,refs:s,include:o}=n,c=[];if(a.length!==0||s.length!==0){const f=new Set(s);for(const p of a){const m=this._fieldObjects[p]||[];for(const{id:x}of m)f.add(x)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===o&&c.push(m)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const d=this.annotationStorage,h=[];for(const f of c){const{id:p}=f;switch(h.push(p),f.type){case"text":{const x=f.defaultValue||"";d.setValue(p,{value:x});break}case"checkbox":case"radiobutton":{const x=f.defaultValue===f.exportValues;d.setValue(p,{value:x});break}case"combobox":case"listbox":{const x=f.defaultValue||"";d.setValue(p,{value:x});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!Bo.has(m)){$e(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}}),!1}}}class dF extends Ht{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Jo extends Ht{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return wn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,i,a,s){i.includes("mouse")?e.addEventListener(i,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{if(i==="blur"){if(!n.focused||!o.relatedTarget)return;n.focused=!1}else if(i==="focus"){if(n.focused)return;n.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:s(o)}})})}_setEventListeners(e,n,i,a){for(const[s,o]of i)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(n||={focused:!1}),this._setEventListener(e,n,s,o,a),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,n,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Ce.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||lF,s=e.style;let o;const c=2,d=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(h/(j0*a))||1,p=h/f;o=Math.min(a,d(p/j0))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c);o=Math.min(a,d(h/j0))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=Ce.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class hF extends Jo{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,i,a){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[n]=i),s.setValue(o.id,{[a]:i})}render(){const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=e.getValue(n,{value:this.data.fieldValue});let s=a.value||"";const o=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let c=a.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:s,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??s,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",c??s),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Bo.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,m=!!f&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),o&&(i.maxLength=o),i.addEventListener("input",b=>{e.setValue(n,{value:b.target.value}),this.setPropertyOnSiblings(i,"value",b.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",b=>{const y=this.data.defaultFieldValue??"";i.value=d.userValue=y,d.formattedValue=null});let x=b=>{const{formattedValue:y}=d;y!=null&&(b.target.value=y),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",y=>{if(d.focused)return;const{target:_}=y;if(m&&(_.type=f,p&&(_.step=p)),d.userValue){const S=d.userValue;if(m)if(f==="time"){const N=new Date(S),E=[N.getHours(),N.getMinutes(),N.getSeconds()];_.value=E.map(A=>A.toString().padStart(2,"0")).join(":")}else _.value=new Date(S-cF).toISOString().split(f==="date"?"T":".",1)[0];else _.value=S}d.lastCommittedValue=_.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const _={value(S){d.userValue=S.detail.value??"",m||e.setValue(n,{value:d.userValue.toString()}),S.target.value=d.userValue},formattedValue(S){const{formattedValue:N}=S.detail;d.formattedValue=N,N!=null&&S.target!==document.activeElement&&(S.target.value=N);const E={formattedValue:N};m&&(E.value=N),e.setValue(n,E)},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{const{charLimit:N}=S.detail,{target:E}=S;if(N===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",N);let A=d.userValue;!A||A.length<=N||(A=A.slice(0,N),E.value=d.userValue=A,e.setValue(n,{value:A}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:A,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(_,y)}),i.addEventListener("keydown",y=>{d.commitKey=1;let _=-1;if(y.key==="Escape"?_=0:y.key==="Enter"&&!this.data.multiLine?_=2:y.key==="Tab"&&(d.commitKey=3),_===-1)return;const{value:S}=y.target;d.lastCommittedValue!==S&&(d.lastCommittedValue=S,d.userValue=S,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,willCommit:!0,commitKey:_,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const b=x;x=null,i.addEventListener("blur",y=>{if(!d.focused||!y.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:_}=y;let{value:S}=_;if(m){if(S&&f==="time"){const N=S.split(":").map(E=>parseInt(E,10));S=new Date(2e3,0,1,N[0],N[1],N[2]||0).valueOf(),_.step=""}else S.includes("T")||(S=`${S}T00:00`),S=new Date(S).valueOf();_.type="text"}d.userValue=S,d.lastCommittedValue!==S&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,willCommit:!0,commitKey:d.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),b(y)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",y=>{d.lastCommittedValue=null;const{data:_,target:S}=y,{value:N,selectionStart:E,selectionEnd:A}=S;let T=E,k=A;switch(y.inputType){case"deleteWordBackward":{const R=N.substring(0,E).match(/\w*[^\w]*$/);R&&(T-=R[0].length);break}case"deleteWordForward":{const R=N.substring(E).match(/^[^\w]*\w*/);R&&(k+=R[0].length);break}case"deleteContentBackward":E===A&&(T-=1);break;case"deleteContentForward":E===A&&(k+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:N,change:_||"",willCommit:!1,selStart:T,selEnd:k}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(x&&i.addEventListener("blur",x),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/o;i.classList.add("comb"),i.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class fF extends Jo{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class pF extends Jo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,i=n.id;let a=e.getValue(i,{value:n.exportValue===n.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",e.setValue(i,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Bo.add(s),s.setAttribute("data-element-id",i),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,a&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:c,checked:d}=o.target;for(const h of this._getElementsByName(c,i)){const f=d&&h.exportValue===n.exportValue;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}e.setValue(i,{value:d})}),s.addEventListener("resetform",o=>{const c=n.defaultFieldValue||"Off";o.target.checked=c===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const c={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(i,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class e6 extends Jo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,i=n.id;let a=e.getValue(i,{value:n.fieldValue===n.buttonValue}).value;if(typeof a=="string"&&(a=a!==n.buttonValue,e.setValue(i,{value:a})),a)for(const o of this._getElementsByName(n.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Bo.add(s),s.setAttribute("data-element-id",i),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,a&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:c,checked:d}=o.target;for(const h of this._getElementsByName(c,i))e.setValue(h.id,{value:!1});e.setValue(i,{value:d})}),s.addEventListener("resetform",o=>{const c=n.defaultFieldValue;o.target.checked=c!=null&&c===n.buttonValue}),this.enableScripting&&this.hasJSActions){const o=n.buttonValue;s.addEventListener("updatefromsandbox",c=>{const d={value:h=>{const f=o===h.detail.value;for(const p of this._getElementsByName(h.target.name)){const m=f&&p.id===i;p.domElement&&(p.domElement.checked=m),e.setValue(p.id,{value:m})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class gF extends N2{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class mF extends Jo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,i=e.getValue(n,{value:this.data.fieldValue}),a=document.createElement("select");Bo.add(a),a.setAttribute("data-element-id",n),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const m of a.options)m.selected=m.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,i.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),s=!1),a.append(p)}let o=null;if(s){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),a.prepend(f),o=()=>{f.remove(),a.removeEventListener("input",o),o=null},a.addEventListener("input",o)}const c=f=>{const p=f?"value":"textContent",{options:m,multiple:x}=a;return x?Array.prototype.filter.call(m,b=>b.selected).map(b=>b[p]):m.selectedIndex===-1?null:m[m.selectedIndex][p]};let d=c(!1);const h=f=>{const p=f.target.options;return Array.prototype.map.call(p,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",f=>{const p={value(m){o?.();const x=m.detail.value,b=new Set(Array.isArray(x)?x:[x]);for(const y of a.options)y.selected=b.has(y.value);e.setValue(n,{value:c(!0)}),d=c(!1)},multipleSelection(m){a.multiple=!0},remove(m){const x=a.options,b=m.detail.remove;x[b].selected=!1,a.remove(b),x.length>0&&Array.prototype.findIndex.call(x,_=>_.selected)===-1&&(x[0].selected=!0),e.setValue(n,{value:c(!0),items:h(m)}),d=c(!1)},clear(m){for(;a.length!==0;)a.remove(0);e.setValue(n,{value:null,items:[]}),d=c(!1)},insert(m){const{index:x,displayValue:b,exportValue:y}=m.detail.insert,_=a.children[x],S=document.createElement("option");S.textContent=b,S.value=y,_?_.before(S):a.append(S),e.setValue(n,{value:c(!0),items:h(m)}),d=c(!1)},items(m){const{items:x}=m.detail;for(;a.length!==0;)a.remove(0);for(const b of x){const{displayValue:y,exportValue:_}=b,S=document.createElement("option");S.textContent=y,S.value=_,a.append(S)}a.options.length>0&&(a.options[0].selected=!0),e.setValue(n,{value:c(!0),items:h(m)}),d=c(!1)},indices(m){const x=new Set(m.detail.indices);for(const b of m.target.options)b.selected=x.has(b.index);e.setValue(n,{value:c(!0)}),d=c(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(p,f)}),a.addEventListener("input",f=>{const p=c(!0),m=c(!1);e.setValue(n,{value:p}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:d,change:m,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):a.addEventListener("input",function(f){e.setValue(n,{value:c(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Fy extends Ht{constructor(e){const{data:n,elements:i,parent:a}=e,s=!!a._commentManager;if(super(e,{isRenderable:!s&&Ht._hasPopupData(n)}),this.elements=i,s&&Ht._hasPopupData(n)){const o=this.popup=this.#e();for(const c of i)c.popup=o}else this.popup=null}#e(){return new vF({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const n=this.popup=this.#e(),i=[];for(const a of this.elements)a.popup=n,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${p2}${a}`).join(",")),this.container}}class vF{#e=null;#t=this.#V.bind(this);#i=this.#z.bind(this);#n=this.#M.bind(this);#s=this.#_.bind(this);#r=null;#a=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#m=null;#p=null;#u=null;#g=null;#v=null;#y=null;#x=null;#C=null;#w=null;#b=null;#N=!1;#j=null;#S=null;constructor({container:e,color:n,elements:i,titleObj:a,modificationDate:s,contentsObj:o,richText:c,parent:d,rect:h,parentRect:f,open:p,commentManager:m=null}){this.#a=e,this.#w=a,this.#o=o,this.#C=c,this.#h=d,this.#r=n,this.#x=h,this.#d=f,this.#l=i,this.#e=m,this.#j=i[0],this.#c=Pp.toDateObject(s),this.trigger=i.flatMap(x=>x.getElementsToTriggerPopup()),m?this.renderCommentButton():(this.#k(),this.#a.hidden=!0,p&&this.#_())}#k(){if(this.#p)return;this.#p=new AbortController;const{signal:e}=this.#p;for(const n of this.trigger)n.addEventListener("click",this.#s,{signal:e}),n.addEventListener("pointerenter",this.#n,{signal:e}),n.addEventListener("pointerleave",this.#i,{signal:e}),n.classList.add("popupTriggerArea");for(const n of this.#l)n.container?.addEventListener("keydown",this.#t,{signal:e})}#E(){const e=this.#l.find(n=>n.hasCommentButton);e&&(this.#v=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#g||(this.#v||this.#E(),!this.#v))return;const{signal:e}=this.#p=new AbortController,n=!!this.#j.extraPopupElement,i=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!n)},a=()=>{this.#e.toggleCommentPopup(this,!1,!0,!n)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(n){this.#g=this.#j.container;for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",i,{signal:e}),o.addEventListener("pointerenter",a,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=this.#g=document.createElement("button");o.className="annotationCommentButton";const c=this.#j.container;o.style.zIndex=c.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#I(),this.#T(),o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",i,{signal:e}),o.addEventListener("pointerenter",a,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),c.after(o)}}#T(){if(this.#j.extraPopupElement&&!this.#j.editor)return;this.renderCommentButton();const[e,n]=this.#v,{style:i}=this.#g;i.left=`calc(${e}%)`,i.top=`calc(${n}% - var(--comment-button-dim))`}#I(){this.#j.extraPopupElement||(this.renderCommentButton(),this.#g.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:n}=this.#j.commentData;return e?this.#h._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{this.#g?.focus()},0)}getData(){const{richText:e,color:n,opacity:i,creationDate:a,modificationDate:s}=this.#j.commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:i,creationDate:a,modificationDate:s}}get elementBeforePopup(){return this.#g}get comment(){return this.#S||=this.#j.commentText,this.#S}set comment(e){e!==this.comment&&(this.#j.commentText=this.#S=e)}get parentBoundingClientRect(){return this.#j.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){this.#g&&(this.#g.classList.toggle("selected",e),this.#g.ariaExpanded=n)}setSelectedCommentButton(e){this.#g.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#y)return this.#y;const{x:e,y:n,height:i}=this.#g.getBoundingClientRect(),{x:a,y:s,width:o,height:c}=this.#j.layer.getBoundingClientRect();return[(e-a)/o,(n+i-s)/c]}set commentPopupPosition(e){this.#y=e}hasDefaultPopupPosition(){return this.#y===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#g.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,i]=this.#y||this.commentButtonPosition.map(h=>h/100),a=this.parentBoundingClientRect,{x:s,y:o,width:c,height:d}=a;this.#e.showDialog(null,this,s+n*c,o+i*d,{...e,parentDimensions:a})}render(){if(this.#m)return;const e=this.#m=document.createElement("div");if(e.className="popup",this.#r){const i=e.style.outlineColor=Ce.makeHexColor(...this.#r);e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const n=document.createElement("span");if(n.className="header",this.#w?.str){const i=document.createElement("span");i.className="title",n.append(i),{dir:i.dir,str:i.textContent}=this.#w}if(e.append(n),this.#c){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),i.dateTime=this.#c.toISOString(),n.append(i)}m2({html:this.#O||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#a.append(e)}get#O(){const e=this.#C,n=this.#o;return e?.str&&(!n?.str||n.str===e.str)&&this.#C.html||null}get#P(){return this.#O?.attributes?.style?.fontSize||0}get#B(){return this.#O?.attributes?.style?.color||null}#R(e){const n=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},a={style:{color:this.#B,fontSize:this.#P?`calc(${this.#P}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:a});return i}#V(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#_()}updateEdited({rect:e,popup:n,deleted:i}){if(this.#e){i?(this.remove(),this.#S=null):n&&(n.deleted?this.remove():(this.#I(),this.#S=n.text)),e&&(this.#v=null,this.#E(),this.#T());return}if(i||n?.deleted){this.remove();return}this.#k(),this.#b||={contentsObj:this.#o,richText:this.#C},e&&(this.#u=null),n&&n.text&&(this.#C=this.#R(n.text),this.#c=Pp.toDateObject(n.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#b&&({contentsObj:this.#o,richText:this.#C}=this.#b,this.#b=null,this.#m?.remove(),this.#m=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#m?.remove(),this.#m=null,this.#N=!1,this.#f=!1,this.#g?.remove(),this.#g=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#A(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:s}}}=this.#h;let o=!!this.#d,c=o?this.#d:this.#x;for(const b of this.#l)if(!c||Ce.intersect(b.data.rect,c)!==null){c=b.data.rect,o=!0;break}const d=Ce.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),f=o?c[2]-c[0]+5:0,p=d[0]+f,m=d[1];this.#u=[100*(p-a)/n,100*(m-s)/i];const{style:x}=this.#a;x.left=`${this.#u[0]}%`,x.top=`${this.#u[1]}%`}#_(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#M(),this.#a.addEventListener("click",this.#s),this.#a.addEventListener("keydown",this.#t)):(this.#z(),this.#a.removeEventListener("click",this.#s),this.#a.removeEventListener("keydown",this.#t))}#M(){this.#m||this.render(),this.isVisible?this.#f&&this.#a.classList.add("focused"):(this.#A(),this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#z(){this.#a.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#N=this.isVisible,this.#N&&(this.#a.hidden=!0)}maybeShow(){this.#e||(this.#k(),this.#N&&(this.#m||this.#M(),this.#N=!1,this.#a.hidden=!1))}get isVisible(){return this.#e?!1:this.#a.hidden===!1}}class t6 extends Ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ze.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const i=document.createElement("span");i.textContent=n,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class xF extends Ht{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class yF extends Ht{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",n-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class bF extends Ht{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class n6 extends Ht{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:i,popupRef:a},width:s,height:o}=this;if(!n)return this.container;const c=this.svgFactory.create(s,o,!0);let d=[];for(let f=0,p=n.length;f<p;f+=2){const m=n[f]-e[0],x=e[3]-n[f+1];d.push(`${m},${x}`)}d=d.join(" ");const h=this.#e=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",d),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class _F extends n6{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class jF extends Ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class E2 extends Ht{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ze.HIGHLIGHT:ze.INK}#i(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:i,borderStyle:a,popupRef:s}}=this,{transform:o,width:c,height:d}=this.#i(n,e),h=this.svgFactory.create(c,d,!0),f=this.#e=this.svgFactory.createElement("svg:g");h.append(f),f.setAttribute("stroke-width",a.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let p=0,m=i.length;p<m;p++){const x=this.svgFactory.createElement(this.svgElementName);this.#t.push(x),x.setAttribute("points",i[p].join(",")),f.append(x)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:i,rect:a}=e,s=this.#e;if(n>=0&&s.setAttribute("stroke-width",n||1),i)for(let o=0,c=this.#t.length;o<c;o++)this.#t[o].setAttribute("points",i[o].join(","));if(a){const{transform:o,width:c,height:d}=this.#i(this.data.rotation,a);s.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class i6 extends Ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ze.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class wF extends Ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class SF extends Ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class CF extends Ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class r6 extends Ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ze.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class AF extends Ht{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;const{isMac:a}=wn.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&this.#t()}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let T2=class a6{#e=null;#t=null;#i=null;#n=new Map;#s=null;#r=null;constructor({div:e,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:a,page:s,viewport:o,structTreeLayer:c,commentManager:d,linkService:h,annotationStorage:f}){this.div=e,this.#e=n,this.#t=i,this.#s=c||null,this.#r=h||null,this.#i=f||new y2,this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=a,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async#a(e,n,i){const a=e.firstChild||e,s=a.id=`${p2}${n}`,o=await this.#s?.getAriaAttributes(s);if(o)for(const[c,d]of o)a.setAttribute(c,d);i?i.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,a,!1))}async render(e){const{annotations:n}=e,i=this.div;Fs(i,this.viewport);const a=new Map,s={data:null,layer:i,linkService:this.#r,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new yd,annotationStorage:this.#i,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of n){if(o.noHTML)continue;const c=o.annotationType===Jt.POPUP;if(c){const f=a.get(o.id);if(!f)continue;s.elements=f}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;s.data=o;const d=qA.create(s);if(!d.isRenderable)continue;if(!c&&o.popupRef){const f=a.get(o.popupRef);f?f.push(d):a.set(o.popupRef,[d])}const h=d.render();o.hidden&&(h.style.visibility="hidden"),await this.#a(h,o.id,s.elements),d.extraPopupElement?.popup?.renderCommentButton(),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#o()}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:this.#r,svgFactory:new yd,parent:this};for(const i of e){i.borderStyle||=a6._defaultBorderStyle,n.data=i;const a=qA.create(n);if(!a.isRenderable)continue;const s=a.render();await this.#a(s,i.id,null)}}update({viewport:e}){const n=this.div;this.viewport=e,Fs(n,{rotation:e.rotation}),this.#o(),n.hidden=!1}#o(){if(!this.#t)return;const e=this.div;for(const[n,i]of this.#t){const a=e.querySelector(`[data-annotation-id="${n}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:s}=a;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):a.append(i);const o=this.#n.get(n);o&&(o._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(n,a.id,i),o._hasNoCanvas=!1):o.canvas=i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:n}=this,{id:i,rotation:a}=e,s=new uF({data:{id:i,rect:e.getPDFRect(),rotation:a},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:this.#r,annotationStorage:this.#i}),o=s.render();return n.append(o),this.#e?.moveElementInDOM(n,o,o,!1),s.createOrUpdatePopup(),s}static get _defaultBorderStyle(){return Ve(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Gl.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Yf=/\r\n?|\n/g;class mn extends Pe{#e="";#t=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=mn.prototype,n=s=>s.isEmpty(),i=Fa.TRANSLATE_SMALL,a=Fa.TRANSLATE_BIG;return Ve(this,"_keyboardManager",new Kd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:n}]]))}static _type="freetext";static _editorType=ze.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||mn._defaultColor||Pe._defaultLineColor,this.#n=e.fontSize||mn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,n){Pe.initialize(e,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case Qe.FREETEXT_SIZE:mn._defaultFontSize=n;break;case Qe.FREETEXT_COLOR:mn._defaultColor=n;break}}updateParams(e,n){switch(e){case Qe.FREETEXT_SIZE:this.#s(n);break;case Qe.FREETEXT_COLOR:this.#r(n);break}}static get defaultPropertiesToUpdate(){return[[Qe.FREETEXT_SIZE,mn._defaultFontSize],[Qe.FREETEXT_COLOR,mn._defaultColor||Pe._defaultLineColor]]}get propertiesToUpdate(){return[[Qe.FREETEXT_SIZE,this.#n],[Qe.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new xd(this),[["colorPicker",this._colorPicker]]}get colorType(){return Qe.FREETEXT_COLOR}#s(e){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#n)*this.parentScale),this.#n=a,this.#o()},i=this.#n;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#r(e){const n=a=>{this.color=a,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-mn._internalPadding*e,-(mn._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const e=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const e=[];this.editorDiv.normalize();let n=null;for(const i of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(e.push(mn.#c(i)),n=i);return e.join(`
`)}#o(){const[e,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,o=s.style.display,c=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/n):(this.width=i.height/e,this.height=i.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,n=this.#e=this.#a().trimEnd();if(e===n)return;const i=a=>{if(this.#e=a,!a){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){mn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,n;(this._isCopy||this.annotationElementId)&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[h,f]=this.pageDimensions,[p,m]=this.pageTranslation;let x,b;switch(this.rotation){case 0:x=e+(o[0]-p)/h,b=n+this.height-(o[1]-m)/f;break;case 90:x=e+(o[0]-p)/h,b=n-(o[1]-m)/f,[c,d]=[d,-c];break;case 180:x=e-this.width+(o[0]-p)/h,b=n-(o[1]-m)/f,[c,d]=[-c,-d];break;case 270:x=e+(o[0]-p-this.height*f)/h,b=n+(o[1]-m-this.width*h)/f,[c,d]=[-d,c];break}this.setAt(x*a,b*s,c,d)}else this._moveAfterPaste(e,n);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Yf,"")}editorDivPaste(e){const n=e.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();const a=mn.#d(n.getData("text")||"").replaceAll(Yf,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:c,startOffset:d}=o,h=[],f=[];if(c.nodeType===Node.TEXT_NODE){const x=c.parentElement;if(f.push(c.nodeValue.slice(d).replaceAll(Yf,"")),x!==this.editorDiv){let b=h;for(const y of this.editorDiv.childNodes){if(y===x){b=f;continue}b.push(mn.#c(y))}}h.push(c.nodeValue.slice(0,d).replaceAll(Yf,""))}else if(c===this.editorDiv){let x=h,b=0;for(const y of this.editorDiv.childNodes)b++===d&&(x=f),x.push(mn.#c(y))}this.#e=`${h.join(`
`)}${a}${f.join(`
`)}`,this.#l();const p=new Range;let m=Math.sumPrecise(h.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const b=x.nodeValue.length;if(m<=b){p.setStart(x,m),p.setEnd(x,m);break}m-=b}s.removeAllRanges(),s.addRange(p)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}}#h(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=mn._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,n,i){let a=null;if(e instanceof t6){const{data:{defaultAppearanceData:{fontSize:o,fontColor:c},rect:d,rotation:h,id:f,popupRef:p,richText:m,contentsObj:x,creationDate:b,modificationDate:y},textContent:_,textPosition:S,parent:{page:{pageNumber:N}}}=e;if(!_||_.length===0)return null;a=e={annotationType:ze.FREETEXT,color:Array.from(c),fontSize:o,value:_.join(`
`),position:S,pageIndex:N-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:x?.str||null,richText:m,creationDate:b,modificationDate:y}}const s=await super.deserialize(e,n,i);return s.#n=e.fontSize,s.color=Ce.makeHexColor(...e.color),s.#e=mn.#d(e.value),s._initialData=a,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Pe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(e),{color:n,fontSize:this.#n,value:this.#h()});return this.addComment(i),e?(i.isCopy=!0,i):this.annotationElementId&&!this.#f(i)?null:(i.id=this.annotationElementId,i)}#f(e){const{value:n,fontSize:i,color:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==n||e.fontSize!==i||e.color.some((o,c)=>o!==a[c])||e.pageIndex!==s}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(!n)return null;const{style:i}=n;i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,n.replaceChildren();for(const a of this.#e.split(`
`)){const s=document.createElement("div");s.append(a?document.createTextNode(a):document.createElement("br")),n.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Se{static PRECISION=1e-4;toSVGPath(){wt("Abstract method `toSVGPath` must be implemented.")}get box(){wt("Abstract getter `box` must be implemented.")}serialize(e,n){wt("Abstract method `serialize` must be implemented.")}static _rescale(e,n,i,a,s,o){o||=new Float32Array(e.length);for(let c=0,d=e.length;c<d;c+=2)o[c]=n+e[c]*a,o[c+1]=i+e[c+1]*s;return o}static _rescaleAndSwap(e,n,i,a,s,o){o||=new Float32Array(e.length);for(let c=0,d=e.length;c<d;c+=2)o[c]=n+e[c+1]*a,o[c+1]=i+e[c]*s;return o}static _translate(e,n,i,a){a||=new Float32Array(e.length);for(let s=0,o=e.length;s<o;s+=2)a[s]=n+e[s],a[s+1]=i+e[s+1];return a}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,i,a,s){switch(s){case 90:return[1-n/i,e/a];case 180:return[1-e/i,1-n/a];case 270:return[n/i,1-e/a];default:return[e/i,n/a]}}static _normalizePagePoint(e,n,i){switch(i){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,i,a,s,o){return[(e+5*i)/6,(n+5*a)/6,(5*i+s)/6,(5*a+o)/6,(i+s)/2,(a+o)/2]}}class Co{#e;#t=[];#i;#n;#s=[];#r=new Float32Array(18);#a;#o;#c;#l;#h;#d;#f=[];static#m=8;static#p=2;static#u=Co.#m+Co.#p;constructor({x:e,y:n},i,a,s,o,c=0){this.#e=i,this.#d=s*a,this.#n=o,this.#r.set([NaN,NaN,NaN,NaN,e,n],6),this.#i=c,this.#l=Co.#m*a,this.#c=Co.#u*a,this.#h=a,this.#f.push(e,n)}isEmpty(){return isNaN(this.#r[8])}#g(){const e=this.#r.subarray(4,6),n=this.#r.subarray(16,18),[i,a,s,o]=this.#e;return[(this.#a+(e[0]-n[0])/2-i)/s,(this.#o+(e[1]-n[1])/2-a)/o,(this.#a+(n[0]-e[0])/2-i)/s,(this.#o+(n[1]-e[1])/2-a)/o]}add({x:e,y:n}){this.#a=e,this.#o=n;const[i,a,s,o]=this.#e;let[c,d,h,f]=this.#r.subarray(8,12);const p=e-h,m=n-f,x=Math.hypot(p,m);if(x<this.#c)return!1;const b=x-this.#l,y=b/x,_=y*p,S=y*m;let N=c,E=d;c=h,d=f,h+=_,f+=S,this.#f?.push(e,n);const A=-S/b,T=_/b,k=A*this.#d,R=T*this.#d;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([h+k,f+R],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([h-k,f-R],16),isNaN(this.#r[6])?(this.#s.length===0&&(this.#r.set([c+k,d+R],2),this.#s.push(NaN,NaN,NaN,NaN,(c+k-i)/s,(d+R-a)/o),this.#r.set([c-k,d-R],14),this.#t.push(NaN,NaN,NaN,NaN,(c-k-i)/s,(d-R-a)/o)),this.#r.set([N,E,c,d,h,f],6),!this.isEmpty()):(this.#r.set([N,E,c,d,h,f],6),Math.abs(Math.atan2(E-d,N-c)-Math.atan2(S,_))<Math.PI/2?([c,d,h,f]=this.#r.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((c+h)/2-i)/s,((d+f)/2-a)/o),[c,d,N,E]=this.#r.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((N+c)/2-i)/s,((E+d)/2-a)/o),!0):([N,E,c,d,h,f]=this.#r.subarray(0,6),this.#s.push(((N+5*c)/6-i)/s,((E+5*d)/6-a)/o,((5*c+h)/6-i)/s,((5*d+f)/6-a)/o,((c+h)/2-i)/s,((d+f)/2-a)/o),[h,f,c,d,N,E]=this.#r.subarray(12,18),this.#t.push(((N+5*c)/6-i)/s,((E+5*d)/6-a)/o,((5*c+h)/6-i)/s,((5*d+f)/6-a)/o,((c+h)/2-i)/s,((d+f)/2-a)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#s,n=this.#t;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#v();const i=[];i.push(`M${e[4]} ${e[5]}`);for(let a=6;a<e.length;a+=6)isNaN(e[a])?i.push(`L${e[a+4]} ${e[a+5]}`):i.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);this.#x(i);for(let a=n.length-6;a>=6;a-=6)isNaN(n[a])?i.push(`L${n[a+4]} ${n[a+5]}`):i.push(`C${n[a]} ${n[a+1]} ${n[a+2]} ${n[a+3]} ${n[a+4]} ${n[a+5]}`);return this.#y(i),i.join(" ")}#v(){const[e,n,i,a]=this.#e,[s,o,c,d]=this.#g();return`M${(this.#r[2]-e)/i} ${(this.#r[3]-n)/a} L${(this.#r[4]-e)/i} ${(this.#r[5]-n)/a} L${s} ${o} L${c} ${d} L${(this.#r[16]-e)/i} ${(this.#r[17]-n)/a} L${(this.#r[14]-e)/i} ${(this.#r[15]-n)/a} Z`}#y(e){const n=this.#t;e.push(`L${n[4]} ${n[5]} Z`)}#x(e){const[n,i,a,s]=this.#e,o=this.#r.subarray(4,6),c=this.#r.subarray(16,18),[d,h,f,p]=this.#g();e.push(`L${(o[0]-n)/a} ${(o[1]-i)/s} L${d} ${h} L${f} ${p} L${(c[0]-n)/a} ${(c[1]-i)/s}`)}newFreeDrawOutline(e,n,i,a,s,o){return new s6(e,n,i,a,s,o)}getOutlines(){const e=this.#s,n=this.#t,i=this.#r,[a,s,o,c]=this.#e,d=new Float32Array((this.#f?.length??0)+2);for(let p=0,m=d.length-2;p<m;p+=2)d[p]=(this.#f[p]-a)/o,d[p+1]=(this.#f[p+1]-s)/c;if(d[d.length-2]=(this.#a-a)/o,d[d.length-1]=(this.#o-s)/c,isNaN(i[6])&&!this.isEmpty())return this.#C(d);const h=new Float32Array(this.#s.length+24+this.#t.length);let f=e.length;for(let p=0;p<f;p+=2){if(isNaN(e[p])){h[p]=h[p+1]=NaN;continue}h[p]=e[p],h[p+1]=e[p+1]}f=this.#b(h,f);for(let p=n.length-6;p>=6;p-=6)for(let m=0;m<6;m+=2){if(isNaN(n[p+m])){h[f]=h[f+1]=NaN,f+=2;continue}h[f]=n[p+m],h[f+1]=n[p+m+1],f+=2}return this.#w(h,f),this.newFreeDrawOutline(h,d,this.#e,this.#h,this.#i,this.#n)}#C(e){const n=this.#r,[i,a,s,o]=this.#e,[c,d,h,f]=this.#g(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(n[2]-i)/s,(n[3]-a)/o,NaN,NaN,NaN,NaN,(n[4]-i)/s,(n[5]-a)/o,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(n[16]-i)/s,(n[17]-a)/o,NaN,NaN,NaN,NaN,(n[14]-i)/s,(n[15]-a)/o],0),this.newFreeDrawOutline(p,e,this.#e,this.#h,this.#i,this.#n)}#w(e,n){const i=this.#t;return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],n),n+=6}#b(e,n){const i=this.#r.subarray(4,6),a=this.#r.subarray(16,18),[s,o,c,d]=this.#e,[h,f,p,m]=this.#g();return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/c,(i[1]-o)/d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(a[0]-s)/c,(a[1]-o)/d],n),n+=24}}class s6 extends Se{#e;#t=new Float32Array(4);#i;#n;#s;#r;#a;constructor(e,n,i,a,s,o){super(),this.#a=e,this.#s=n,this.#e=i,this.#r=a,this.#i=s,this.#n=o,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(o);const[c,d,h,f]=this.#t;for(let p=0,m=e.length;p<m;p+=2)e[p]=(e[p]-c)/h,e[p+1]=(e[p+1]-d)/f;for(let p=0,m=n.length;p<m;p+=2)n[p]=(n[p]-c)/h,n[p+1]=(n[p+1]-d)/f}toSVGPath(){const e=[`M${this.#a[4]} ${this.#a[5]}`];for(let n=6,i=this.#a.length;n<i;n+=6){if(isNaN(this.#a[n])){e.push(`L${this.#a[n+4]} ${this.#a[n+5]}`);continue}e.push(`C${this.#a[n]} ${this.#a[n+1]} ${this.#a[n+2]} ${this.#a[n+3]} ${this.#a[n+4]} ${this.#a[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,i,a],s){const o=i-e,c=a-n;let d,h;switch(s){case 0:d=Se._rescale(this.#a,e,a,o,-c),h=Se._rescale(this.#s,e,a,o,-c);break;case 90:d=Se._rescaleAndSwap(this.#a,e,n,o,c),h=Se._rescaleAndSwap(this.#s,e,n,o,c);break;case 180:d=Se._rescale(this.#a,i,n,-o,c),h=Se._rescale(this.#s,i,n,-o,c);break;case 270:d=Se._rescaleAndSwap(this.#a,i,a,-o,-c),h=Se._rescaleAndSwap(this.#s,i,a,-o,-c);break}return{outline:Array.from(d),points:[Array.from(h)]}}#o(e){const n=this.#a;let i=n[4],a=n[5];const s=[i,a,i,a];let o=i,c=a,d=i,h=a;const f=e?Math.max:Math.min,p=new Float32Array(4);for(let x=6,b=n.length;x<b;x+=6){const y=n[x+4],_=n[x+5];isNaN(n[x])?(Ce.pointBoundingBox(y,_,s),c>_?(o=y,c=_):c===_&&(o=f(o,y)),h<_?(d=y,h=_):h===_&&(d=f(d,y))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,Ce.bezierBoundingBox(i,a,...n.slice(x,x+6),p),Ce.rectBoundingBox(p[0],p[1],p[2],p[3],s),c>p[1]?(o=p[0],c=p[1]):c===p[1]&&(o=f(o,p[0])),h<p[3]?(d=p[2],h=p[3]):h===p[3]&&(d=f(d,p[2]))),i=y,a=_}const m=this.#t;m[0]=s[0]-this.#i,m[1]=s[1]-this.#i,m[2]=s[2]-s[0]+2*this.#i,m[3]=s[3]-s[1]+2*this.#i,this.firstPoint=[o,c],this.lastPoint=[d,h]}get box(){return this.#t}newOutliner(e,n,i,a,s,o=0){return new Co(e,n,i,a,s,o)}getNewOutline(e,n){const[i,a,s,o]=this.#t,[c,d,h,f]=this.#e,p=s*h,m=o*f,x=i*h+c,b=a*f+d,y=this.newOutliner({x:this.#s[0]*p+x,y:this.#s[1]*m+b},this.#e,this.#r,e,this.#n,n??this.#i);for(let _=2;_<this.#s.length;_+=2)y.add({x:this.#s[_]*p+x,y:this.#s[_+1]*m+b});return y.getOutlines()}}class Hy{#e;#t;#i;#n=[];#s=[];constructor(e,n=0,i=0,a=!0){const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:y,y:_,width:S,height:N}of e){const E=Math.floor((y-n)/o)*o,A=Math.ceil((y+S+n)/o)*o,T=Math.floor((_-n)/o)*o,k=Math.ceil((_+N+n)/o)*o,R=[E,T,k,!0],H=[A,T,k,!1];this.#n.push(R,H),Ce.rectBoundingBox(E,T,A,k,s)}const c=s[2]-s[0]+2*i,d=s[3]-s[1]+2*i,h=s[0]-i,f=s[1]-i;let p=a?-1/0:1/0,m=1/0;const x=this.#n.at(a?-1:-2),b=[x[0],x[2]];for(const y of this.#n){const[_,S,N,E]=y;!E&&a?S<m?(m=S,p=_):S===m&&(p=Math.max(p,_)):E&&!a&&(S<m?(m=S,p=_):S===m&&(p=Math.min(p,_))),y[0]=(_-h)/c,y[1]=(S-f)/d,y[2]=(N-f)/d}this.#e=new Float32Array([h,f,c,d]),this.#t=[p,m],this.#i=b}getOutlines(){this.#n.sort((n,i)=>n[0]-i[0]||n[1]-i[1]||n[2]-i[2]);const e=[];for(const n of this.#n)n[3]?(e.push(...this.#l(n)),this.#o(n)):(this.#c(n),e.push(...this.#l(n)));return this.#r(e)}#r(e){const n=[],i=new Set;for(const o of e){const[c,d,h]=o;n.push([c,d,o],[c,h,o])}n.sort((o,c)=>o[1]-c[1]||o[0]-c[0]);for(let o=0,c=n.length;o<c;o+=2){const d=n[o][2],h=n[o+1][2];d.push(h),h.push(d),i.add(d),i.add(h)}const a=[];let s;for(;i.size>0;){const o=i.values().next().value;let[c,d,h,f,p]=o;i.delete(o);let m=c,x=d;for(s=[c,h],a.push(s);;){let b;if(i.has(f))b=f;else if(i.has(p))b=p;else break;i.delete(b),[c,d,h,f,p]=b,m!==c&&(s.push(m,x,c,x===d?d:h),m=c),x=x===d?h:d}s.push(m,x)}return new NF(a,this.#e,this.#t,this.#i)}#a(e){const n=this.#s;let i=0,a=n.length-1;for(;i<=a;){const s=i+a>>1,o=n[s][0];if(o===e)return s;o<e?i=s+1:a=s-1}return a+1}#o([,e,n]){const i=this.#a(e);this.#s.splice(i,0,[e,n])}#c([,e,n]){const i=this.#a(e);for(let a=i;a<this.#s.length;a++){const[s,o]=this.#s[a];if(s!==e)break;if(s===e&&o===n){this.#s.splice(a,1);return}}for(let a=i-1;a>=0;a--){const[s,o]=this.#s[a];if(s!==e)break;if(s===e&&o===n){this.#s.splice(a,1);return}}}#l(e){const[n,i,a]=e,s=[[n,i,a]],o=this.#a(a);for(let c=0;c<o;c++){const[d,h]=this.#s[c];for(let f=0,p=s.length;f<p;f++){const[,m,x]=s[f];if(!(h<=m||x<=d)){if(m>=d){if(x>h)s[f][1]=h;else{if(p===1)return[];s.splice(f,1),f--,p--}continue}s[f][2]=d,x>h&&s.push([n,h,x])}}}return s}}class NF extends Se{#e;#t;constructor(e,n,i,a){super(),this.#t=e,this.#e=n,this.firstPoint=i,this.lastPoint=a}toSVGPath(){const e=[];for(const n of this.#t){let[i,a]=n;e.push(`M${i} ${a}`);for(let s=2;s<n.length;s+=2){const o=n[s],c=n[s+1];o===i?(e.push(`V${c}`),a=c):c===a&&(e.push(`H${o}`),i=o)}e.push("Z")}return e.join(" ")}serialize([e,n,i,a],s){const o=[],c=i-e,d=a-n;for(const h of this.#t){const f=new Array(h.length);for(let p=0;p<h.length;p+=2)f[p]=e+h[p]*c,f[p+1]=a-h[p+1]*d;o.push(f)}return o}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class Uy extends Co{newFreeDrawOutline(e,n,i,a,s,o){return new EF(e,n,i,a,s,o)}}class EF extends s6{newOutliner(e,n,i,a,s,o=0){return new Uy(e,n,i,a,s,o)}}class Zt extends Pe{#e=null;#t=0;#i;#n=null;#s=null;#r=null;#a=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#m=null;#p=null;#u="";#g;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=ze.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Zt.prototype;return Ve(this,"_keyboardManager",new Kd([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Zt._defaultColor,this.#g=e.thickness||Zt._defaultThickness,this.opacity=e.opacity||Zt._defaultOpacity,this.#i=e.boxes||null,this.#v=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#x(e),this.#j()):this.#i&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#a=e.focusNode,this.#o=e.focusOffset,this.#y(),this.#j(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#g,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#y(){const e=new Hy(this.#i,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const n=new Hy(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#r=n.getOutlines();const{firstPoint:i}=this.#l;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height];const{lastPoint:a}=this.#r;this.#m=[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]}#x({highlightOutlines:e,highlightId:n,clipPathId:i}){this.#l=e;const a=1.5;if(this.#r=e.getNewOutline(this.#g/2+a,.0025),n>=0)this.#h=n,this.#n=i,this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:Zt.#S(this.#l.box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:Zt.#S(this.#r.box,p),path:{d:this.#r.toSVGPath()}})}const[s,o,c,d]=e.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=c,this.height=d;break;case 90:{const[p,m]=this.parentDimensions;this.x=o,this.y=1-s,this.width=c*m/p,this.height=d*p/m;break}case 180:this.x=1-s,this.y=1-o,this.width=c,this.height=d;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-o,this.y=s,this.width=c*m/p,this.height=d*p/m;break}}const{firstPoint:h}=e;this.#f=[(h[0]-s)/c,(h[1]-o)/d];const{lastPoint:f}=this.#r;this.#m=[(f[0]-s)/c,(f[1]-o)/d]}static initialize(e,n){Pe.initialize(e,n),Zt._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,n){switch(e){case Qe.HIGHLIGHT_COLOR:Zt._defaultColor=n;break;case Qe.HIGHLIGHT_THICKNESS:Zt._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#f}updateParams(e,n){switch(e){case Qe.HIGHLIGHT_COLOR:this.#C(n);break;case Qe.HIGHLIGHT_THICKNESS:this.#w(n);break}}static get defaultPropertiesToUpdate(){return[[Qe.HIGHLIGHT_COLOR,Zt._defaultColor],[Qe.HIGHLIGHT_THICKNESS,Zt._defaultThickness]]}get propertiesToUpdate(){return[[Qe.HIGHLIGHT_COLOR,this.color||Zt._defaultColor],[Qe.HIGHLIGHT_THICKNESS,this.#g||Zt._defaultThickness],[Qe.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#s?.updateColor(this.color),super.onUpdatedColor()}#C(e){const n=(s,o)=>{this.color=s,this.opacity=o,this.onUpdatedColor()},i=this.color,a=this.opacity;this.addCommands({cmd:n.bind(this,e,Zt._defaultOpacity),undo:n.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#w(e){const n=this.#g,i=a=>{this.#g=a,this.#b(a)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new Di({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#T())}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,this.#T())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#N(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#j(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?this.#N():e&&(this.#j(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),n&&this.select()}#b(e){this.#d&&(this.#x({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#N(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#j(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#S([e,n,i,a],s){switch(s){case 90:return[1-n-a,e,a,i];case 180:return[1-e-i,1-n-a,i,a];case 270:return[n,1-e-i,a,i]}return[e,n,i,a]}rotate(e){const{drawLayer:n}=this.parent;let i;this.#d?(e=(e-this.rotation+360)%360,i=Zt.#S(this.#l.box,e)):i=Zt.#S([this.x,this.y,this.width,this.height],e),n.updateProperties(this.#h,{bbox:i,root:{"data-main-rotation":e}}),n.updateProperties(this.#p,{bbox:Zt.#S(this.#r.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#k.bind(this),{signal:this._uiManager._signal});const n=this.#c=document.createElement("div");return e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#n,this.setDims(this.width,this.height),RD(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#k(e){Zt._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#E(!0);break;case 1:case 3:this.#E(!1);break}}#E(e){if(!this.#e)return;const n=window.getSelection();e?n.setPosition(this.#e,this.#t):n.setPosition(this.#a,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#d||this.#E(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#T(){return this.#d?this.rotation:0}#I(){if(this.#d)return null;const[e,n]=this.pageDimensions,[i,a]=this.pageTranslation,s=this.#i,o=new Float32Array(s.length*8);let c=0;for(const{x:d,y:h,width:f,height:p}of s){const m=d*e+i,x=(1-h)*n+a;o[c]=o[c+4]=m,o[c+1]=o[c+3]=x,o[c+2]=o[c+6]=m+f*e,o[c+5]=o[c+7]=x-p*n,c+=8}return o}#O(e){return this.#l.serialize(e,this.#T())}static startHighlighting(e,n,{target:i,x:a,y:s}){const{x:o,y:c,width:d,height:h}=i.getBoundingClientRect(),f=new AbortController,p=e.combinedSignal(f),m=x=>{f.abort(),this.#B(e,x)};window.addEventListener("blur",m,{signal:p}),window.addEventListener("pointerup",m,{signal:p}),window.addEventListener("pointerdown",zt,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",Hi,{signal:p}),i.addEventListener("pointermove",this.#P.bind(this,e),{signal:p}),this._freeHighlight=new Uy({x:a,y:s},[o,c,d,h],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#P(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#B(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,n,i){let a=null;if(e instanceof i6){const{data:{quadPoints:b,rect:y,rotation:_,id:S,color:N,opacity:E,popupRef:A,richText:T,contentsObj:k,creationDate:R,modificationDate:H},parent:{page:{pageNumber:V}}}=e;a=e={annotationType:ze.HIGHLIGHT,color:Array.from(N),opacity:E,quadPoints:b,boxes:null,pageIndex:V-1,rect:y.slice(0),rotation:_,annotationElementId:S,id:S,deleted:!1,popupRef:A,richText:T,comment:k?.str||null,creationDate:R,modificationDate:H}}else if(e instanceof E2){const{data:{inkLists:b,rect:y,rotation:_,id:S,color:N,borderStyle:{rawWidth:E},popupRef:A,richText:T,contentsObj:k,creationDate:R,modificationDate:H},parent:{page:{pageNumber:V}}}=e;a=e={annotationType:ze.HIGHLIGHT,color:Array.from(N),thickness:E,inkLists:b,boxes:null,pageIndex:V-1,rect:y.slice(0),rotation:_,annotationElementId:S,id:S,deleted:!1,popupRef:A,richText:T,comment:k?.str||null,creationDate:R,modificationDate:H}}const{color:s,quadPoints:o,inkLists:c,opacity:d}=e,h=await super.deserialize(e,n,i);h.color=Ce.makeHexColor(...s),h.opacity=d||1,c&&(h.#g=e.thickness),h._initialData=a,e.comment&&h.setCommentData(e);const[f,p]=h.pageDimensions,[m,x]=h.pageTranslation;if(o){const b=h.#i=[];for(let y=0;y<o.length;y+=8)b.push({x:(o[y]-m)/f,y:1-(o[y+1]-x)/p,width:(o[y+2]-o[y])/f,height:(o[y+1]-o[y+5])/p});h.#y(),h.#j(),h.rotate(h.rotation)}else if(c){h.#d=!0;const b=c[0],y={x:b[0]-m,y:p-(b[1]-x)},_=new Uy(y,[0,0,f,p],1,h.#g/2,!0,.001);for(let E=0,A=b.length;E<A;E+=2)y.x=b[E]-m,y.y=p-(b[E+1]-x),_.add(y);const{id:S,clipPathId:N}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:_.toSVGPath()}},!0,!0);h.#x({highlightOutlines:_.getOutlines(),highlightId:S,clipPathId:N}),h.#j(),h.rotate(h.parentRotation)}return h}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=Pe._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(e);return Object.assign(i,{color:n,opacity:this.opacity,thickness:this.#g,quadPoints:this.#I(),outlines:this.#O(i.rect)}),this.addComment(i),this.annotationElementId&&!this.#R(i)?null:(i.id=this.annotationElementId,i)}#R(e){const{color:n}=this._initialData;return this.hasEditedComment||e.color.some((i,a)=>i!==n[a])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class o6{#e=Object.create(null);updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,i]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,i)}updateSVGProperty(e,n){this.#e[e]=n}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){wt("Not implemented")}}class Le extends Pe{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#s=null;static#r=NaN;static#a=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#l(e),this.#f())}#l({drawOutlines:e,drawId:n,drawingOptions:i}){this.#e=e,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=this.#h(e,this.parent),this.#u(e.box)}#h(e,n){const{id:i}=n.drawLayer.draw(Le._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(e,n){const i=new Set(Object.keys(e));for(const[a,s]of Object.entries(n))i.has(a)?Object.assign(e[a],s):e[a]=s;return e}static getDefaultDrawingOptions(e){wt("Not implemented")}static get typesMap(){wt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const i=this.typesMap.get(e);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(Le.#i.updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const i=this.constructor.typesMap.get(e);i&&this._updateProperty(e,i,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)e.push([i,n[a]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[i,a]of this.constructor.typesMap)e.push([i,n[a]]);return e}_updateProperty(e,n,i){const a=this._drawingOptions,s=a[n],o=c=>{a.updateProperty(n,c);const d=this.#e.updateProperty(n,c);d&&this.#u(d),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Le._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Le._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(e,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Le._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#d(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#d()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),n&&this.select()}#d(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#e,e)}}#m([e,n,i,a]){const{parentDimensions:[s,o],rotation:c}=this;switch(c){case 90:return[n,1-e,i*(o/s),a*(s/o)];case 180:return[1-e,1-n,i,a];case 270:return[1-n,e,i*(o/s),a*(s/o)];default:return[e,n,i,a]}}#p(){const{x:e,y:n,width:i,height:a,parentDimensions:[s,o],rotation:c}=this;switch(c){case 90:return[1-n,e,i*(s/o),a*(o/s)];case 180:return[1-e,1-n,i,a];case 270:return[n,1-e,i*(s/o),a*(o/s)];default:return[e,n,i,a]}}#u(e){[this.x,this.y,this.width,this.height]=this.#m(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#g(){const{x:e,y:n,width:i,height:a,rotation:s,parentRotation:o,parentDimensions:[c,d]}=this;switch((s*4+o)/90){case 1:return[1-n-a,e,a,i];case 2:return[1-e-i,1-n-a,i,a];case 3:return[n,1-e-i,a,i];case 4:return[e,n-i*(c/d),a*(d/c),i*(c/d)];case 5:return[1-n,e,i*(c/d),a*(d/c)];case 6:return[1-e-a*(d/c),1-n,a*(d/c),i*(c/d)];case 7:return[n-i*(c/d),1-e-a*(d/c),i*(c/d),a*(d/c)];case 8:return[e-i,n-a,i,a];case 9:return[1-n,e-i,a,i];case 10:return[1-e,1-n,i,a];case 11:return[n-a,1-e,a,i];case 12:return[e-a*(d/c),n,a*(d/c),i*(c/d)];case 13:return[1-n-i*(c/d),e-a*(d/c),i*(c/d),a*(d/c)];case 14:return[1-e,1-n-i*(c/d),a*(d/c),i*(c/d)];case 15:return[n,1-e,i*(c/d),a*(d/c)];default:return[e,n,i,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Le._mergeSVGProperties({bbox:this.#g()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,n;this._isCopy&&(e=this.x,n=this.y);const i=super.render();i.classList.add("draw");const a=document.createElement("div");return i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,n),i}static createDrawerInstance(e,n,i,a,s){wt("Not implemented")}static startDrawing(e,n,i,a){const{target:s,offsetX:o,offsetY:c,pointerId:d,pointerType:h}=a;if(Le.#a&&Le.#a!==h)return;const{viewport:{rotation:f}}=e,{width:p,height:m}=s.getBoundingClientRect(),x=Le.#n=new AbortController,b=e.combinedSignal(x);if(Le.#r||=d,Le.#a??=h,window.addEventListener("pointerup",y=>{Le.#r===y.pointerId?this._endDraw(y):Le.#o?.delete(y.pointerId)},{signal:b}),window.addEventListener("pointercancel",y=>{Le.#r===y.pointerId?this._currentParent.endDrawingSession():Le.#o?.delete(y.pointerId)},{signal:b}),window.addEventListener("pointerdown",y=>{Le.#a===y.pointerType&&((Le.#o||=new Set).add(y.pointerId),Le.#i.isCancellable()&&(Le.#i.removeLastElement(),Le.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Hi,{signal:b}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),s.addEventListener("touchmove",y=>{y.timeStamp===Le.#c&&zt(y)},{signal:b}),e.toggleDrawing(),n._editorUndoBar?.hide(),Le.#i){e.drawLayer.updateProperties(this._currentDrawId,Le.#i.startNew(o,c,p,m,f));return}n.updateUIForDefaultProperties(this),Le.#i=this.createDrawerInstance(o,c,p,m,f),Le.#s=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Le.#s.toSVGProperties(),Le.#i.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Le.#c=-1,!Le.#i)return;const{offsetX:n,offsetY:i,pointerId:a}=e;if(Le.#r===a){if(Le.#o?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Le.#i.add(n,i)),Le.#c=e.timeStamp,zt(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Le.#i=null,Le.#s=null,Le.#a=null,Le.#c=NaN),Le.#n&&(Le.#n.abort(),Le.#n=null,Le.#r=NaN,Le.#o=null)}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),e?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,Le.#i.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const i=Le.#i,a=this._currentDrawId,s=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(a,i.setLastElement(s))},undo:()=>{n.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:Qe.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Qe.DRAW_STEP),!Le.#i.isEmpty()){const{pageDimensions:[i,a],scale:s}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Le.#i.getOutlines(i*s,a*s,s,this._INNER_MARGIN),drawingOptions:Le.#s,mustBeCommitted:!e});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,i,a,s,o){wt("Not implemented")}static async deserialize(e,n,i){const{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:c}}=n.viewport,d=this.deserializeDraw(o,c,a,s,this._INNER_MARGIN,e),h=await super.deserialize(e,n,i);return h.createDrawingOptions(e),h.#l({drawOutlines:d}),h.#f(),h.onScaleChanging(),h.rotate(),h}serializeDraw(e){const[n,i]=this.pageTranslation,[a,s]=this.pageDimensions;return this.#e.serialize([n,i,a,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class TF{#e=new Float64Array(6);#t;#i;#n;#s;#r;#a="";#o=0;#c=new Qd;#l;#h;constructor(e,n,i,a,s,o){this.#l=i,this.#h=a,this.#n=s,this.#s=o,[e,n]=this.#d(e,n);const c=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#r=[e,n],this.#i=[{line:c,points:this.#r}],this.#e.set(c,0)}updateProperty(e,n){e==="stroke-width"&&(this.#s=n)}#d(e,n){return Se._normalizePoint(e,n,this.#l,this.#h,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#r.length<=10}add(e,n){[e,n]=this.#d(e,n);const[i,a,s,o]=this.#e.subarray(2,6),c=e-s,d=n-o;return Math.hypot(this.#l*c,this.#h*d)<=2?null:(this.#r.push(e,n),isNaN(i)?(this.#e.set([s,o,e,n],2),this.#t.push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([i,a,s,o,e,n],0),this.#t.push(...Se.createBezierPoints(i,a,s,o,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const i=this.add(e,n);return i||(this.#r.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,i,a,s){this.#l=i,this.#h=a,this.#n=s,[e,n]=this.#d(e,n);const o=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#r=[e,n];const c=this.#i.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#i.push({line:o,points:this.#r}),this.#e.set(o,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(e){return this.#i?(this.#i.push(e),this.#t=e.line,this.#r=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#a="";for(let e=0,n=this.#i.length;e<n;e++){const{line:i,points:a}=this.#i[e];this.#t=i,this.#r=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#a}}}toSVGPath(){const e=Se.svgRound(this.#t[4]),n=Se.svgRound(this.#t[5]);if(this.#r.length===2)return this.#a=`${this.#a} M ${e} ${n} Z`,this.#a;if(this.#r.length<=6){const a=this.#a.lastIndexOf("M");this.#a=`${this.#a.slice(0,a)} M ${e} ${n}`,this.#o=6}if(this.#r.length===4){const a=Se.svgRound(this.#t[10]),s=Se.svgRound(this.#t[11]);return this.#a=`${this.#a} L ${a} ${s}`,this.#o=12,this.#a}const i=[];this.#o===0&&(i.push(`M ${e} ${n}`),this.#o=6);for(let a=this.#o,s=this.#t.length;a<s;a+=6){const[o,c,d,h,f,p]=this.#t.slice(a,a+6).map(Se.svgRound);i.push(`C${o} ${c} ${d} ${h} ${f} ${p}`)}return this.#a+=i.join(" "),this.#o=this.#t.length,this.#a}getOutlines(e,n,i,a){const s=this.#i.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#i,e,n,i,this.#n,this.#s,a),this.#e=null,this.#t=null,this.#i=null,this.#a=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Qd extends Se{#e;#t=0;#i;#n;#s;#r;#a;#o;#c;build(e,n,i,a,s,o,c){this.#s=n,this.#r=i,this.#a=a,this.#o=s,this.#c=o,this.#i=c??0,this.#n=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of this.#n){if(e.push(`M${Se.svgRound(n[4])} ${Se.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12&&isNaN(n[6])){e.push(`L${Se.svgRound(n[10])} ${Se.svgRound(n[11])}`);continue}for(let i=6,a=n.length;i<a;i+=6){const[s,o,c,d,h,f]=n.subarray(i,i+6).map(Se.svgRound);e.push(`C${s} ${o} ${c} ${d} ${h} ${f}`)}}return e.join("")}serialize([e,n,i,a],s){const o=[],c=[],[d,h,f,p]=this.#h();let m,x,b,y,_,S,N,E,A;switch(this.#o){case 0:A=Se._rescale,m=e,x=n+a,b=i,y=-a,_=e+d*i,S=n+(1-h-p)*a,N=e+(d+f)*i,E=n+(1-h)*a;break;case 90:A=Se._rescaleAndSwap,m=e,x=n,b=i,y=a,_=e+h*i,S=n+d*a,N=e+(h+p)*i,E=n+(d+f)*a;break;case 180:A=Se._rescale,m=e+i,x=n,b=-i,y=a,_=e+(1-d-f)*i,S=n+h*a,N=e+(1-d)*i,E=n+(h+p)*a;break;case 270:A=Se._rescaleAndSwap,m=e+i,x=n+a,b=-i,y=-a,_=e+(1-h-p)*i,S=n+(1-d-f)*a,N=e+(1-h)*i,E=n+(1-d)*a;break}for(const{line:T,points:k}of this.#n)o.push(A(T,m,x,b,y,s?new Array(T.length):null)),c.push(A(k,m,x,b,y,s?new Array(k.length):null));return{lines:o,points:c,rect:[_,S,N,E]}}static deserialize(e,n,i,a,s,{paths:{lines:o,points:c},rotation:d,thickness:h}){const f=[];let p,m,x,b,y;switch(d){case 0:y=Se._rescale,p=-e/i,m=n/a+1,x=1/i,b=-1/a;break;case 90:y=Se._rescaleAndSwap,p=-n/a,m=-e/i,x=1/a,b=1/i;break;case 180:y=Se._rescale,p=e/i+1,m=-n/a,x=-1/i,b=1/a;break;case 270:y=Se._rescaleAndSwap,p=n/a+1,m=e/i+1,x=-1/a,b=-1/i;break}if(!o){o=[];for(const S of c){const N=S.length;if(N===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(N===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const E=new Float32Array(3*(N-2));o.push(E);let[A,T,k,R]=S.subarray(0,4);E.set([NaN,NaN,NaN,NaN,A,T],0);for(let H=4;H<N;H+=2){const V=S[H],Y=S[H+1];E.set(Se.createBezierPoints(A,T,k,R,V,Y),(H-2)*3),[A,T,k,R]=[k,R,V,Y]}}}for(let S=0,N=o.length;S<N;S++)f.push({line:y(o[S].map(E=>E??NaN),p,m,x,b),points:y(c[S].map(E=>E??NaN),p,m,x,b)});const _=new this.prototype.constructor;return _.build(f,i,a,1,d,h,s),_}#l(e=this.#c){const n=this.#i+e/2*this.#a;return this.#o%180===0?[n/this.#s,n/this.#r]:[n/this.#r,n/this.#s]}#h(){const[e,n,i,a]=this.#e,[s,o]=this.#l(0);return[e+s,n+o,i-2*s,a-2*o]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#n){if(a.length<=12){for(let c=4,d=a.length;c<d;c+=6)Ce.pointBoundingBox(a[c],a[c+1],e);continue}let s=a[4],o=a[5];for(let c=6,d=a.length;c<d;c+=6){const[h,f,p,m,x,b]=a.subarray(c,c+6);Ce.bezierBoundingBox(s,o,h,f,p,m,x,b,e),s=x,o=b}}const[n,i]=this.#l();e[0]=Un(e[0]-n,0,1),e[1]=Un(e[1]-i,0,1),e[2]=Un(e[2]+n,0,1),e[3]=Un(e[3]+i,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,n){return e==="stroke-width"?this.#f(n):null}#f(e){const[n,i]=this.#l();this.#c=e;const[a,s]=this.#l(),[o,c]=[a-n,s-i],d=this.#e;return d[0]-=o,d[1]-=c,d[2]+=2*o,d[3]+=2*c,d}updateParentDimensions([e,n],i){const[a,s]=this.#l();this.#s=e,this.#r=n,this.#a=i;const[o,c]=this.#l(),d=o-a,h=c-s,f=this.#e;return f[0]-=d,f[1]-=h,f[2]+=2*d,f[3]+=2*h,f}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(Se.svgRound).join(" ")}get defaultProperties(){const[e,n]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=this.#e;let i=0,a=0,s=0,o=0,c=0,d=0;switch(this.#t){case 90:a=n/e,s=-e/n,c=e;break;case 180:i=-1,o=-1,c=e,d=n;break;case 270:a=-n/e,s=e/n,d=n;break;default:return""}return`matrix(${i} ${a} ${s} ${o} ${Se.svgRound(c)} ${Se.svgRound(d)})`}getPathResizingSVGProperties([e,n,i,a]){const[s,o]=this.#l(),[c,d,h,f]=this.#e;if(Math.abs(h-s)<=Se.PRECISION||Math.abs(f-o)<=Se.PRECISION){const y=e+i/2-(c+h/2),_=n+a/2-(d+f/2);return{path:{"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(n)}`,transform:`${this.rotationTransform} translate(${y} ${_})`}}}const p=(i-2*s)/(h-2*s),m=(a-2*o)/(f-2*o),x=h/i,b=f/a;return{path:{"transform-origin":`${Se.svgRound(c)} ${Se.svgRound(d)}`,transform:`${this.rotationTransform} scale(${x} ${b}) translate(${Se.svgRound(s)} ${Se.svgRound(o)}) scale(${p} ${m}) translate(${Se.svgRound(-s)} ${Se.svgRound(-o)})`}}}getPathResizedSVGProperties([e,n,i,a]){const[s,o]=this.#l(),c=this.#e,[d,h,f,p]=c;if(c[0]=e,c[1]=n,c[2]=i,c[3]=a,Math.abs(f-s)<=Se.PRECISION||Math.abs(p-o)<=Se.PRECISION){const _=e+i/2-(d+f/2),S=n+a/2-(h+p/2);for(const{line:N,points:E}of this.#n)Se._translate(N,_,S,N),Se._translate(E,_,S,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(i-2*s)/(f-2*s),x=(a-2*o)/(p-2*o),b=-m*(d+s)+e+s,y=-x*(h+o)+n+o;if(m!==1||x!==1||b!==0||y!==0)for(const{line:_,points:S}of this.#n)Se._rescale(_,b,y,m,x,_),Se._rescale(S,b,y,m,x,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],i){const[a,s]=i,o=this.#e,c=e-o[0],d=n-o[1];if(this.#s===a&&this.#r===s)for(const{line:h,points:f}of this.#n)Se._translate(h,c,d,h),Se._translate(f,c,d,f);else{const h=this.#s/a,f=this.#r/s;this.#s=a,this.#r=s;for(const{line:p,points:m}of this.#n)Se._rescale(p,c,d,h,f,p),Se._rescale(m,c,d,h,f,m);o[2]*=h,o[3]*=f}return o[0]=e,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(n)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Se.svgRound(e[0])} ${Se.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class Kg extends o6{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Pe._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??=this["stroke-width"],n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new Kg(this._viewParameters);return e.updateAll(this),e}}class k2 extends Le{static _type="ink";static _editorType=ze.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,n){Pe.initialize(e,n),this._defaultDrawingOptions=new Kg(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ve(this,"typesMap",new Map([[Qe.INK_THICKNESS,"stroke-width"],[Qe.INK_COLOR,"stroke"],[Qe.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,i,a,s){return new TF(e,n,i,a,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,i,a,s,o){return Qd.deserialize(e,n,i,a,s,o)}static async deserialize(e,n,i){let a=null;if(e instanceof E2){const{data:{inkLists:o,rect:c,rotation:d,id:h,color:f,opacity:p,borderStyle:{rawWidth:m},popupRef:x,richText:b,contentsObj:y,creationDate:_,modificationDate:S},parent:{page:{pageNumber:N}}}=e;a=e={annotationType:ze.INK,color:Array.from(f),thickness:m,opacity:p,paths:{points:o},boxes:null,pageIndex:N-1,rect:c.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:x,richText:b,comment:y?.str||null,creationDate:_,modificationDate:S}}const s=await super.deserialize(e,n,i);return s._initialData=a,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new xd(this),[["colorPicker",this._colorPicker]]}get colorType(){return Qe.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:i}){this._drawingOptions=k2.getDefaultDrawingOptions({stroke:Ce.makeHexColor(...e),"stroke-width":n,"stroke-opacity":i})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i}=this.serializeDraw(e),{_drawingOptions:{stroke:a,"stroke-opacity":s,"stroke-width":o}}=this,c=Object.assign(super.serialize(e),{color:Pe._colorManager.convert(a),opacity:s,thickness:o,paths:{lines:n,points:i}});return this.addComment(c),e?(c.isCopy=!0,c):this.annotationElementId&&!this.#e(c)?null:(c.id=this.annotationElementId,c)}#e(e){const{color:n,thickness:i,opacity:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((o,c)=>o!==n[c])||e.thickness!==i||e.opacity!==a||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:n,rect:i}=this.serializeDraw(!1);return e.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}}class Vy extends Qd{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Xf=8,zu=3;class So{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,n,i,a){return i-=e,a-=n,i===0?a>0?0:4:i===1?a+6:2-a}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,n,i,a,s,o,c){const d=this.#t(i,a,s,o);for(let h=0;h<8;h++){const f=(-h+d-c+16)%8,p=this.#i[2*f],m=this.#i[2*f+1];if(e[(i+p)*n+(a+m)]!==0)return f}return-1}static#s(e,n,i,a,s,o,c){const d=this.#t(i,a,s,o);for(let h=0;h<8;h++){const f=(h+d+c+16)%8,p=this.#i[2*f],m=this.#i[2*f+1];if(e[(i+p)*n+(a+m)]!==0)return f}return-1}static#r(e,n,i,a){const s=e.length,o=new Int32Array(s);for(let f=0;f<s;f++)o[f]=e[f]<=a?1:0;for(let f=1;f<i-1;f++)o[f*n]=o[f*n+n-1]=0;for(let f=0;f<n;f++)o[f]=o[n*i-1-f]=0;let c=1,d;const h=[];for(let f=1;f<i-1;f++){d=1;for(let p=1;p<n-1;p++){const m=f*n+p,x=o[m];if(x===0)continue;let b=f,y=p;if(x===1&&o[m-1]===0)c+=1,y-=1;else if(x>=1&&o[m+1]===0)c+=1,y+=1,x>1&&(d=x);else{x!==1&&(d=Math.abs(x));continue}const _=[p,f],S=y===p+1,N={isHole:S,points:_,id:c,parent:0};h.push(N);let E;for(const W of h)if(W.id===d){E=W;break}E?E.isHole?N.parent=S?E.parent:d:N.parent=S?d:E.parent:N.parent=S?d:0;const A=this.#n(o,n,f,p,b,y,0);if(A===-1){o[m]=-c,o[m]!==1&&(d=Math.abs(o[m]));continue}let T=this.#i[2*A],k=this.#i[2*A+1];const R=f+T,H=p+k;b=R,y=H;let V=f,Y=p;for(;;){const W=this.#s(o,n,V,Y,b,y,1);T=this.#i[2*W],k=this.#i[2*W+1];const X=V+T,ee=Y+k;_.push(ee,X);const L=V*n+Y;if(o[L+1]===0?o[L]=-c:o[L]===1&&(o[L]=c),X===f&&ee===p&&V===R&&Y===H){o[m]!==1&&(d=Math.abs(o[m]));break}else b=V,y=Y,V=X,Y=ee}}}return h}static#a(e,n,i,a){if(i-n<=4){for(let R=n;R<i-2;R+=2)a.push(e[R],e[R+1]);return}const s=e[n],o=e[n+1],c=e[i-4]-s,d=e[i-3]-o,h=Math.hypot(c,d),f=c/h,p=d/h,m=f*o-p*s,x=d/c,b=1/h,y=Math.atan(x),_=Math.cos(y),S=Math.sin(y),N=b*(Math.abs(_)+Math.abs(S)),E=b*(1-N+N**2),A=Math.max(Math.atan(Math.abs(S+_)*E),Math.atan(Math.abs(S-_)*E));let T=0,k=n;for(let R=n+2;R<i-2;R+=2){const H=Math.abs(m-f*e[R+1]+p*e[R]);H>T&&(k=R,T=H)}T>(h*A)**2?(this.#a(e,n,k+2,a),this.#a(e,k,i,a)):a.push(s,o)}static#o(e){const n=[],i=e.length;return this.#a(e,0,i,n),n.push(e[i-2],e[i-1]),n.length<=4?null:n}static#c(e,n,i,a,s,o){const c=new Float32Array(o**2),d=-2*a**2,h=o>>1;for(let y=0;y<o;y++){const _=(y-h)**2;for(let S=0;S<o;S++)c[y*o+S]=Math.exp((_+(S-h)**2)/d)}const f=new Float32Array(256),p=-2*s**2;for(let y=0;y<256;y++)f[y]=Math.exp(y**2/p);const m=e.length,x=new Uint8Array(m),b=new Uint32Array(256);for(let y=0;y<i;y++)for(let _=0;_<n;_++){const S=y*n+_,N=e[S];let E=0,A=0;for(let k=0;k<o;k++){const R=y+k-h;if(!(R<0||R>=i))for(let H=0;H<o;H++){const V=_+H-h;if(V<0||V>=n)continue;const Y=e[R*n+V],W=c[k*o+H]*f[Math.abs(Y-N)];E+=Y*W,A+=W}}const T=x[S]=Math.round(E/A);b[T]++}return[x,b]}static#l(e){const n=new Uint32Array(256);for(const i of e)n[i]++;return n}static#h(e){const n=e.length,i=new Uint8ClampedArray(n>>2);let a=-1/0,s=1/0;for(let c=0,d=i.length;c<d;c++){const h=i[c]=e[c<<2];a=Math.max(a,h),s=Math.min(s,h)}const o=255/(a-s);for(let c=0,d=i.length;c<d;c++)i[c]=(i[c]-s)*o;return i}static#d(e){let n,i=-1/0,a=-1/0;const s=e.findIndex(d=>d!==0);let o=s,c=s;for(n=s;n<256;n++){const d=e[n];d>i&&(n-o>a&&(a=n-o,c=n-1),i=d,o=n)}for(n=c-1;n>=0&&!(e[n]>e[n+1]);n--);return n}static#f(e){const n=e,{width:i,height:a}=e,{maxDim:s}=this.#e;let o=i,c=a;if(i>s||a>s){let m=i,x=a,b=Math.log2(Math.max(i,a)/s);const y=Math.floor(b);b=b===y?y-1:y;for(let S=0;S<b;S++){o=Math.ceil(m/2),c=Math.ceil(x/2);const N=new OffscreenCanvas(o,c);N.getContext("2d").drawImage(e,0,0,m,x,0,0,o,c),m=o,x=c,e!==n&&e.close(),e=N.transferToImageBitmap()}const _=Math.min(s/o,s/c);o=Math.round(o*_),c=Math.round(c*_)}const h=new OffscreenCanvas(o,c).getContext("2d",{willReadFrequently:!0});h.fillStyle="white",h.fillRect(0,0,o,c),h.filter="grayscale(1)",h.drawImage(e,0,0,e.width,e.height,0,0,o,c);const f=h.getImageData(0,0,o,c).data;return[this.#h(f),o,c]}static extractContoursFromText(e,{fontFamily:n,fontStyle:i,fontWeight:a},s,o,c,d){let h=new OffscreenCanvas(1,1),f=h.getContext("2d",{alpha:!1});const p=200,m=f.font=`${i} ${a} ${p}px ${n}`,{actualBoundingBoxLeft:x,actualBoundingBoxRight:b,actualBoundingBoxAscent:y,actualBoundingBoxDescent:_,fontBoundingBoxAscent:S,fontBoundingBoxDescent:N,width:E}=f.measureText(e),A=1.5,T=Math.ceil(Math.max(Math.abs(x)+Math.abs(b)||0,E)*A),k=Math.ceil(Math.max(Math.abs(y)+Math.abs(_)||p,Math.abs(S)+Math.abs(N)||p)*A);h=new OffscreenCanvas(T,k),f=h.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=m,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,T,k),f.fillStyle="black",f.fillText(e,T*(A-1)/2,k*(3-A)/2);const R=this.#h(f.getImageData(0,0,T,k).data),H=this.#l(R),V=this.#d(H),Y=this.#r(R,T,k,V);return this.processDrawnLines({lines:{curves:Y,width:T,height:k},pageWidth:s,pageHeight:o,rotation:c,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(e,n,i,a,s){const[o,c,d]=this.#f(e),[h,f]=this.#c(o,c,d,Math.hypot(c,d)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),p=this.#d(f),m=this.#r(h,c,d,p);return this.processDrawnLines({lines:{curves:m,width:c,height:d},pageWidth:n,pageHeight:i,rotation:a,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:i,rotation:a,innerMargin:s,mustSmooth:o,areContours:c}){a%180!==0&&([n,i]=[i,n]);const{curves:d,width:h,height:f}=e,p=e.thickness??0,m=[],x=Math.min(n/h,i/f),b=x/n,y=x/i,_=[];for(const{points:N}of d){const E=o?this.#o(N):N;if(!E)continue;_.push(E);const A=E.length,T=new Float32Array(A),k=new Float32Array(3*(A===2?2:A-2));if(m.push({line:k,points:T}),A===2){T[0]=E[0]*b,T[1]=E[1]*y,k.set([NaN,NaN,NaN,NaN,T[0],T[1]],0);continue}let[R,H,V,Y]=E;R*=b,H*=y,V*=b,Y*=y,T.set([R,H,V,Y],0),k.set([NaN,NaN,NaN,NaN,R,H],0);for(let W=4;W<A;W+=2){const X=T[W]=E[W]*b,ee=T[W+1]=E[W+1]*y;k.set(Se.createBezierPoints(R,H,V,Y,X,ee),(W-2)*3),[R,H,V,Y]=[V,Y,X,ee]}}if(m.length===0)return null;const S=c?new Vy:new Qd;return S.build(m,n,i,1,a,c?0:p,s),{outline:S,newCurves:_,areContours:c,thickness:p,width:h,height:f}}static async compressSignature({outlines:e,areContours:n,thickness:i,width:a,height:s}){let o=1/0,c=-1/0,d=0;for(const E of e){d+=E.length;for(let A=2,T=E.length;A<T;A++){const k=E[A]-E[A-2];o=Math.min(o,k),c=Math.max(c,k)}}let h;o>=-128&&c<=127?h=Int8Array:o>=-32768&&c<=32767?h=Int16Array:h=Int32Array;const f=e.length,p=Xf+zu*f,m=new Uint32Array(p);let x=0;m[x++]=p*Uint32Array.BYTES_PER_ELEMENT+(d-2*f)*h.BYTES_PER_ELEMENT,m[x++]=0,m[x++]=a,m[x++]=s,m[x++]=n?0:1,m[x++]=Math.max(0,Math.floor(i??0)),m[x++]=f,m[x++]=h.BYTES_PER_ELEMENT;for(const E of e)m[x++]=E.length-2,m[x++]=E[0],m[x++]=E[1];const b=new CompressionStream("deflate-raw"),y=b.writable.getWriter();await y.ready,y.write(m);const _=h.prototype.constructor;for(const E of e){const A=new _(E.length-2);for(let T=2,k=E.length;T<k;T++)A[T-2]=E[T]-E[T-2];y.write(A)}y.close();const S=await new Response(b.readable).arrayBuffer(),N=new Uint8Array(S);return ED(N)}static async decompressSignature(e){try{const n=e$(e),{readable:i,writable:a}=new DecompressionStream("deflate-raw"),s=a.getWriter();await s.ready,s.write(n).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,c=0;for await(const E of i)o||=new Uint8Array(new Uint32Array(E.buffer,0,4)[0]),o.set(E,c),c+=E.length;const d=new Uint32Array(o.buffer,0,o.length>>2),h=d[1];if(h!==0)throw new Error(`Invalid version: ${h}`);const f=d[2],p=d[3],m=d[4]===0,x=d[5],b=d[6],y=d[7],_=[],S=(Xf+zu*b)*Uint32Array.BYTES_PER_ELEMENT;let N;switch(y){case Int8Array.BYTES_PER_ELEMENT:N=new Int8Array(o.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:N=new Int16Array(o.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:N=new Int32Array(o.buffer,S);break}c=0;for(let E=0;E<b;E++){const A=d[zu*E+Xf],T=new Float32Array(A+2);_.push(T);for(let k=0;k<zu-1;k++)T[k]=d[zu*E+Xf+k+1];for(let k=0;k<A;k++)T[k+2]=T[k]+N[c++]}return{areContours:m,thickness:x,outlines:_,width:f,height:p}}catch(n){return $e(`decompressSignature: ${n}`),null}}}class D2 extends o6{constructor(){super(),super.updateProperties({fill:Pe._defaultLineColor,"stroke-width":0})}clone(){const e=new D2;return e.updateAll(this),e}}class O2 extends Kg{constructor(e){super(e),super.updateProperties({stroke:Pe._defaultLineColor,"stroke-width":1})}clone(){const e=new O2(this._viewParameters);return e.updateAll(this),e}}class Xr extends Le{#e=!1;#t=null;#i=null;#n=null;static _type="signature";static _editorType=ze.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,n){Pe.initialize(e,n),this._defaultDrawingOptions=new D2,this._defaultDrawnSignatureOptions=new O2(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ve(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const n=e.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,e=this.x,n=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:a,mustSmooth:s,areContours:o,description:c,uuid:d,heightInPage:h}=this.#i,{rawDims:{pageWidth:f,pageHeight:p},rotation:m}=this.parent.viewport,x=So.processDrawnLines({lines:a,pageWidth:f,pageHeight:p,rotation:m,innerMargin:Xr._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(x,h,c,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(e,n)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:n,thickness:i,width:a,height:s}=this.#i,o=Math.max(a,s),c=So.processDrawnLines({lines:{curves:e.map(d=>({points:d})),thickness:i,width:a,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,n,i,a){const{x:s,y:o}=this,{outline:c}=this.#i=e;this.#e=c instanceof Vy,this.description=i;let d;this.#e?d=Xr.getDefaultDrawingOptions():(d=Xr._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:d});const[,h]=this.pageDimensions;let f=n/h;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return So.process(e,n,i,a,Xr._INNER_MARGIN)}getFromText(e,n){const{rawDims:{pageWidth:i,pageHeight:a},rotation:s}=this.parent.viewport;return So.extractContoursFromText(e,n,i,a,s,Xr._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return So.processDrawnLines({lines:e,pageWidth:n,pageHeight:i,rotation:a,innerMargin:Xr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:n}){e?this._drawingOptions=Xr.getDefaultDrawingOptions():(this._drawingOptions=Xr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:n,points:i}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":a}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:a});return this.addComment(s),e?(s.paths={lines:n,points:i},s.uuid=this.#n,s.isCopy=!0):s.lines=n,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,n,i,a,s,o){return o.areContours?Vy.deserialize(e,n,i,a,s,o):Qd.deserialize(e,n,i,a,s,o)}static async deserialize(e,n,i){const a=await super.deserialize(e,n,i);return a.#e=e.areContours,a.description=e.accessibilityData?.alt||"",a.#n=e.uuid,a}}class kF extends Pe{#e=null;#t=null;#i=null;#n=null;#s=null;#r="";#a=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=ze.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#s=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,n){Pe.initialize(e,n)}static isHandlingMimeForPasting(e){return Rp.includes(e)}static paste(e,n){n.pasteEditor({mode:ze.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#d(e,n=!1){if(!e){this.remove();return}this.#e=e.bitmap,n||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#r=e.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:o}=e||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:a,width:s,height:o,channels:a.length/(s*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),n&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#m(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(i=>this.#d(i,!0)).finally(()=>this.#f());return}if(this.#n){const i=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(i).then(a=>this.#d(a)).finally(()=>this.#f());return}if(this.#s){const i=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(i).then(a=>this.#d(a)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=Rp.join(",");const n=this._uiManager._signal;this.#i=new Promise(i=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(a)}i()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#m();return}super.rebuild(),this.div!==null&&(this.#t&&this.#a===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#i||this.#e||this.#n||this.#s||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;return this._isCopy&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#p():this.#m()),this._isCopy&&this._moveAfterPaste(e,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,n){const{id:i,bitmap:a}=this._uiManager.imageManager.getFromCanvas(e,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#t=i,a&&(this.#e=a),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#g()},e)}#p(){const{div:e}=this;let{width:n,height:i}=this.#e;const[a,s]=this.pageDimensions,o=.75;if(this.width)n=this.width*a,i=this.height*s;else if(n>o*a||i>o*s){const d=Math.min(o*a/n,o*s/i);n*=d,i*=d}this._uiManager.enableWaiting(!1);const c=this.#a=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=n/a,this.height=i/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#g(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&this.div.setAttribute("aria-description",this.#r),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,n,i=!1){e||(e=224);const{width:a,height:s}=this.#e,o=new Dr;let c=this.#e,d=a,h=s,f=null;if(n){if(a>n||s>n){const k=Math.min(n/a,n/s);d=Math.floor(a*k),h=Math.floor(s*k)}f=document.createElement("canvas");const m=f.width=Math.ceil(d*o.sx),x=f.height=Math.ceil(h*o.sy);this.#l||(c=this.#u(m,x));const b=f.getContext("2d");b.filter=this._uiManager.hcmFilter;let y="white",_="#cfcfd8";this._uiManager.hcmFilter!=="none"?_="black":i$.isDarkMode&&(y="#8f8f9d",_="#42414d");const S=15,N=S*o.sx,E=S*o.sy,A=new OffscreenCanvas(N*2,E*2),T=A.getContext("2d");T.fillStyle=y,T.fillRect(0,0,N*2,E*2),T.fillStyle=_,T.fillRect(0,0,N,E),T.fillRect(N,E,N,E),b.fillStyle=b.createPattern(A,"repeat"),b.fillRect(0,0,m,x),b.drawImage(c,0,0,c.width,c.height,0,0,m,x)}let p=null;if(i){let m,x;if(o.symmetric&&c.width<e&&c.height<e)m=c.width,x=c.height;else if(c=this.#e,a>e||s>e){const _=Math.min(e/a,e/s);m=Math.floor(a*_),x=Math.floor(s*_),this.#l||(c=this.#u(m,x))}const y=new OffscreenCanvas(m,x).getContext("2d",{willReadFrequently:!0});y.drawImage(c,0,0,c.width,c.height,0,0,m,x),p={width:m,height:x,data:y.getImageData(0,0,m,x).data}}return{canvas:f,width:d,height:h,imageData:p}}#u(e,n){const{width:i,height:a}=this.#e;let s=i,o=a,c=this.#e;for(;s>2*e||o>2*n;){const d=s,h=o;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(s,o);f.getContext("2d").drawImage(c,0,0,d,h,0,0,s,o),c=f.transferToImageBitmap()}return c}#g(){const[e,n]=this.parentDimensions,{width:i,height:a}=this,s=new Dr,o=Math.ceil(i*e*s.sx),c=Math.ceil(a*n*s.sy),d=this.#a;if(!d||d.width===o&&d.height===c)return;d.width=o,d.height=c;const h=this.#l?this.#e:this.#u(o,c),f=d.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,o,c)}#v(e){if(e){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#t);if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#e,n.getContext("2d").drawImage(this.#e,0,0),n.toDataURL()}if(this.#l){const[n,i]=this.pageDimensions,a=Math.round(this.width*n*Io.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*Io.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,s);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,a,s),o.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,n,i){let a=null,s=!1;if(e instanceof r6){const{data:{rect:y,rotation:_,id:S,structParent:N,popupRef:E,richText:A,contentsObj:T,creationDate:k,modificationDate:R},container:H,parent:{page:{pageNumber:V}},canvas:Y}=e;let W,X;Y?(delete e.canvas,{id:W,bitmap:X}=i.imageManager.getFromCanvas(H.id,Y),Y.remove()):(s=!0,e._hasNoCanvas=!0);const ee=(await n._structTree.getAriaAttributes(`${p2}${S}`))?.get("aria-label")||"";a=e={annotationType:ze.STAMP,bitmapId:W,bitmap:X,pageIndex:V-1,rect:y.slice(0),rotation:_,annotationElementId:S,id:S,deleted:!1,accessibilityData:{decorative:!1,altText:ee},isSvg:!1,structParent:N,popupRef:E,richText:A,comment:T?.str||null,creationDate:k,modificationDate:R}}const o=await super.deserialize(e,n,i),{rect:c,bitmap:d,bitmapUrl:h,bitmapId:f,isSvg:p,accessibilityData:m}=e;s?(i.addMissingCanvas(e.id,o),o.#o=!0):f&&i.imageManager.isValidId(f)?(o.#t=f,d&&(o.#e=d)):o.#n=h,o.#l=p;const[x,b]=o.pageDimensions;return o.width=(c[2]-c[0])/x,o.height=(c[3]-c[1])/b,m&&(o.altTextData=m),o._initialData=a,e.comment&&o.setCommentData(e),o.#h=!!a,o}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(i),e)return i.bitmapUrl=this.#v(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const c=this.#y(i);return c.isSame?null:(c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(n===null)return i;n.stamps||=new Map;const o=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(this.#t))n.stamps.set(this.#t,{area:o,serialized:i}),i.bitmap=this.#v(!1);else if(this.#l){const c=n.stamps.get(this.#t);o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=this.#v(!1))}return i}#y(e){const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,a=e.pageIndex===n,s=(e.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Jr{#e;#t=!1;#i=null;#n=null;#s=null;#r=new Map;#a=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#m=null;#p=-1;#u;static _initialized=!1;static#g=new Map([mn,k2,kF,Zt,Xr].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:n,div:i,structTreeLayer:a,accessibilityManager:s,annotationLayer:o,drawLayer:c,textLayer:d,viewport:h,l10n:f}){const p=[...Jr.#g.values()];if(!Jr._initialized){Jr._initialized=!0;for(const m of p)m.initialize(f,e)}e.registerEditorTypes(p),this.#u=e,this.pageIndex=n,this.div=i,this.#e=s,this.#i=o,this.viewport=h,this.#d=d,this.drawLayer=c,this._structTree=a,this.#u.addLayer(this)}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===ze.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#b(),e){case ze.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ze.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ze.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===ze.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const i of Jr.#g.values())n.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#i?.div.classList.toggle("disabled",!e)}get#v(){return this.#r.size!==0?this.#r.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const e=new Set;for(const i of this.#v)i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#u.removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const n=this.#i;if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),this.#u.isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#m){this.#m=new AbortController;const i=this.#u.combinedSignal(this.#m);this.#d.div.addEventListener("pointerdown",a=>{const{clientX:o,clientY:c,timeStamp:d}=a,h=this.#p;if(d-h>500){this.#p=d;return}this.#p=-1;const{classList:f}=this.div;f.toggle("getElements",!0);const p=document.elementsFromPoint(o,c);if(f.toggle("getElements",!1),!this.div.contains(p[0]))return;let m;const x=new RegExp(`^${pd}[0-9]+$`);for(const y of p)if(x.test(y.id)){m=y.id;break}if(!m)return;const b=this.#r.get(m);b?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),b.dblclick(a))},{signal:i,capture:!0})}const e=this.#i;if(e){const i=new Map,a=new Map;for(const o of this.#v){if(o.disableEditing(),!o.annotationElementId){o.updateFakeAnnotationElement(e);continue}if(o.serialize()!==null){i.set(o.annotationElementId,o);continue}else a.set(o.annotationElementId,o);this.getEditableAnnotation(o.annotationElementId)?.show(),o.remove()}const s=e.getEditableAnnotations();for(const o of s){const{id:c}=o.data;if(this.#u.isDeletedAnnotationElement(c)){o.updateEdited({deleted:!0});continue}let d=a.get(c);if(d){d.resetAnnotationElement(o),d.show(!1),o.show();continue}d=i.get(c),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(o)&&d.show(!1)),o.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of Jr.#g.values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(e){return this.#i?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#y.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#y(e){this.#u.unselectAll();const{target:n}=e;if(n===this.#d.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#d.div.contains(n)){const{isMac:i}=wn.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),Zt.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#r.set(e.id,e);const{annotationElementId:n}=e;n&&this.#u.isDeletedAnnotationElement(n)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#r.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e.annotationElementId),Pe.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),n.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:n,undo:i,mustExec:!1})}getEditorByUID(e){for(const n of this.#r.values())if(n.uid===e)return n;return null}getNextId(){return this.#u.getId()}get#x(){return Jr.#g.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#C(e){const n=this.#x;return n?new n.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#x?.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:i,offsetY:a}=this.#w(),s=this.getNextId(),o=this.#C({parent:this,id:s,x:i,y:a,uiManager:this.#u,isCentered:!0,...n});o&&this.add(o)}async deserialize(e){return await Jr.#g.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,n,i={}){const a=this.getNextId(),s=this.#C({parent:this,id:a,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:n,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#w(){const{x:e,y:n,width:i,height:a}=this.boundingClientRect,s=Math.max(0,e),o=Math.max(0,n),c=Math.min(window.innerWidth,e+i),d=Math.min(window.innerHeight,n+a),h=(s+c)/2-e,f=(o+d)/2-n,[p,m]=this.viewport.rotation%180===0?[h,f]:[f,h];return{offsetX:p,offsetY:m}}addNewEditor(e={}){this.createAndAddNewEditor(this.#w(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:n}=wn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!this.#a||(this.#a=!1,this.#x?.isDrawer&&this.#x.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const i=this.#u.getMode();if(i===ze.STAMP||i===ze.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===ze.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}const{isMac:n}=wn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(this.#a=!0,this.#x?.isDrawer){this.startDrawingSession(e);return}const i=this.#u.getActive();this.#t=!i||i.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#x.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const n=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#h=null,this.commitOrRemove())},{signal:n}),this.#x.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&(this.#h=n);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#x.endDrawing(e)):null}findNewParent(e,n,i){const a=this.#u.findParent(n,i);return a===null||a===this?!1:(a.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#x.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const e of this.#r.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#r.clear(),this.#u.removeLayer(this)}#b(){for(const e of this.#r.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,Fs(this.div,e);for(const n of this.#u.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#b();const n=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Fs(this.div,{rotation:i}),n!==i)for(const a of this.#r.values())a.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return this.#u.viewParameters.realScale}}class yn{#e=null;#t=new Map;#i=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const n of this.#t.values())n.remove(),e.append(n);this.#e=e}}static get _svgFactory(){return Ve(this,"_svgFactory",new yd)}static#s(e,[n,i,a,s]){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*n}%`,o.width=`${100*a}%`,o.height=`${100*s}%`}#r(){const e=yn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#a(e,n){const i=yn._svgFactory.createElement("clipPath");e.append(i);const a=`clip_${n}`;i.setAttribute("id",a),i.setAttribute("clipPathUnits","objectBoundingBox");const s=yn._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),a}#o(e,n){for(const[i,a]of Object.entries(n))a===null?e.removeAttribute(i):e.setAttribute(i,a)}draw(e,n=!1,i=!1){const a=yn.#n++,s=this.#r(),o=yn._svgFactory.createElement("defs");s.append(o);const c=yn._svgFactory.createElement("path");o.append(c);const d=`path_p${this.pageIndex}_${a}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#i.set(a,c);const h=i?this.#a(o,d):null,f=yn._svgFactory.createElement("use");return s.append(f),f.setAttribute("href",`#${d}`),this.updateProperties(s,e),this.#t.set(a,s),{id:a,clipPathId:`url(#${h})`}}drawOutline(e,n){const i=yn.#n++,a=this.#r(),s=yn._svgFactory.createElement("defs");a.append(s);const o=yn._svgFactory.createElement("path");s.append(o);const c=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke");let d;if(n){const p=yn._svgFactory.createElement("mask");s.append(p),d=`mask_p${this.pageIndex}_${i}`,p.setAttribute("id",d),p.setAttribute("maskUnits","objectBoundingBox");const m=yn._svgFactory.createElement("rect");p.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const x=yn._svgFactory.createElement("use");p.append(x),x.setAttribute("href",`#${c}`),x.setAttribute("stroke","none"),x.setAttribute("fill","black"),x.setAttribute("fill-rule","nonzero"),x.classList.add("mask")}const h=yn._svgFactory.createElement("use");a.append(h),h.setAttribute("href",`#${c}`),d&&h.setAttribute("mask",`url(#${d})`);const f=h.cloneNode();return a.append(f),h.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(a,e),this.#t.set(i,a),i}finalizeDraw(e,n){this.#i.delete(e),this.updateProperties(e,n)}updateProperties(e,n){if(!n)return;const{root:i,bbox:a,rootClass:s,path:o}=n,c=typeof e=="number"?this.#t.get(e):e;if(c){if(i&&this.#o(c,i),a&&yn.#s(c,a),s){const{classList:d}=c;for(const[h,f]of Object.entries(s))d.toggle(h,f)}if(o){const h=c.firstChild.firstChild;this.#o(h,o)}}}updateParent(e,n){if(n===this)return;const i=this.#t.get(e);i&&(n.#e.append(i),this.#t.delete(e),n.#t.set(e,i))}remove(e){this.#i.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Hy};globalThis.pdfjsLib={AbortException:$a,AnnotationEditorLayer:Jr,AnnotationEditorParamsType:Qe,AnnotationEditorType:ze,AnnotationEditorUIManager:Fa,AnnotationLayer:T2,AnnotationMode:Zr,AnnotationType:Jt,applyOpacity:MD,build:QD,ColorPicker:Di,createValidAbsoluteUrl:d2,CSSConstants:OD,DOMSVGFactory:yd,DrawLayer:yn,FeatureTest:wn,fetchData:Ac,findContrastColor:PD,getDocument:w2,getFilenameFromUrl:TD,getPdfFilenameFromUrl:kD,getRGB:Nc,getUuid:f2,getXfaPageViewport:DD,GlobalWorkerOptions:Rs,ImageKind:od,InvalidPDFException:Mp,isDataScheme:Xd,isPdfFile:Yg,isValidExplicitDest:BD,MathClamp:Un,noContextMenu:Hi,normalizeUnicode:ND,OPS:lc,OutputScale:Dr,PasswordResponses:CD,PDFDataRangeTransport:C2,PDFDateString:Pp,PDFWorker:cc,PermissionFlag:SD,PixelsPerInch:Io,RenderingCancelledException:Wg,renderRichText:m2,ResponseException:gd,setLayerDimensions:Fs,shadow:Ve,SignatureExtractor:So,stopEvent:zt,SupportedImageMimeTypes:Rp,TextLayer:vd,TouchManager:Jd,updateUrlHash:h2,Util:Ce,VerbosityLevel:Gd,version:A2,XfaLayer:g2};const DF=Object.freeze(Object.defineProperty({__proto__:null,AbortException:$a,AnnotationEditorLayer:Jr,AnnotationEditorParamsType:Qe,AnnotationEditorType:ze,AnnotationEditorUIManager:Fa,AnnotationLayer:T2,AnnotationMode:Zr,AnnotationType:Jt,CSSConstants:OD,ColorPicker:Di,DOMSVGFactory:yd,DrawLayer:yn,FeatureTest:wn,GlobalWorkerOptions:Rs,ImageKind:od,InvalidPDFException:Mp,MathClamp:Un,OPS:lc,OutputScale:Dr,PDFDataRangeTransport:C2,PDFDateString:Pp,PDFWorker:cc,PasswordResponses:CD,PermissionFlag:SD,PixelsPerInch:Io,RenderingCancelledException:Wg,ResponseException:gd,SignatureExtractor:So,SupportedImageMimeTypes:Rp,TextLayer:vd,TouchManager:Jd,Util:Ce,VerbosityLevel:Gd,XfaLayer:g2,applyOpacity:MD,build:QD,createValidAbsoluteUrl:d2,fetchData:Ac,findContrastColor:PD,getDocument:w2,getFilenameFromUrl:TD,getPdfFilenameFromUrl:kD,getRGB:Nc,getUuid:f2,getXfaPageViewport:DD,isDataScheme:Xd,isPdfFile:Yg,isValidExplicitDest:BD,noContextMenu:Hi,normalizeUnicode:ND,renderRichText:m2,setLayerDimensions:Fs,shadow:Ve,stopEvent:zt,updateUrlHash:h2,version:A2},Symbol.toStringTag,{value:"Module"}));function l6(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=l6(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function st(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=l6(t))&&(i&&(i+=" "),i+=e);return i}var GA=Object.prototype.hasOwnProperty;function WA(t,e,n){for(n of t.keys())if(ic(n,e))return n}function ic(t,e){var n,i,a;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&ic(t[i],e[i]););return i===-1}if(n===Set){if(t.size!==e.size)return!1;for(i of t)if(a=i,a&&typeof a=="object"&&(a=WA(e,a),!a)||!e.has(a))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t)if(a=i[0],a&&typeof a=="object"&&(a=WA(e,a),!a)||!ic(i[1],e.get(a)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}if(!n||typeof t=="object"){i=0;for(n in t)if(GA.call(t,n)&&++i&&!GA.call(e,n)||!(n in e)||!ic(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}function eh(t){let e=!1;return{promise:new Promise((i,a)=>{t.then(s=>!e&&i(s)).catch(s=>!e&&a(s))}),cancel(){e=!0}}}const OF=["onCopy","onCut","onPaste"],MF=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],PF=["onFocus","onBlur"],RF=["onInput","onInvalid","onReset","onSubmit"],LF=["onLoad","onError"],IF=["onKeyDown","onKeyPress","onKeyUp"],BF=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],zF=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],$F=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],FF=["onSelect"],HF=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],UF=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],VF=["onScroll"],qF=["onWheel"],GF=["onAnimationStart","onAnimationEnd","onAnimationIteration"],WF=["onTransitionEnd"],YF=["onToggle"],XF=["onChange"],KF=[...OF,...MF,...PF,...RF,...LF,...IF,...BF,...zF,...$F,...FF,...HF,...UF,...VF,...qF,...GF,...WF,...XF,...YF];function c6(t,e){const n={};for(const i of KF){const a=t[i];a&&(e?n[i]=(s=>a(s,e(i))):n[i]=a)}return n}var JF="Invariant failed";function pt(t,e){if(!t)throw new Error(JF)}var k0,YA;function ZF(){if(YA)return k0;YA=1;var t=function(){};return k0=t,k0}var QF=ZF();const Gn=vr(QF),u6=j.createContext(null),eH="noopener noreferrer nofollow";class tH{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return pt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){pt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,n,i){e.href=n,e.rel=this.externalLinkRel||eH,e.target=i?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(n=>{pt(this.pdfDocument),pt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)}).then(n=>{pt(Array.isArray(n));const i=n[0];new Promise(a=>{pt(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(s=>{a(s)}).catch(()=>{pt(!1)}):typeof i=="number"?a(i):pt(!1)}).then(a=>{const s=a+1;pt(this.pdfViewer),pt(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:a,pageNumber:s})})})}goToPage(e){const n=e-1;pt(this.pdfViewer),pt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function rc({children:t,type:e}){return r.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const XA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function nH(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function uc(){return j.useReducer(nH,{value:void 0,error:void 0})}const Jg=typeof window<"u",d6=Jg&&window.location.protocol==="file:";function iH(t){return typeof t<"u"}function po(t){return iH(t)&&t!==null}function rH(t){return typeof t=="string"}function aH(t){return t instanceof ArrayBuffer}function sH(t){return pt(Jg),t instanceof Blob}function qy(t){return rH(t)&&/^data:/.test(t)}function KA(t){pt(qy(t));const[e="",n=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function oH(){return Jg&&window.devicePixelRatio||1}const h6="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function JA(){Gn(!d6,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${h6}`)}function lH(){Gn(!d6,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${h6}`)}function zo(t){t?.cancel&&t.cancel()}function Gy(t,e){return Object.defineProperty(t,"width",{get(){return this.getViewport({scale:e}).width},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.getViewport({scale:e}).height},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.getViewport({scale:1}).width},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.getViewport({scale:1}).height},configurable:!0}),t}function f6(t){return t.name==="AbortException"||t.name==="RenderingCancelledException"}function cH(t){return new Promise((e,n)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return n(new Error("Error while reading a file."));e(i.result)},i.onerror=a=>{if(!a.target)return n(new Error("Error while reading a file."));const{error:s}=a.target;if(!s)return n(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},i.readAsArrayBuffer(t)})}const{PDFDataRangeTransport:uH}=DF,dH=(t,e)=>{switch(e){case XA.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");t(n);break}case XA.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");t(n);break}}};function ZA(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const hH=j.forwardRef(function({children:e,className:n,error:i="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:s,file:o,inputRef:c,imageResourcesPath:d,loading:h="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:m,onLoadProgress:x,onLoadSuccess:b,onPassword:y=dH,onSourceError:_,onSourceSuccess:S,options:N,renderMode:E,rotate:A,scale:T,...k},R){const[H,V]=uc(),{value:Y,error:W}=H,[X,ee]=uc(),{value:L,error:P}=X,M=j.useRef(new tH),I=j.useRef([]),G=j.useRef(void 0),U=j.useRef(void 0);o&&o!==G.current&&ZA(o)&&(Gn(!ic(o,G.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),G.current=o),N&&N!==U.current&&(Gn(!ic(N,U.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),U.current=N);const K=j.useRef({scrollPageIntoView:we=>{const{dest:_e,pageNumber:Fe,pageIndex:Ke=Fe-1}=we;if(p){p({dest:_e,pageIndex:Ke,pageNumber:Fe});return}const it=I.current[Ke];if(it){it.scrollIntoView();return}Gn(!1,`An internal link leading to page ${Fe} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});j.useImperativeHandle(R,()=>({linkService:M,pages:I,viewer:K}),[]);function z(){S&&S()}function O(){W&&(Gn(!1,W.toString()),_&&_(W))}function $(){V({type:"RESET"})}j.useEffect($,[o,V]);const B=j.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return qy(o)?{data:KA(o)}:(JA(),{url:o});if(o instanceof uH)return{range:o};if(aH(o))return{data:o};if(Jg&&sH(o))return{data:await cH(o)};if(pt(typeof o=="object"),pt(ZA(o)),"url"in o&&typeof o.url=="string"){if(qy(o.url)){const{url:we,..._e}=o;return{data:KA(we),..._e}}JA()}return o},[o]);j.useEffect(()=>{const we=eh(B());return we.promise.then(_e=>{V({type:"RESOLVE",value:_e})}).catch(_e=>{V({type:"REJECT",error:_e})}),()=>{zo(we)}},[B,V]),j.useEffect(()=>{if(!(typeof Y>"u")){if(Y===!1){O();return}z()}},[Y]);function Q(){L&&(b&&b(L),I.current=new Array(L.numPages),M.current.setDocument(L))}function J(){P&&(Gn(!1,P.toString()),m&&m(P))}j.useEffect(function(){ee({type:"RESET"})},[ee,Y]),j.useEffect(function(){if(!Y)return;const _e=N?{...Y,...N}:Y,Fe=w2(_e);x&&(Fe.onProgress=x),y&&(Fe.onPassword=y);const Ke=Fe;return Ke.promise.then(it=>{Ke.destroyed||ee({type:"RESOLVE",value:it})}).catch(it=>{Ke.destroyed||ee({type:"REJECT",error:it})}),()=>{Ke.destroy()}},[N,ee,Y]),j.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){J();return}Q()}},[L]),j.useEffect(function(){M.current.setViewer(K.current),M.current.setExternalLinkRel(a),M.current.setExternalLinkTarget(s)},[a,s]);const q=j.useCallback((we,_e)=>{I.current[we]=_e},[]),re=j.useCallback(we=>{delete I.current[we]},[]),Z=j.useMemo(()=>({imageResourcesPath:d,linkService:M.current,onItemClick:p,pdf:L,registerPage:q,renderMode:E,rotate:A,scale:T,unregisterPage:re}),[d,p,L,q,E,A,T,re]),ve=j.useMemo(()=>c6(k,()=>L),[k,L]);function ae(){function we(Fe){return!!Fe?.pdf}if(!we(Z))throw new Error("pdf is undefined");const _e=typeof e=="function"?e(Z):e;return r.jsx(u6.Provider,{value:Z,children:_e})}function se(){return o?L==null?r.jsx(rc,{type:"loading",children:typeof h=="function"?h():h}):L===!1?r.jsx(rc,{type:"error",children:typeof i=="function"?i():i}):ae():r.jsx(rc,{type:"no-data",children:typeof f=="function"?f():f})}return r.jsx("div",{className:st("react-pdf__Document",n),ref:c,...ve,children:se()})});function p6(){return j.useContext(u6)}function g6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);if(n.length<=1){var i=n[0];return i||null}return function(s){for(var o=0,c=n;o<c.length;o++){var d=c[o];typeof d=="function"?d(s):d&&(d.current=s)}}}const m6=j.createContext(null);function Zg(){return j.useContext(m6)}function fH(){const t=p6(),e=Zg();pt(e);const n={...t,...e},{filterAnnotations:i,imageResourcesPath:a,linkService:s,onGetAnnotationsError:o,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:h,page:f,pdf:p,renderForms:m,rotate:x,scale:b=1}=n;pt(p),pt(f),pt(s);const[y,_]=uc(),{value:S,error:N}=y,E=j.useRef(null);Gn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function A(){S&&c&&c(S)}function T(){N&&(Gn(!1,N.toString()),o&&o(N))}j.useEffect(function(){_({type:"RESET"})},[_,f]),j.useEffect(function(){if(!f)return;const Y=eh(f.getAnnotations()),W=Y;return Y.promise.then(X=>{_({type:"RESOLVE",value:X})}).catch(X=>{_({type:"REJECT",error:X})}),()=>{zo(W)}},[_,f]),j.useEffect(()=>{if(S!==void 0){if(S===!1){T();return}A()}},[S]);function k(){h&&h()}function R(V){Gn(!1,`${V}`),d&&d(V)}const H=j.useMemo(()=>f.getViewport({scale:b,rotation:x}),[f,x,b]);return j.useEffect(function(){if(!p||!f||!s||!S)return;const{current:Y}=E;if(!Y)return;const W=H.clone({dontFlip:!0}),X={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:Y,l10n:null,linkService:s,page:f,structTreeLayer:null,viewport:W},ee={annotations:i?i({annotations:S}):S,annotationStorage:p.annotationStorage,div:Y,imageResourcesPath:a,linkService:s,page:f,renderForms:m,viewport:W};Y.innerHTML="";try{new T2(X).render(ee),k()}catch(L){R(L)}return()=>{}},[S,i,a,s,f,p,m,H]),r.jsx("div",{className:st("react-pdf__Page__annotations","annotationLayer"),ref:E})}const v6={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},pH=/^H(\d+)$/;function gH(t){return t in v6}function Qg(t){return"children"in t}function x6(t){return Qg(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function mH(t){const e={};if(Qg(t)){const{role:n}=t,i=n.match(pH);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(gH(n)){const a=v6[n];a&&(e.role=a)}}return e}function y6(t){const e={};if(Qg(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),x6(t)){const[n]=t.children;if(n){const i=y6(n);return{...e,...i}}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function vH(t){return t?{...mH(t),...y6(t)}:null}function b6({className:t,node:e}){const n=j.useMemo(()=>vH(e),[e]),i=j.useMemo(()=>!Qg(e)||x6(e)?null:e.children.map((a,s)=>r.jsx(b6,{node:a},s)),[e]);return r.jsx("span",{className:t,...n,children:i})}function xH(){const t=Zg();pt(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[i,a]=uc(),{value:s,error:o}=i,{customTextRenderer:c,page:d}=t;function h(){s&&n&&n(s)}function f(){o&&(Gn(!1,o.toString()),e&&e(o))}return j.useEffect(function(){a({type:"RESET"})},[a,d]),j.useEffect(function(){if(c||!d)return;const m=eh(d.getStructTree()),x=m;return m.promise.then(b=>{a({type:"RESOLVE",value:b})}).catch(b=>{a({type:"REJECT",error:b})}),()=>zo(x)},[c,d,a]),j.useEffect(()=>{if(s!==void 0){if(s===!1){f();return}h()}},[s]),s?r.jsx(b6,{className:"react-pdf__Page__structTree structTree",node:s}):null}const QA=Zr;function yH(t){const e=Zg();pt(e);const n={...e,...t},{_className:i,canvasBackground:a,devicePixelRatio:s=oH(),onRenderError:o,onRenderSuccess:c,page:d,renderForms:h,renderTextLayer:f,rotate:p,scale:m}=n,{canvasRef:x}=t;pt(d);const b=j.useRef(null);function y(){d&&c&&c(Gy(d,m))}function _(A){f6(A)||(Gn(!1,A.toString()),o&&o(A))}const S=j.useMemo(()=>d.getViewport({scale:m*s,rotation:p}),[s,d,p,m]),N=j.useMemo(()=>d.getViewport({scale:m,rotation:p}),[d,p,m]);j.useEffect(function(){if(!d)return;d.cleanup();const{current:T}=b;if(!T)return;T.width=S.width,T.height=S.height,T.style.width=`${Math.floor(N.width)}px`,T.style.height=`${Math.floor(N.height)}px`,T.style.visibility="hidden";const k={annotationMode:h?QA.ENABLE_FORMS:QA.ENABLE,canvas:T,canvasContext:T.getContext("2d",{alpha:!1}),viewport:S};a&&(k.background=a);const R=d.render(k),H=R;return R.promise.then(()=>{T.style.visibility="",y()}).catch(_),()=>zo(H)},[a,d,h,S,N]);const E=j.useCallback(()=>{const{current:A}=b;A&&(A.width=0,A.height=0)},[]);return j.useEffect(()=>E,[E]),r.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:g6(x,b),style:{display:"block",userSelect:"none"},children:f?r.jsx(xH,{}):null})}function bH(t){return"str"in t}function _H(){const t=Zg();pt(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:i,onRenderTextLayerError:a,onRenderTextLayerSuccess:s,page:o,pageIndex:c,pageNumber:d,rotate:h,scale:f}=t;pt(o);const[p,m]=uc(),{value:x,error:b}=p,y=j.useRef(null);Gn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function _(){x&&i&&i(x)}function S(){b&&(Gn(!1,b.toString()),n&&n(b))}j.useEffect(function(){m({type:"RESET"})},[o,m]),j.useEffect(function(){if(!o)return;const H=eh(o.getTextContent()),V=H;return H.promise.then(Y=>{m({type:"RESOLVE",value:Y})}).catch(Y=>{m({type:"REJECT",error:Y})}),()=>zo(V)},[o,m]),j.useEffect(()=>{if(x!==void 0){if(x===!1){S();return}_()}},[x]);const N=j.useCallback(()=>{s&&s()},[s]),E=j.useCallback(R=>{f6(R)||(Gn(!1,R.toString()),a&&a(R))},[a]);function A(){const R=y.current;R&&R.classList.add("selecting")}function T(){const R=y.current;R&&R.classList.remove("selecting")}const k=j.useMemo(()=>o.getViewport({scale:f,rotation:h}),[o,h,f]);return j.useLayoutEffect(function(){if(!o||!x)return;const{current:H}=y;if(!H)return;H.innerHTML="";const V=o.streamTextContent({includeMarkedContent:!0}),Y={container:H,textContentSource:V,viewport:k},W=new vd(Y),X=W;return W.render().then(()=>{const ee=document.createElement("div");ee.className="endOfContent",H.append(ee);const L=H.querySelectorAll('[role="presentation"]');if(e){let P=0;x.items.forEach((M,I)=>{if(!bH(M))return;const G=L[P];if(!G)return;const U=e({pageIndex:c,pageNumber:d,itemIndex:I,...M});G.innerHTML=U,P+=M.str&&M.hasEOL?2:1})}N()}).catch(E),()=>zo(X)},[e,E,N,o,c,d,x,k]),r.jsx("div",{className:st("react-pdf__Page__textContent","textLayer"),onMouseUp:T,onMouseDown:A,ref:y})}const eN=1;function jH(t){const n={...p6(),...t},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:s,canvasRef:o,children:c,className:d,customRenderer:h,customTextRenderer:f,devicePixelRatio:p,error:m="Failed to load the page.",filterAnnotations:x,height:b,inputRef:y,loading:_="Loading page",noData:S="No page specified.",onGetAnnotationsError:N,onGetAnnotationsSuccess:E,onGetStructTreeError:A,onGetStructTreeSuccess:T,onGetTextError:k,onGetTextSuccess:R,onLoadError:H,onLoadSuccess:V,onRenderAnnotationLayerError:Y,onRenderAnnotationLayerSuccess:W,onRenderError:X,onRenderSuccess:ee,onRenderTextLayerError:L,onRenderTextLayerSuccess:P,pageIndex:M,pageNumber:I,pdf:G,registerPage:U,renderAnnotationLayer:K=!0,renderForms:z=!1,renderMode:O="canvas",renderTextLayer:$=!0,rotate:B,scale:Q=eN,unregisterPage:J,width:q,...re}=n,[Z,ve]=uc(),{value:ae,error:se}=Z,we=j.useRef(null);pt(G);const _e=po(I)?I-1:M??null,Fe=I??(po(M)?M+1:null),Ke=B??(ae?ae.rotate:null),it=j.useMemo(()=>{if(!ae)return null;let ye=1;const De=Q??eN;if(q||b){const de=ae.getViewport({scale:1,rotation:Ke});q?ye=q/de.width:b&&(ye=b/de.height)}return De*ye},[b,ae,Ke,Q,q]);j.useEffect(function(){return()=>{po(_e)&&a&&J&&J(_e)}},[a,G,_e,J]);function _r(){if(V){if(!ae||!it)return;V(Gy(ae,it))}if(a&&U){if(!po(_e)||!we.current)return;U(_e,we.current)}}function qi(){se&&(Gn(!1,se.toString()),H&&H(se))}j.useEffect(function(){ve({type:"RESET"})},[ve,G,_e]),j.useEffect(function(){if(!G||!Fe)return;const De=eh(G.getPage(Fe)),de=De;return De.promise.then(Ne=>{ve({type:"RESOLVE",value:Ne})}).catch(Ne=>{ve({type:"REJECT",error:Ne})}),()=>zo(de)},[ve,G,Fe]),j.useEffect(()=>{if(ae!==void 0){if(ae===!1){qi();return}_r()}},[ae,it]);const _i=j.useMemo(()=>po(_e)&&Fe&&po(Ke)&&po(it)?{_className:i,canvasBackground:s,customTextRenderer:f,devicePixelRatio:p,filterAnnotations:x,onGetAnnotationsError:N,onGetAnnotationsSuccess:E,onGetStructTreeError:A,onGetStructTreeSuccess:T,onGetTextError:k,onGetTextSuccess:R,onRenderAnnotationLayerError:Y,onRenderAnnotationLayerSuccess:W,onRenderError:X,onRenderSuccess:ee,onRenderTextLayerError:L,onRenderTextLayerSuccess:P,page:ae,pageIndex:_e,pageNumber:Fe,renderForms:z,renderTextLayer:$,rotate:Ke,scale:it}:null,[i,s,f,p,x,N,E,A,T,k,R,Y,W,X,ee,L,P,ae,_e,Fe,z,$,Ke,it]),da=j.useMemo(()=>c6(re,()=>ae&&(it?Gy(ae,it):void 0)),[re,ae,it]),Lr=`${_e}@${it}/${Ke}`;function Ws(){switch(O){case"custom":return pt(h),r.jsx(h,{},`${Lr}_custom`);case"none":return null;default:return r.jsx(yH,{canvasRef:o},`${Lr}_canvas`)}}function It(){return $?r.jsx(_H,{},`${Lr}_text`):null}function Ys(){return K?r.jsx(fH,{},`${Lr}_annotations`):null}function kn(){function ye(de){return!!de?.page}if(!ye(_i))throw new Error("page is undefined");const De=typeof c=="function"?c(_i):c;return r.jsxs(m6.Provider,{value:_i,children:[Ws(),It(),Ys(),De]})}function pe(){return Fe?G===null||ae===void 0||ae===null?r.jsx(rc,{type:"loading",children:typeof _=="function"?_():_}):G===!1||ae===!1?r.jsx(rc,{type:"error",children:typeof m=="function"?m():m}):kn():r.jsx(rc,{type:"no-data",children:typeof S=="function"?S():S})}return r.jsx("div",{className:st(i,d),"data-page-number":Fe,ref:g6(y,we),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${it}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...da,children:pe()})}lH();Rs.workerSrc="pdf.worker.mjs";Rs.workerSrc=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${A2}/build/pdf.worker.min.mjs`;const wH=t=>t==="en"?"_en":t==="tj"?"_tj":"_ru",SH=t=>t?t.replace(/font-family\s*:[^;"']*(;?)/gi,""):"",CH={calendar:_D,map:pz,users:fz,info:jD};function Lt({blocks:t,language:e}){const n=wH(e);return!t||t.length===0?null:r.jsx(r.Fragment,{children:t.map((i,a)=>{switch(i.type){case"hero":return r.jsx(ut,{title:i[`title${n}`]||i.title_ru||"",subtitle:i[`subtitle${n}`]||i.subtitle_ru||"",backgroundImage:i.image},i.id||a);case"text":return r.jsx("section",{className:`section ${i.background==="gray"?"section--gray":""}`,children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"content-text",children:[i[`heading${n}`]&&r.jsx("h2",{children:i[`heading${n}`]}),r.jsx("div",{dangerouslySetInnerHTML:{__html:SH(i[`content${n}`]||i.content_ru||"")}})]})})},i.id||a);case"image":const s=c=>{switch(c){case"small":return"400px";case"medium":return"800px";case"large":return"1200px";case"full":return"100%";default:return"800px"}},o=c=>{switch(c){case"left":return"flex-start";case"right":return"flex-end";case"center":return"center";default:return"center"}};return r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:i.url&&r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:o(i.alignment||"center")},children:[r.jsx("img",{src:i.url,alt:i[`alt${n}`]||"",style:{maxWidth:s(i.size||"medium"),width:"100%",height:"auto",borderRadius:"8px"}}),i[`caption${n}`]&&r.jsx("p",{style:{marginTop:"1rem",color:"#6b7280",fontStyle:"italic",textAlign:i.alignment||"center",maxWidth:s(i.size||"medium")},children:i[`caption${n}`]})]})})},i.id||a);case"pdf":return r.jsx(AH,{block:i,suffix:n},i.id||a);case"info_cards":return r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"excursion-info-grid",style:{marginTop:"2rem"},children:(i.cards||[]).map((c,d)=>{const h=CH[c.icon]||jD;return r.jsxs("div",{className:"excursion-info-card",children:[r.jsx("div",{className:"excursion-info-icon",children:r.jsx(h,{width:24,height:24})}),r.jsx("h3",{children:c[`title${n}`]||c.title_ru||""}),r.jsx("p",{children:c[`text${n}`]||c.text_ru||""})]},c.id||d)})})})},i.id||a);case"schedule":return r.jsx("section",{className:"section section--gray",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"content-text",children:[i[`heading${n}`]&&r.jsx("h2",{children:i[`heading${n}`]}),r.jsx("ul",{style:{marginTop:"1.5rem"},children:(i.items||[]).map((c,d)=>r.jsxs("li",{children:[c.time&&r.jsx("strong",{children:c.time}),c.time&&" - ",c[`text${n}`]||c.text_ru||""]},c.id||d))})]})})},i.id||a);case"list":return r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"content-text",children:[i[`heading${n}`]&&r.jsx("h2",{children:i[`heading${n}`]}),r.jsx("ul",{style:{marginTop:"1.5rem"},children:(i[`items${n}`]||i.items_ru||[]).map((c,d)=>r.jsx("li",{children:c},d))})]})})},i.id||a);case"facts":return r.jsx("section",{className:"section section--gray",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"content-text",children:[i[`heading${n}`]&&r.jsx("h2",{children:i[`heading${n}`]}),r.jsx("ul",{style:{marginTop:"1.5rem"},children:(i[`facts${n}`]||i.facts_ru||[]).map((c,d)=>r.jsx("li",{children:c},d))})]})})},i.id||a);case"cta":return r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"content-text",style:{textAlign:"center"},children:[i[`text${n}`]&&r.jsx("p",{style:{fontSize:"1.125rem",marginBottom:"1.5rem"},children:i[`text${n}`]}),i[`button_text${n}`]&&i.button_link&&r.jsx("a",{href:i.button_link,className:"btn btn--primary btn--large",children:i[`button_text${n}`]})]})})},i.id||a);default:return null}})})}function AH({block:t,suffix:e}){const[n,i]=j.useState(null),[a,s]=j.useState(!0),[o,c]=j.useState(800),d=j.useRef(null),h=t[`url${e}`]||t.url||"";j.useEffect(()=>{const x=d.current;if(!x)return;const b=()=>{const _=x.clientWidth;_>0&&c(_)};b();const y=new ResizeObserver(b);return y.observe(x),()=>y.disconnect()},[]);function f({numPages:x}){i(x),s(!1)}function p(x){console.error("Error loading PDF:",x),s(!1)}const m=t[`description${e}`];return r.jsx("section",{className:`section ${m?"section--pdf":""}`,style:{background:"white",padding:m?void 0:"1rem 0"},children:r.jsxs("div",{className:"container",children:[m&&r.jsx("div",{style:{textAlign:"center",marginBottom:"2.5rem"},children:r.jsx("h2",{style:{fontSize:"clamp(24px, 5vw, 32px)",fontWeight:"700",color:"#1e3a5f",marginBottom:"0.5rem"},children:m})}),h&&r.jsxs("div",{ref:d,style:{margin:"0 auto",width:"100%"},children:[r.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",paddingBottom:"0.75rem",marginBottom:"1rem",borderBottom:"1px solid #e5e7eb"},children:r.jsxs("button",{onClick:async()=>{try{const b=await(await fetch(h)).blob(),y=URL.createObjectURL(b),_=document.createElement("a");_.href=y,_.download=t[`fileName${e}`]||t.fileName_ru||"document.pdf",document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(y)}catch{window.open(h,"_blank")}},className:"btn btn--primary",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"clamp(8px, 2vw, 10px) clamp(16px, 3vw, 20px)",background:"#2d5a87",color:"white",textDecoration:"none",borderRadius:"6px",fontSize:"clamp(12px, 2.5vw, 14px)",fontWeight:"500",transition:"all 0.2s",border:"none",cursor:"pointer",whiteSpace:"nowrap"},onMouseEnter:x=>{x.currentTarget.style.background="#1e4268"},onMouseLeave:x=>{x.currentTarget.style.background="#2d5a87"},children:[r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),r.jsx("polyline",{points:"7 10 12 15 17 10"}),r.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),t[`buttonText${e}`]||t.buttonText_ru||"Download"]})}),r.jsxs("div",{style:{width:"100%",background:"white",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:[a&&r.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280",fontSize:"clamp(14px, 2.5vw, 16px)"},children:"Loading document..."}),r.jsx(hH,{file:h,onLoadSuccess:f,onLoadError:p,loading:"",children:n&&Array.from(new Array(n),(x,b)=>r.jsx("div",{style:{marginBottom:b<n-1?"20px":"0",display:"flex",justifyContent:"center",width:"100%"},children:r.jsx(jH,{pageNumber:b+1,width:o,renderTextLayer:!1,renderAnnotationLayer:!1})},`page_${b+1}`))})]})]})]})})}function NH(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("excursions_main",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("excursions",{title:{ru:"",en:"Excursions",tj:""},subtitle:{ru:"",en:"",tj:""}},"excursions_main");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function EH(){const{language:t}=Ie(),{getJsonSetting:e,loading:n}=Xe(),a=e("exhibition_main",null)?.blocks||[],s=a.some(c=>c.type==="hero"),o=_t("exhibition",{title:{ru:"",en:"Exhibition",tj:""},subtitle:{ru:"",en:"",tj:""}},"exhibition_main");return r.jsxs(r.Fragment,{children:[o.showBanner&&!s&&r.jsx(ut,{title:o.title,subtitle:o.subtitle,backgroundImage:o.backgroundImage}),n?r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("p",{children:"..."})})}):a.length>0?r.jsx(Lt,{blocks:a,language:t}):r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"content-text",children:r.jsx("p",{style:{textAlign:"center",color:"#6b7280"},children:t==="en"?"Content coming soon...":t==="tj"?"  ...":"  ..."})})})})]})}const TH=t=>t==="en"?"_en":t==="tj"?"_tj":"_ru",kH=[{id:1,image:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=600&h=400&fit=crop",stars:5,name_ru:"Hyatt Regency Dushanbe",name_en:"Hyatt Regency Dushanbe",name_tj:"Hyatt Regency ",description_ru:"     ",description_en:"Official conference hotel in the city center",description_tj:"     ",amenities_ru:[" ","",""],amenities_en:["City center","Transfer","SPA"],amenities_tj:[" ","",""]},{id:2,image:"https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?w=600&h=400&fit=crop",stars:5,name_ru:"Serena Hotel Dushanbe",name_en:"Serena Hotel Dushanbe",name_tj:"Serena Hotel ",description_ru:"    ",description_en:"Luxury hotel in the historic district",description_tj:"    ",amenities_ru:[" ","",""],amenities_en:["Historic district","Fitness","Restaurant"],amenities_tj:[" ","",""]},{id:3,image:"https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?w=600&h=400&fit=crop",stars:5,name_ru:"Hilton Dushanbe",name_en:"Hilton Dushanbe",name_tj:"Hilton ",description_ru:"   -",description_en:"Modern hotel with business center",description_tj:"    ",amenities_ru:["-","","-"],amenities_en:["Business center","Restaurants","Conference rooms"],amenities_tj:[" ",""," "]}],DH=[{id:1,icon:"plane",title_ru:"",title_en:"Airport",title_tj:"",description_ru:"     20    ",description_en:"Dushanbe International Airport is 20 minutes from the city center",description_tj:"   20    "},{id:2,icon:"bus",title_ru:"",title_en:"Shuttle Service",title_tj:" ",description_ru:"      ",description_en:"Free airport shuttle for all participants",description_tj:"      "},{id:3,icon:"taxi",title_ru:"",title_en:"Taxi",title_tj:"",description_ru:"      ",description_en:"Taxis available 24/7 at the airport and around the city",description_tj:"       "}],OH=[{id:1,icon:"check",title_ru:" ",title_en:"Visa-Free Entry",title_tj:"  ",description_ru:" 52     ",description_en:"Citizens of 52 countries can enter visa-free",description_tj:" 52      "},{id:2,icon:"computer",title_ru:" ",title_en:"E-Visa",title_tj:" ",description_ru:"     ",description_en:"E-visa available for most countries",description_tj:"      "},{id:3,icon:"help",title_ru:" ",title_en:"Visa Support",title_tj:" ",description_ru:"    ",description_en:"Organizers will help with visa processing",description_tj:"     "}],MH=[{id:1,icon:"weather",title_ru:"",title_en:"Weather",title_tj:" ",description_ru:"   20-30C, ",description_en:"May temperatures 20-30C, sunny",description_tj:"    20-30C, "},{id:2,icon:"money",title_ru:"",title_en:"Currency",title_tj:"",description_ru:"  -  (TJS)",description_en:"National currency is Somoni (TJS)",description_tj:"  -  (TJS)"},{id:3,icon:"phone",title_ru:"",title_en:"Communication",title_tj:"",description_ru:"SIM-   ",description_en:"SIM cards available at the airport",description_tj:" SIM    "}],Kf={accommodation:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"32",height:"32",children:r.jsx("path",{d:"M3 21h18M3 10h18M5 6l7-3 7 3M4 10v11M20 10v11M8 14v3M16 14v3M12 14v3"})}),transport:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"32",height:"32",children:r.jsx("path",{d:"M22 2L2 8.67l9.67 3.67 3.66 9.66L22 2z"})}),visa:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"32",height:"32",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),r.jsx("path",{d:"M7 15h.01M11 15h2"})]}),info:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"32",height:"32",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),r.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})},tN={plane:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"28",height:"28",children:r.jsx("path",{d:"M22 2L2 8.67l9.67 3.67 3.66 9.66L22 2z"})}),bus:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"28",height:"28",children:[r.jsx("rect",{x:"1",y:"3",width:"15",height:"13"}),r.jsx("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),r.jsx("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),r.jsx("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]}),taxi:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"28",height:"28",children:r.jsx("path",{d:"M8 6v6M15 6v6M2 12h19.6M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H6c-1.1 0-2.1.8-2.4 1.8l-1.4 5c-.1.4-.2.8-.2 1.2s.1.8.2 1.2c.3 1.1.8 2.8.8 2.8h3M7 18a2 2 0 1 0 4 0 2 2 0 0 0-4 0zM13 18a2 2 0 1 0 4 0 2 2 0 0 0-4 0z"})}),check:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"28",height:"28",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),computer:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"28",height:"28",children:[r.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),r.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),r.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),help:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"28",height:"28",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),r.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),weather:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:r.jsx("path",{d:"M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"})}),money:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:[r.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),r.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),phone:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:r.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})},PH={default:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"18",height:"18",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})})};function RH(){const{t,language:e}=Ie(),{getJsonSetting:n}=Xe(),i=TH(e),a=n("logistics_hotels",kH),s=n("logistics_transport",DH),o=n("logistics_visa",OH),c=n("logistics_useful",MH),d=n("logistics_page_settings",null),h=d&&d[`title${i}`]||t("logistics.title"),f=d&&d[`subtitle${i}`]||t("logistics.subtitle"),p=_t("logistics",{title:{ru:h,en:h,tj:h},subtitle:{ru:f,en:f,tj:f}}),m=d?.[`hotels_title${i}`]||t("logistics.accommodation.title"),x=d?.[`hotels_subtitle${i}`]||t("logistics.accommodation.subtitle"),b=d?.[`transport_title${i}`]||t("logistics.transport.title"),y=d?.[`transport_subtitle${i}`]||t("logistics.transport.subtitle"),_=d?.[`visa_title${i}`]||t("logistics.visa.title"),S=d?.[`visa_subtitle${i}`]||t("logistics.visa.subtitle"),N=d?.[`useful_title${i}`]||t("logistics.info.title"),E=d?.[`useful_subtitle${i}`]||t("logistics.info.subtitle"),A=T=>tN[T]||tN.check;return r.jsxs(r.Fragment,{children:[p.showBanner&&r.jsx(ut,{title:p.title,subtitle:p.subtitle,backgroundImage:p.backgroundImage}),r.jsx("section",{className:"section logistics-section",id:"accommodation",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"logistics-header",children:[r.jsx("div",{className:"logistics-header__icon",children:Kf.accommodation}),r.jsxs("div",{className:"logistics-header__text",children:[r.jsx("h2",{className:"section-title",children:m}),r.jsx("p",{className:"logistics-header__desc",children:x})]})]}),r.jsx("div",{className:"hotel-cards-modern",children:a.map((T,k)=>r.jsxs("div",{className:"hotel-modern",children:[r.jsxs("div",{className:"hotel-modern__image",children:[r.jsx("img",{src:T.image,alt:T[`name${i}`]||T.name_ru}),r.jsx("div",{className:"hotel-modern__overlay"})]}),r.jsxs("div",{className:"hotel-modern__content",children:[r.jsx("div",{className:"hotel-modern__rating",children:[...Array(T.stars||5)].map((R,H)=>r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",children:r.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})},H))}),r.jsx("h3",{children:T[`name${i}`]||T.name_ru}),r.jsx("p",{className:"hotel-modern__desc",children:T[`description${i}`]||T.description_ru}),r.jsx("div",{className:"hotel-modern__amenities",children:Array.isArray(T[`amenities${i}`]||T.amenities_ru)&&(T[`amenities${i}`]||T.amenities_ru).map((R,H)=>r.jsxs("span",{children:[PH.default,R]},H))})]})]},T.id||k))})]})}),r.jsx("section",{className:"section logistics-section logistics-section--alt",id:"transport",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"logistics-header",children:[r.jsx("div",{className:"logistics-header__icon",children:Kf.transport}),r.jsxs("div",{className:"logistics-header__text",children:[r.jsx("h2",{className:"section-title",children:b}),r.jsx("p",{className:"logistics-header__desc",children:y})]})]}),r.jsx("div",{className:"logistics-grid",children:s.map((T,k)=>r.jsxs("div",{className:"logistics-card",children:[r.jsx("div",{className:"logistics-card__icon",children:A(T.icon)}),r.jsxs("div",{className:"logistics-card__content",children:[r.jsx("h4",{children:T[`title${i}`]||T.title_ru}),r.jsx("p",{children:T[`description${i}`]||T.description_ru})]})]},T.id||k))})]})}),r.jsx("section",{className:"section logistics-section",id:"visa",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"logistics-header",children:[r.jsx("div",{className:"logistics-header__icon",children:Kf.visa}),r.jsxs("div",{className:"logistics-header__text",children:[r.jsx("h2",{className:"section-title",children:_}),r.jsx("p",{className:"logistics-header__desc",children:S})]})]}),r.jsx("div",{className:"logistics-grid",children:o.map((T,k)=>r.jsxs("div",{className:"logistics-card",children:[r.jsx("div",{className:"logistics-card__icon",children:A(T.icon)}),r.jsxs("div",{className:"logistics-card__content",children:[r.jsx("h4",{children:T[`title${i}`]||T.title_ru}),r.jsx("p",{children:T[`description${i}`]||T.description_ru})]})]},T.id||k))})]})}),r.jsx("section",{className:"section logistics-section logistics-section--alt",id:"info",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"logistics-header",children:[r.jsx("div",{className:"logistics-header__icon",children:Kf.info}),r.jsxs("div",{className:"logistics-header__text",children:[r.jsx("h2",{className:"section-title",children:N}),r.jsx("p",{className:"logistics-header__desc",children:E})]})]}),r.jsx("div",{className:"useful-info-grid",children:c.map((T,k)=>r.jsxs("div",{className:"useful-info-card",children:[r.jsx("div",{className:"useful-info-card__icon",children:A(T.icon)}),r.jsx("h4",{children:T[`title${i}`]||T.title_ru}),r.jsx("p",{children:T[`description${i}`]||T.description_ru})]},T.id||k))})]})})]})}const LH=t=>t==="en"?"_en":t==="tj"?"_tj":"_ru",IH=[{id:1,type:"secretariat",icon:"phone",phone:"+992 (37) 227-68-43",email:"secretariat@dushanbewaterprocess.org",category_ru:" ",category_en:"Main Contact",category_tj:" ",title_ru:" ",title_en:"Conference Secretariat",title_tj:" ",description_ru:"     ",description_en:"For all general inquiries about the conference",description_tj:"     "},{id:2,type:"registration",icon:"email",phone:"",email:"registration@dushanbewaterprocess.org",category_ru:"",category_en:"Registration",category_tj:"",title_ru:" ",title_en:"Registration Department",title_tj:" ",description_ru:"   ",description_en:"Registration and accreditation inquiries",description_tj:"     "},{id:3,type:"logistics",icon:"hotel",phone:"",email:"logistics@dushanbewaterprocess.org",category_ru:"",category_en:"Logistics",category_tj:"",title_ru:"  ",title_en:"Logistics Coordinator",title_tj:" ",description_ru:",    ",description_en:"Accommodation, transport and visa support",description_tj:",    "},{id:4,type:"media",icon:"camera",phone:"",email:"media@dushanbewaterprocess.org",category_ru:"",category_en:"Press",category_tj:"",title_ru:"-",title_en:"Press Office",title_tj:" ",description_ru:"-   ",description_en:"Media inquiries and press accreditation",description_tj:"    "}];function BH(){const{language:t}=Ie(),{getJsonSetting:e,getSetting:n}=Xe(),i=LH(t),a=e("contacts_cards",IH),s=_t("contacts",{title:{ru:"",en:"Contacts",tj:""},subtitle:{ru:"",en:"",tj:""}});return r.jsxs(r.Fragment,{children:[s.showBanner&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx("section",{className:"section contacts-section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"contacts-cards-grid",children:a.map((o,c)=>r.jsxs("div",{className:"contact-card",children:[r.jsx("span",{className:"contact-card__category",children:o[`category${i}`]||o.category_ru}),r.jsx("h4",{children:o[`title${i}`]||o.title_ru}),r.jsx("p",{className:"contact-card__desc",children:o[`description${i}`]||o.description_ru}),r.jsxs("div",{className:"contact-card__contacts",children:[o.phone&&r.jsxs("p",{children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:r.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),o.phone]}),o.email&&r.jsxs("a",{href:`mailto:${o.email}`,children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[r.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),r.jsx("polyline",{points:"22,6 12,13 2,6"})]}),o.email]})]})]},o.id||c))})})})]})}function zH(){const{language:t}=Ie(),{getJsonSetting:e,loading:n}=Xe(),a=e("registration_page",null)?.blocks||[],s=a.some(c=>c.type==="hero"),o=_t("registration",{title:{ru:"",en:"Registration",tj:""},subtitle:{ru:"",en:"",tj:""}},"registration_page");return r.jsxs(r.Fragment,{children:[o.showBanner&&!s&&r.jsx(ut,{title:o.title,subtitle:o.subtitle,backgroundImage:o.backgroundImage}),n?r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("p",{children:"..."})})}):a.length>0?r.jsx(Lt,{blocks:a,language:t}):r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"content-text",children:r.jsx("p",{style:{textAlign:"center",color:"#6b7280"},children:t==="en"?"Content coming soon...":t==="tj"?"  ...":"  ..."})})})})]})}function $H(){const{language:t,t:e}=Ie(),[n,i]=j.useState([]);j.useEffect(()=>{fetch("/api/news?limit=50").then(o=>o.json()).then(o=>i(o)).catch(()=>{})},[]);const a=_t("news",{title:{ru:"",en:"News",tj:""},subtitle:{ru:"  ",en:"Latest Conference News",tj:"  "}}),s=(o,c)=>o[c]?typeof o[c]=="object"?o[c][t]||o[c].ru||"":o[c]:"";return r.jsxs(r.Fragment,{children:[a.showBanner&&r.jsx(ut,{title:a.title,subtitle:a.subtitle,backgroundImage:a.backgroundImage}),r.jsx("section",{className:"section news-page",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"news-page__grid",children:n.map(o=>r.jsxs("article",{className:"news-page__card",children:[r.jsx(Mt,{to:`/news/${o.slug}`,className:"news-page__image-link",children:r.jsxs("div",{className:"news-page__image-container",children:[r.jsx("img",{src:o.image,alt:s(o,"title"),className:"news-page__image"}),r.jsx("div",{className:"news-page__image-overlay"}),r.jsx("span",{className:"news-page__category",children:o.category})]})}),r.jsxs("div",{className:"news-page__content",children:[r.jsx("div",{className:"news-page__meta",children:r.jsxs("span",{className:"news-page__date",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),o.published_at]})}),r.jsx("h3",{className:"news-page__title",children:r.jsx(Mt,{to:`/news/${o.slug}`,children:s(o,"title")})}),r.jsx("p",{className:"news-page__excerpt",children:s(o,"excerpt")}),r.jsxs(Mt,{to:`/news/${o.slug}`,className:"news-page__link",children:[r.jsx("span",{children:e("newsSection.readMore")}),r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"18",height:"18",children:[r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),r.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})]},o.id))})})})]})}const FH=t=>t?t.replace(/font-family\s*:[^;"']*(;?)/gi,""):"";function HH(){const{slug:t}=Xo(),e=sa(),{language:n,t:i}=Ie(),[a,s]=j.useState(null),[o,c]=j.useState([]),[d,h]=j.useState(!0);if(j.useEffect(()=>{h(!0),fetch(`/api/news/${t}`).then(_=>{if(!_.ok)throw new Error("Not found");return _.json()}).then(_=>{s(_),h(!1)}).catch(()=>{s(null),h(!1)}),fetch("/api/news?limit=4").then(_=>_.json()).then(_=>c(_.filter(S=>S.slug!==t).slice(0,3))).catch(()=>{})},[t]),d)return r.jsx("section",{className:"section news-detail",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"news-detail__not-found",children:r.jsx("h2",{children:i("newsSection.loading")||"..."})})})});if(!a)return r.jsx("section",{className:"section news-detail",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"news-detail__not-found",children:[r.jsx("h2",{children:i("newsSection.notFound")}),r.jsx(Mt,{to:"/news",className:"btn btn--primary",children:i("newsSection.backToNews")})]})})});const f=_=>a[`${_}${n==="en"?"_en":n==="tj"?"_tj":"_ru"}`]||a[`${_}_ru`]||"",p=f("title"),m=a.published_at,x=a.category,b=f("content"),y=(_,S)=>_[S]?typeof _[S]=="object"?_[S][n]||_[S].ru||"":_[S]:"";return r.jsxs(r.Fragment,{children:[r.jsxs("section",{className:"news-detail__hero",children:[r.jsxs("div",{className:"news-detail__hero-bg",children:[r.jsx("img",{src:a.image,alt:p}),r.jsx("div",{className:"news-detail__hero-overlay"})]}),r.jsx("div",{className:"container",children:r.jsxs("div",{className:"news-detail__hero-content",children:[r.jsxs("button",{onClick:()=>e(-1),className:"news-detail__back",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),r.jsx("polyline",{points:"12 19 5 12 12 5"})]}),i("newsSection.backBtn")]}),r.jsxs("div",{className:"news-detail__meta",children:[r.jsx("span",{className:"news-detail__category",children:x}),r.jsxs("span",{className:"news-detail__date",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),m]})]}),r.jsx("h1",{className:"news-detail__title",children:p})]})})]}),r.jsx("section",{className:"section news-detail__content-section",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"news-detail__layout",children:[r.jsxs("article",{className:"news-detail__article",children:[r.jsx("div",{className:"news-detail__content",dangerouslySetInnerHTML:{__html:FH(b)}}),r.jsxs("div",{className:"news-detail__share",children:[r.jsx("span",{className:"news-detail__share-label",children:i("newsSection.share")}),r.jsxs("div",{className:"news-detail__share-buttons",children:[r.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,target:"_blank",rel:"noopener noreferrer",className:"news-detail__share-btn","aria-label":"Facebook",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),r.jsx("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(p)}`,target:"_blank",rel:"noopener noreferrer",className:"news-detail__share-btn","aria-label":"Twitter",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),r.jsx("a",{href:`https://t.me/share/url?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(p)}`,target:"_blank",rel:"noopener noreferrer",className:"news-detail__share-btn","aria-label":"Telegram",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})}),r.jsx("button",{onClick:()=>navigator.clipboard.writeText(window.location.href),className:"news-detail__share-btn","aria-label":"Copy link",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),r.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]})})]})]})]}),r.jsxs("aside",{className:"news-detail__sidebar",children:[r.jsxs("div",{className:"news-detail__sidebar-section",children:[r.jsx("h3",{className:"news-detail__sidebar-title",children:i("newsSection.otherNews")}),r.jsx("div",{className:"news-detail__related",children:o.map(_=>r.jsxs(Mt,{to:`/news/${_.slug}`,className:"news-detail__related-item",children:[r.jsx("div",{className:"news-detail__related-image",children:r.jsx("img",{src:_.image,alt:y(_,"title")})}),r.jsxs("div",{className:"news-detail__related-content",children:[r.jsx("span",{className:"news-detail__related-category",children:_.category}),r.jsx("h4",{className:"news-detail__related-title",children:y(_,"title")}),r.jsx("span",{className:"news-detail__related-date",children:_.published_at})]})]},_.id))})]}),r.jsx("div",{className:"news-detail__sidebar-section",children:r.jsx(Mt,{to:"/news",className:"btn btn--outline btn--full",children:i("newsSection.allNews")})})]})]})})})]})}const UH=t=>t==="en"?"_en":t==="tj"?"_tj":"_ru",VH=[{id:1,year:"2018",isCurrent:!1,title_ru:"   ",title_en:"High-Level International Conference",title_tj:"   ",description_ru:"       ",description_en:"First conference of the Water Action Decade",description_tj:"       ",url:"https://waterconference2018.org",date_ru:"20-22  2018",date_en:"June 20-22, 2018",date_tj:"20-22  2018",location_ru:", ",location_en:"Dushanbe, Tajikistan",location_tj:", ",participants_ru:" 2 000   120 ",participants_en:"Over 2,000 participants from 120 countries",participants_tj:"  2 000   120 ",keyOutcomes_ru:"  .       .",keyOutcomes_en:"Adoption of the Dushanbe Declaration. Identification of action priorities for the first phase of the Decade.",keyOutcomes_tj:"  .        ."},{id:2,year:"2022",isCurrent:!1,title_ru:"     ",title_en:"Second UN Water Conference",title_tj:"      ",description_ru:"    ",description_en:"Mid-term review conference of the Water Decade",description_tj:"   ",url:"https://waterconference2022.org",date_ru:"22-24  2023",date_en:"March 22-24, 2023",date_tj:"22-24  2023",location_ru:"-, ",location_en:"New York, USA",location_tj:"-, ",participants_ru:" 6 500   170+ ",participants_en:"Over 6,500 participants from 170+ countries",participants_tj:"  6 500   170+ ",keyOutcomes_ru:"     .  700       .",keyOutcomes_en:"Adoption of the Water Action Agenda. Over 700 voluntary commitments to accelerate the achievement of Decade goals.",keyOutcomes_tj:"      .   700          ."},{id:3,year:"2024",isCurrent:!1,title_ru:"  ",title_en:"Third International Conference",title_tj:"  ",description_ru:"    ",description_en:"Continuation of dialogue on water resources",description_tj:"     ",url:"https://waterconference2024.org",date_ru:"10-13  2024",date_en:"June 10-13, 2024",date_tj:"10-13  2024",location_ru:", ",location_en:"Dushanbe, Tajikistan",location_tj:", ",participants_ru:" 3 000   130+ ",participants_en:"Over 3,000 participants from 130+ countries",participants_tj:"  3 000   130+ ",keyOutcomes_ru:"      .        2026 .",keyOutcomes_en:"Strengthening global partnerships in water resources. Progress review and preparation for the 2026 culminating conference.",keyOutcomes_tj:"       .         2026."},{id:4,year:"2026",isCurrent:!0,title_ru:"   2026",title_en:"Dushanbe Water Process 2026",title_tj:"   2026",description_ru:"     ",description_en:"Current conference  culminating event of the Decade",description_tj:"     ",url:"",date_ru:"25-28  2026",date_en:"May 25-28, 2026",date_tj:"25-28  2026",location_ru:" , , ",location_en:"Kohi Somon, Dushanbe, Tajikistan",location_tj:" , , ",participants_ru:"",participants_en:"",participants_tj:"",keyOutcomes_ru:"",keyOutcomes_en:"",keyOutcomes_tj:""}],D0={aboutTitle_ru:" ",aboutTitle_en:"About the Decade",aboutTitle_tj:"  ",aboutText_ru:`  2016       2018-2028        .

     ,          .`,aboutText_en:`In December 2016, the UN General Assembly proclaimed the period 2018-2028 as the International Decade for Action "Water for Sustainable Development".

The Republic of Tajikistan initiated this Decade, continuing its active role in promoting the global water agenda.`,aboutText_tj:`    2016      2018-2028-         .

                .`};function qH(){const{t,language:e}=Ie(),{getJsonSetting:n}=Xe(),i=UH(e),a=n("water_decade_conferences",VH),s=n("water_decade_brief_info",D0),o=n("water_decade_page_settings",null),c=o?.yearStart||"2018",d=o?.yearEnd||"2028";o?.[`title${i}`]||o?.title_ru||t("waterDecadePage.title"),o?.[`subtitle${i}`]||o?.subtitle_ru||t("waterDecadePage.subtitle");const h=s?.[`aboutTitle${i}`]||s?.aboutTitle_ru||D0.aboutTitle_ru,f=s?.[`aboutText${i}`]||s?.aboutText_ru||D0.aboutText_ru,p=a.filter(x=>!x.isCurrent),m=a.find(x=>x.isCurrent);return r.jsx("section",{className:"section water-decade-page",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"water-decade-page__intro reveal",children:[r.jsxs("div",{className:"water-decade-page__intro-content",children:[r.jsx("h2",{className:"water-decade-page__section-title",children:h}),f.split(`

`).map((x,b)=>r.jsx("p",{className:"water-decade-page__text",children:x},b)),r.jsxs(Mt,{to:"/water-decade-details",className:"water-decade-page__read-more",children:[t("waterDecade.learnMore"),r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"18",height:"18",children:[r.jsx("path",{d:"M5 12h14"}),r.jsx("path",{d:"M12 5l7 7-7 7"})]})]})]}),r.jsxs("div",{className:"water-decade-page__intro-badge",children:[r.jsx("span",{className:"water-decade-page__years",children:c}),r.jsx("span",{className:"water-decade-page__years-divider",children:""}),r.jsx("span",{className:"water-decade-page__years",children:d})]})]}),r.jsxs("div",{className:"water-decade-page__conferences reveal",children:[r.jsx("h2",{className:"water-decade-page__section-title",children:t("waterDecadePage.conferencesTitle")}),r.jsxs("div",{className:"water-decade-page__timeline",children:[p.map((x,b)=>{const y=x.id||b;return r.jsxs("div",{className:"water-decade-page__timeline-item",children:[r.jsx("div",{className:"water-decade-page__timeline-marker",children:r.jsx("span",{children:x.year})}),r.jsxs("div",{className:"water-decade-page__timeline-content",children:[r.jsx("h3",{children:x[`title${i}`]||x.title_ru}),r.jsx("p",{children:x[`description${i}`]||x.description_ru}),r.jsxs("div",{className:"water-decade-page__timeline-actions",children:[r.jsxs(Mt,{to:`/water-decade/${x.id}`,className:"water-decade-page__details-btn",children:[t("waterDecadePage.detailedInfo"),r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),r.jsx("polyline",{points:"12 5 19 12 12 19"})]})]}),x.url&&r.jsxs("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"water-decade-page__timeline-link",children:[t("waterDecadePage.visitWebsite"),r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[r.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),r.jsx("polyline",{points:"15 3 21 3 21 9"}),r.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]})]})]})]},y)}),m&&r.jsxs("div",{className:"water-decade-page__timeline-item water-decade-page__timeline-item--current",children:[r.jsx("div",{className:"water-decade-page__timeline-marker water-decade-page__timeline-marker--current",children:r.jsx("span",{children:m.year})}),r.jsxs("div",{className:"water-decade-page__timeline-content",children:[r.jsx("h3",{children:m[`title${i}`]||m.title_ru}),r.jsx("p",{children:m[`description${i}`]||m.description_ru}),r.jsxs("div",{className:"water-decade-page__timeline-actions",children:[r.jsxs(Mt,{to:`/water-decade/${m.id}`,className:"water-decade-page__details-btn",children:[t("waterDecadePage.detailedInfo"),r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),r.jsx("polyline",{points:"12 5 19 12 12 19"})]})]}),r.jsx("span",{className:"water-decade-page__current-badge",children:t("waterDecadePage.currentConference")})]})]})]})]})]})]})})}function GH(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("water_decade_details_page",{blocks:[]}).blocks||[];return r.jsxs(r.Fragment,{children:[r.jsx(Lt,{blocks:i,language:t}),i.length===0&&r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"content-text",style:{textAlign:"center",padding:"4rem 2rem"},children:r.jsx("p",{style:{color:"#6b7280",fontSize:"1.125rem"},children:t==="en"?"Content is being prepared...":t==="tj"?"   ...":" ..."})})})})]})}function WH(){const{confId:t}=Xo(),{t:e,language:n}=Ie(),{getJsonSetting:i,loading:a}=Xe(),o=i(`water_decade_conf_page_${t}`,{blocks:[]}).blocks||[];return a?r.jsx("section",{className:"section water-decade-conf",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"water-decade-conf__loading",children:r.jsx("div",{className:"loading-spinner"})})})}):r.jsxs(r.Fragment,{children:[r.jsx(Lt,{blocks:o,language:n}),o.length===0&&r.jsx("section",{className:"section",children:r.jsxs("div",{className:"container",children:[r.jsxs(Mt,{to:"/water-decade",className:"water-decade-conf__back",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),r.jsx("polyline",{points:"12 19 5 12 12 5"})]}),e("waterDecadePage.backToDecade")]}),r.jsx("div",{style:{textAlign:"center",padding:"4rem 2rem"},children:r.jsx("p",{style:{color:"#6b7280",fontSize:"1.125rem"},children:n==="en"?"Content is being prepared...":n==="tj"?"   ...":" ..."})})]})})]})}const YH=t=>t?t.replace(/font-family\s*:[^;"']*(;?)/gi,""):"",nN={ru:{loading:"...",notFound:"  ",biography:" "},en:{loading:"Loading...",notFound:"Speaker not found",biography:"Biography"},tj:{loading:"  ...",notFound:"  ",biography:" "}};function XH(){const{id:t}=Xo(),{language:e}=Ie(),[n,i]=j.useState(null),[a,s]=j.useState(!0),o=nN[e]||nN.ru;return j.useEffect(()=>{fetch(`/api/speakers/${t}?lang=${e}`).then(c=>c.json()).then(c=>{i(c),s(!1)}).catch(()=>{s(!1)})},[t,e]),a?r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"content-text",style:{textAlign:"center"},children:r.jsx("p",{children:o.loading})})})}):n?r.jsx("section",{className:"section speaker-detail",children:r.jsx("div",{className:"container",children:r.jsxs("div",{className:"speaker-detail__layout",children:[r.jsx("div",{className:"speaker-detail__sidebar",children:r.jsx("div",{className:"speaker-detail__image-container",children:r.jsx("img",{src:n.image,alt:n.name,className:"speaker-detail__image"})})}),r.jsxs("div",{className:"speaker-detail__content",children:[r.jsxs("div",{className:"speaker-detail__header",children:[r.jsx("h1",{className:"speaker-detail__name",children:n.name}),r.jsx("p",{className:"speaker-detail__title",children:n.title})]}),n.bio&&r.jsxs("div",{className:"speaker-detail__section",children:[r.jsx("h2",{children:n.session_title||o.biography}),r.jsx("div",{className:"speaker-detail__bio",dangerouslySetInnerHTML:{__html:YH(n.bio)}})]})]})]})})}):r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"content-text",style:{textAlign:"center"},children:r.jsx("p",{children:o.notFound})})})})}const KH=t=>t?t.replace(/font-family\s*:[^;"']*(;?)/gi,""):"";function JH(){const{slug:t}=Xo(),{language:e}=Ie(),{getCustomPageBySlug:n,loading:i}=Xe(),a=n(t);if(i)return r.jsx("div",{className:"custom-page-loading",children:r.jsx("div",{className:"loading-spinner"})});if(!a)return r.jsx(a2,{to:u2("/",e),replace:!0});const s=a[`title_${e}`]||a.title_ru||a.title_en,o=a[`description_${e}`]||a.description_ru||a.description_en,c=a[`content_${e}`]||a.content_ru||a.content_en;return r.jsxs(r.Fragment,{children:[r.jsx(ut,{title:s,subtitle:o}),r.jsx("section",{className:"section custom-page-section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"custom-page-content",dangerouslySetInnerHTML:{__html:KH(c)}})})})]})}function ZH(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("conference_intro",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("conference-introduction",{title:{ru:"",en:"Introduction",tj:""},subtitle:{ru:"",en:"",tj:""}},"conference_intro");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function QH(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("conference_goals",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("conference-goals",{title:{ru:"",en:"Goals",tj:""},subtitle:{ru:"",en:"",tj:""}},"conference_goals");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function eU(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("conference_date_venue",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("conference-date-venue",{title:{ru:"   ",en:"Date and Venue",tj:"  "},subtitle:{ru:"",en:"",tj:""}},"conference_date_venue");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function tU(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("conference_participation",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("conference-participation",{title:{ru:"",en:"Participation",tj:""},subtitle:{ru:"",en:"",tj:""}},"conference_participation");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function nU(){const{language:t}=Ie(),{getJsonSetting:e,loading:n}=Xe(),a=e("program_structure",null)?.blocks||[],s=a.some(c=>c.type==="hero"),o=_t("program-structure",{title:{ru:" ",en:"Program Structure",tj:" "},subtitle:{ru:"",en:"",tj:""}},"program_structure");return r.jsxs(r.Fragment,{children:[o.showBanner&&!s&&r.jsx(ut,{title:o.title,subtitle:o.subtitle,backgroundImage:o.backgroundImage}),n?r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("p",{children:"..."})})}):a.length>0?r.jsx(Lt,{blocks:a,language:t}):r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"content-text",children:r.jsx("p",{style:{textAlign:"center",color:"#6b7280"},children:t==="en"?"Content coming soon...":t==="tj"?"  ...":"  ..."})})})})]})}function iU(){const{language:t}=Ie(),{getJsonSetting:e,loading:n}=Xe(),a=e("program_plenary",null)?.blocks||[],s=a.some(c=>c.type==="hero"),o=_t("program-plenary",{title:{ru:" ",en:"Plenary Session",tj:" "},subtitle:{ru:"",en:"",tj:""}},"program_plenary");return r.jsxs(r.Fragment,{children:[o.showBanner&&!s&&r.jsx(ut,{title:o.title,subtitle:o.subtitle,backgroundImage:o.backgroundImage}),n?r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("p",{children:"..."})})}):a.length>0?r.jsx(Lt,{blocks:a,language:t}):r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"content-text",children:r.jsx("p",{style:{textAlign:"center",color:"#6b7280"},children:t==="en"?"Content coming soon...":t==="tj"?"  ...":"  ..."})})})})]})}function rU(){const{language:t}=Ie(),{getJsonSetting:e,loading:n}=Xe(),a=e("program_events",null)?.blocks||[],s=a.some(c=>c.type==="hero"),o=_t("program-events",{title:{ru:"   ",en:"Conference Events",tj:" "},subtitle:{ru:"",en:"",tj:""}},"program_events");return r.jsxs(r.Fragment,{children:[o.showBanner&&!s&&r.jsx(ut,{title:o.title,subtitle:o.subtitle,backgroundImage:o.backgroundImage}),n?r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("p",{children:"..."})})}):a.length>0?r.jsx(Lt,{blocks:a,language:t}):r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"content-text",children:r.jsx("p",{style:{textAlign:"center",color:"#6b7280"},children:t==="en"?"Content coming soon...":t==="tj"?"  ...":"  ..."})})})})]})}function aU(){const{language:t}=Ie(),{getJsonSetting:e,loading:n}=Xe(),a=e("program_forums",null)?.blocks||[],s=a.some(c=>c.type==="hero"),o=_t("program-forums",{title:{ru:"",en:"Forums",tj:""},subtitle:{ru:"",en:"",tj:""}},"program_forums");return r.jsxs(r.Fragment,{children:[o.showBanner&&!s&&r.jsx(ut,{title:o.title,subtitle:o.subtitle,backgroundImage:o.backgroundImage}),n?r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("p",{children:"..."})})}):a.length>0?r.jsx(Lt,{blocks:a,language:t}):r.jsx("section",{className:"section",children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"content-text",children:r.jsx("p",{style:{textAlign:"center",color:"#6b7280"},children:t==="en"?"Content coming soon...":t==="tj"?"  ...":"  ..."})})})})]})}function sU(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("parallel_events",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("events-parallel",{title:{ru:" ",en:"Parallel Events",tj:" "},subtitle:{ru:"",en:"",tj:""}},"parallel_events");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function oU(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("cultural_events",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("events-cultural",{title:{ru:" ",en:"Cultural Events",tj:" "},subtitle:{ru:"",en:"",tj:""}},"cultural_events");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function iN(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("events_rogun",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("excursions-rogun",{title:{ru:"",en:"Rogun",tj:""},subtitle:{ru:"",en:"",tj:""}},"events_rogun");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function rN(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("events_dushanbe",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("excursions-dushanbe",{title:{ru:"",en:"Dushanbe",tj:""},subtitle:{ru:"",en:"",tj:""}},"events_dushanbe");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function aN(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("events_khisor",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("excursions-khisor",{title:{ru:"",en:"Hisor",tj:""},subtitle:{ru:"",en:"",tj:""}},"events_khisor");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function lU(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("logistics_practical",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("logistics-practical",{title:{ru:" ",en:"Practical Information",tj:" "},subtitle:{ru:"",en:"",tj:""}},"logistics_practical");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function cU(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("logistics_visa",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("logistics-visa",{title:{ru:"  ",en:"Visa to Tajikistan",tj:"o "},subtitle:{ru:"",en:"",tj:""}},"logistics_visa");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function uU(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("logistics_press",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("logistics-press",{title:{ru:" ",en:"Press Accreditation",tj:" "},subtitle:{ru:"",en:"",tj:""}},"logistics_press");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function dU(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("logistics_flights",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("logistics-flights",{title:{ru:"",en:"Flights",tj:""},subtitle:{ru:"",en:"",tj:""}},"logistics_flights");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function hU(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("logistics_accommodation",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("logistics-accommodation",{title:{ru:"  ",en:"Hotel Accommodation",tj:"  "},subtitle:{ru:"",en:"",tj:""}},"logistics_accommodation");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}function fU(){const{language:t}=Ie(),{getJsonSetting:e}=Xe(),i=e("logistics_weather",null)?.blocks||[],a=i.some(o=>o.type==="hero"),s=_t("logistics-weather",{title:{ru:"",en:"Weather",tj:" "},subtitle:{ru:"",en:"",tj:""}},"logistics_weather");return r.jsxs(r.Fragment,{children:[s.showBanner&&!a&&r.jsx(ut,{title:s.title,subtitle:s.subtitle,backgroundImage:s.backgroundImage}),r.jsx(Lt,{blocks:i,language:t})]})}const _6=j.createContext(null),sN="";function oN({children:t}){const[e,n]=j.useState(null),[i,a]=j.useState(localStorage.getItem("adminToken")),[s,o]=j.useState(!0);j.useEffect(()=>{i?c():o(!1)},[i]);const c=async()=>{try{const p=await fetch(`${sN}/api/admin/me`,{headers:{Authorization:`Bearer ${i}`}});if(p.ok){const m=await p.json();n(m)}else h()}catch(p){console.error("Failed to fetch user:",p),h()}finally{o(!1)}},d=async(p,m)=>{try{const x=await fetch(`${sN}/api/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:p,password:m})});if(!x.ok){let y="Login failed";try{y=(await x.json()).message||y}catch{}throw new Error(y)}const b=await x.json();return localStorage.setItem("adminToken",b.token),a(b.token),n(b.user),b}catch(x){throw x instanceof Error?x:new Error("   ")}},h=()=>{localStorage.removeItem("adminToken"),a(null),n(null)},f={user:e,token:i,loading:s,login:d,logout:h,isAuthenticated:!!e};return r.jsx(_6.Provider,{value:f,children:t})}function dn(){const t=j.useContext(_6);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function pU({children:t}){const{isAuthenticated:e,loading:n}=dn(),i=Wn();return n?r.jsxs("div",{className:"admin-loading-screen",children:[r.jsx("div",{className:"admin-loading-spinner"}),r.jsx("p",{children:"Loading..."})]}):e?t:r.jsx(a2,{to:"/admin/login",state:{from:i},replace:!0})}function gU(){const{user:t,logout:e}=dn(),n=sa(),[i,a]=j.useState(()=>localStorage.getItem("admin-sidebar-collapsed")==="true"),[s,o]=j.useState(!1),[c,d]=j.useState(!1),[h,f]=j.useState(()=>{const _=localStorage.getItem("admin-expanded-sections");return _?JSON.parse(_):{" ":!0}});j.useEffect(()=>{localStorage.setItem("admin-sidebar-collapsed",i)},[i]),j.useEffect(()=>{localStorage.setItem("admin-expanded-sections",JSON.stringify(h))},[h]);const p=_=>{f(S=>({...S,[_]:!S[_]}))};j.useEffect(()=>{const _=()=>{window.innerWidth>768&&o(!1)};return window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]),j.useEffect(()=>{const _=S=>{c&&!S.target.closest(".admin-user-menu-container")&&d(!1)};return document.addEventListener("click",_),()=>document.removeEventListener("click",_)},[c]),j.useEffect(()=>{const _=()=>{a(!0)};return window.addEventListener("admin-collapse-sidebar",_),()=>window.removeEventListener("admin-collapse-sidebar",_)},[]);const m=()=>{e(),n("/admin/login")},x=()=>{a(!i)},b=()=>{o(!s)},y=[{title:"",items:[{path:"/admin",label:" ",icon:"dashboard",end:!0}]},{title:null,items:[{path:"/admin/home",label:" ",icon:"home"},{path:"/admin/pages",label:"",icon:"pages"}]},{title:"",items:[{path:"/admin/content/news",label:" ",icon:"article"}]},{title:"",items:[{path:"/admin/banners",label:" ",icon:"image"},{path:"/admin/settings",label:" ",icon:"settings"}]}];return r.jsxs("div",{className:`admin-layout ${i?"sidebar-collapsed":""}`,children:[s&&r.jsx("div",{className:"admin-mobile-overlay",onClick:()=>o(!1)}),r.jsxs("header",{className:"admin-mobile-header",children:[r.jsx("button",{className:"admin-mobile-menu-btn",onClick:b,children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})})}),r.jsxs("div",{className:"admin-mobile-logo",children:[r.jsx("img",{src:"/assets/images/logo-compact.png",alt:"Logo"}),r.jsx("span",{children:" "})]})]}),r.jsxs("aside",{className:`admin-sidebar ${s?"mobile-open":""}`,children:[r.jsxs("div",{className:"admin-logo",children:[r.jsx("div",{className:"admin-logo-wrapper",children:r.jsx("img",{src:"/assets/images/logo-compact.png",alt:"Logo",className:"admin-logo-img"})}),!i&&r.jsxs("div",{className:"admin-logo-text",children:[r.jsx("span",{children:""}),r.jsx("span",{children:""})]})]}),r.jsx("button",{className:"admin-collapse-btn",onClick:x,title:i?"":"",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",className:i?"rotated":"",children:r.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),r.jsx("nav",{className:"admin-nav",children:y.map((_,S)=>r.jsx("div",{className:"admin-nav-section",children:_.collapsible?r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:`admin-nav-section-header ${h[_.title]?"expanded":""}`,onClick:()=>p(_.title),title:i?_.title:void 0,children:[r.jsx("span",{className:"admin-nav-icon",children:Ns(_.icon)}),!i&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"admin-nav-section-label",children:_.title}),r.jsx("svg",{className:"admin-nav-chevron",viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",children:r.jsx("path",{d:"M7 10l5 5 5-5z"})})]})]}),(h[_.title]||i)&&r.jsx("div",{className:`admin-nav-subitems ${i?"collapsed-mode":""}`,children:_.items.map(N=>N.disabled?r.jsxs("div",{className:"admin-nav-item admin-nav-subitem disabled",title:i?N.label:void 0,children:[r.jsx("span",{className:"admin-nav-icon",children:Ns(N.icon)}),!i&&r.jsx("span",{className:"admin-nav-label",children:N.label}),!i&&r.jsx("span",{className:"admin-nav-soon",children:""})]},N.path):r.jsxs(Op,{to:N.path,end:N.end,className:({isActive:E})=>`admin-nav-item admin-nav-subitem ${E?"active":""}`,title:i?N.label:void 0,onClick:()=>o(!1),children:[r.jsx("span",{className:"admin-nav-icon",children:Ns(N.icon)}),!i&&r.jsx("span",{className:"admin-nav-label",children:N.label})]},N.path))})]}):r.jsxs(r.Fragment,{children:[!i&&_.title&&r.jsx("div",{className:"admin-nav-section-title",children:_.title}),_.items.map(N=>N.disabled?r.jsxs("div",{className:"admin-nav-item disabled",title:i?N.label:void 0,children:[r.jsx("span",{className:"admin-nav-icon",children:Ns(N.icon)}),!i&&r.jsx("span",{className:"admin-nav-label",children:N.label}),!i&&r.jsx("span",{className:"admin-nav-soon",children:""})]},N.path):r.jsxs(Op,{to:N.path,end:N.end,className:({isActive:E})=>`admin-nav-item ${E?"active":""}`,title:i?N.label:void 0,onClick:()=>o(!1),children:[r.jsx("span",{className:"admin-nav-icon",children:Ns(N.icon)}),!i&&r.jsx("span",{className:"admin-nav-label",children:N.label})]},N.path))]})},S))}),r.jsxs("div",{className:"admin-sidebar-footer",children:[r.jsxs("a",{href:"/",target:"_blank",className:"admin-view-site",title:i?" ":void 0,children:[Ns("external"),!i&&r.jsx("span",{children:" "})]}),r.jsxs("div",{className:"admin-user-menu-container",children:[r.jsxs("button",{className:`admin-user-trigger ${c?"active":""}`,onClick:()=>d(!c),title:i?t?.full_name||t?.username:void 0,children:[r.jsx("div",{className:"admin-user-avatar",children:t?.username?.[0]?.toUpperCase()||"A"}),!i&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"admin-user-info",children:[r.jsx("span",{className:"admin-user-name",children:t?.full_name||t?.username}),r.jsx("span",{className:"admin-user-role",children:t?.role})]}),r.jsx("svg",{className:"admin-user-chevron",viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",children:r.jsx("path",{d:"M7 10l5 5 5-5z"})})]})]}),c&&r.jsxs("div",{className:"admin-user-dropdown",children:[r.jsxs("div",{className:"admin-dropdown-header",children:[r.jsx("div",{className:"admin-dropdown-avatar",children:t?.username?.[0]?.toUpperCase()||"A"}),r.jsxs("div",{className:"admin-dropdown-user-info",children:[r.jsx("span",{className:"admin-dropdown-name",children:t?.full_name||t?.username}),r.jsx("span",{className:"admin-dropdown-email",children:t?.email||t?.username})]})]}),r.jsx("div",{className:"admin-dropdown-divider"}),r.jsxs("button",{className:"admin-dropdown-item",onClick:()=>{d(!1),n("/admin/change-password")},children:[Ns("lock"),r.jsx("span",{children:" "})]}),r.jsxs("button",{className:"admin-dropdown-item",onClick:m,children:[Ns("logout"),r.jsx("span",{children:""})]})]})]})]})]}),r.jsx("main",{className:"admin-main",children:r.jsx(s2,{})})]})}function Ns(t){return{dashboard:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})}),home:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})}),video:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"})}),chart:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),phone:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1zm-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5-4H7V4h9v14z"})}),calendar:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"})}),event:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),map:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"})}),truck:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"})}),article:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})}),person:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),handshake:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M12.22 19.85c-.18.18-.5.21-.71 0L5.66 14a2.5 2.5 0 0 1 0-3.54l6.36-6.36c.2-.2.51-.2.71 0l6.36 6.36a2.5 2.5 0 0 1 0 3.54l-6.87 5.85z"})}),people:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})}),settings:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})}),lock:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})}),logout:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"})}),external:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"})}),pages:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"})}),image:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})}),help:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"})}),edit:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})})}[t]||null}function mU(){const[t,e]=j.useState(""),[n,i]=j.useState(""),[a,s]=j.useState(""),[o,c]=j.useState(!1),{login:d}=dn(),h=sa(),p=Wn().state?.from?.pathname||"/admin",m=async x=>{x.preventDefault(),s(""),c(!0);try{await d(t,n),h(p,{replace:!0})}catch(b){s(b.message||" . ,   .")}finally{c(!1)}};return r.jsx("div",{className:"login-page",children:r.jsxs("div",{className:"login-container",children:[r.jsxs("div",{className:"login-header",children:[r.jsx("div",{className:"login-logo",children:r.jsx("svg",{viewBox:"0 0 24 24",width:"48",height:"48",fill:"#2d5a87",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})})}),r.jsx("h1",{children:"   2026"}),r.jsx("p",{children:" "})]}),r.jsxs("form",{className:"login-form",onSubmit:m,children:[a&&r.jsx("div",{className:"login-error",children:a}),r.jsxs("div",{className:"login-field",children:[r.jsx("label",{htmlFor:"username",children:" "}),r.jsx("input",{id:"username",type:"text",value:t,onChange:x=>e(x.target.value),placeholder:"  ",required:!0,autoComplete:"username"})]}),r.jsxs("div",{className:"login-field",children:[r.jsx("label",{htmlFor:"password",children:""}),r.jsx("input",{id:"password",type:"password",value:n,onChange:x=>i(x.target.value),placeholder:" ",required:!0,autoComplete:"current-password"})]}),r.jsx("button",{type:"submit",className:"login-button",disabled:o,children:o?"...":""})]}),r.jsx("div",{className:"login-footer",children:r.jsx("a",{href:"/",className:"login-back-link",children:"   "})})]})})}const j6="";function em(){const{token:t,logout:e}=dn(),[n,i]=j.useState(!1),[a,s]=j.useState(null),o=j.useCallback(async(p,m={})=>{i(!0),s(null);try{const x={"Content-Type":"application/json",...m.headers};t&&(x.Authorization=`Bearer ${t}`);const b=await fetch(`${j6}${p}`,{...m,headers:x});if(b.status===401)throw e(),new Error("Session expired. Please login again.");if(!b.ok){const _=await b.json().catch(()=>({}));throw new Error(_.message||`HTTP error! status: ${b.status}`)}return await b.json()}catch(x){throw s(x.message),x}finally{i(!1)}},[t,e]),c=j.useCallback(p=>o(p),[o]),d=j.useCallback((p,m)=>o(p,{method:"POST",body:JSON.stringify(m)}),[o]),h=j.useCallback((p,m)=>o(p,{method:"PUT",body:JSON.stringify(m)}),[o]),f=j.useCallback(p=>o(p,{method:"DELETE"}),[o]);return{get:c,post:d,put:h,del:f,loading:n,error:a,setError:s}}function vU(){const t=em();return{...t,list:(e={})=>{const n=new URLSearchParams(e).toString();return t.get(`/api/admin/news${n?`?${n}`:""}`)},getById:e=>t.get(`/api/admin/news/${e}`),create:e=>t.post("/api/admin/news",e),update:(e,n)=>t.put(`/api/admin/news/${e}`,n),remove:e=>t.del(`/api/admin/news/${e}`)}}function oa(){const t=em();return{...t,list:()=>t.get("/api/admin/settings"),update:(e,n)=>{if(typeof e=="string")return t.put("/api/admin/settings",{settings:[{key:e,value:n}]});if(Array.isArray(e))return t.put("/api/admin/settings",{settings:e});{const i=Object.entries(e).map(([a,s])=>({key:a,value:s}));return t.put("/api/admin/settings",{settings:i})}}}}function xU(){const t=em();return{...t,getStats:()=>t.get("/api/admin/dashboard"),getTrends:()=>t.get("/api/admin/dashboard/trends"),getRecentRegistrations:(e=5)=>t.get(`/api/admin/registrations?limit=${e}`)}}function M2(){const{token:t,logout:e}=dn(),[n,i]=j.useState(!1),[a,s]=j.useState(null);return{upload:j.useCallback(async c=>{i(!0),s(null);try{const d=new FormData;d.append("file",c);const h=await fetch(`${j6}/api/admin/upload`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:d});if(h.status===401)throw e(),new Error("Session expired. Please login again.");if(!h.ok){const p=await h.json().catch(()=>({}));throw new Error(p.message||`Upload failed: ${h.status}`)}return await h.json()}catch(d){throw s(d.message),d}finally{i(!1)}},[t,e]),uploading:n,uploadError:a,setUploadError:s}}function yU({title:t,value:e,change:n,changeType:i="positive",subtitle:a,icon:s,color:o,link:c}){const d=c?Pi:"div",h=c?{to:c}:{};return r.jsxs(d,{className:"stat-card",...h,children:[r.jsxs("div",{className:"stat-card-content",children:[r.jsxs("div",{className:"stat-card-header",children:[r.jsx("span",{className:"stat-card-title",children:t}),n&&r.jsxs("span",{className:`stat-card-change ${i}`,children:[i==="positive"?r.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:r.jsx("path",{d:"M6 2.5L10 6.5H7V9.5H5V6.5H2L6 2.5Z",fill:"currentColor"})}):r.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:r.jsx("path",{d:"M6 9.5L2 5.5H5V2.5H7V5.5H10L6 9.5Z",fill:"currentColor"})}),n]})]}),r.jsx("div",{className:"stat-card-value",children:typeof e=="number"?e.toLocaleString():e}),a&&r.jsx("div",{className:"stat-card-subtitle",children:a})]}),r.jsx("div",{className:"stat-card-icon",style:{backgroundColor:`${o}12`,color:o},children:s})]})}var bU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function P2(t){if(typeof t!="string")return!1;var e=bU;return e.includes(t)}var _U=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jU=new Set(_U);function w6(t){return typeof t!="string"?!1:jU.has(t)}function S6(t){return typeof t=="string"&&t.startsWith("data-")}function pr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(w6(n)||S6(n))&&(e[n]=t[n]);return e}function th(t){if(t==null)return null;if(j.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return pr(e)}return typeof t=="object"&&!Array.isArray(t)?pr(t):null}function ni(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(w6(n)||S6(n)||P2(n))&&(e[n]=t[n]);return e}function wU(t){return t==null?null:j.isValidElement(t)?ni(t.props):typeof t=="object"&&!Array.isArray(t)?ni(t):null}var SU=["children","width","height","viewBox","className","style","title","desc"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wy.apply(null,arguments)}function CU(t,e){if(t==null)return{};var n,i,a=AU(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function AU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var C6=j.forwardRef((t,e)=>{var{children:n,width:i,height:a,viewBox:s,className:o,style:c,title:d,desc:h}=t,f=CU(t,SU),p=s||{width:i,height:a,x:0,y:0},m=st("recharts-surface",o);return j.createElement("svg",Wy({},ni(f),{className:m,width:i,height:a,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),j.createElement("title",null,d),j.createElement("desc",null,h),n)}),NU=["children","className"];function Yy(){return Yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Yy.apply(null,arguments)}function EU(t,e){if(t==null)return{};var n,i,a=TU(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function TU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var ii=j.forwardRef((t,e)=>{var{children:n,className:i}=t,a=EU(t,NU),s=st("recharts-layer",i);return j.createElement("g",Yy({className:s},ni(a),{ref:e}),n)}),kU=j.createContext(null);function Ct(t){return function(){return t}}const A6=Math.cos,Ip=Math.sin,Rr=Math.sqrt,Bp=Math.PI,tm=2*Bp,Xy=Math.PI,Ky=2*Xy,bo=1e-6,DU=Ky-bo;function N6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function OU(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return N6;const n=10**e;return function(i){this._+=i[0];for(let a=1,s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}class MU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?N6:OU(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,a){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(e,n,i,a,s,o){this._append`C${+e},${+n},${+i},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,i,a,s){if(e=+e,n=+n,i=+i,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,d=i-e,h=a-n,f=o-e,p=c-n,m=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>bo)if(!(Math.abs(p*d-h*f)>bo)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let x=i-o,b=a-c,y=d*d+h*h,_=x*x+b*b,S=Math.sqrt(y),N=Math.sqrt(m),E=s*Math.tan((Xy-Math.acos((y+m-_)/(2*S*N)))/2),A=E/N,T=E/S;Math.abs(A-1)>bo&&this._append`L${e+A*f},${n+A*p}`,this._append`A${s},${s},0,0,${+(p*x>f*b)},${this._x1=e+T*d},${this._y1=n+T*h}`}}arc(e,n,i,a,s,o){if(e=+e,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(a),d=i*Math.sin(a),h=e+c,f=n+d,p=1^o,m=o?a-s:s-a;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>bo||Math.abs(this._y1-f)>bo)&&this._append`L${h},${f}`,i&&(m<0&&(m=m%Ky+Ky),m>DU?this._append`A${i},${i},0,1,${p},${e-c},${n-d}A${i},${i},0,1,${p},${this._x1=h},${this._y1=f}`:m>bo&&this._append`A${i},${i},0,${+(m>=Xy)},${p},${this._x1=e+i*Math.cos(s)},${this._y1=n+i*Math.sin(s)}`)}rect(e,n,i,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}}function R2(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new MU(e)}function L2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function E6(t){this._context=t}E6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function nm(t){return new E6(t)}function T6(t){return t[0]}function k6(t){return t[1]}function D6(t,e){var n=Ct(!0),i=null,a=nm,s=null,o=R2(c);t=typeof t=="function"?t:t===void 0?T6:Ct(t),e=typeof e=="function"?e:e===void 0?k6:Ct(e);function c(d){var h,f=(d=L2(d)).length,p,m=!1,x;for(i==null&&(s=a(x=o())),h=0;h<=f;++h)!(h<f&&n(p=d[h],h,d))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(p,h,d),+e(p,h,d));if(x)return s=null,x+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ct(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ct(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Ct(!!d),c):n},c.curve=function(d){return arguments.length?(a=d,i!=null&&(s=a(i)),c):a},c.context=function(d){return arguments.length?(d==null?i=s=null:s=a(i=d),c):i},c}function Jf(t,e,n){var i=null,a=Ct(!0),s=null,o=nm,c=null,d=R2(h);t=typeof t=="function"?t:t===void 0?T6:Ct(+t),e=typeof e=="function"?e:Ct(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?k6:Ct(+n);function h(p){var m,x,b,y=(p=L2(p)).length,_,S=!1,N,E=new Array(y),A=new Array(y);for(s==null&&(c=o(N=d())),m=0;m<=y;++m){if(!(m<y&&a(_=p[m],m,p))===S)if(S=!S)x=m,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=m-1;b>=x;--b)c.point(E[b],A[b]);c.lineEnd(),c.areaEnd()}S&&(E[m]=+t(_,m,p),A[m]=+e(_,m,p),c.point(i?+i(_,m,p):E[m],n?+n(_,m,p):A[m]))}if(N)return c=null,N+""||null}function f(){return D6().defined(a).curve(o).context(s)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),i=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),h):t},h.x1=function(p){return arguments.length?(i=p==null?null:typeof p=="function"?p:Ct(+p),h):i},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),n=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),h):e},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ct(+p),h):n},h.lineX0=h.lineY0=function(){return f().x(t).y(e)},h.lineY1=function(){return f().x(t).y(n)},h.lineX1=function(){return f().x(i).y(e)},h.defined=function(p){return arguments.length?(a=typeof p=="function"?p:Ct(!!p),h):a},h.curve=function(p){return arguments.length?(o=p,s!=null&&(c=o(s)),h):o},h.context=function(p){return arguments.length?(p==null?s=c=null:c=o(s=p),h):s},h}class O6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function PU(t){return new O6(t,!0)}function RU(t){return new O6(t,!1)}const I2={draw(t,e){const n=Rr(e/Bp);t.moveTo(n,0),t.arc(0,0,n,0,tm)}},LU={draw(t,e){const n=Rr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},M6=Rr(1/3),IU=M6*2,BU={draw(t,e){const n=Rr(e/IU),i=n*M6;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},zU={draw(t,e){const n=Rr(e),i=-n/2;t.rect(i,i,n,n)}},$U=.8908130915292852,P6=Ip(Bp/10)/Ip(7*Bp/10),FU=Ip(tm/10)*P6,HU=-A6(tm/10)*P6,UU={draw(t,e){const n=Rr(e*$U),i=FU*n,a=HU*n;t.moveTo(0,-n),t.lineTo(i,a);for(let s=1;s<5;++s){const o=tm*s/5,c=A6(o),d=Ip(o);t.lineTo(d*n,-c*n),t.lineTo(c*i-d*a,d*i+c*a)}t.closePath()}},O0=Rr(3),VU={draw(t,e){const n=-Rr(e/(O0*3));t.moveTo(0,n*2),t.lineTo(-O0*n,-n),t.lineTo(O0*n,-n),t.closePath()}},rr=-.5,ar=Rr(3)/2,Jy=1/Rr(12),qU=(Jy/2+1)*3,GU={draw(t,e){const n=Rr(e/qU),i=n/2,a=n*Jy,s=i,o=n*Jy+n,c=-s,d=o;t.moveTo(i,a),t.lineTo(s,o),t.lineTo(c,d),t.lineTo(rr*i-ar*a,ar*i+rr*a),t.lineTo(rr*s-ar*o,ar*s+rr*o),t.lineTo(rr*c-ar*d,ar*c+rr*d),t.lineTo(rr*i+ar*a,rr*a-ar*i),t.lineTo(rr*s+ar*o,rr*o-ar*s),t.lineTo(rr*c+ar*d,rr*d-ar*c),t.closePath()}};function WU(t,e){let n=null,i=R2(a);t=typeof t=="function"?t:Ct(t||I2),e=typeof e=="function"?e:Ct(e===void 0?64:+e);function a(){let s;if(n||(n=s=i()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function zp(){}function $p(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function R6(t){this._context=t}R6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$p(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$p(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function YU(t){return new R6(t)}function L6(t){this._context=t}L6.prototype={areaStart:zp,areaEnd:zp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$p(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function XU(t){return new L6(t)}function I6(t){this._context=t}I6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:$p(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KU(t){return new I6(t)}function B6(t){this._context=t}B6.prototype={areaStart:zp,areaEnd:zp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function JU(t){return new B6(t)}function lN(t){return t<0?-1:1}function cN(t,e,n){var i=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(i||a<0&&-0),o=(n-t._y1)/(a||i<0&&-0),c=(s*a+o*i)/(i+a);return(lN(s)+lN(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function uN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function M0(t,e,n){var i=t._x0,a=t._y0,s=t._x1,o=t._y1,c=(s-i)/3;t._context.bezierCurveTo(i+c,a+c*e,s-c,o-c*n,s,o)}function Fp(t){this._context=t}Fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M0(this,this._t0,uN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,M0(this,uN(this,n=cN(this,t,e)),n);break;default:M0(this,this._t0,n=cN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function z6(t){this._context=new $6(t)}(z6.prototype=Object.create(Fp.prototype)).point=function(t,e){Fp.prototype.point.call(this,e,t)};function $6(t){this._context=t}$6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,a,s){this._context.bezierCurveTo(e,t,i,n,s,a)}};function ZU(t){return new Fp(t)}function QU(t){return new z6(t)}function F6(t){this._context=t}F6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=dN(t),a=dN(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(i[0][s],a[0][s],i[1][s],a[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function dN(t){var e,n=t.length-1,i,a=new Array(n),s=new Array(n),o=new Array(n);for(a[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=a[e]/s[e-1],s[e]-=i,o[e]-=i*o[e-1];for(a[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(o[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function eV(t){return new F6(t)}function im(t,e){this._context=t,this._t=e}im.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function tV(t){return new im(t,.5)}function nV(t){return new im(t,0)}function iV(t){return new im(t,1)}function $o(t,e){if((o=t.length)>1)for(var n=1,i,a,s=t[e[0]],o,c=s.length;n<o;++n)for(a=s,s=t[e[n]],i=0;i<c;++i)s[i][1]+=s[i][0]=isNaN(a[i][1])?a[i][0]:a[i][1]}function Zy(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function rV(t,e){return t[e]}function aV(t){const e=[];return e.key=t,e}function sV(){var t=Ct([]),e=Zy,n=$o,i=rV;function a(s){var o=Array.from(t.apply(this,arguments),aV),c,d=o.length,h=-1,f;for(const p of s)for(c=0,++h;c<d;++c)(o[c][h]=[0,+i(p,o[c].key,h,s)]).data=p;for(c=0,f=L2(e(o));c<d;++c)o[f[c]].index=c;return n(o,f),o}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(Array.from(s)),a):t},a.value=function(s){return arguments.length?(i=typeof s=="function"?s:Ct(+s),a):i},a.order=function(s){return arguments.length?(e=s==null?Zy:typeof s=="function"?s:Ct(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??$o,a):n},a}function oV(t,e){if((i=t.length)>0){for(var n,i,a=0,s=t[0].length,o;a<s;++a){for(o=n=0;n<i;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<i;++n)t[n][a][1]/=o}$o(t,e)}}function lV(t,e){if((a=t.length)>0){for(var n=0,i=t[e[0]],a,s=i.length;n<s;++n){for(var o=0,c=0;o<a;++o)c+=t[o][n][1]||0;i[n][1]+=i[n][0]=-c/2}$o(t,e)}}function cV(t,e){if(!(!((o=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,i=1,a,s,o;i<s;++i){for(var c=0,d=0,h=0;c<o;++c){for(var f=t[e[c]],p=f[i][1]||0,m=f[i-1][1]||0,x=(p-m)/2,b=0;b<c;++b){var y=t[e[b]],_=y[i][1]||0,S=y[i-1][1]||0;x+=_-S}d+=p,h+=x*p}a[i-1][1]+=a[i-1][0]=n,d&&(n-=h/d)}a[i-1][1]+=a[i-1][0]=n,$o(t,e)}}var P0={},R0={},hN;function uV(){return hN||(hN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(R0)),R0}var L0={},fN;function H6(){return fN||(fN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(L0)),L0}var I0={},pN;function B2(){return pN||(pN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(I0)),I0}var B0={},z0={},gN;function dV(){return gN||(gN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const i=String(n);return i==="0"&&Object.is(Number(n),-0)?"-0":i}t.toString=e})(z0)),z0}var mN;function z2(){return mN||(mN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dV(),n=B2();function i(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],o=a.length;if(o===0)return s;let c=0,d="",h="",f=!1;for(a.charCodeAt(0)===46&&(s.push(""),c++);c<o;){const p=a[c];h?p==="\\"&&c+1<o?(c++,d+=a[c]):p===h?h="":d+=p:f?p==='"'||p==="'"?h=p:p==="]"?(f=!1,s.push(d),d=""):d+=p:p==="["?(f=!0,d&&(s.push(d),d="")):p==="."?d&&(s.push(d),d=""):d+=p,c++}return d&&s.push(d),s}t.toPath=i})(B0)),B0}var vN;function $2(){return vN||(vN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uV(),n=H6(),i=B2(),a=z2();function s(c,d,h){if(c==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const f=c[d];return f===void 0?n.isDeepKey(d)?s(c,a.toPath(d),h):h:f}case"number":case"symbol":{typeof d=="number"&&(d=i.toKey(d));const f=c[d];return f===void 0?h:f}default:{if(Array.isArray(d))return o(c,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const f=c[d];return f===void 0?h:f}}}function o(c,d,h){if(d.length===0)return h;let f=c;for(let p=0;p<d.length;p++){if(f==null||e.isUnsafeProperty(d[p]))return h;f=f[d[p]]}return f===void 0?h:f}t.get=s})(P0)),P0}var $0,xN;function hV(){return xN||(xN=1,$0=$2().get),$0}var fV=hV();const dc=vr(fV);var pV=4;function Ps(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pV,n=10**e,i=Math.round(t*n)/n;return Object.is(i,-0)?0:i}function Gt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.reduce((a,s,o)=>{var c=n[o-1];return typeof c=="string"?a+c+s:c!==void 0?a+Ps(c)+s:a+s},"")}var vi=t=>t===0?0:t>0?1:-1,Or=t=>typeof t=="number"&&t!=+t,Fo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,je=t=>(typeof t=="number"||t instanceof Number)&&!Or(t),ia=t=>je(t)||typeof t=="string",gV=0,bd=t=>{var e=++gV;return"".concat(t||"").concat(e)},Mr=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&typeof e!="string")return i;var s;if(Fo(e)){if(n==null)return i;var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return Or(s)&&(s=i),a&&n!=null&&s>n&&(s=n),s},U6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},i=0;i<e;i++)if(!n[String(t[i])])n[String(t[i])]=!0;else return!0;return!1};function $t(t,e,n){return je(t)&&je(e)?Ps(t+n*(e-t)):e}function V6(t,e,n){if(!(!t||!t.length))return t.find(i=>i&&(typeof e=="function"?e(i):dc(i,e))===n)}var Wt=t=>t===null||typeof t>"u",nh=t=>Wt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function xi(t){return t!=null}function Zo(){}var mV=["type","size","sizeType"];function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qy.apply(null,arguments)}function yN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function bN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(n),!0).forEach(function(i){vV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function vV(t,e,n){return(e=xV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xV(t){var e=yV(t,"string");return typeof e=="symbol"?e:e+""}function yV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bV(t,e){if(t==null)return{};var n,i,a=_V(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _V(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var q6={symbolCircle:I2,symbolCross:LU,symbolDiamond:BU,symbolSquare:zU,symbolStar:UU,symbolTriangle:VU,symbolWye:GU},jV=Math.PI/180,wV=t=>{var e="symbol".concat(nh(t));return q6[e]||I2},SV=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*jV;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},CV=(t,e)=>{q6["symbol".concat(nh(t))]=e},G6=t=>{var{type:e="circle",size:n=64,sizeType:i="area"}=t,a=bV(t,mV),s=bN(bN({},a),{},{type:e,size:n,sizeType:i}),o="circle";typeof e=="string"&&(o=e);var c=()=>{var m=wV(o),x=WU().type(m).size(SV(n,i,o)),b=x();if(b!==null)return b},{className:d,cx:h,cy:f}=s,p=ni(s);return je(h)&&je(f)&&je(n)?j.createElement("path",Qy({},p,{className:st("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:c()})):null};G6.registerSymbol=CV;var W6=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,F2=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{P2(a)&&(i[a]=(s=>n[a](n,s)))}),i},AV=(t,e,n)=>i=>(t(e,n,i),null),H2=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var i=null;return Object.keys(t).forEach(a=>{var s=t[a];P2(a)&&typeof s=="function"&&(i||(i={}),i[a]=AV(s,e,n))}),i};function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function NV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(i){EV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function EV(t,e,n){return(e=TV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TV(t){var e=kV(t,"string");return typeof e=="symbol"?e:e+""}function kV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ai(t,e){var n=NV({},t),i=e,a=Object.keys(e),s=a.reduce((o,c)=>(o[c]===void 0&&i[c]!==void 0&&(o[c]=i[c]),o),n);return s}var F0={},H0={},jN;function DV(){return jN||(jN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){const a=new Map;for(let s=0;s<n.length;s++){const o=n[s],c=i(o,s,n);a.has(c)||a.set(c,o)}return Array.from(a.values())}t.uniqBy=e})(H0)),H0}var U0={},wN;function OV(){return wN||(wN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){return function(...a){return n.apply(this,a.slice(0,i))}}t.ary=e})(U0)),U0}var V0={},SN;function Y6(){return SN||(SN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(V0)),V0}var q0={},G0={},W0={},CN;function MV(){return CN||(CN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(W0)),W0}var AN;function U2(){return AN||(AN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MV();function n(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}t.isArrayLike=n})(G0)),G0}var Y0={},NN;function PV(){return NN||(NN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Y0)),Y0}var EN;function RV(){return EN||(EN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U2(),n=PV();function i(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=i})(q0)),q0}var X0={},K0={},TN;function LV(){return TN||(TN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$2();function n(i){return function(a){return e.get(a,i)}}t.property=n})(K0)),K0}var J0={},Z0={},Q0={},ex={},kN;function X6(){return kN||(kN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(ex)),ex}var tx={},DN;function K6(){return DN||(DN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(tx)),tx}var nx={},ON;function J6(){return ON||(ON=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}t.isEqualsSameValueZero=e})(nx)),nx}var MN;function IV(){return MN||(MN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X6(),n=K6(),i=J6();function a(f,p,m){return typeof m!="function"?a(f,p,()=>{}):s(f,p,function x(b,y,_,S,N,E){const A=m(b,y,_,S,N,E);return A!==void 0?!!A:s(b,y,x,E)},new Map)}function s(f,p,m,x){if(p===f)return!0;switch(typeof p){case"object":return o(f,p,m,x);case"function":return Object.keys(p).length>0?s(f,{...p},m,x):i.isEqualsSameValueZero(f,p);default:return e.isObject(f)?typeof p=="string"?p==="":!0:i.isEqualsSameValueZero(f,p)}}function o(f,p,m,x){if(p==null)return!0;if(Array.isArray(p))return d(f,p,m,x);if(p instanceof Map)return c(f,p,m,x);if(p instanceof Set)return h(f,p,m,x);const b=Object.keys(p);if(f==null||n.isPrimitive(f))return b.length===0;if(b.length===0)return!0;if(x?.has(p))return x.get(p)===f;x?.set(p,f);try{for(let y=0;y<b.length;y++){const _=b[y];if(!n.isPrimitive(f)&&!(_ in f)||p[_]===void 0&&f[_]!==void 0||p[_]===null&&f[_]!==null||!m(f[_],p[_],_,f,p,x))return!1}return!0}finally{x?.delete(p)}}function c(f,p,m,x){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,y]of p.entries()){const _=f.get(b);if(m(_,y,b,f,p,x)===!1)return!1}return!0}function d(f,p,m,x){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let y=0;y<p.length;y++){const _=p[y];let S=!1;for(let N=0;N<f.length;N++){if(b.has(N))continue;const E=f[N];let A=!1;if(m(E,_,y,f,p,x)&&(A=!0),A){b.add(N),S=!0;break}}if(!S)return!1}return!0}function h(f,p,m,x){return p.size===0?!0:f instanceof Set?d([...f],[...p],m,x):!1}t.isMatchWith=a,t.isSetMatch=h})(Q0)),Q0}var PN;function Z6(){return PN||(PN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IV();function n(i,a){return e.isMatchWith(i,a,()=>{})}t.isMatch=n})(Z0)),Z0}var ix={},rx={},ax={},RN;function BV(){return RN||(RN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}t.getSymbols=e})(ax)),ax}var sx={},LN;function V2(){return LN||(LN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(sx)),sx}var ox={},IN;function Q6(){return IN||(IN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",i="[object Number]",a="[object Boolean]",s="[object Arguments]",o="[object Symbol]",c="[object Date]",d="[object Map]",h="[object Set]",f="[object Array]",p="[object Function]",m="[object ArrayBuffer]",x="[object Object]",b="[object Error]",y="[object DataView]",_="[object Uint8Array]",S="[object Uint8ClampedArray]",N="[object Uint16Array]",E="[object Uint32Array]",A="[object BigUint64Array]",T="[object Int8Array]",k="[object Int16Array]",R="[object Int32Array]",H="[object BigInt64Array]",V="[object Float32Array]",Y="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=m,t.arrayTag=f,t.bigInt64ArrayTag=H,t.bigUint64ArrayTag=A,t.booleanTag=a,t.dataViewTag=y,t.dateTag=c,t.errorTag=b,t.float32ArrayTag=V,t.float64ArrayTag=Y,t.functionTag=p,t.int16ArrayTag=k,t.int32ArrayTag=R,t.int8ArrayTag=T,t.mapTag=d,t.numberTag=i,t.objectTag=x,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=N,t.uint32ArrayTag=E,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=S})(ox)),ox}var lx={},BN;function zV(){return BN||(BN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(lx)),lx}var zN;function eO(){return zN||(zN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BV(),n=V2(),i=Q6(),a=K6(),s=zV();function o(f,p){return c(f,void 0,f,new Map,p)}function c(f,p,m,x=new Map,b=void 0){const y=b?.(f,p,m,x);if(y!==void 0)return y;if(a.isPrimitive(f))return f;if(x.has(f))return x.get(f);if(Array.isArray(f)){const _=new Array(f.length);x.set(f,_);for(let S=0;S<f.length;S++)_[S]=c(f[S],S,m,x,b);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;x.set(f,_);for(const[S,N]of f)_.set(S,c(N,S,m,x,b));return _}if(f instanceof Set){const _=new Set;x.set(f,_);for(const S of f)_.add(c(S,void 0,m,x,b));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);x.set(f,_);for(let S=0;S<f.length;S++)_[S]=c(f[S],S,m,x,b);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return x.set(f,_),d(_,f,m,x,b),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return x.set(f,_),d(_,f,m,x,b),_}if(typeof Blob<"u"&&f instanceof Blob){const _=new Blob([f],{type:f.type});return x.set(f,_),d(_,f,m,x,b),_}if(f instanceof Error){const _=new f.constructor;return x.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,d(_,f,m,x,b),_}if(f instanceof Boolean){const _=new Boolean(f.valueOf());return x.set(f,_),d(_,f,m,x,b),_}if(f instanceof Number){const _=new Number(f.valueOf());return x.set(f,_),d(_,f,m,x,b),_}if(f instanceof String){const _=new String(f.valueOf());return x.set(f,_),d(_,f,m,x,b),_}if(typeof f=="object"&&h(f)){const _=Object.create(Object.getPrototypeOf(f));return x.set(f,_),d(_,f,m,x,b),_}return f}function d(f,p,m=f,x,b){const y=[...Object.keys(p),...e.getSymbols(p)];for(let _=0;_<y.length;_++){const S=y[_],N=Object.getOwnPropertyDescriptor(f,S);(N==null||N.writable)&&(f[S]=c(p[S],S,m,x,b))}}function h(f){switch(n.getTag(f)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=c,t.copyProperties=d})(rx)),rx}var $N;function $V(){return $N||($N=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eO();function n(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}t.cloneDeep=n})(ix)),ix}var FN;function FV(){return FN||(FN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z6(),n=$V();function i(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=i})(J0)),J0}var cx={},ux={},dx={},HN;function HV(){return HN||(HN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eO(),n=V2(),i=Q6();function a(s,o){return e.cloneDeepWith(s,(c,d,h,f)=>{const p=o?.(c,d,h,f);if(p!==void 0)return p;if(typeof s=="object"){if(n.getTag(s)===i.objectTag&&typeof s.constructor!="function"){const m={};return f.set(s,m),e.copyProperties(m,s,h,f),m}switch(Object.prototype.toString.call(s)){case i.numberTag:case i.stringTag:case i.booleanTag:{const m=new s.constructor(s?.valueOf());return e.copyProperties(m,s),m}case i.argumentsTag:{const m={};return e.copyProperties(m,s),m.length=s.length,m[Symbol.iterator]=s[Symbol.iterator],m}default:return}}})}t.cloneDeepWith=a})(dx)),dx}var UN;function UV(){return UN||(UN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HV();function n(i){return e.cloneDeepWith(i)}t.cloneDeep=n})(ux)),ux}var hx={},fx={},VN;function tO(){return VN||(VN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(i,a=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<a;case"symbol":return!1;case"string":return e.test(i)}}t.isIndex=n})(fx)),fx}var px={},qN;function VV(){return qN||(qN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V2();function n(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}t.isArguments=n})(px)),px}var GN;function qV(){return GN||(GN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H6(),n=tO(),i=VV(),a=z2();function s(o,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&o?.[c]==null?d=a.toPath(c):d=[c],d.length===0)return!1;let h=o;for(let f=0;f<d.length;f++){const p=d[f];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||i.isArguments(h))&&n.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}t.has=s})(hx)),hx}var WN;function GV(){return WN||(WN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z6(),n=B2(),i=UV(),a=$2(),s=qV();function o(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=i.cloneDeep(d),function(h){const f=a.get(h,c);return f===void 0?s.has(h,c):d===void 0?f===void 0:e.isMatch(f,d)}}t.matchesProperty=o})(cx)),cx}var YN;function WV(){return YN||(YN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y6(),n=LV(),i=FV(),a=GV();function s(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):i.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=s})(X0)),X0}var XN;function YV(){return XN||(XN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DV(),n=OV(),i=Y6(),a=RV(),s=WV();function o(c,d=i.identity){return a.isArrayLikeObject(c)?e.uniqBy(Array.from(c),n.ary(s.iteratee(d),1)):[]}t.uniqBy=o})(F0)),F0}var gx,KN;function XV(){return KN||(KN=1,gx=YV().uniqBy),gx}var KV=XV();const JN=vr(KV);function JV(t,e,n){return e===!0?JN(t,n):typeof e=="function"?JN(t,e):t}var mx={exports:{}},vx={},xx={exports:{}},yx={};var ZN;function ZV(){if(ZN)return yx;ZN=1;var t=jc();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,a=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function c(p,m){var x=m(),b=i({inst:{value:x,getSnapshot:m}}),y=b[0].inst,_=b[1];return s(function(){y.value=x,y.getSnapshot=m,d(y)&&_({inst:y})},[p,x,m]),a(function(){return d(y)&&_({inst:y}),p(function(){d(y)&&_({inst:y})})},[p]),o(x),x}function d(p){var m=p.getSnapshot;p=p.value;try{var x=m();return!n(p,x)}catch{return!0}}function h(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return yx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,yx}var QN;function QV(){return QN||(QN=1,xx.exports=ZV()),xx.exports}var eE;function eq(){if(eE)return vx;eE=1;var t=jc(),e=QV();function n(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var i=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,c=t.useMemo,d=t.useDebugValue;return vx.useSyncExternalStoreWithSelector=function(h,f,p,m,x){var b=s(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=c(function(){function S(k){if(!N){if(N=!0,E=k,k=m(k),x!==void 0&&y.hasValue){var R=y.value;if(x(R,k))return A=R}return A=k}if(R=A,i(E,k))return R;var H=m(k);return x!==void 0&&x(R,H)?(E=k,R):(E=k,A=H)}var N=!1,E,A,T=p===void 0?null:p;return[function(){return S(f())},T===null?void 0:function(){return S(T())}]},[f,p,m,x]);var _=a(h,b[0],b[1]);return o(function(){y.hasValue=!0,y.value=_},[_]),d(_),_},vx}var tE;function tq(){return tE||(tE=1,mx.exports=eq()),mx.exports}var nq=tq(),q2=j.createContext(null),iq=t=>t,Qt=()=>{var t=j.useContext(q2);return t?t.store.dispatch:iq},wp=()=>{},rq=()=>wp,aq=(t,e)=>t===e;function Oe(t){var e=j.useContext(q2),n=j.useMemo(()=>e?i=>{if(i!=null)return t(i)}:wp,[e,t]);return nq.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:rq,e?e.store.getState:wp,e?e.store.getState:wp,n,aq)}function sq(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function oq(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function lq(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${n}]`)}}var nE=t=>Array.isArray(t)?t:[t];function cq(t){const e=Array.isArray(t[0])?t[0]:t;return lq(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function uq(t,e){const n=[],{length:i}=t;for(let a=0;a<i;a++)n.push(t[a].apply(null,e));return n}var dq=class{constructor(t){this.value=t}deref(){return this.value}},hq=typeof WeakRef<"u"?WeakRef:dq,fq=0,iE=1;function Zf(){return{s:fq,v:void 0,o:null,p:null}}function nO(t,e={}){let n=Zf();const{resultEqualityCheck:i}=e;let a,s=0;function o(){let c=n;const{length:d}=arguments;for(let p=0,m=d;p<m;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=c.o;b===null&&(c.o=b=new WeakMap);const y=b.get(x);y===void 0?(c=Zf(),b.set(x,c)):c=y}else{let b=c.p;b===null&&(c.p=b=new Map);const y=b.get(x);y===void 0?(c=Zf(),b.set(x,c)):c=y}}const h=c;let f;if(c.s===iE)f=c.v;else if(f=t.apply(null,arguments),s++,i){const p=a?.deref?.()??a;p!=null&&i(p,f)&&(f=p,s!==0&&s--),a=typeof f=="object"&&f!==null||typeof f=="function"?new hq(f):f}return h.s=iE,h.v=f,f}return o.clearCache=()=>{n=Zf(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function pq(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,i=(...a)=>{let s=0,o=0,c,d={},h=a.pop();typeof h=="object"&&(d=h,h=a.pop()),sq(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const f={...n,...d},{memoize:p,memoizeOptions:m=[],argsMemoize:x=nO,argsMemoizeOptions:b=[]}=f,y=nE(m),_=nE(b),S=cq(a),N=p(function(){return s++,h.apply(null,arguments)},...y),E=x(function(){o++;const T=uq(S,arguments);return c=N.apply(null,T),c},..._);return Object.assign(E,{resultFunc:h,memoizedResultFunc:N,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:x})};return Object.assign(i,{withTypes:()=>i}),i}var ue=pq(nO),gq=Object.assign((t,e=ue)=>{oq(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),i=n.map(s=>t[s]);return e(i,(...s)=>s.reduce((o,c,d)=>(o[n[d]]=c,o),{}))},{withTypes:()=>gq}),bx={},_x={},jx={},rE;function mq(){return rE||(rE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,a,s)=>{if(i!==a){const o=e(i),c=e(a);if(o===c&&o===0){if(i<a)return s==="desc"?1:-1;if(i>a)return s==="desc"?-1:1}return s==="desc"?c-o:o-c}return 0};t.compareValues=n})(jx)),jx}var wx={},Sx={},aE;function iO(){return aE||(aE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Sx)),Sx}var sE;function vq(){return sE||(sE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iO(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(i.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}t.isKey=a})(wx)),wx}var oE;function xq(){return oE||(oE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mq(),n=vq(),i=z2();function a(s,o,c,d){if(s==null)return[];c=d?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const h=(x,b)=>{let y=x;for(let _=0;_<b.length&&y!=null;++_)y=y[b[_]];return y},f=(x,b)=>b==null||x==null?b:typeof x=="object"&&"key"in x?Object.hasOwn(b,x.key)?b[x.key]:h(b,x.path):typeof x=="function"?x(b):Array.isArray(x)?h(b,x):typeof b=="object"?b[x]:b,p=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:i.toPath(x)}));return s.map(x=>({original:x,criteria:p.map(b=>f(b,x))})).slice().sort((x,b)=>{for(let y=0;y<p.length;y++){const _=e.compareValues(x.criteria[y],b.criteria[y],c[y]);if(_!==0)return _}return 0}).map(x=>x.original)}t.orderBy=a})(_x)),_x}var Cx={},lE;function yq(){return lE||(lE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i=1){const a=[],s=Math.floor(i),o=(c,d)=>{for(let h=0;h<c.length;h++){const f=c[h];Array.isArray(f)&&d<s?o(f,d+1):a.push(f)}};return o(n,0),a}t.flatten=e})(Cx)),Cx}var Ax={},cE;function rO(){return cE||(cE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tO(),n=U2(),i=X6(),a=J6();function s(o,c,d){return i.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?a.isEqualsSameValueZero(d[c],o):!1}t.isIterateeCall=s})(Ax)),Ax}var uE;function bq(){return uE||(uE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xq(),n=yq(),i=rO();function a(s,...o){const c=o.length;return c>1&&i.isIterateeCall(s,o[0],o[1])?o=[]:c>2&&i.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(s,n.flatten(o),["asc"])}t.sortBy=a})(bx)),bx}var Nx,dE;function _q(){return dE||(dE=1,Nx=bq().sortBy),Nx}var jq=_q();const rm=vr(jq);var aO=t=>t.legend.settings,wq=t=>t.legend.size,Sq=t=>t.legend.payload;ue([Sq,aO],(t,e)=>{var{itemSorter:n}=e,i=t.flat(1);return n?rm(i,n):i});var Qf=1;function Cq(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=j.useState({height:0,left:0,top:0,width:0}),i=j.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-e.height)>Qf||Math.abs(o.left-e.left)>Qf||Math.abs(o.top-e.top)>Qf||Math.abs(o.width-e.width)>Qf)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,i]}function bn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Aq=typeof Symbol=="function"&&Symbol.observable||"@@observable",hE=Aq,Ex=()=>Math.random().toString(36).substring(7).split("").join("."),Nq={INIT:`@@redux/INIT${Ex()}`,REPLACE:`@@redux/REPLACE${Ex()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ex()}`},Hp=Nq;function G2(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function W2(t,e,n){if(typeof t!="function")throw new Error(bn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(bn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(bn(1));return n(W2)(t,e)}let i=t,a=e,s=new Map,o=s,c=0,d=!1;function h(){o===s&&(o=new Map,s.forEach((_,S)=>{o.set(S,_)}))}function f(){if(d)throw new Error(bn(3));return a}function p(_){if(typeof _!="function")throw new Error(bn(4));if(d)throw new Error(bn(5));let S=!0;h();const N=c++;return o.set(N,_),function(){if(S){if(d)throw new Error(bn(6));S=!1,h(),o.delete(N),s=null}}}function m(_){if(!G2(_))throw new Error(bn(7));if(typeof _.type>"u")throw new Error(bn(8));if(typeof _.type!="string")throw new Error(bn(17));if(d)throw new Error(bn(9));try{d=!0,a=i(a,_)}finally{d=!1}return(s=o).forEach(N=>{N()}),_}function x(_){if(typeof _!="function")throw new Error(bn(10));i=_,m({type:Hp.REPLACE})}function b(){const _=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(bn(11));function N(){const A=S;A.next&&A.next(f())}return N(),{unsubscribe:_(N)}},[hE](){return this}}}return m({type:Hp.INIT}),{dispatch:m,subscribe:p,getState:f,replaceReducer:x,[hE]:b}}function Eq(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Hp.INIT})>"u")throw new Error(bn(12));if(typeof n(void 0,{type:Hp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bn(13))})}function sO(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const i=Object.keys(n);let a;try{Eq(n)}catch(s){a=s}return function(o={},c){if(a)throw a;let d=!1;const h={};for(let f=0;f<i.length;f++){const p=i[f],m=n[p],x=o[p],b=m(x,c);if(typeof b>"u")throw c&&c.type,new Error(bn(14));h[p]=b,d=d||b!==x}return d=d||i.length!==Object.keys(o).length,d?h:o}}function fE(t,e){return function(...n){return e(t.apply(this,n))}}function pE(t,e){if(typeof t=="function")return fE(t,e);if(typeof t!="object"||t===null)throw new Error(bn(16));const n={};for(const i in t){const a=t[i];typeof a=="function"&&(n[i]=fE(a,e))}return n}function _d(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function oO(...t){return e=>(n,i)=>{const a=e(n,i);let s=()=>{throw new Error(bn(15))};const o={getState:a.getState,dispatch:(d,...h)=>s(d,...h)},c=t.map(d=>d(o));return s=_d(...c)(a.dispatch),{...a,dispatch:s}}}function lO(t){return G2(t)&&"type"in t&&typeof t.type=="string"}var cO=Symbol.for("immer-nothing"),gE=Symbol.for("immer-draftable"),ri=Symbol.for("immer-state");function Ar(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ri=Object,hc=Ri.getPrototypeOf,Up="constructor",am="prototype",eb="configurable",Vp="enumerable",Sp="writable",jd="value",Ha=t=>!!t&&!!t[ri];function Pr(t){return t?uO(t)||om(t)||!!t[gE]||!!t[Up]?.[gE]||lm(t)||cm(t):!1}var Tq=Ri[am][Up].toString(),mE=new WeakMap;function uO(t){if(!t||!Y2(t))return!1;const e=hc(t);if(e===null||e===Ri[am])return!0;const n=Ri.hasOwnProperty.call(e,Up)&&e[Up];if(n===Object)return!0;if(!Yl(n))return!1;let i=mE.get(n);return i===void 0&&(i=Function.toString.call(n),mE.set(n,i)),i===Tq}function sm(t,e,n=!0){ih(t)===0?(n?Reflect.ownKeys(t):Ri.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((i,a)=>e(a,i,t))}function ih(t){const e=t[ri];return e?e.type_:om(t)?1:lm(t)?2:cm(t)?3:0}var vE=(t,e,n=ih(t))=>n===2?t.has(e):Ri[am].hasOwnProperty.call(t,e),tb=(t,e,n=ih(t))=>n===2?t.get(e):t[e],qp=(t,e,n,i=ih(t))=>{i===2?t.set(e,n):i===3?t.add(n):t[e]=n};function kq(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var om=Array.isArray,lm=t=>t instanceof Map,cm=t=>t instanceof Set,Y2=t=>typeof t=="object",Yl=t=>typeof t=="function",Tx=t=>typeof t=="boolean";function Dq(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Da=t=>t.copy_||t.base_,X2=t=>t.modified_?t.copy_:t.base_;function nb(t,e){if(lm(t))return new Map(t);if(cm(t))return new Set(t);if(om(t))return Array[am].slice.call(t);const n=uO(t);if(e===!0||e==="class_only"&&!n){const i=Ri.getOwnPropertyDescriptors(t);delete i[ri];let a=Reflect.ownKeys(i);for(let s=0;s<a.length;s++){const o=a[s],c=i[o];c[Sp]===!1&&(c[Sp]=!0,c[eb]=!0),(c.get||c.set)&&(i[o]={[eb]:!0,[Sp]:!0,[Vp]:c[Vp],[jd]:t[o]})}return Ri.create(hc(t),i)}else{const i=hc(t);if(i!==null&&n)return{...t};const a=Ri.create(i);return Ri.assign(a,t)}}function K2(t,e=!1){return um(t)||Ha(t)||!Pr(t)||(ih(t)>1&&Ri.defineProperties(t,{set:ep,add:ep,clear:ep,delete:ep}),Ri.freeze(t),e&&sm(t,(n,i)=>{K2(i,!0)},!1)),t}function Oq(){Ar(2)}var ep={[jd]:Oq};function um(t){return t===null||!Y2(t)?!0:Ri.isFrozen(t)}var Gp="MapSet",ib="Patches",xE="ArrayMethods",dO={};function Ho(t){const e=dO[t];return e||Ar(0,t),e}var yE=t=>!!dO[t],wd,hO=()=>wd,Mq=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:yE(Gp)?Ho(Gp):void 0,arrayMethodsPlugin_:yE(xE)?Ho(xE):void 0});function bE(t,e){e&&(t.patchPlugin_=Ho(ib),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function rb(t){ab(t),t.drafts_.forEach(Pq),t.drafts_=null}function ab(t){t===wd&&(wd=t.parent_)}var _E=t=>wd=Mq(wd,t);function Pq(t){const e=t[ri];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function jE(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ri].modified_&&(rb(e),Ar(4)),Pr(t)&&(t=wE(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[ri].base_,t,e)}else t=wE(e,n);return Rq(e,t,!0),rb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==cO?t:void 0}function wE(t,e){if(um(e))return e;const n=e[ri];if(!n)return Wp(e,t.handledSet_,t);if(!dm(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:i}=n;if(i)for(;i.length>0;)i.pop()(t);gO(n,t)}return n.copy_}function Rq(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&K2(e,n)}function fO(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var dm=(t,e)=>t.scope_===e,Lq=[];function pO(t,e,n,i){const a=Da(t),s=t.type_;if(i!==void 0&&tb(a,i,s)===e){qp(a,i,n,s);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;sm(a,(d,h)=>{if(Ha(h)){const f=c.get(h)||[];f.push(d),c.set(h,f)}})}const o=t.draftLocations_.get(e)??Lq;for(const c of o)qp(a,c,n,s)}function Iq(t,e,n){t.callbacks_.push(function(a){const s=e;if(!s||!dm(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const o=X2(s);pO(t,s.draft_??s,o,n),gO(s,a)})}function gO(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}fO(t)}}function Bq(t,e,n){const{scope_:i}=t;if(Ha(n)){const a=n[ri];dm(a,i)&&a.callbacks_.push(function(){Cp(t);const o=X2(a);pO(t,n,o,e)})}else Pr(n)&&t.callbacks_.push(function(){const s=Da(t);t.type_===3?s.has(n)&&Wp(n,i.handledSet_,i):tb(s,e,t.type_)===n&&i.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Wp(tb(t.copy_,e,t.type_),i.handledSet_,i)})}function Wp(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ha(t)||e.has(t)||!Pr(t)||um(t)||(e.add(t),sm(t,(i,a)=>{if(Ha(a)){const s=a[ri];if(dm(s,n)){const o=X2(s);qp(t,i,o,t.type_),fO(s)}}else Pr(a)&&Wp(a,e,n)})),t}function zq(t,e){const n=om(t),i={type_:n?1:0,scope_:e?e.scope_:hO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=i,s=Yp;n&&(a=[i],s=Sd);const{revoke:o,proxy:c}=Proxy.revocable(a,s);return i.draft_=c,i.revoke_=o,[c,i]}var Yp={get(t,e){if(e===ri)return t;let n=t.scope_.arrayMethodsPlugin_;const i=t.type_===1&&typeof e=="string";if(i&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const a=Da(t);if(!vE(a,e,t.type_))return $q(t,a,e);const s=a[e];if(t.finalized_||!Pr(s)||i&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&Dq(e))return s;if(s===kx(t.base_,e)){Cp(t);const o=t.type_===1?+e:e,c=ob(t.scope_,s,t,o);return t.copy_[o]=c}return s},has(t,e){return e in Da(t)},ownKeys(t){return Reflect.ownKeys(Da(t))},set(t,e,n){const i=mO(Da(t),e);if(i?.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const a=kx(Da(t),e),s=a?.[ri];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(kq(n,a)&&(n!==void 0||vE(t.base_,e,t.type_)))return!0;Cp(t),sb(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Bq(t,e,n)),!0},deleteProperty(t,e){return Cp(t),kx(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),sb(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Da(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{[Sp]:!0,[eb]:t.type_!==1||e!=="length",[Vp]:i[Vp],[jd]:n[e]}},defineProperty(){Ar(11)},getPrototypeOf(t){return hc(t.base_)},setPrototypeOf(){Ar(12)}},Sd={};for(let t in Yp){let e=Yp[t];Sd[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Sd.deleteProperty=function(t,e){return Sd.set.call(this,t,e,void 0)};Sd.set=function(t,e,n){return Yp.set.call(this,t[0],e,n,t[0])};function kx(t,e){const n=t[ri];return(n?Da(n):t)[e]}function $q(t,e,n){const i=mO(e,n);return i?jd in i?i[jd]:i.get?.call(t.draft_):void 0}function mO(t,e){if(!(e in t))return;let n=hc(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=hc(n)}}function sb(t){t.modified_||(t.modified_=!0,t.parent_&&sb(t.parent_))}function Cp(t){t.copy_||(t.assigned_=new Map,t.copy_=nb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Fq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,i,a)=>{if(Yl(n)&&!Yl(i)){const o=i;i=n;const c=this;return function(h=o,...f){return c.produce(h,p=>i.call(this,p,...f))}}Yl(i)||Ar(6),a!==void 0&&!Yl(a)&&Ar(7);let s;if(Pr(n)){const o=_E(this),c=ob(o,n,void 0);let d=!0;try{s=i(c),d=!1}finally{d?rb(o):ab(o)}return bE(o,a),jE(s,o)}else if(!n||!Y2(n)){if(s=i(n),s===void 0&&(s=n),s===cO&&(s=void 0),this.autoFreeze_&&K2(s,!0),a){const o=[],c=[];Ho(ib).generateReplacementPatches_(n,s,{patches_:o,inversePatches_:c}),a(o,c)}return s}else Ar(1,n)},this.produceWithPatches=(n,i)=>{if(Yl(n))return(c,...d)=>this.produceWithPatches(c,h=>n(h,...d));let a,s;return[this.produce(n,i,(c,d)=>{a=c,s=d}),a,s]},Tx(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Tx(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Tx(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Pr(e)||Ar(8),Ha(e)&&(e=kr(e));const n=_E(this),i=ob(n,e,void 0);return i[ri].isManual_=!0,ab(n),i}finishDraft(e,n){const i=e&&e[ri];(!i||!i.isManual_)&&Ar(9);const{scope_:a}=i;return bE(a,n),jE(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let i;for(i=n.length-1;i>=0;i--){const s=n[i];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}i>-1&&(n=n.slice(i+1));const a=Ho(ib).applyPatches_;return Ha(e)?a(e,n):this.produce(e,s=>a(s,n))}};function ob(t,e,n,i){const[a,s]=lm(e)?Ho(Gp).proxyMap_(e,n):cm(e)?Ho(Gp).proxySet_(e,n):zq(e,n);return(n?.scope_??hO()).drafts_.push(a),s.callbacks_=n?.callbacks_??[],s.key_=i,n&&i!==void 0?Iq(n,s,i):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=d;s.modified_&&h&&h.generatePatches_(s,[],d)}),a}function kr(t){return Ha(t)||Ar(10,t),vO(t)}function vO(t){if(!Pr(t)||um(t))return t;const e=t[ri];let n,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=nb(t,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else n=nb(t,!0);return sm(n,(a,s)=>{qp(n,a,vO(s))},i),e&&(e.finalized_=!1),n}var Hq=new Fq,xO=Hq.produce;function yO(t){return({dispatch:n,getState:i})=>a=>s=>typeof s=="function"?s(n,i,t):a(s)}var Uq=yO(),Vq=yO,qq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_d:_d.apply(null,arguments)};function gr(t,e){function n(...i){if(e){let a=e(...i);if(!a)throw new Error(Ii(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>lO(i)&&i.type===t,n}var bO=class rd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,rd.prototype)}static get[Symbol.species](){return rd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new rd(...e[0].concat(this)):new rd(...e.concat(this))}};function SE(t){return Pr(t)?xO(t,()=>{}):t}function tp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Gq(t){return typeof t=="boolean"}var Wq=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let o=new bO;return n&&(Gq(n)?o.push(Uq):o.push(Vq(n.extraArgument))),o},_O="RTK_autoBatch",Ot=()=>t=>({payload:t,meta:{[_O]:!0}}),CE=t=>e=>{setTimeout(e,t)},jO=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let a=!0,s=!1,o=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:CE(10):t.type==="callback"?t.queueNotification:CE(t.timeout),h=()=>{o=!1,s&&(s=!1,c.forEach(f=>f()))};return Object.assign({},i,{subscribe(f){const p=()=>a&&f(),m=i.subscribe(p);return c.add(f),()=>{m(),c.delete(f)}},dispatch(f){try{return a=!f?.meta?.[_O],s=!a,s&&(o||(o=!0,d(h))),i.dispatch(f)}finally{a=!0}}})},Yq=t=>function(n){const{autoBatch:i=!0}=n??{};let a=new bO(t);return i&&a.push(jO(typeof i=="object"?i:void 0)),a};function Xq(t){const e=Wq(),{reducer:n=void 0,middleware:i,devTools:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(G2(n))c=sO(n);else throw new Error(Ii(1));let d;typeof i=="function"?d=i(e):d=e();let h=_d;a&&(h=qq({trace:!1,...typeof a=="object"&&a}));const f=oO(...d),p=Yq(f);let m=typeof o=="function"?o(p):p();const x=h(...m);return W2(c,s,x)}function wO(t){const e={},n=[];let i;const a={addCase(s,o){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(Ii(28));if(c in e)throw new Error(Ii(29));return e[c]=o,a},addAsyncThunk(s,o){return o.pending&&(e[s.pending.type]=o.pending),o.rejected&&(e[s.rejected.type]=o.rejected),o.fulfilled&&(e[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),a},addMatcher(s,o){return n.push({matcher:s,reducer:o}),a},addDefaultCase(s){return i=s,a}};return t(a),[e,n,i]}function Kq(t){return typeof t=="function"}function Jq(t,e){let[n,i,a]=wO(e),s;if(Kq(t))s=()=>SE(t());else{const c=SE(t);s=()=>c}function o(c=s(),d){let h=[n[d.type],...i.filter(({matcher:f})=>f(d)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[a]),h.reduce((f,p)=>{if(p)if(Ha(f)){const x=p(f,d);return x===void 0?f:x}else{if(Pr(f))return xO(f,m=>p(m,d));{const m=p(f,d);if(m===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return f},c)}return o.getInitialState=s,o}var Zq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Qq=(t=21)=>{let e="",n=t;for(;n--;)e+=Zq[Math.random()*64|0];return e},eG=Symbol.for("rtk-slice-createasyncthunk");function tG(t,e){return`${t}/${e}`}function nG({creators:t}={}){const e=t?.asyncThunk?.[eG];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Ii(11));const o=(typeof i.reducers=="function"?i.reducers(rG()):i.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(E,A){const T=typeof E=="string"?E:E.type;if(!T)throw new Error(Ii(12));if(T in d.sliceCaseReducersByType)throw new Error(Ii(13));return d.sliceCaseReducersByType[T]=A,h},addMatcher(E,A){return d.sliceMatchers.push({matcher:E,reducer:A}),h},exposeAction(E,A){return d.actionCreators[E]=A,h},exposeCaseReducer(E,A){return d.sliceCaseReducersByName[E]=A,h}};c.forEach(E=>{const A=o[E],T={reducerName:E,type:tG(a,E),createNotation:typeof i.reducers=="function"};sG(A)?lG(T,A,h,e):aG(T,A,h)});function f(){const[E={},A=[],T=void 0]=typeof i.extraReducers=="function"?wO(i.extraReducers):[i.extraReducers],k={...E,...d.sliceCaseReducersByType};return Jq(i.initialState,R=>{for(let H in k)R.addCase(H,k[H]);for(let H of d.sliceMatchers)R.addMatcher(H.matcher,H.reducer);for(let H of A)R.addMatcher(H.matcher,H.reducer);T&&R.addDefaultCase(T)})}const p=E=>E,m=new Map,x=new WeakMap;let b;function y(E,A){return b||(b=f()),b(E,A)}function _(){return b||(b=f()),b.getInitialState()}function S(E,A=!1){function T(R){let H=R[E];return typeof H>"u"&&A&&(H=tp(x,T,_)),H}function k(R=p){const H=tp(m,A,()=>new WeakMap);return tp(H,R,()=>{const V={};for(const[Y,W]of Object.entries(i.selectors??{}))V[Y]=iG(W,R,()=>tp(x,R,_),A);return V})}return{reducerPath:E,getSelectors:k,get selectors(){return k(T)},selectSlice:T}}const N={name:a,reducer:y,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...S(s),injectInto(E,{reducerPath:A,...T}={}){const k=A??s;return E.inject({reducerPath:k,reducer:y},T),{...N,...S(k,!0)}}};return N}}function iG(t,e,n,i){function a(s,...o){let c=e(s);return typeof c>"u"&&i&&(c=n()),t(c,...o)}return a.unwrapped=t,a}var bi=nG();function rG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function aG({type:t,reducerName:e,createNotation:n},i,a){let s,o;if("reducer"in i){if(n&&!oG(i))throw new Error(Ii(17));s=i.reducer,o=i.prepare}else s=i;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?gr(t,o):gr(t))}function sG(t){return t._reducerDefinitionType==="asyncThunk"}function oG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function lG({type:t,reducerName:e},n,i,a){if(!a)throw new Error(Ii(18));const{payloadCreator:s,fulfilled:o,pending:c,rejected:d,settled:h,options:f}=n,p=a(t,s,f);i.exposeAction(e,p),o&&i.addCase(p.fulfilled,o),c&&i.addCase(p.pending,c),d&&i.addCase(p.rejected,d),h&&i.addMatcher(p.settled,h),i.exposeCaseReducer(e,{fulfilled:o||np,pending:c||np,rejected:d||np,settled:h||np})}function np(){}var cG="task",SO="listener",CO="completed",J2="cancelled",uG=`task-${J2}`,dG=`task-${CO}`,lb=`${SO}-${J2}`,hG=`${SO}-${CO}`,hm=class{constructor(t){this.code=t,this.message=`${cG} ${J2} (reason: ${t})`}name="TaskAbortError";message},Z2=(t,e)=>{if(typeof t!="function")throw new TypeError(Ii(32))},Xp=()=>{},AO=(t,e=Xp)=>(t.catch(e),t),NO=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Mo=t=>{if(t.aborted)throw new hm(t.reason)};function EO(t,e){let n=Xp;return new Promise((i,a)=>{const s=()=>a(new hm(t.reason));if(t.aborted){s();return}n=NO(t,s),e.finally(()=>n()).then(i,a)}).finally(()=>{n=Xp})}var fG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof hm?"cancelled":"rejected",error:n}}finally{e?.()}},Kp=t=>e=>AO(EO(t,e).then(n=>(Mo(t),n))),TO=t=>{const e=Kp(t);return n=>e(new Promise(i=>setTimeout(i,n)))},{assign:ac}=Object,AE={},fm="listenerMiddleware",pG=(t,e)=>{const n=i=>NO(t,()=>i.abort(t.reason));return(i,a)=>{Z2(i);const s=new AbortController;n(s);const o=fG(async()=>{Mo(t),Mo(s.signal);const c=await i({pause:Kp(s.signal),delay:TO(s.signal),signal:s.signal});return Mo(s.signal),c},()=>s.abort(dG));return a?.autoJoin&&e.push(o.catch(Xp)),{result:Kp(t)(o),cancel(){s.abort(uG)}}}},gG=(t,e)=>{const n=async(i,a)=>{Mo(e);let s=()=>{};const c=[new Promise((d,h)=>{let f=t({predicate:i,effect:(p,m)=>{m.unsubscribe(),d([p,m.getState(),m.getOriginalState()])}});s=()=>{f(),h()}})];a!=null&&c.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await EO(e,Promise.race(c));return Mo(e),d}finally{s()}};return(i,a)=>AO(n(i,a))},kO=t=>{let{type:e,actionCreator:n,matcher:i,predicate:a,effect:s}=t;if(e)a=gr(e).match;else if(n)e=n.type,a=n.match;else if(i)a=i;else if(!a)throw new Error(Ii(21));return Z2(s),{predicate:a,type:e,effect:s}},DO=ac(t=>{const{type:e,predicate:n,effect:i}=kO(t);return{id:Qq(),effect:i,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ii(22))}}},{withTypes:()=>DO}),NE=(t,e)=>{const{type:n,effect:i,predicate:a}=kO(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===i)},cb=t=>{t.pending.forEach(e=>{e.abort(lb)})},mG=(t,e)=>()=>{for(const n of e.keys())cb(n);t.clear()},EE=(t,e,n)=>{try{t(e,n)}catch(i){setTimeout(()=>{throw i},0)}},OO=ac(gr(`${fm}/add`),{withTypes:()=>OO}),vG=gr(`${fm}/removeAll`),MO=ac(gr(`${fm}/remove`),{withTypes:()=>MO}),xG=(...t)=>{console.error(`${fm}/error`,...t)},rh=(t={})=>{const e=new Map,n=new Map,i=x=>{const b=n.get(x)??0;n.set(x,b+1)},a=x=>{const b=n.get(x)??1;b===1?n.delete(x):n.set(x,b-1)},{extra:s,onError:o=xG}=t;Z2(o);const c=x=>(x.unsubscribe=()=>e.delete(x.id),e.set(x.id,x),b=>{x.unsubscribe(),b?.cancelActive&&cb(x)}),d=x=>{const b=NE(e,x)??DO(x);return c(b)};ac(d,{withTypes:()=>d});const h=x=>{const b=NE(e,x);return b&&(b.unsubscribe(),x.cancelActive&&cb(b)),!!b};ac(h,{withTypes:()=>h});const f=async(x,b,y,_)=>{const S=new AbortController,N=gG(d,S.signal),E=[];try{x.pending.add(S),i(x),await Promise.resolve(x.effect(b,ac({},y,{getOriginalState:_,condition:(A,T)=>N(A,T).then(Boolean),take:N,delay:TO(S.signal),pause:Kp(S.signal),extra:s,signal:S.signal,fork:pG(S.signal,E),unsubscribe:x.unsubscribe,subscribe:()=>{e.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((A,T,k)=>{A!==S&&(A.abort(lb),k.delete(A))})},cancel:()=>{S.abort(lb),x.pending.delete(S)},throwIfCancelled:()=>{Mo(S.signal)}})))}catch(A){A instanceof hm||EE(o,A,{raisedBy:"effect"})}finally{await Promise.all(E),S.abort(hG),a(x),x.pending.delete(S)}},p=mG(e,n);return{middleware:x=>b=>y=>{if(!lO(y))return b(y);if(OO.match(y))return d(y.payload);if(vG.match(y)){p();return}if(MO.match(y))return h(y.payload);let _=x.getState();const S=()=>{if(_===AE)throw new Error(Ii(23));return _};let N;try{if(N=b(y),e.size>0){const E=x.getState(),A=Array.from(e.values());for(const T of A){let k=!1;try{k=T.predicate(y,E,_)}catch(R){k=!1,EE(o,R,{raisedBy:"predicate"})}k&&f(T,y,x,S)}}}finally{_=AE}return N},startListening:d,stopListening:h,clearListeners:p}};function Ii(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var yG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},PO=bi({name:"chartLayout",initialState:yG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,i,a,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:bG,setLayout:_G,setChartSize:jG,setScale:wG}=PO.actions,SG=PO.reducer;function RO(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function qe(t){return Number.isFinite(t)}function ra(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function TE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Jl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(n),!0).forEach(function(i){CG(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function CG(t,e,n){return(e=AG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AG(t){var e=NG(t,"string");return typeof e=="symbol"?e:e+""}function NG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function on(t,e,n){return Wt(t)||Wt(e)?n:ia(e)?dc(t,e,n):typeof e=="function"?e(t):n}var EG=(t,e,n)=>{if(e&&n){var{width:i,height:a}=n,{align:s,verticalAlign:o,layout:c}=e;if((c==="vertical"||c==="horizontal"&&o==="middle")&&s!=="center"&&je(t[s]))return Jl(Jl({},t),{},{[s]:t[s]+(i||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&o!=="middle"&&je(t[o]))return Jl(Jl({},t),{},{[o]:t[o]+(a||0)})}return t},la=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",LO=(t,e,n,i)=>{if(i)return t.map(c=>c.coordinate);var a,s,o=t.map(c=>(c.coordinate===e&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate));return a||o.push(e),s||o.push(n),o},IO=(t,e,n)=>{if(!t)return null;var{duplicateDomain:i,type:a,range:s,scale:o,realScaleType:c,isCategorical:d,categoricalDomain:h,tickCount:f,ticks:p,niceTicks:m,axisType:x}=t;if(!o)return null;var b=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=a==="category"&&o.bandwidth?o.bandwidth()/b:0;if(y=x==="angleAxis"&&s&&s.length>=2?vi(s[0]-s[1])*2*y:y,p||m){var _=(p||m||[]).map((S,N)=>{var E=i?i.indexOf(S):S,A=o.map(E);return qe(A)?{coordinate:A+y,value:S,offset:y,index:N}:null}).filter(xi);return _}return d&&h?h.map((S,N)=>{var E=o.map(S);return qe(E)?{coordinate:E+y,value:S,index:N,offset:y}:null}).filter(xi):o.ticks&&f!=null?o.ticks(f).map((S,N)=>{var E=o.map(S);return qe(E)?{coordinate:E+y,value:S,index:N,offset:y}:null}).filter(xi):o.domain().map((S,N)=>{var E=o.map(S);return qe(E)?{coordinate:E+y,value:i?i[S]:S,index:N,offset:y}:null}).filter(xi)},TG=(t,e)=>{if(!e||e.length!==2||!je(e[0])||!je(e[1]))return t;var n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!je(t[0])||t[0]<n)&&(a[0]=n),(!je(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},kG=t=>{var e,n=t.length;if(!(n<=0)){var i=(e=t[0])===null||e===void 0?void 0:e.length;if(!(i==null||i<=0))for(var a=0;a<i;++a)for(var s=0,o=0,c=0;c<n;++c){var d=t[c],h=d?.[a];if(h!=null){var f=h[1],p=h[0],m=Or(f)?p:f;m>=0?(h[0]=s,s+=m,h[1]=s):(h[0]=o,o+=m,h[1]=o)}}}},DG=t=>{var e,n=t.length;if(!(n<=0)){var i=(e=t[0])===null||e===void 0?void 0:e.length;if(!(i==null||i<=0))for(var a=0;a<i;++a)for(var s=0,o=0;o<n;++o){var c=t[o],d=c?.[a];if(d!=null){var h=Or(d[1])?d[0]:d[1];h>=0?(d[0]=s,s+=h,d[1]=s):(d[0]=0,d[1]=0)}}}},OG={sign:kG,expand:oV,none:$o,silhouette:lV,wiggle:cV,positive:DG},MG=(t,e,n)=>{var i,a=(i=OG[n])!==null&&i!==void 0?i:$o,s=sV().keys(e).value((c,d)=>Number(on(c,d,0))).order(Zy).offset(a),o=s(t);return o.forEach((c,d)=>{c.forEach((h,f)=>{var p=on(t[f],e[d],0);Array.isArray(p)&&p.length===2&&je(p[0])&&je(p[1])&&(h[0]=p[0],h[1]=p[1])})}),o};function BO(t){return t==null?void 0:String(t)}function kE(t){var{axis:e,ticks:n,bandSize:i,entry:a,index:s,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Wt(a[e.dataKey])){var c=V6(n,"value",a[e.dataKey]);if(c)return c.coordinate+i/2}return n!=null&&n[s]?n[s].coordinate+i/2:null}var d=on(a,Wt(o)?e.dataKey:o),h=e.scale.map(d);return je(h)?h:null}var DE=t=>{var{axis:e,ticks:n,offset:i,bandSize:a,entry:s,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+i:null;var c=on(s,e.dataKey,e.scale.domain()[o]);if(Wt(c))return null;var d=e.scale.map(c);return je(d)?d-a/2+i:null},PG=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},RG=t=>{var e=t.flat(2).filter(je);return[Math.min(...e),Math.max(...e)]},LG=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],IG=(t,e,n)=>{if(t!=null)return LG(Object.keys(t).reduce((i,a)=>{var s=t[a];if(!s)return i;var{stackedData:o}=s,c=o.reduce((d,h)=>{var f=RO(h,e,n),p=RG(f);return!qe(p[0])||!qe(p[1])?d:[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]))},OE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ME=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fc=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&e&&e.length>=2){for(var a=rm(e,f=>f.coordinate),s=1/0,o=1,c=a.length;o<c;o++){var d=a[o],h=a[o-1];s=Math.min((d?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function PE(t){var{tooltipEntrySettings:e,dataKey:n,payload:i,value:a,name:s}=t;return Jl(Jl({},e),{},{dataKey:n,payload:i,value:a,name:s})}function pm(t,e){if(t)return String(t);if(typeof e=="string")return e}var BG=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},zG=(t,e)=>e==="centric"?t.angle:t.radius,Xa=t=>t.layout.width,Ka=t=>t.layout.height,$G=t=>t.layout.scale,zO=t=>t.layout.margin,gm=ue(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),mm=ue(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),FG="data-recharts-item-index",HG="data-recharts-item-id",ah=60;function RE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RE(Object(n),!0).forEach(function(i){UG(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function UG(t,e,n){return(e=VG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VG(t){var e=qG(t,"string");return typeof e=="symbol"?e:e+""}function qG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GG=t=>t.brush.height;function WG(t){var e=mm(t);return e.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var a=typeof i.width=="number"?i.width:ah;return n+a}return n},0)}function YG(t){var e=mm(t);return e.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var a=typeof i.width=="number"?i.width:ah;return n+a}return n},0)}function XG(t){var e=gm(t);return e.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function KG(t){var e=gm(t);return e.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var An=ue([Xa,Ka,zO,GG,WG,YG,XG,KG,aO,wq],(t,e,n,i,a,s,o,c,d,h)=>{var f={left:(n.left||0)+a,right:(n.right||0)+s},p={top:(n.top||0)+o,bottom:(n.bottom||0)+c},m=ip(ip({},p),f),x=m.bottom;m.bottom+=i,m=EG(m,d,h);var b=t-m.left-m.right,y=e-m.top-m.bottom;return ip(ip({brushBottom:x},m),{},{width:Math.max(b,0),height:Math.max(y,0)})}),JG=ue(An,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Q2=ue(Xa,Ka,(t,e)=>({x:0,y:0,width:t,height:e})),ZG=j.createContext(null),Yn=()=>j.useContext(ZG)!=null,vm=t=>t.brush,xm=ue([vm,An,zO],(t,e,n)=>({height:t.height,x:je(t.x)?t.x:e.left,y:je(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:je(t.width)?t.width:e.width})),Dx={},Ox={},Mx={},LE;function QG(){return LE||(LE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i,{signal:a,edges:s}={}){let o,c=null;const d=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),f=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},p=()=>{h&&f(),y()};let m=null;const x=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,p()},i)},b=()=>{m!==null&&(clearTimeout(m),m=null)},y=()=>{b(),o=void 0,c=null},_=()=>{f()},S=function(...N){if(a?.aborted)return;o=this,c=N;const E=m==null;x(),d&&E&&f()};return S.schedule=x,S.cancel=y,S.flush=_,a?.addEventListener("abort",y,{once:!0}),S}t.debounce=e})(Mx)),Mx}var IE;function eW(){return IE||(IE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QG();function n(i,a=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:c=!0,maxWait:d}=s,h=Array(2);o&&(h[0]="leading"),c&&(h[1]="trailing");let f,p=null;const m=e.debounce(function(...y){f=i.apply(this,y),p=null},a,{edges:h}),x=function(...y){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(f=i.apply(this,y),p=Date.now(),m.cancel(),m.schedule(),f):(m.apply(this,y),f)},b=()=>(m.flush(),f);return x.cancel=m.cancel,x.flush=b,x}t.debounce=n})(Ox)),Ox}var BE;function tW(){return BE||(BE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eW();function n(i,a=0,s={}){const{leading:o=!0,trailing:c=!0}=s;return e.debounce(i,a,{leading:o,maxWait:a,trailing:c})}t.throttle=n})(Dx)),Dx}var Px,zE;function nW(){return zE||(zE=1,Px=tW().throttle),Px}var iW=nW();const rW=vr(iW);var Jp=function(e,n){for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>a[o++]))}},Qr={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},$O=(t,e,n)=>{var{width:i=Qr.width,height:a=Qr.height,aspect:s,maxHeight:o}=n,c=Fo(i)?t:Number(i),d=Fo(a)?e:Number(a);return s&&s>0&&(c?d=c/s:d&&(c=d*s),o&&d!=null&&d>o&&(d=o)),{calculatedWidth:c,calculatedHeight:d}},aW={width:0,height:0,overflow:"visible"},sW={width:0,overflowX:"visible"},oW={height:0,overflowY:"visible"},lW={},cW=t=>{var{width:e,height:n}=t,i=Fo(e),a=Fo(n);return i&&a?aW:i?sW:a?oW:lW};function uW(t){var{width:e,height:n,aspect:i}=t,a=e,s=n;return a===void 0&&s===void 0?(a=Qr.width,s=Qr.height):a===void 0?a=i&&i>0?void 0:Qr.width:s===void 0&&(s=i&&i>0?void 0:Qr.height),{width:a,height:s}}function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ub.apply(null,arguments)}function $E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function FE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(n),!0).forEach(function(i){dW(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function dW(t,e,n){return(e=hW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hW(t){var e=fW(t,"string");return typeof e=="symbol"?e:e+""}function fW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FO=j.createContext(Qr.initialDimension);function pW(t){return ra(t.width)&&ra(t.height)}function HO(t){var{children:e,width:n,height:i}=t,a=j.useMemo(()=>({width:n,height:i}),[n,i]);return pW(a)?j.createElement(FO.Provider,{value:a},e):null}var e_=()=>j.useContext(FO),gW=j.forwardRef((t,e)=>{var{aspect:n,initialDimension:i=Qr.initialDimension,width:a,height:s,minWidth:o=Qr.minWidth,minHeight:c,maxHeight:d,children:h,debounce:f=Qr.debounce,id:p,className:m,onResize:x,style:b={}}=t,y=j.useRef(null),_=j.useRef();_.current=x,j.useImperativeHandle(e,()=>y.current);var[S,N]=j.useState({containerWidth:i.width,containerHeight:i.height}),E=j.useCallback((H,V)=>{N(Y=>{var W=Math.round(H),X=Math.round(V);return Y.containerWidth===W&&Y.containerHeight===X?Y:{containerWidth:W,containerHeight:X}})},[]);j.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Zo;var H=X=>{var ee,L=X[0];if(L!=null){var{width:P,height:M}=L.contentRect;E(P,M),(ee=_.current)===null||ee===void 0||ee.call(_,P,M)}};f>0&&(H=rW(H,f,{trailing:!0,leading:!1}));var V=new ResizeObserver(H),{width:Y,height:W}=y.current.getBoundingClientRect();return E(Y,W),V.observe(y.current),()=>{V.disconnect()}},[E,f]);var{containerWidth:A,containerHeight:T}=S;Jp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:R}=$O(A,T,{width:a,height:s,aspect:n,maxHeight:d});return Jp(k!=null&&k>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,R,a,s,o,c,n),j.createElement("div",{id:p?"".concat(p):void 0,className:st("recharts-responsive-container",m),style:FE(FE({},b),{},{width:a,height:s,minWidth:o,minHeight:c,maxHeight:d}),ref:y},j.createElement("div",{style:cW({width:a,height:s})},j.createElement(HO,{width:k,height:R},h)))}),UO=j.forwardRef((t,e)=>{var n=e_();if(ra(n.width)&&ra(n.height))return t.children;var{width:i,height:a}=uW({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:o}=$O(void 0,void 0,{width:i,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return je(s)&&je(o)?j.createElement(HO,{width:s,height:o},t.children):j.createElement(gW,ub({},t,{width:i,height:a,ref:e}))});function t_(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var ym=()=>{var t,e=Yn(),n=Oe(JG),i=Oe(xm),a=(t=Oe(vm))===null||t===void 0?void 0:t.padding;return!e||!i||!a?n:{width:i.width-a.left-a.right,height:i.height-a.top-a.bottom,x:a.left,y:a.top}},mW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},VO=()=>{var t;return(t=Oe(An))!==null&&t!==void 0?t:mW},qO=()=>Oe(Xa),GO=()=>Oe(Ka),dt=t=>t.layout.layoutType,Qo=()=>Oe(dt),n_=()=>{var t=Qo();if(t==="horizontal"||t==="vertical")return t},WO=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},vW=()=>{var t=Qo();return t!==void 0},sh=t=>{var e=Qt(),n=Yn(),{width:i,height:a}=t,s=e_(),o=i,c=a;return s&&(o=s.width>0?s.width:i,c=s.height>0?s.height:a),j.useEffect(()=>{!n&&ra(o)&&ra(c)&&e(jG({width:o,height:c}))},[e,n,o,c]),null},YO=Symbol.for("immer-nothing"),HE=Symbol.for("immer-draftable"),Ui=Symbol.for("immer-state");function Nr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Cd=Object.getPrototypeOf;function pc(t){return!!t&&!!t[Ui]}function Uo(t){return t?XO(t)||Array.isArray(t)||!!t[HE]||!!t.constructor?.[HE]||oh(t)||_m(t):!1}var xW=Object.prototype.constructor.toString(),UE=new WeakMap;function XO(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let i=UE.get(n);return i===void 0&&(i=Function.toString.call(n),UE.set(n,i)),i===xW}function Zp(t,e,n=!0){bm(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((i,a)=>e(a,i,t))}function bm(t){const e=t[Ui];return e?e.type_:Array.isArray(t)?1:oh(t)?2:_m(t)?3:0}function db(t,e){return bm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function KO(t,e,n){const i=bm(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function yW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function oh(t){return t instanceof Map}function _m(t){return t instanceof Set}function _o(t){return t.copy_||t.base_}function hb(t,e){if(oh(t))return new Map(t);if(_m(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=XO(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Ui];let a=Reflect.ownKeys(i);for(let s=0;s<a.length;s++){const o=a[s],c=i[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(i[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[o]})}return Object.create(Cd(t),i)}else{const i=Cd(t);if(i!==null&&n)return{...t};const a=Object.create(i);return Object.assign(a,t)}}function i_(t,e=!1){return jm(t)||pc(t)||!Uo(t)||(bm(t)>1&&Object.defineProperties(t,{set:rp,add:rp,clear:rp,delete:rp}),Object.freeze(t),e&&Object.values(t).forEach(n=>i_(n,!0))),t}function bW(){Nr(2)}var rp={value:bW};function jm(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var _W={};function Vo(t){const e=_W[t];return e||Nr(0,t),e}var Ad;function JO(){return Ad}function jW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VE(t,e){e&&(Vo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function fb(t){pb(t),t.drafts_.forEach(wW),t.drafts_=null}function pb(t){t===Ad&&(Ad=t.parent_)}function qE(t){return Ad=jW(Ad,t)}function wW(t){const e=t[Ui];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function GE(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ui].modified_&&(fb(e),Nr(4)),Uo(t)&&(t=Qp(e,t),e.parent_||eg(e,t)),e.patches_&&Vo("Patches").generateReplacementPatches_(n[Ui].base_,t,e.patches_,e.inversePatches_)):t=Qp(e,n,[]),fb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==YO?t:void 0}function Qp(t,e,n){if(jm(e))return e;const i=t.immer_.shouldUseStrictIteration(),a=e[Ui];if(!a)return Zp(e,(s,o)=>WE(t,a,e,s,o,n),i),e;if(a.scope_!==t)return e;if(!a.modified_)return eg(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let o=s,c=!1;a.type_===3&&(o=new Set(s),s.clear(),c=!0),Zp(o,(d,h)=>WE(t,a,s,d,h,n,c),i),eg(t,s,!1),n&&t.patches_&&Vo("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function WE(t,e,n,i,a,s,o){if(a==null||typeof a!="object"&&!o)return;const c=jm(a);if(!(c&&!o)){if(pc(a)){const d=s&&e&&e.type_!==3&&!db(e.assigned_,i)?s.concat(i):void 0,h=Qp(t,a,d);if(KO(n,i,h),pc(h))t.canAutoFreeze_=!1;else return}else o&&n.add(a);if(Uo(a)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===a&&c)return;Qp(t,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(oh(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&eg(t,a)}}}function eg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&i_(e,n)}function SW(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:JO(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,s=r_;n&&(a=[i],s=Nd);const{revoke:o,proxy:c}=Proxy.revocable(a,s);return i.draft_=c,i.revoke_=o,c}var r_={get(t,e){if(e===Ui)return t;const n=_o(t);if(!db(n,e))return CW(t,n,e);const i=n[e];return t.finalized_||!Uo(i)?i:i===Rx(t.base_,e)?(Lx(t),t.copy_[e]=mb(i,t)):i},has(t,e){return e in _o(t)},ownKeys(t){return Reflect.ownKeys(_o(t))},set(t,e,n){const i=ZO(_o(t),e);if(i?.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const a=Rx(_o(t),e),s=a?.[Ui];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(yW(n,a)&&(n!==void 0||db(t.base_,e)))return!0;Lx(t),gb(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Rx(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Lx(t),gb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=_o(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){Nr(11)},getPrototypeOf(t){return Cd(t.base_)},setPrototypeOf(){Nr(12)}},Nd={};Zp(r_,(t,e)=>{Nd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Nd.deleteProperty=function(t,e){return Nd.set.call(this,t,e,void 0)};Nd.set=function(t,e,n){return r_.set.call(this,t[0],e,n,t[0])};function Rx(t,e){const n=t[Ui];return(n?_o(n):t)[e]}function CW(t,e,n){const i=ZO(e,n);return i?"value"in i?i.value:i.get?.call(t.draft_):void 0}function ZO(t,e){if(!(e in t))return;let n=Cd(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Cd(n)}}function gb(t){t.modified_||(t.modified_=!0,t.parent_&&gb(t.parent_))}function Lx(t){t.copy_||(t.copy_=hb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var AW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(d=s,...h){return o.produce(d,f=>n.call(this,f,...h))}}typeof n!="function"&&Nr(6),i!==void 0&&typeof i!="function"&&Nr(7);let a;if(Uo(e)){const s=qE(this),o=mb(e,void 0);let c=!0;try{a=n(o),c=!1}finally{c?fb(s):pb(s)}return VE(s,i),GE(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===YO&&(a=void 0),this.autoFreeze_&&i_(a,!0),i){const s=[],o=[];Vo("Patches").generateReplacementPatches_(e,a,s,o),i(s,o)}return a}else Nr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...c)=>this.produceWithPatches(o,d=>e(d,...c));let i,a;return[this.produce(e,n,(o,c)=>{i=o,a=c}),i,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Uo(t)||Nr(8),pc(t)&&(t=NW(t));const e=qE(this),n=mb(t,void 0);return n[Ui].isManual_=!0,pb(e),n}finishDraft(t,e){const n=t&&t[Ui];(!n||!n.isManual_)&&Nr(9);const{scope_:i}=n;return VE(i,e),GE(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const i=Vo("Patches").applyPatches_;return pc(t)?i(t,e):this.produce(t,a=>i(a,e))}};function mb(t,e){const n=oh(t)?Vo("MapSet").proxyMap_(t,e):_m(t)?Vo("MapSet").proxySet_(t,e):SW(t,e);return(e?e.scope_:JO()).drafts_.push(n),n}function NW(t){return pc(t)||Nr(10,t),QO(t)}function QO(t){if(!Uo(t)||jm(t))return t;const e=t[Ui];let n,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=hb(t,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else n=hb(t,!0);return Zp(n,(a,s)=>{KO(n,a,QO(s))},i),e&&(e.finalized_=!1),n}var EW=new AW;EW.produce;var TW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},eM=bi({name:"legend",initialState:TW,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Ot()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:i}=e.payload,a=kr(t).payload.indexOf(n);a>-1&&(t.payload[a]=i)},prepare:Ot()},removeLegendPayload:{reducer(t,e){var n=kr(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Ot()}}}),{setLegendSize:mpe,setLegendSettings:vpe,addLegendPayload:kW,replaceLegendPayload:DW,removeLegendPayload:OW}=eM.actions,MW=eM.reducer;function vb(){return vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vb.apply(null,arguments)}function YE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function $u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(n),!0).forEach(function(i){PW(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function PW(t,e,n){return(e=RW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RW(t){var e=LW(t,"string");return typeof e=="symbol"?e:e+""}function LW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IW(t){return Array.isArray(t)&&ia(t[0])&&ia(t[1])?t.join(" ~ "):t}var Fl={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},BW=t=>{var{separator:e=Fl.separator,contentStyle:n,itemStyle:i,labelStyle:a=Fl.labelStyle,payload:s,formatter:o,itemSorter:c,wrapperClassName:d,labelClassName:h,label:f,labelFormatter:p,accessibilityLayer:m=Fl.accessibilityLayer}=t,x=()=>{if(s&&s.length){var T={padding:0,margin:0},k=(c?rm(s,c):s).map((R,H)=>{if(R.type==="none")return null;var V=R.formatter||o||IW,{value:Y,name:W}=R,X=Y,ee=W;if(V){var L=V(Y,W,R,H,s);if(Array.isArray(L))[X,ee]=L;else if(L!=null)X=L;else return null}var P=$u($u({},Fl.itemStyle),{},{color:R.color||Fl.itemStyle.color},i);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:P},ia(ee)?j.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,ia(ee)?j.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,j.createElement("span",{className:"recharts-tooltip-item-value"},X),j.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:T},k)}return null},b=$u($u({},Fl.contentStyle),n),y=$u({margin:0},a),_=!Wt(f),S=_?f:"",N=st("recharts-default-tooltip",d),E=st("recharts-tooltip-label",h);_&&p&&s!==void 0&&s!==null&&(S=p(f,s));var A=m?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",vb({className:N,style:b},A),j.createElement("p",{className:E,style:y},j.isValidElement(S)?S:"".concat(S)),x())},Fu="recharts-tooltip-wrapper",zW={visibility:"hidden"};function $W(t){var{coordinate:e,translateX:n,translateY:i}=t;return st(Fu,{["".concat(Fu,"-right")]:je(n)&&e&&je(e.x)&&n>=e.x,["".concat(Fu,"-left")]:je(n)&&e&&je(e.x)&&n<e.x,["".concat(Fu,"-bottom")]:je(i)&&e&&je(e.y)&&i>=e.y,["".concat(Fu,"-top")]:je(i)&&e&&je(e.y)&&i<e.y})}function XE(t){var{allowEscapeViewBox:e,coordinate:n,key:i,offset:a,position:s,reverseDirection:o,tooltipDimension:c,viewBox:d,viewBoxDimension:h}=t;if(s&&je(s[i]))return s[i];var f=n[i]-c-(a>0?a:0),p=n[i]+a;if(e[i])return o[i]?f:p;var m=d[i];if(m==null)return 0;if(o[i]){var x=f,b=m;return x<b?Math.max(p,m):Math.max(f,m)}if(h==null)return 0;var y=p+c,_=m+h;return y>_?Math.max(f,m):Math.max(p,m)}function FW(t){var{translateX:e,translateY:n,useTranslate3d:i}=t;return{transform:i?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function HW(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:i,offsetLeft:a,position:s,reverseDirection:o,tooltipBox:c,useTranslate3d:d,viewBox:h}=t,f,p,m;return c.height>0&&c.width>0&&n?(p=XE({allowEscapeViewBox:e,coordinate:n,key:"x",offset:a,position:s,reverseDirection:o,tooltipDimension:c.width,viewBox:h,viewBoxDimension:h.width}),m=XE({allowEscapeViewBox:e,coordinate:n,key:"y",offset:i,position:s,reverseDirection:o,tooltipDimension:c.height,viewBox:h,viewBoxDimension:h.height}),f=FW({translateX:p,translateY:m,useTranslate3d:d})):f=zW,{cssProperties:f,cssClasses:$W({translateX:p,translateY:m,coordinate:n})}}function KE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function ap(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KE(Object(n),!0).forEach(function(i){xb(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function xb(t,e,n){return(e=UW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UW(t){var e=VW(t,"string");return typeof e=="symbol"?e:e+""}function VW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qW extends j.PureComponent{constructor(){super(...arguments),xb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),xb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,i,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,children:s,coordinate:o,hasPayload:c,isAnimationActive:d,offset:h,position:f,reverseDirection:p,useTranslate3d:m,viewBox:x,wrapperStyle:b,lastBoundingBox:y,innerRef:_,hasPortalFromProps:S}=this.props,N=typeof h=="number"?h:h.x,E=typeof h=="number"?h:h.y,{cssClasses:A,cssProperties:T}=HW({allowEscapeViewBox:n,coordinate:o,offsetLeft:N,offsetTop:E,position:f,reverseDirection:p,tooltipBox:{height:y.height,width:y.width},useTranslate3d:m,viewBox:x}),k=S?{}:ap(ap({transition:d&&e?"transform ".concat(i,"ms ").concat(a):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),R=ap(ap({},k),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},b);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:R,ref:_},s)}}var tM=()=>{var t;return(t=Oe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function yb(){return yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yb.apply(null,arguments)}function JE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function ZE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(n),!0).forEach(function(i){GW(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function GW(t,e,n){return(e=WW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WW(t){var e=YW(t,"string");return typeof e=="symbol"?e:e+""}function YW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QE={curveBasisClosed:XU,curveBasisOpen:KU,curveBasis:YU,curveBumpX:PU,curveBumpY:RU,curveLinearClosed:JU,curveLinear:nm,curveMonotoneX:ZU,curveMonotoneY:QU,curveNatural:eV,curveStep:tV,curveStepAfter:iV,curveStepBefore:nV},tg=t=>qe(t.x)&&qe(t.y),e3=t=>t.base!=null&&tg(t.base)&&tg(t),Hu=t=>t.x,Uu=t=>t.y,XW=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(nh(t));if((n==="curveMonotone"||n==="curveBump")&&e){var i=QE["".concat(n).concat(e==="vertical"?"Y":"X")];if(i)return i}return QE[n]||nm},t3={connectNulls:!1,type:"linear"},KW=t=>{var{type:e=t3.type,points:n=[],baseLine:i,layout:a,connectNulls:s=t3.connectNulls}=t,o=XW(e,a),c=s?n.filter(tg):n;if(Array.isArray(i)){var d,h=n.map((b,y)=>ZE(ZE({},b),{},{base:i[y]}));a==="vertical"?d=Jf().y(Uu).x1(Hu).x0(b=>b.base.x):d=Jf().x(Hu).y1(Uu).y0(b=>b.base.y);var f=d.defined(e3).curve(o),p=s?h.filter(e3):h;return f(p)}var m;a==="vertical"&&je(i)?m=Jf().y(Uu).x1(Hu).x0(i):je(i)?m=Jf().x(Hu).y1(Uu).y0(i):m=D6().x(Hu).y(Uu);var x=m.defined(tg).curve(o);return x(c)},cd=t=>{var{className:e,points:n,path:i,pathRef:a}=t,s=Qo();if((!n||!n.length)&&!i)return null;var o={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},c=n&&n.length?KW(o):i;return j.createElement("path",yb({},pr(t),F2(t),{className:st("recharts-curve",e),d:c===null?void 0:c,ref:a}))},JW=["x","y","top","left","width","height","className"];function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bb.apply(null,arguments)}function n3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function ZW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n3(Object(n),!0).forEach(function(i){QW(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function QW(t,e,n){return(e=eY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eY(t){var e=tY(t,"string");return typeof e=="symbol"?e:e+""}function tY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nY(t,e){if(t==null)return{};var n,i,a=iY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function iY(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var rY=(t,e,n,i,a,s)=>"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(e,"h").concat(n),aY=t=>{var{x:e=0,y:n=0,top:i=0,left:a=0,width:s=0,height:o=0,className:c}=t,d=nY(t,JW),h=ZW({x:e,y:n,top:i,left:a,width:s,height:o},d);return!je(e)||!je(n)||!je(s)||!je(o)||!je(i)||!je(a)?null:j.createElement("path",bb({},ni(h),{className:st("recharts-cross",c),d:rY(e,n,s,o,i,a)}))};function sY(t,e,n,i){var a=i/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?i:n.width-1,height:t==="horizontal"?n.height-1:i}}function i3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function r3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i3(Object(n),!0).forEach(function(i){oY(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function oY(t,e,n){return(e=lY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lY(t){var e=cY(t,"string");return typeof e=="symbol"?e:e+""}function cY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uY=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),nM=(t,e,n)=>t.map(i=>"".concat(uY(i)," ").concat(e,"ms ").concat(n)).join(","),dY=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,i)=>n.filter(a=>i.includes(a))),Ed=(t,e)=>Object.keys(e).reduce((n,i)=>r3(r3({},n),{},{[i]:t(i,e[i])}),{});function a3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a3(Object(n),!0).forEach(function(i){hY(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function hY(t,e,n){return(e=fY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t){var e=pY(t,"string");return typeof e=="symbol"?e:e+""}function pY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ng=(t,e,n)=>t+(e-t)*n,_b=t=>{var{from:e,to:n}=t;return e!==n},iM=(t,e,n)=>{var i=Ed((a,s)=>{if(_b(s)){var[o,c]=t(s.from,s.to,s.velocity);return un(un({},s),{},{from:o,velocity:c})}return s},e);return n<1?Ed((a,s)=>_b(s)&&i[a]!=null?un(un({},s),{},{velocity:ng(s.velocity,i[a].velocity,n),from:ng(s.from,i[a].from,n)}):s,e):iM(t,i,n-1)};function gY(t,e,n,i,a,s){var o,c=i.reduce((m,x)=>un(un({},m),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),d=()=>Ed((m,x)=>x.from,c),h=()=>!Object.values(c).filter(_b).length,f=null,p=m=>{o||(o=m);var x=m-o,b=x/n.dt;c=iM(n,c,b),a(un(un(un({},t),e),d())),o=m,h()||(f=s.setTimeout(p))};return()=>(f=s.setTimeout(p),()=>{var m;(m=f)===null||m===void 0||m()})}function mY(t,e,n,i,a,s,o){var c=null,d=a.reduce((p,m)=>{var x=t[m],b=e[m];return x==null||b==null?p:un(un({},p),{},{[m]:[x,b]})},{}),h,f=p=>{h||(h=p);var m=(p-h)/i,x=Ed((y,_)=>ng(..._,n(m)),d);if(s(un(un(un({},t),e),x)),m<1)c=o.setTimeout(f);else{var b=Ed((y,_)=>ng(..._,n(1)),d);s(un(un(un({},t),e),b))}};return()=>(c=o.setTimeout(f),()=>{var p;(p=c)===null||p===void 0||p()})}const vY=(t,e,n,i,a,s)=>{var o=dY(t,e);return n==null?()=>(a(un(un({},t),e)),()=>{}):n.isStepper===!0?gY(t,e,n,o,a,s):mY(t,e,n,i,o,a,s)};var ig=1e-4,rM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],aM=(t,e)=>t.map((n,i)=>n*e**i).reduce((n,i)=>n+i),s3=(t,e)=>n=>{var i=rM(t,e);return aM(i,n)},xY=(t,e)=>n=>{var i=rM(t,e),a=[...i.map((s,o)=>s*o).slice(1),0];return aM(a,n)},yY=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var i=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(i==null||i.length!==4)return null;var a=i.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},bY=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=yY(n[0]);if(a)return a}}return n.length===4?n:[0,0,1,1]},_Y=(t,e,n,i)=>{var a=s3(t,n),s=s3(e,i),o=xY(t,n),c=h=>h>1?1:h<0?0:h,d=h=>{for(var f=h>1?1:h,p=f,m=0;m<8;++m){var x=a(p)-f,b=o(p);if(Math.abs(x-f)<ig||b<ig)return s(p);p=c(p-x/b)}return s(p)};return d.isStepper=!1,d},o3=function(){return _Y(...bY(...arguments))},jY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:a=17}=e,s=(o,c,d)=>{var h=-(o-c)*n,f=d*i,p=d+(h-f)*a/1e3,m=d*a/1e3+o;return Math.abs(m-c)<ig&&Math.abs(p)<ig?[c,0]:[m,p]};return s.isStepper=!0,s.dt=a,s},wY=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return o3(t);case"spring":return jY();default:if(t.split("(")[0]==="cubic-bezier")return o3(t)}return typeof t=="function"?t:null};function SY(t){var e,n=()=>null,i=!1,a=null,s=o=>{if(!i){if(Array.isArray(o)){if(!o.length)return;var c=o,[d,...h]=c;if(typeof d=="number"){a=t.setTimeout(s.bind(null,h),d);return}s(d),a=t.setTimeout(s.bind(null,h));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{i=!0},start:o=>{i=!1,a&&(a(),a=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class CY{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),a=null,s=o=>{o-i>=n?e(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function AY(){return SY(new CY)}var NY=j.createContext(AY);function EY(t,e){var n=j.useContext(NY);return j.useMemo(()=>e??n(t),[t,e,n])}var TY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),lh={isSsr:TY()},kY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},l3={t:0},Ix={t:1};function wm(t){var e=ai(t,kY),{isActive:n,canBegin:i,duration:a,easing:s,begin:o,onAnimationEnd:c,onAnimationStart:d,children:h}=e,f=n==="auto"?!lh.isSsr:n,p=EY(e.animationId,e.animationManager),[m,x]=j.useState(f?l3:Ix),b=j.useRef(null);return j.useEffect(()=>{f||x(Ix)},[f]),j.useEffect(()=>{if(!f||!i)return Zo;var y=vY(l3,Ix,wY(s),a,x,p.getTimeoutController()),_=()=>{b.current=y()};return p.start([d,o,_,a,c]),()=>{p.stop(),b.current&&b.current(),c()}},[f,i,a,s,o,d,c,p]),h(m.t)}function Sm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=j.useRef(bd(e)),i=j.useRef(t);return i.current!==t&&(n.current=bd(e),i.current=t),n.current}var DY=["radius"],OY=["radius"],c3,u3,d3,h3,f3,p3,g3,m3,v3,x3;function y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function b3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y3(Object(n),!0).forEach(function(i){MY(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function MY(t,e,n){return(e=PY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PY(t){var e=RY(t,"string");return typeof e=="symbol"?e:e+""}function RY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rg.apply(null,arguments)}function _3(t,e){if(t==null)return{};var n,i,a=LY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function LY(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function qr(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var j3=(t,e,n,i,a)=>{var s=Ps(n),o=Ps(i),c=Math.min(Math.abs(s)/2,Math.abs(o)/2),d=o>=0?1:-1,h=s>=0?1:-1,f=o>=0&&s>=0||o<0&&s<0?1:0,p;if(c>0&&Array.isArray(a)){for(var m=[0,0,0,0],x=0,b=4;x<b;x++){var y,_=(y=a[x])!==null&&y!==void 0?y:0;m[x]=_>c?c:_}p=Gt(c3||(c3=qr(["M",",",""])),t,e+d*m[0]),m[0]>0&&(p+=Gt(u3||(u3=qr(["A ",",",",0,0,",",",",",""])),m[0],m[0],f,t+h*m[0],e)),p+=Gt(d3||(d3=qr(["L ",",",""])),t+n-h*m[1],e),m[1]>0&&(p+=Gt(h3||(h3=qr(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],f,t+n,e+d*m[1])),p+=Gt(f3||(f3=qr(["L ",",",""])),t+n,e+i-d*m[2]),m[2]>0&&(p+=Gt(p3||(p3=qr(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],f,t+n-h*m[2],e+i)),p+=Gt(g3||(g3=qr(["L ",",",""])),t+h*m[3],e+i),m[3]>0&&(p+=Gt(m3||(m3=qr(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],f,t,e+i-d*m[3])),p+="Z"}else if(c>0&&a===+a&&a>0){var S=Math.min(c,a);p=Gt(v3||(v3=qr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*S,S,S,f,t+h*S,e,t+n-h*S,e,S,S,f,t+n,e+d*S,t+n,e+i-d*S,S,S,f,t+n-h*S,e+i,t+h*S,e+i,S,S,f,t,e+i-d*S)}else p=Gt(x3||(x3=qr(["M ",","," h "," v "," h "," Z"])),t,e,n,i,-n);return p},w3={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sM=t=>{var e=ai(t,w3),n=j.useRef(null),[i,a]=j.useState(-1);j.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&a(I)}catch{}},[]);var{x:s,y:o,width:c,height:d,radius:h,className:f}=e,{animationEasing:p,animationDuration:m,animationBegin:x,isAnimationActive:b,isUpdateAnimationActive:y}=e,_=j.useRef(c),S=j.useRef(d),N=j.useRef(s),E=j.useRef(o),A=j.useMemo(()=>({x:s,y:o,width:c,height:d,radius:h}),[s,o,c,d,h]),T=Sm(A,"rectangle-");if(s!==+s||o!==+o||c!==+c||d!==+d||c===0||d===0)return null;var k=st("recharts-rectangle",f);if(!y){var R=ni(e),{radius:H}=R,V=_3(R,DY);return j.createElement("path",rg({},V,{x:Ps(s),y:Ps(o),width:Ps(c),height:Ps(d),radius:typeof h=="number"?h:void 0,className:k,d:j3(s,o,c,d,h)}))}var Y=_.current,W=S.current,X=N.current,ee=E.current,L="0px ".concat(i===-1?1:i,"px"),P="".concat(i,"px 0px"),M=nM(["strokeDasharray"],m,typeof p=="string"?p:w3.animationEasing);return j.createElement(wm,{animationId:T,key:T,canBegin:i>0,duration:m,easing:p,isActive:y,begin:x},I=>{var G=$t(Y,c,I),U=$t(W,d,I),K=$t(X,s,I),z=$t(ee,o,I);n.current&&(_.current=G,S.current=U,N.current=K,E.current=z);var O;b?I>0?O={transition:M,strokeDasharray:P}:O={strokeDasharray:L}:O={strokeDasharray:P};var $=ni(e),{radius:B}=$,Q=_3($,OY);return j.createElement("path",rg({},Q,{radius:typeof h=="number"?h:void 0,className:k,d:j3(K,z,G,U,h),ref:n,style:b3(b3({},O),e.style)}))})};function S3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function C3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S3(Object(n),!0).forEach(function(i){IY(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function IY(t,e,n){return(e=BY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BY(t){var e=zY(t,"string");return typeof e=="symbol"?e:e+""}function zY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ag=Math.PI/180,$Y=t=>t*180/Math.PI,$n=(t,e,n,i)=>({x:t+Math.cos(-ag*i)*n,y:e+Math.sin(-ag*i)*n}),FY=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},HY=(t,e)=>{var{x:n,y:i}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(i-s)**2)},UY=(t,e)=>{var{x:n,y:i}=t,{cx:a,cy:s}=e,o=HY({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o,angle:0};var c=(n-a)/o,d=Math.acos(c);return i>s&&(d=2*Math.PI-d),{radius:o,angle:$Y(d),angleInRadian:d}},VY=t=>{var{startAngle:e,endAngle:n}=t,i=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:e-s*360,endAngle:n-s*360}},qY=(t,e)=>{var{startAngle:n,endAngle:i}=e,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return t+o*360},GY=(t,e)=>{var{chartX:n,chartY:i}=t,{radius:a,angle:s}=UY({x:n,y:i},e),{innerRadius:o,outerRadius:c}=e;if(a<o||a>c||a===0)return null;var{startAngle:d,endAngle:h}=VY(e),f=s,p;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;p=f>=h&&f<=d}return p?C3(C3({},e),{},{radius:a,angle:qY(f,e)}):null};function oM(t){var{cx:e,cy:n,radius:i,startAngle:a,endAngle:s}=t,o=$n(e,n,i,a),c=$n(e,n,i,s);return{points:[o,c],cx:e,cy:n,radius:i,startAngle:a,endAngle:s}}var A3,N3,E3,T3,k3,D3,O3;function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jb.apply(null,arguments)}function Ao(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var WY=(t,e)=>{var n=vi(e-t),i=Math.min(Math.abs(e-t),359.999);return n*i},sp=t=>{var{cx:e,cy:n,radius:i,angle:a,sign:s,isExternal:o,cornerRadius:c,cornerIsExternal:d}=t,h=c*(o?1:-1)+i,f=Math.asin(c/h)/ag,p=d?a:a+s*f,m=$n(e,n,h,p),x=$n(e,n,i,p),b=d?a-s*f:a,y=$n(e,n,h*Math.cos(f*ag),b);return{center:m,circleTangency:x,lineTangency:y,theta:f}},lM=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:a,startAngle:s,endAngle:o}=t,c=WY(s,o),d=s+c,h=$n(e,n,a,s),f=$n(e,n,a,d),p=Gt(A3||(A3=Ao(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,a,a,+(Math.abs(c)>180),+(s>d),f.x,f.y);if(i>0){var m=$n(e,n,i,s),x=$n(e,n,i,d);p+=Gt(N3||(N3=Ao(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,i,i,+(Math.abs(c)>180),+(s<=d),m.x,m.y)}else p+=Gt(E3||(E3=Ao(["L ",","," Z"])),e,n);return p},YY=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:h}=t,f=vi(h-d),{circleTangency:p,lineTangency:m,theta:x}=sp({cx:e,cy:n,radius:a,angle:d,sign:f,cornerRadius:s,cornerIsExternal:c}),{circleTangency:b,lineTangency:y,theta:_}=sp({cx:e,cy:n,radius:a,angle:h,sign:-f,cornerRadius:s,cornerIsExternal:c}),S=c?Math.abs(d-h):Math.abs(d-h)-x-_;if(S<0)return o?Gt(T3||(T3=Ao(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,s,s,s*2,s,s,-s*2):lM({cx:e,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h});var N=Gt(k3||(k3=Ao(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,s,s,+(f<0),p.x,p.y,a,a,+(S>180),+(f<0),b.x,b.y,s,s,+(f<0),y.x,y.y);if(i>0){var{circleTangency:E,lineTangency:A,theta:T}=sp({cx:e,cy:n,radius:i,angle:d,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:k,lineTangency:R,theta:H}=sp({cx:e,cy:n,radius:i,angle:h,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),V=c?Math.abs(d-h):Math.abs(d-h)-T-H;if(V<0&&s===0)return"".concat(N,"L").concat(e,",").concat(n,"Z");N+=Gt(D3||(D3=Ao(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),R.x,R.y,s,s,+(f<0),k.x,k.y,i,i,+(V>180),+(f>0),E.x,E.y,s,s,+(f<0),A.x,A.y)}else N+=Gt(O3||(O3=Ao(["L",",","Z"])),e,n);return N},XY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cM=t=>{var e=ai(t,XY),{cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:f,className:p}=e;if(s<a||h===f)return null;var m=st("recharts-sector",p),x=s-a,b=Mr(o,x,0,!0),y;return b>0&&Math.abs(h-f)<360?y=YY({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(b,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:f}):y=lM({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:f}),j.createElement("path",jb({},ni(e),{className:m,d:y}))};function KY(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(W6(e)){if(t==="centric"){var{cx:i,cy:a,innerRadius:s,outerRadius:o,angle:c}=e,d=$n(i,a,s,c),h=$n(i,a,o,c);return[{x:d.x,y:d.y},{x:h.x,y:h.y}]}return oM(e)}}var Bx={},zx={},$x={},M3;function JY(){return M3||(M3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iO();function n(i){return e.isSymbol(i)?NaN:Number(i)}t.toNumber=n})($x)),$x}var P3;function ZY(){return P3||(P3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JY();function n(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}t.toFinite=n})(zx)),zx}var R3;function QY(){return R3||(R3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rO(),n=ZY();function i(a,s,o){o&&typeof o!="number"&&e.isIterateeCall(a,s,o)&&(s=o=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),o=o===void 0?a<s?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((s-a)/(o||1)),0),d=new Array(c);for(let h=0;h<c;h++)d[h]=a,a+=o;return d}t.range=i})(Bx)),Bx}var Fx,L3;function eX(){return L3||(L3=1,Fx=QY().range),Fx}var tX=eX();const uM=vr(tX);function Ls(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function a_(t){let e,n,i;t.length!==2?(e=Ls,n=(c,d)=>Ls(t(c),d),i=(c,d)=>t(c)-d):(e=t===Ls||t===nX?t:iX,n=t,i=t);function a(c,d,h=0,f=c.length){if(h<f){if(e(d,d)!==0)return f;do{const p=h+f>>>1;n(c[p],d)<0?h=p+1:f=p}while(h<f)}return h}function s(c,d,h=0,f=c.length){if(h<f){if(e(d,d)!==0)return f;do{const p=h+f>>>1;n(c[p],d)<=0?h=p+1:f=p}while(h<f)}return h}function o(c,d,h=0,f=c.length){const p=a(c,d,h,f-1);return p>h&&i(c[p-1],d)>-i(c[p],d)?p-1:p}return{left:a,center:o,right:s}}function iX(){return 0}function dM(t){return t===null?NaN:+t}function*rX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const aX=a_(Ls),ch=aX.right;a_(dM).center;class I3 extends Map{constructor(e,n=lX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,a]of e)this.set(i,a)}get(e){return super.get(B3(this,e))}has(e){return super.has(B3(this,e))}set(e,n){return super.set(sX(this,e),n)}delete(e){return super.delete(oX(this,e))}}function B3({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function sX({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function oX({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function lX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function cX(t=Ls){if(t===Ls)return hM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function hM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const uX=Math.sqrt(50),dX=Math.sqrt(10),hX=Math.sqrt(2);function sg(t,e,n){const i=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(i)),s=i/Math.pow(10,a),o=s>=uX?10:s>=dX?5:s>=hX?2:1;let c,d,h;return a<0?(h=Math.pow(10,-a)/o,c=Math.round(t*h),d=Math.round(e*h),c/h<t&&++c,d/h>e&&--d,h=-h):(h=Math.pow(10,a)*o,c=Math.round(t/h),d=Math.round(e/h),c*h<t&&++c,d*h>e&&--d),d<c&&.5<=n&&n<2?sg(t,e,n*2):[c,d,h]}function wb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[a,s,o]=i?sg(e,t,n):sg(t,e,n);if(!(s>=a))return[];const c=s-a+1,d=new Array(c);if(i)if(o<0)for(let h=0;h<c;++h)d[h]=(s-h)/-o;else for(let h=0;h<c;++h)d[h]=(s-h)*o;else if(o<0)for(let h=0;h<c;++h)d[h]=(a+h)/-o;else for(let h=0;h<c;++h)d[h]=(a+h)*o;return d}function Sb(t,e,n){return e=+e,t=+t,n=+n,sg(t,e,n)[2]}function Cb(t,e,n){e=+e,t=+t,n=+n;const i=e<t,a=i?Sb(e,t,n):Sb(t,e,n);return(i?-1:1)*(a<0?1/-a:a)}function z3(t,e){let n;for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function $3(t,e){let n;for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function fM(t,e,n=0,i=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(a=a===void 0?hM:cX(a);i>n;){if(i-n>600){const d=i-n+1,h=e-n+1,f=Math.log(d),p=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*p*(d-p)/d)*(h-d/2<0?-1:1),x=Math.max(n,Math.floor(e-h*p/d+m)),b=Math.min(i,Math.floor(e+(d-h)*p/d+m));fM(t,e,x,b,a)}const s=t[e];let o=n,c=i;for(Vu(t,n,e),a(t[i],s)>0&&Vu(t,n,i);o<c;){for(Vu(t,o,c),++o,--c;a(t[o],s)<0;)++o;for(;a(t[c],s)>0;)--c}a(t[n],s)===0?Vu(t,n,c):(++c,Vu(t,c,i)),c<=e&&(n=c+1),e<=c&&(i=c-1)}return t}function Vu(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function fX(t,e,n){if(t=Float64Array.from(rX(t)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return $3(t);if(e>=1)return z3(t);var i,a=(i-1)*e,s=Math.floor(a),o=z3(fM(t,s).subarray(0,s+1)),c=$3(t.subarray(s+1));return o+(c-o)*(a-s)}}function pX(t,e,n=dM){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,a=(i-1)*e,s=Math.floor(a),o=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return o+(c-o)*(a-s)}}function gX(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var i=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++i<a;)s[i]=t+i*n;return s}function yr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ja(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ab=Symbol("implicit");function s_(){var t=new I3,e=[],n=[],i=Ab;function a(s){let o=t.get(s);if(o===void 0){if(i!==Ab)return i;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new I3;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.copy=function(){return s_(e,n).unknown(i)},yr.apply(a,arguments),a}function o_(){var t=s_().unknown(void 0),e=t.domain,n=t.range,i=0,a=1,s,o,c=!1,d=0,h=0,f=.5;delete t.unknown;function p(){var m=e().length,x=a<i,b=x?a:i,y=x?i:a;s=(y-b)/Math.max(1,m-d+h*2),c&&(s=Math.floor(s)),b+=(y-b-s*(m-d))*f,o=s*(1-d),c&&(b=Math.round(b),o=Math.round(o));var _=gX(m).map(function(S){return b+s*S});return n(x?_.reverse():_)}return t.domain=function(m){return arguments.length?(e(m),p()):e()},t.range=function(m){return arguments.length?([i,a]=m,i=+i,a=+a,p()):[i,a]},t.rangeRound=function(m){return[i,a]=m,i=+i,a=+a,c=!0,p()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(m){return arguments.length?(c=!!m,p()):c},t.padding=function(m){return arguments.length?(d=Math.min(1,h=+m),p()):d},t.paddingInner=function(m){return arguments.length?(d=Math.min(1,m),p()):d},t.paddingOuter=function(m){return arguments.length?(h=+m,p()):h},t.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),p()):f},t.copy=function(){return o_(e(),[i,a]).round(c).paddingInner(d).paddingOuter(h).align(f)},yr.apply(p(),arguments)}function pM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pM(e())},t}function mX(){return pM(o_.apply(null,arguments).paddingInner(1))}function l_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gM(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function uh(){}var Td=.7,og=1/Td,sc="\\s*([+-]?\\d+)\\s*",kd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vX=/^#([0-9a-f]{3,8})$/,xX=new RegExp(`^rgb\\(${sc},${sc},${sc}\\)$`),yX=new RegExp(`^rgb\\(${na},${na},${na}\\)$`),bX=new RegExp(`^rgba\\(${sc},${sc},${sc},${kd}\\)$`),_X=new RegExp(`^rgba\\(${na},${na},${na},${kd}\\)$`),jX=new RegExp(`^hsl\\(${kd},${na},${na}\\)$`),wX=new RegExp(`^hsla\\(${kd},${na},${na},${kd}\\)$`),F3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};l_(uh,Dd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:H3,formatHex:H3,formatHex8:SX,formatHsl:CX,formatRgb:U3,toString:U3});function H3(){return this.rgb().formatHex()}function SX(){return this.rgb().formatHex8()}function CX(){return mM(this).formatHsl()}function U3(){return this.rgb().formatRgb()}function Dd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=vX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?V3(e):n===3?new yi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?op(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?op(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xX.exec(t))?new yi(e[1],e[2],e[3],1):(e=yX.exec(t))?new yi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bX.exec(t))?op(e[1],e[2],e[3],e[4]):(e=_X.exec(t))?op(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jX.exec(t))?W3(e[1],e[2]/100,e[3]/100,1):(e=wX.exec(t))?W3(e[1],e[2]/100,e[3]/100,e[4]):F3.hasOwnProperty(t)?V3(F3[t]):t==="transparent"?new yi(NaN,NaN,NaN,0):null}function V3(t){return new yi(t>>16&255,t>>8&255,t&255,1)}function op(t,e,n,i){return i<=0&&(t=e=n=NaN),new yi(t,e,n,i)}function AX(t){return t instanceof uh||(t=Dd(t)),t?(t=t.rgb(),new yi(t.r,t.g,t.b,t.opacity)):new yi}function Nb(t,e,n,i){return arguments.length===1?AX(t):new yi(t,e,n,i??1)}function yi(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}l_(yi,Nb,gM(uh,{brighter(t){return t=t==null?og:Math.pow(og,t),new yi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Td:Math.pow(Td,t),new yi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yi(Po(this.r),Po(this.g),Po(this.b),lg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:q3,formatHex:q3,formatHex8:NX,formatRgb:G3,toString:G3}));function q3(){return`#${No(this.r)}${No(this.g)}${No(this.b)}`}function NX(){return`#${No(this.r)}${No(this.g)}${No(this.b)}${No((isNaN(this.opacity)?1:this.opacity)*255)}`}function G3(){const t=lg(this.opacity);return`${t===1?"rgb(":"rgba("}${Po(this.r)}, ${Po(this.g)}, ${Po(this.b)}${t===1?")":`, ${t})`}`}function lg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Po(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function No(t){return t=Po(t),(t<16?"0":"")+t.toString(16)}function W3(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Er(t,e,n,i)}function mM(t){if(t instanceof Er)return new Er(t.h,t.s,t.l,t.opacity);if(t instanceof uh||(t=Dd(t)),!t)return new Er;if(t instanceof Er)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,a=Math.min(e,n,i),s=Math.max(e,n,i),o=NaN,c=s-a,d=(s+a)/2;return c?(e===s?o=(n-i)/c+(n<i)*6:n===s?o=(i-e)/c+2:o=(e-n)/c+4,c/=d<.5?s+a:2-s-a,o*=60):c=d>0&&d<1?0:o,new Er(o,c,d,t.opacity)}function EX(t,e,n,i){return arguments.length===1?mM(t):new Er(t,e,n,i??1)}function Er(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}l_(Er,EX,gM(uh,{brighter(t){return t=t==null?og:Math.pow(og,t),new Er(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Td:Math.pow(Td,t),new Er(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,a=2*n-i;return new yi(Hx(t>=240?t-240:t+120,a,i),Hx(t,a,i),Hx(t<120?t+240:t-120,a,i),this.opacity)},clamp(){return new Er(Y3(this.h),lp(this.s),lp(this.l),lg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lg(this.opacity);return`${t===1?"hsl(":"hsla("}${Y3(this.h)}, ${lp(this.s)*100}%, ${lp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Y3(t){return t=(t||0)%360,t<0?t+360:t}function lp(t){return Math.max(0,Math.min(1,t||0))}function Hx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const c_=t=>()=>t;function TX(t,e){return function(n){return t+n*e}}function kX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function DX(t){return(t=+t)==1?vM:function(e,n){return n-e?kX(e,n,t):c_(isNaN(e)?n:e)}}function vM(t,e){var n=e-t;return n?TX(t,n):c_(isNaN(t)?e:t)}const X3=(function t(e){var n=DX(e);function i(a,s){var o=n((a=Nb(a)).r,(s=Nb(s)).r),c=n(a.g,s.g),d=n(a.b,s.b),h=vM(a.opacity,s.opacity);return function(f){return a.r=o(f),a.g=c(f),a.b=d(f),a.opacity=h(f),a+""}}return i.gamma=t,i})(1);function OX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),a;return function(s){for(a=0;a<n;++a)i[a]=t[a]*(1-s)+e[a]*s;return i}}function MX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function PX(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,a=new Array(i),s=new Array(n),o;for(o=0;o<i;++o)a[o]=Ec(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(c){for(o=0;o<i;++o)s[o]=a[o](c);return s}}function RX(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function cg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function LX(t,e){var n={},i={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Ec(t[a],e[a]):i[a]=e[a];return function(s){for(a in n)i[a]=n[a](s);return i}}var Eb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ux=new RegExp(Eb.source,"g");function IX(t){return function(){return t}}function BX(t){return function(e){return t(e)+""}}function zX(t,e){var n=Eb.lastIndex=Ux.lastIndex=0,i,a,s,o=-1,c=[],d=[];for(t=t+"",e=e+"";(i=Eb.exec(t))&&(a=Ux.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),c[o]?c[o]+=s:c[++o]=s),(i=i[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,d.push({i:o,x:cg(i,a)})),n=Ux.lastIndex;return n<e.length&&(s=e.slice(n),c[o]?c[o]+=s:c[++o]=s),c.length<2?d[0]?BX(d[0].x):IX(e):(e=d.length,function(h){for(var f=0,p;f<e;++f)c[(p=d[f]).i]=p.x(h);return c.join("")})}function Ec(t,e){var n=typeof e,i;return e==null||n==="boolean"?c_(e):(n==="number"?cg:n==="string"?(i=Dd(e))?(e=i,X3):zX:e instanceof Dd?X3:e instanceof Date?RX:MX(e)?OX:Array.isArray(e)?PX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?LX:cg)(t,e)}function u_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $X(t,e){e===void 0&&(e=t,t=Ec);for(var n=0,i=e.length-1,a=e[0],s=new Array(i<0?0:i);n<i;)s[n]=t(a,a=e[++n]);return function(o){var c=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return s[c](o-c)}}function FX(t){return function(){return t}}function ug(t){return+t}var K3=[0,1];function ei(t){return t}function Tb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:FX(isNaN(e)?NaN:.5)}function HX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function UX(t,e,n){var i=t[0],a=t[1],s=e[0],o=e[1];return a<i?(i=Tb(a,i),s=n(o,s)):(i=Tb(i,a),s=n(s,o)),function(c){return s(i(c))}}function VX(t,e,n){var i=Math.min(t.length,e.length)-1,a=new Array(i),s=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<i;)a[o]=Tb(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(c){var d=ch(t,c,1,i)-1;return s[d](a[d](c))}}function dh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Cm(){var t=K3,e=K3,n=Ec,i,a,s,o=ei,c,d,h;function f(){var m=Math.min(t.length,e.length);return o!==ei&&(o=HX(t[0],t[m-1])),c=m>2?VX:UX,d=h=null,p}function p(m){return m==null||isNaN(m=+m)?s:(d||(d=c(t.map(i),e,n)))(i(o(m)))}return p.invert=function(m){return o(a((h||(h=c(e,t.map(i),cg)))(m)))},p.domain=function(m){return arguments.length?(t=Array.from(m,ug),f()):t.slice()},p.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},p.rangeRound=function(m){return e=Array.from(m),n=u_,f()},p.clamp=function(m){return arguments.length?(o=m?!0:ei,f()):o!==ei},p.interpolate=function(m){return arguments.length?(n=m,f()):n},p.unknown=function(m){return arguments.length?(s=m,p):s},function(m,x){return i=m,a=x,f()}}function d_(){return Cm()(ei,ei)}function qX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function dg(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function gc(t){return t=dg(Math.abs(t)),t?t[1]:NaN}function GX(t,e){return function(n,i){for(var a=n.length,s=[],o=0,c=t[0],d=0;a>0&&c>0&&(d+c+1>i&&(c=Math.max(1,i-d)),s.push(n.substring(a-=c,a+c)),!((d+=c+1)>i));)c=t[o=(o+1)%t.length];return s.reverse().join(e)}}function WX(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var YX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Od(t){if(!(e=YX.exec(t)))throw new Error("invalid format: "+t);var e;return new h_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Od.prototype=h_.prototype;function h_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}h_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XX(t){e:for(var e=t.length,n=1,i=-1,a;n<e;++n)switch(t[n]){case".":i=a=n;break;case"0":i===0&&(i=n),a=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(a+1):t}var hg;function KX(t,e){var n=dg(t,e);if(!n)return hg=void 0,t.toPrecision(e);var i=n[0],a=n[1],s=a-(hg=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+dg(t,Math.max(0,e+s-1))[0]}function J3(t,e){var n=dg(t,e);if(!n)return t+"";var i=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}const Z3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:qX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>J3(t*100,e),r:J3,s:KX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Q3(t){return t}var eT=Array.prototype.map,tT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function JX(t){var e=t.grouping===void 0||t.thousands===void 0?Q3:GX(eT.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Q3:WX(eT.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(p,m){p=Od(p);var x=p.fill,b=p.align,y=p.sign,_=p.symbol,S=p.zero,N=p.width,E=p.comma,A=p.precision,T=p.trim,k=p.type;k==="n"?(E=!0,k="g"):Z3[k]||(A===void 0&&(A=12),T=!0,k="g"),(S||x==="0"&&b==="=")&&(S=!0,x="0",b="=");var R=(m&&m.prefix!==void 0?m.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),H=(_==="$"?i:/[%p]/.test(k)?o:"")+(m&&m.suffix!==void 0?m.suffix:""),V=Z3[k],Y=/[defgprs%]/.test(k);A=A===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function W(X){var ee=R,L=H,P,M,I;if(k==="c")L=V(X)+L,X="";else{X=+X;var G=X<0||1/X<0;if(X=isNaN(X)?d:V(Math.abs(X),A),T&&(X=XX(X)),G&&+X==0&&y!=="+"&&(G=!1),ee=(G?y==="("?y:c:y==="-"||y==="("?"":y)+ee,L=(k==="s"&&!isNaN(X)&&hg!==void 0?tT[8+hg/3]:"")+L+(G&&y==="("?")":""),Y){for(P=-1,M=X.length;++P<M;)if(I=X.charCodeAt(P),48>I||I>57){L=(I===46?a+X.slice(P+1):X.slice(P))+L,X=X.slice(0,P);break}}}E&&!S&&(X=e(X,1/0));var U=ee.length+X.length+L.length,K=U<N?new Array(N-U+1).join(x):"";switch(E&&S&&(X=e(K+X,K.length?N-L.length:1/0),K=""),b){case"<":X=ee+X+L+K;break;case"=":X=ee+K+X+L;break;case"^":X=K.slice(0,U=K.length>>1)+ee+X+L+K.slice(U);break;default:X=K+ee+X+L;break}return s(X)}return W.toString=function(){return p+""},W}function f(p,m){var x=Math.max(-8,Math.min(8,Math.floor(gc(m)/3)))*3,b=Math.pow(10,-x),y=h((p=Od(p),p.type="f",p),{suffix:tT[8+x/3]});return function(_){return y(b*_)}}return{format:h,formatPrefix:f}}var cp,f_,xM;ZX({thousands:",",grouping:[3],currency:["$",""]});function ZX(t){return cp=JX(t),f_=cp.format,xM=cp.formatPrefix,cp}function QX(t){return Math.max(0,-gc(Math.abs(t)))}function eK(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gc(e)/3)))*3-gc(Math.abs(t)))}function tK(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gc(e)-gc(t))+1}function yM(t,e,n,i){var a=Cb(t,e,n),s;switch(i=Od(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(s=eK(a,o))&&(i.precision=s),xM(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=tK(a,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=QX(a))&&(i.precision=s-(i.type==="%")*2);break}}return f_(i)}function qs(t){var e=t.domain;return t.ticks=function(n){var i=e();return wb(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var a=e();return yM(a[0],a[a.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),a=0,s=i.length-1,o=i[a],c=i[s],d,h,f=10;for(c<o&&(h=o,o=c,c=h,h=a,a=s,s=h);f-- >0;){if(h=Sb(o,c,n),h===d)return i[a]=o,i[s]=c,e(i);if(h>0)o=Math.floor(o/h)*h,c=Math.ceil(c/h)*h;else if(h<0)o=Math.ceil(o*h)/h,c=Math.floor(c*h)/h;else break;d=h}return t},t}function bM(){var t=d_();return t.copy=function(){return dh(t,bM())},yr.apply(t,arguments),qs(t)}function _M(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,ug),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return _M(t).unknown(e)},t=arguments.length?Array.from(t,ug):[0,1],qs(n)}function jM(t,e){t=t.slice();var n=0,i=t.length-1,a=t[n],s=t[i],o;return s<a&&(o=n,n=i,i=o,o=a,a=s,s=o),t[n]=e.floor(a),t[i]=e.ceil(s),t}function nT(t){return Math.log(t)}function iT(t){return Math.exp(t)}function nK(t){return-Math.log(-t)}function iK(t){return-Math.exp(-t)}function rK(t){return isFinite(t)?+("1e"+t):t<0?0:t}function aK(t){return t===10?rK:t===Math.E?Math.exp:e=>Math.pow(t,e)}function sK(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function rT(t){return(e,n)=>-t(-e,n)}function p_(t){const e=t(nT,iT),n=e.domain;let i=10,a,s;function o(){return a=sK(i),s=aK(i),n()[0]<0?(a=rT(a),s=rT(s),t(nK,iK)):t(nT,iT),e}return e.base=function(c){return arguments.length?(i=+c,o()):i},e.domain=function(c){return arguments.length?(n(c),o()):n()},e.ticks=c=>{const d=n();let h=d[0],f=d[d.length-1];const p=f<h;p&&([h,f]=[f,h]);let m=a(h),x=a(f),b,y;const _=c==null?10:+c;let S=[];if(!(i%1)&&x-m<_){if(m=Math.floor(m),x=Math.ceil(x),h>0){for(;m<=x;++m)for(b=1;b<i;++b)if(y=m<0?b/s(-m):b*s(m),!(y<h)){if(y>f)break;S.push(y)}}else for(;m<=x;++m)for(b=i-1;b>=1;--b)if(y=m>0?b/s(-m):b*s(m),!(y<h)){if(y>f)break;S.push(y)}S.length*2<_&&(S=wb(h,f,_))}else S=wb(m,x,Math.min(x-m,_)).map(s);return p?S.reverse():S},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=i===10?"s":","),typeof d!="function"&&(!(i%1)&&(d=Od(d)).precision==null&&(d.trim=!0),d=f_(d)),c===1/0)return d;const h=Math.max(1,i*c/e.ticks().length);return f=>{let p=f/s(Math.round(a(f)));return p*i<i-.5&&(p*=i),p<=h?d(f):""}},e.nice=()=>n(jM(n(),{floor:c=>s(Math.floor(a(c))),ceil:c=>s(Math.ceil(a(c)))})),e}function wM(){const t=p_(Cm()).domain([1,10]);return t.copy=()=>dh(t,wM()).base(t.base()),yr.apply(t,arguments),t}function aT(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function sT(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function g_(t){var e=1,n=t(aT(e),sT(e));return n.constant=function(i){return arguments.length?t(aT(e=+i),sT(e)):e},qs(n)}function SM(){var t=g_(Cm());return t.copy=function(){return dh(t,SM()).constant(t.constant())},yr.apply(t,arguments)}function oT(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function oK(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lK(t){return t<0?-t*t:t*t}function m_(t){var e=t(ei,ei),n=1;function i(){return n===1?t(ei,ei):n===.5?t(oK,lK):t(oT(n),oT(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,i()):n},qs(e)}function v_(){var t=m_(Cm());return t.copy=function(){return dh(t,v_()).exponent(t.exponent())},yr.apply(t,arguments),t}function cK(){return v_.apply(null,arguments).exponent(.5)}function lT(t){return Math.sign(t)*t*t}function uK(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function CM(){var t=d_(),e=[0,1],n=!1,i;function a(s){var o=uK(t(s));return isNaN(o)?i:n?Math.round(o):o}return a.invert=function(s){return t.invert(lT(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,ug)).map(lT)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.copy=function(){return CM(t.domain(),e).round(n).clamp(t.clamp()).unknown(i)},yr.apply(a,arguments),qs(a)}function AM(){var t=[],e=[],n=[],i;function a(){var o=0,c=Math.max(1,e.length);for(n=new Array(c-1);++o<c;)n[o-1]=pX(t,o/c);return s}function s(o){return o==null||isNaN(o=+o)?i:e[ch(n,o)]}return s.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Ls),a()},s.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.quantiles=function(){return n.slice()},s.copy=function(){return AM().domain(t).range(e).unknown(i)},yr.apply(s,arguments)}function NM(){var t=0,e=1,n=1,i=[.5],a=[0,1],s;function o(d){return d!=null&&d<=d?a[ch(i,d,0,n)]:s}function c(){var d=-1;for(i=new Array(n);++d<n;)i[d]=((d+1)*e-(d-n)*t)/(n+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},o.range=function(d){return arguments.length?(n=(a=Array.from(d)).length-1,c()):a.slice()},o.invertExtent=function(d){var h=a.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,i[0]]:h>=n?[i[n-1],e]:[i[h-1],i[h]]},o.unknown=function(d){return arguments.length&&(s=d),o},o.thresholds=function(){return i.slice()},o.copy=function(){return NM().domain([t,e]).range(a).unknown(s)},yr.apply(qs(o),arguments)}function EM(){var t=[.5],e=[0,1],n,i=1;function a(s){return s!=null&&s<=s?e[ch(t,s,0,i)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),i=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return EM().domain(t).range(e).unknown(n)},yr.apply(a,arguments)}const Vx=new Date,qx=new Date;function hn(t,e,n,i){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const o=a(s),c=a.ceil(s);return s-o<c-s?o:c},a.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,c)=>{const d=[];if(s=a.ceil(s),c=c==null?1:Math.floor(c),!(s<o)||!(c>0))return d;let h;do d.push(h=new Date(+s)),e(s,c),t(s);while(h<s&&s<o);return d},a.filter=s=>hn(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!s(o););else for(;--c>=0;)for(;e(o,1),!s(o););}),n&&(a.count=(s,o)=>(Vx.setTime(+s),qx.setTime(+o),t(Vx),t(qx),Math.floor(n(Vx,qx))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(i?o=>i(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const fg=hn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);fg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?hn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):fg);fg.range;const Pa=1e3,dr=Pa*60,Ra=dr*60,Ua=Ra*24,x_=Ua*7,cT=Ua*30,Gx=Ua*365,Eo=hn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Pa)},(t,e)=>(e-t)/Pa,t=>t.getUTCSeconds());Eo.range;const y_=hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Pa)},(t,e)=>{t.setTime(+t+e*dr)},(t,e)=>(e-t)/dr,t=>t.getMinutes());y_.range;const b_=hn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*dr)},(t,e)=>(e-t)/dr,t=>t.getUTCMinutes());b_.range;const __=hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Pa-t.getMinutes()*dr)},(t,e)=>{t.setTime(+t+e*Ra)},(t,e)=>(e-t)/Ra,t=>t.getHours());__.range;const j_=hn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ra)},(t,e)=>(e-t)/Ra,t=>t.getUTCHours());j_.range;const hh=hn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*dr)/Ua,t=>t.getDate()-1);hh.range;const Am=hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ua,t=>t.getUTCDate()-1);Am.range;const TM=hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ua,t=>Math.floor(t/Ua));TM.range;function el(t){return hn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*dr)/x_)}const Nm=el(0),pg=el(1),dK=el(2),hK=el(3),mc=el(4),fK=el(5),pK=el(6);Nm.range;pg.range;dK.range;hK.range;mc.range;fK.range;pK.range;function tl(t){return hn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/x_)}const Em=tl(0),gg=tl(1),gK=tl(2),mK=tl(3),vc=tl(4),vK=tl(5),xK=tl(6);Em.range;gg.range;gK.range;mK.range;vc.range;vK.range;xK.range;const w_=hn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());w_.range;const S_=hn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());S_.range;const Va=hn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Va.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Va.range;const qa=hn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});qa.range;function kM(t,e,n,i,a,s){const o=[[Eo,1,Pa],[Eo,5,5*Pa],[Eo,15,15*Pa],[Eo,30,30*Pa],[s,1,dr],[s,5,5*dr],[s,15,15*dr],[s,30,30*dr],[a,1,Ra],[a,3,3*Ra],[a,6,6*Ra],[a,12,12*Ra],[i,1,Ua],[i,2,2*Ua],[n,1,x_],[e,1,cT],[e,3,3*cT],[t,1,Gx]];function c(h,f,p){const m=f<h;m&&([h,f]=[f,h]);const x=p&&typeof p.range=="function"?p:d(h,f,p),b=x?x.range(h,+f+1):[];return m?b.reverse():b}function d(h,f,p){const m=Math.abs(f-h)/p,x=a_(([,,_])=>_).right(o,m);if(x===o.length)return t.every(Cb(h/Gx,f/Gx,p));if(x===0)return fg.every(Math.max(Cb(h,f,p),1));const[b,y]=o[m/o[x-1][2]<o[x][2]/m?x-1:x];return b.every(y)}return[c,d]}const[yK,bK]=kM(qa,S_,Em,TM,j_,b_),[_K,jK]=kM(Va,w_,Nm,hh,__,y_);function Wx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Yx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function wK(t){var e=t.dateTime,n=t.date,i=t.time,a=t.periods,s=t.days,o=t.shortDays,c=t.months,d=t.shortMonths,h=Gu(a),f=Wu(a),p=Gu(s),m=Wu(s),x=Gu(o),b=Wu(o),y=Gu(c),_=Wu(c),S=Gu(d),N=Wu(d),E={a:I,A:G,b:U,B:K,c:null,d:gT,e:gT,f:GK,g:nJ,G:rJ,H:UK,I:VK,j:qK,L:DM,m:WK,M:YK,p:z,q:O,Q:xT,s:yT,S:XK,u:KK,U:JK,V:ZK,w:QK,W:eJ,x:null,X:null,y:tJ,Y:iJ,Z:aJ,"%":vT},A={a:$,A:B,b:Q,B:J,c:null,d:mT,e:mT,f:cJ,g:yJ,G:_J,H:sJ,I:oJ,j:lJ,L:MM,m:uJ,M:dJ,p:q,q:re,Q:xT,s:yT,S:hJ,u:fJ,U:pJ,V:gJ,w:mJ,W:vJ,x:null,X:null,y:xJ,Y:bJ,Z:jJ,"%":vT},T={a:Y,A:W,b:X,B:ee,c:L,d:fT,e:fT,f:zK,g:hT,G:dT,H:pT,I:pT,j:RK,L:BK,m:PK,M:LK,p:V,q:MK,Q:FK,s:HK,S:IK,u:EK,U:TK,V:kK,w:NK,W:DK,x:P,X:M,y:hT,Y:dT,Z:OK,"%":$K};E.x=k(n,E),E.X=k(i,E),E.c=k(e,E),A.x=k(n,A),A.X=k(i,A),A.c=k(e,A);function k(Z,ve){return function(ae){var se=[],we=-1,_e=0,Fe=Z.length,Ke,it,_r;for(ae instanceof Date||(ae=new Date(+ae));++we<Fe;)Z.charCodeAt(we)===37&&(se.push(Z.slice(_e,we)),(it=uT[Ke=Z.charAt(++we)])!=null?Ke=Z.charAt(++we):it=Ke==="e"?" ":"0",(_r=ve[Ke])&&(Ke=_r(ae,it)),se.push(Ke),_e=we+1);return se.push(Z.slice(_e,we)),se.join("")}}function R(Z,ve){return function(ae){var se=qu(1900,void 0,1),we=H(se,Z,ae+="",0),_e,Fe;if(we!=ae.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(ve&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(_e=Yx(qu(se.y,0,1)),Fe=_e.getUTCDay(),_e=Fe>4||Fe===0?gg.ceil(_e):gg(_e),_e=Am.offset(_e,(se.V-1)*7),se.y=_e.getUTCFullYear(),se.m=_e.getUTCMonth(),se.d=_e.getUTCDate()+(se.w+6)%7):(_e=Wx(qu(se.y,0,1)),Fe=_e.getDay(),_e=Fe>4||Fe===0?pg.ceil(_e):pg(_e),_e=hh.offset(_e,(se.V-1)*7),se.y=_e.getFullYear(),se.m=_e.getMonth(),se.d=_e.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Fe="Z"in se?Yx(qu(se.y,0,1)).getUTCDay():Wx(qu(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Fe+5)%7:se.w+se.U*7-(Fe+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,Yx(se)):Wx(se)}}function H(Z,ve,ae,se){for(var we=0,_e=ve.length,Fe=ae.length,Ke,it;we<_e;){if(se>=Fe)return-1;if(Ke=ve.charCodeAt(we++),Ke===37){if(Ke=ve.charAt(we++),it=T[Ke in uT?ve.charAt(we++):Ke],!it||(se=it(Z,ae,se))<0)return-1}else if(Ke!=ae.charCodeAt(se++))return-1}return se}function V(Z,ve,ae){var se=h.exec(ve.slice(ae));return se?(Z.p=f.get(se[0].toLowerCase()),ae+se[0].length):-1}function Y(Z,ve,ae){var se=x.exec(ve.slice(ae));return se?(Z.w=b.get(se[0].toLowerCase()),ae+se[0].length):-1}function W(Z,ve,ae){var se=p.exec(ve.slice(ae));return se?(Z.w=m.get(se[0].toLowerCase()),ae+se[0].length):-1}function X(Z,ve,ae){var se=S.exec(ve.slice(ae));return se?(Z.m=N.get(se[0].toLowerCase()),ae+se[0].length):-1}function ee(Z,ve,ae){var se=y.exec(ve.slice(ae));return se?(Z.m=_.get(se[0].toLowerCase()),ae+se[0].length):-1}function L(Z,ve,ae){return H(Z,e,ve,ae)}function P(Z,ve,ae){return H(Z,n,ve,ae)}function M(Z,ve,ae){return H(Z,i,ve,ae)}function I(Z){return o[Z.getDay()]}function G(Z){return s[Z.getDay()]}function U(Z){return d[Z.getMonth()]}function K(Z){return c[Z.getMonth()]}function z(Z){return a[+(Z.getHours()>=12)]}function O(Z){return 1+~~(Z.getMonth()/3)}function $(Z){return o[Z.getUTCDay()]}function B(Z){return s[Z.getUTCDay()]}function Q(Z){return d[Z.getUTCMonth()]}function J(Z){return c[Z.getUTCMonth()]}function q(Z){return a[+(Z.getUTCHours()>=12)]}function re(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ve=k(Z+="",E);return ve.toString=function(){return Z},ve},parse:function(Z){var ve=R(Z+="",!1);return ve.toString=function(){return Z},ve},utcFormat:function(Z){var ve=k(Z+="",A);return ve.toString=function(){return Z},ve},utcParse:function(Z){var ve=R(Z+="",!0);return ve.toString=function(){return Z},ve}}}var uT={"-":"",_:" ",0:"0"},Nn=/^\s*\d+/,SK=/^%/,CK=/[\\^$*+?|[\]().{}]/g;function ot(t,e,n){var i=t<0?"-":"",a=(i?-t:t)+"",s=a.length;return i+(s<n?new Array(n-s+1).join(e)+a:a)}function AK(t){return t.replace(CK,"\\$&")}function Gu(t){return new RegExp("^(?:"+t.map(AK).join("|")+")","i")}function Wu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function NK(t,e,n){var i=Nn.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function EK(t,e,n){var i=Nn.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function TK(t,e,n){var i=Nn.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function kK(t,e,n){var i=Nn.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function DK(t,e,n){var i=Nn.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function dT(t,e,n){var i=Nn.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function hT(t,e,n){var i=Nn.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function OK(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function MK(t,e,n){var i=Nn.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function PK(t,e,n){var i=Nn.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function fT(t,e,n){var i=Nn.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function RK(t,e,n){var i=Nn.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function pT(t,e,n){var i=Nn.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function LK(t,e,n){var i=Nn.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function IK(t,e,n){var i=Nn.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function BK(t,e,n){var i=Nn.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function zK(t,e,n){var i=Nn.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function $K(t,e,n){var i=SK.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function FK(t,e,n){var i=Nn.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function HK(t,e,n){var i=Nn.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function gT(t,e){return ot(t.getDate(),e,2)}function UK(t,e){return ot(t.getHours(),e,2)}function VK(t,e){return ot(t.getHours()%12||12,e,2)}function qK(t,e){return ot(1+hh.count(Va(t),t),e,3)}function DM(t,e){return ot(t.getMilliseconds(),e,3)}function GK(t,e){return DM(t,e)+"000"}function WK(t,e){return ot(t.getMonth()+1,e,2)}function YK(t,e){return ot(t.getMinutes(),e,2)}function XK(t,e){return ot(t.getSeconds(),e,2)}function KK(t){var e=t.getDay();return e===0?7:e}function JK(t,e){return ot(Nm.count(Va(t)-1,t),e,2)}function OM(t){var e=t.getDay();return e>=4||e===0?mc(t):mc.ceil(t)}function ZK(t,e){return t=OM(t),ot(mc.count(Va(t),t)+(Va(t).getDay()===4),e,2)}function QK(t){return t.getDay()}function eJ(t,e){return ot(pg.count(Va(t)-1,t),e,2)}function tJ(t,e){return ot(t.getFullYear()%100,e,2)}function nJ(t,e){return t=OM(t),ot(t.getFullYear()%100,e,2)}function iJ(t,e){return ot(t.getFullYear()%1e4,e,4)}function rJ(t,e){var n=t.getDay();return t=n>=4||n===0?mc(t):mc.ceil(t),ot(t.getFullYear()%1e4,e,4)}function aJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ot(e/60|0,"0",2)+ot(e%60,"0",2)}function mT(t,e){return ot(t.getUTCDate(),e,2)}function sJ(t,e){return ot(t.getUTCHours(),e,2)}function oJ(t,e){return ot(t.getUTCHours()%12||12,e,2)}function lJ(t,e){return ot(1+Am.count(qa(t),t),e,3)}function MM(t,e){return ot(t.getUTCMilliseconds(),e,3)}function cJ(t,e){return MM(t,e)+"000"}function uJ(t,e){return ot(t.getUTCMonth()+1,e,2)}function dJ(t,e){return ot(t.getUTCMinutes(),e,2)}function hJ(t,e){return ot(t.getUTCSeconds(),e,2)}function fJ(t){var e=t.getUTCDay();return e===0?7:e}function pJ(t,e){return ot(Em.count(qa(t)-1,t),e,2)}function PM(t){var e=t.getUTCDay();return e>=4||e===0?vc(t):vc.ceil(t)}function gJ(t,e){return t=PM(t),ot(vc.count(qa(t),t)+(qa(t).getUTCDay()===4),e,2)}function mJ(t){return t.getUTCDay()}function vJ(t,e){return ot(gg.count(qa(t)-1,t),e,2)}function xJ(t,e){return ot(t.getUTCFullYear()%100,e,2)}function yJ(t,e){return t=PM(t),ot(t.getUTCFullYear()%100,e,2)}function bJ(t,e){return ot(t.getUTCFullYear()%1e4,e,4)}function _J(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vc(t):vc.ceil(t),ot(t.getUTCFullYear()%1e4,e,4)}function jJ(){return"+0000"}function vT(){return"%"}function xT(t){return+t}function yT(t){return Math.floor(+t/1e3)}var Hl,RM,LM;wJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wJ(t){return Hl=wK(t),RM=Hl.format,Hl.parse,LM=Hl.utcFormat,Hl.utcParse,Hl}function SJ(t){return new Date(t)}function CJ(t){return t instanceof Date?+t:+new Date(+t)}function C_(t,e,n,i,a,s,o,c,d,h){var f=d_(),p=f.invert,m=f.domain,x=h(".%L"),b=h(":%S"),y=h("%I:%M"),_=h("%I %p"),S=h("%a %d"),N=h("%b %d"),E=h("%B"),A=h("%Y");function T(k){return(d(k)<k?x:c(k)<k?b:o(k)<k?y:s(k)<k?_:i(k)<k?a(k)<k?S:N:n(k)<k?E:A)(k)}return f.invert=function(k){return new Date(p(k))},f.domain=function(k){return arguments.length?m(Array.from(k,CJ)):m().map(SJ)},f.ticks=function(k){var R=m();return t(R[0],R[R.length-1],k??10)},f.tickFormat=function(k,R){return R==null?T:h(R)},f.nice=function(k){var R=m();return(!k||typeof k.range!="function")&&(k=e(R[0],R[R.length-1],k??10)),k?m(jM(R,k)):f},f.copy=function(){return dh(f,C_(t,e,n,i,a,s,o,c,d,h))},f}function AJ(){return yr.apply(C_(_K,jK,Va,w_,Nm,hh,__,y_,Eo,RM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NJ(){return yr.apply(C_(yK,bK,qa,S_,Em,Am,j_,b_,Eo,LM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tm(){var t=0,e=1,n,i,a,s,o=ei,c=!1,d;function h(p){return p==null||isNaN(p=+p)?d:o(a===0?.5:(p=(s(p)-n)*a,c?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),i=s(e=+e),a=n===i?0:1/(i-n),h):[t,e]},h.clamp=function(p){return arguments.length?(c=!!p,h):c},h.interpolator=function(p){return arguments.length?(o=p,h):o};function f(p){return function(m){var x,b;return arguments.length?([x,b]=m,o=p(x,b),h):[o(0),o(1)]}}return h.range=f(Ec),h.rangeRound=f(u_),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return s=p,n=p(t),i=p(e),a=n===i?0:1/(i-n),h}}function Gs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function IM(){var t=qs(Tm()(ei));return t.copy=function(){return Gs(t,IM())},Ja.apply(t,arguments)}function BM(){var t=p_(Tm()).domain([1,10]);return t.copy=function(){return Gs(t,BM()).base(t.base())},Ja.apply(t,arguments)}function zM(){var t=g_(Tm());return t.copy=function(){return Gs(t,zM()).constant(t.constant())},Ja.apply(t,arguments)}function A_(){var t=m_(Tm());return t.copy=function(){return Gs(t,A_()).exponent(t.exponent())},Ja.apply(t,arguments)}function EJ(){return A_.apply(null,arguments).exponent(.5)}function $M(){var t=[],e=ei;function n(i){if(i!=null&&!isNaN(i=+i))return e((ch(t,i,1)-1)/(t.length-1))}return n.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let a of i)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ls),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return t.map((i,a)=>e(a/(t.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(a,s)=>fX(t,s/i))},n.copy=function(){return $M(e).domain(t)},Ja.apply(n,arguments)}function km(){var t=0,e=.5,n=1,i=1,a,s,o,c,d,h=ei,f,p=!1,m;function x(y){return isNaN(y=+y)?m:(y=.5+((y=+f(y))-s)*(i*y<i*s?c:d),h(p?Math.max(0,Math.min(1,y)):y))}x.domain=function(y){return arguments.length?([t,e,n]=y,a=f(t=+t),s=f(e=+e),o=f(n=+n),c=a===s?0:.5/(s-a),d=s===o?0:.5/(o-s),i=s<a?-1:1,x):[t,e,n]},x.clamp=function(y){return arguments.length?(p=!!y,x):p},x.interpolator=function(y){return arguments.length?(h=y,x):h};function b(y){return function(_){var S,N,E;return arguments.length?([S,N,E]=_,h=$X(y,[S,N,E]),x):[h(0),h(.5),h(1)]}}return x.range=b(Ec),x.rangeRound=b(u_),x.unknown=function(y){return arguments.length?(m=y,x):m},function(y){return f=y,a=y(t),s=y(e),o=y(n),c=a===s?0:.5/(s-a),d=s===o?0:.5/(o-s),i=s<a?-1:1,x}}function FM(){var t=qs(km()(ei));return t.copy=function(){return Gs(t,FM())},Ja.apply(t,arguments)}function HM(){var t=p_(km()).domain([.1,1,10]);return t.copy=function(){return Gs(t,HM()).base(t.base())},Ja.apply(t,arguments)}function UM(){var t=g_(km());return t.copy=function(){return Gs(t,UM()).constant(t.constant())},Ja.apply(t,arguments)}function N_(){var t=m_(km());return t.copy=function(){return Gs(t,N_()).exponent(t.exponent())},Ja.apply(t,arguments)}function TJ(){return N_.apply(null,arguments).exponent(.5)}const ad=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:o_,scaleDiverging:FM,scaleDivergingLog:HM,scaleDivergingPow:N_,scaleDivergingSqrt:TJ,scaleDivergingSymlog:UM,scaleIdentity:_M,scaleImplicit:Ab,scaleLinear:bM,scaleLog:wM,scaleOrdinal:s_,scalePoint:mX,scalePow:v_,scaleQuantile:AM,scaleQuantize:NM,scaleRadial:CM,scaleSequential:IM,scaleSequentialLog:BM,scaleSequentialPow:A_,scaleSequentialQuantile:$M,scaleSequentialSqrt:EJ,scaleSequentialSymlog:zM,scaleSqrt:cK,scaleSymlog:SM,scaleThreshold:EM,scaleTime:AJ,scaleUtc:NJ,tickFormat:yM},Symbol.toStringTag,{value:"Module"}));var Za=t=>t.chartData,VM=ue([Za],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),qM=(t,e,n,i)=>i?VM(t):Za(t),GM=(t,e,n)=>n?VM(t):Za(t);function Ga(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(qe(e)&&qe(n))return!0}return!1}function bT(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function WM(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,i]=t,a,s;if(qe(n))a=n;else if(typeof n=="function")return;if(qe(i))s=i;else if(typeof i=="function")return;var o=[a,s];if(Ga(o))return o}}function kJ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var i=t(e,n);if(Ga(i))return bT(i,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,o,c;if(a==="auto")e!=null&&(o=Math.min(...e));else if(je(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e?.[0]))}catch{}else if(typeof a=="string"&&OE.test(a)){var d=OE.exec(a);if(d==null||d[1]==null||e==null)o=void 0;else{var h=+d[1];o=e[0]-h}}else o=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(je(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&ME.test(s)){var f=ME.exec(s);if(f==null||f[1]==null||e==null)c=void 0;else{var p=+f[1];c=e[1]+p}}else c=e?.[1];var m=[o,c];if(Ga(m))return e==null?m:bT(m,e,n)}}}var Tc=1e9,DJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},T_,Pt=!0,mr="[DecimalError] ",Ro=mr+"Invalid argument: ",E_=mr+"Exponent out of range: ",kc=Math.floor,jo=Math.pow,OJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mi,_n=1e7,Et=7,YM=9007199254740991,mg=kc(YM/Et),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,i,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(i=s.d.length,a=t.d.length,e=0,n=i<a?i:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return i===a?0:i>a^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Et;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return Ia(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return St(Ia(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return ln(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,i=n.constructor,a=i.precision,s=a+5;if(t===void 0)t=new i(10);else if(t=new i(t),t.s<1||t.eq(Mi))throw Error(mr+"NaN");if(n.s<1)throw Error(mr+(n.s?"NaN":"-Infinity"));return n.eq(Mi)?new i(0):(Pt=!1,e=Ia(Md(n,s),Md(t,s),s),Pt=!0,St(e,a))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JM(e,t):XM(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,i=n.constructor,a=i.precision;if(t=new i(t),!t.s)throw Error(mr+"NaN");return n.s?(Pt=!1,e=Ia(n,t,0,1).times(t),Pt=!0,n.minus(e)):St(new i(n),a)};Ae.naturalExponential=Ae.exp=function(){return KM(this)};Ae.naturalLogarithm=Ae.ln=function(){return Md(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?XM(e,t):JM(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,i,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ro+t);if(e=ln(a)+1,i=a.d.length-1,n=i*Et+1,i=a.d[i],i){for(;i%10==0;i/=10)n--;for(i=a.d[0];i>=10;i/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,i,a,s,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(mr+"NaN")}for(t=ln(c),Pt=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=ea(c.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=kc((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),i=new d(e)):i=new d(a.toString()),n=d.precision,a=o=n+3;;)if(s=i,i=s.plus(Ia(c,s,o+2)).times(.5),ea(s.d).slice(0,o)===(e=ea(i.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(St(s,n+1,0),s.times(s).eq(c)){i=s;break}}else if(e!="9999")break;o+=4}return Pt=!0,St(i,n)};Ae.times=Ae.mul=function(t){var e,n,i,a,s,o,c,d,h,f=this,p=f.constructor,m=f.d,x=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,n=f.e+t.e,d=m.length,h=x.length,d<h&&(s=m,m=x,x=s,o=d,d=h,h=o),s=[],o=d+h,i=o;i--;)s.push(0);for(i=h;--i>=0;){for(e=0,a=d+i;a>i;)c=s[a]+x[i]*m[a-i-1]+e,s[a--]=c%_n|0,e=c/_n|0;s[a]=(s[a]+e)%_n|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Pt?St(t,p.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,i=n.constructor;return n=new i(n),t===void 0?n:(aa(t,0,Tc),e===void 0?e=i.rounding:aa(e,0,8),St(n,t+ln(n)+1,e))};Ae.toExponential=function(t,e){var n,i=this,a=i.constructor;return t===void 0?n=qo(i,!0):(aa(t,0,Tc),e===void 0?e=a.rounding:aa(e,0,8),i=St(new a(i),t+1,e),n=qo(i,!0,t+1)),n};Ae.toFixed=function(t,e){var n,i,a=this,s=a.constructor;return t===void 0?qo(a):(aa(t,0,Tc),e===void 0?e=s.rounding:aa(e,0,8),i=St(new s(a),t+ln(a)+1,e),n=qo(i.abs(),!1,t+ln(i)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return St(new e(t),ln(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,i,a,s,o,c=this,d=c.constructor,h=12,f=+(t=new d(t));if(!t.s)return new d(Mi);if(c=new d(c),!c.s){if(t.s<1)throw Error(mr+"Infinity");return c}if(c.eq(Mi))return c;if(i=d.precision,t.eq(Mi))return St(c,i);if(e=t.e,n=t.d.length-1,o=e>=n,s=c.s,o){if((n=f<0?-f:f)<=YM){for(a=new d(Mi),e=Math.ceil(i/Et+4),Pt=!1;n%2&&(a=a.times(c),jT(a.d,e)),n=kc(n/2),n!==0;)c=c.times(c),jT(c.d,e);return Pt=!0,t.s<0?new d(Mi).div(a):St(a,i)}}else if(s<0)throw Error(mr+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Pt=!1,a=t.times(Md(c,i+h)),Pt=!0,a=KM(a),a.s=s,a};Ae.toPrecision=function(t,e){var n,i,a=this,s=a.constructor;return t===void 0?(n=ln(a),i=qo(a,n<=s.toExpNeg||n>=s.toExpPos)):(aa(t,1,Tc),e===void 0?e=s.rounding:aa(e,0,8),a=St(new s(a),t,e),n=ln(a),i=qo(a,t<=n||n<=s.toExpNeg,t)),i};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,i=n.constructor;return t===void 0?(t=i.precision,e=i.rounding):(aa(t,1,Tc),e===void 0?e=i.rounding:aa(e,0,8)),St(new i(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ln(t),n=t.constructor;return qo(t,e<=n.toExpNeg||e>=n.toExpPos)};function XM(t,e){var n,i,a,s,o,c,d,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Pt?St(e,p):e;if(d=t.d,h=e.d,o=t.e,a=e.e,d=d.slice(),s=o-a,s){for(s<0?(i=d,s=-s,c=h.length):(i=h,a=o,c=d.length),o=Math.ceil(p/Et),c=o>c?o+1:c+1,s>c&&(s=c,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(c=d.length,s=h.length,c-s<0&&(s=c,i=h,h=d,d=i),n=0;s;)n=(d[--s]=d[s]+h[s]+n)/_n|0,d[s]%=_n;for(n&&(d.unshift(n),++a),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=a,Pt?St(e,p):e}function aa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ro+t)}function ea(t){var e,n,i,a=t.length-1,s="",o=t[0];if(a>0){for(s+=o,e=1;e<a;e++)i=t[e]+"",n=Et-i.length,n&&(s+=Ts(n)),s+=i;o=t[e],i=o+"",n=Et-i.length,n&&(s+=Ts(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ia=(function(){function t(i,a){var s,o=0,c=i.length;for(i=i.slice();c--;)s=i[c]*a+o,i[c]=s%_n|0,o=s/_n|0;return o&&i.unshift(o),i}function e(i,a,s,o){var c,d;if(s!=o)d=s>o?1:-1;else for(c=d=0;c<s;c++)if(i[c]!=a[c]){d=i[c]>a[c]?1:-1;break}return d}function n(i,a,s){for(var o=0;s--;)i[s]-=o,o=i[s]<a[s]?1:0,i[s]=o*_n+i[s]-a[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,a,s,o){var c,d,h,f,p,m,x,b,y,_,S,N,E,A,T,k,R,H,V=i.constructor,Y=i.s==a.s?1:-1,W=i.d,X=a.d;if(!i.s)return new V(i);if(!a.s)throw Error(mr+"Division by zero");for(d=i.e-a.e,R=X.length,T=W.length,x=new V(Y),b=x.d=[],h=0;X[h]==(W[h]||0);)++h;if(X[h]>(W[h]||0)&&--d,s==null?N=s=V.precision:o?N=s+(ln(i)-ln(a))+1:N=s,N<0)return new V(0);if(N=N/Et+2|0,h=0,R==1)for(f=0,X=X[0],N++;(h<T||f)&&N--;h++)E=f*_n+(W[h]||0),b[h]=E/X|0,f=E%X|0;else{for(f=_n/(X[0]+1)|0,f>1&&(X=t(X,f),W=t(W,f),R=X.length,T=W.length),A=R,y=W.slice(0,R),_=y.length;_<R;)y[_++]=0;H=X.slice(),H.unshift(0),k=X[0],X[1]>=_n/2&&++k;do f=0,c=e(X,y,R,_),c<0?(S=y[0],R!=_&&(S=S*_n+(y[1]||0)),f=S/k|0,f>1?(f>=_n&&(f=_n-1),p=t(X,f),m=p.length,_=y.length,c=e(p,y,m,_),c==1&&(f--,n(p,R<m?H:X,m))):(f==0&&(c=f=1),p=X.slice()),m=p.length,m<_&&p.unshift(0),n(y,p,_),c==-1&&(_=y.length,c=e(X,y,R,_),c<1&&(f++,n(y,R<_?H:X,_))),_=y.length):c===0&&(f++,y=[0]),b[h++]=f,c&&y[0]?y[_++]=W[A]||0:(y=[W[A]],_=1);while((A++<T||y[0]!==void 0)&&N--)}return b[0]||b.shift(),x.e=d,St(x,o?s+ln(x)+1:s)}})();function KM(t,e){var n,i,a,s,o,c,d=0,h=0,f=t.constructor,p=f.precision;if(ln(t)>16)throw Error(E_+ln(t));if(!t.s)return new f(Mi);for(Pt=!1,c=p,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),h+=5;for(i=Math.log(jo(2,h))/Math.LN10*2+5|0,c+=i,n=a=s=new f(Mi),f.precision=c;;){if(a=St(a.times(t),c),n=n.times(++d),o=s.plus(Ia(a,n,c)),ea(o.d).slice(0,c)===ea(s.d).slice(0,c)){for(;h--;)s=St(s.times(s),c);return f.precision=p,e==null?(Pt=!0,St(s,p)):s}s=o}}function ln(t){for(var e=t.e*Et,n=t.d[0];n>=10;n/=10)e++;return e}function Xx(t,e,n){if(e>t.LN10.sd())throw Pt=!0,n&&(t.precision=n),Error(mr+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function Ts(t){for(var e="";t--;)e+="0";return e}function Md(t,e){var n,i,a,s,o,c,d,h,f,p=1,m=10,x=t,b=x.d,y=x.constructor,_=y.precision;if(x.s<1)throw Error(mr+(x.s?"NaN":"-Infinity"));if(x.eq(Mi))return new y(0);if(e==null?(Pt=!1,h=_):h=e,x.eq(10))return e==null&&(Pt=!0),Xx(y,h);if(h+=m,y.precision=h,n=ea(b),i=n.charAt(0),s=ln(x),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)x=x.times(t),n=ea(x.d),i=n.charAt(0),p++;s=ln(x),i>1?(x=new y("0."+n),s++):x=new y(i+"."+n.slice(1))}else return d=Xx(y,h+2,_).times(s+""),x=Md(new y(i+"."+n.slice(1)),h-m).plus(d),y.precision=_,e==null?(Pt=!0,St(x,_)):x;for(c=o=x=Ia(x.minus(Mi),x.plus(Mi),h),f=St(x.times(x),h),a=3;;){if(o=St(o.times(f),h),d=c.plus(Ia(o,new y(a),h)),ea(d.d).slice(0,h)===ea(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(Xx(y,h+2,_).times(s+""))),c=Ia(c,new y(p),h),y.precision=_,e==null?(Pt=!0,St(c,_)):c;c=d,a+=2}}function _T(t,e){var n,i,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;)++i;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(i,a),e){if(a-=i,n=n-i-1,t.e=kc(n/Et),t.d=[],i=(n+1)%Et,n<0&&(i+=Et),i<a){for(i&&t.d.push(+e.slice(0,i)),a-=Et;i<a;)t.d.push(+e.slice(i,i+=Et));e=e.slice(i),i=Et-e.length}else i-=a;for(;i--;)e+="0";if(t.d.push(+e),Pt&&(t.e>mg||t.e<-mg))throw Error(E_+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var i,a,s,o,c,d,h,f,p=t.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(i=e-o,i<0)i+=Et,a=e,h=p[f=0];else{if(f=Math.ceil((i+1)/Et),s=p.length,f>=s)return t;for(h=s=p[f],o=1;s>=10;s/=10)o++;i%=Et,a=i-Et+o}if(n!==void 0&&(s=jo(10,o-a-1),c=h/s%10|0,d=e<0||p[f+1]!==void 0||h%s,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(i>0?a>0?h/jo(10,o-a):0:p[f-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return d?(s=ln(t),p.length=1,e=e-s-1,p[0]=jo(10,(Et-e%Et)%Et),t.e=kc(-e/Et)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(i==0?(p.length=f,s=1,f--):(p.length=f+1,s=jo(10,Et-i),p[f]=a>0?(h/jo(10,o-a)%jo(10,a)|0)*s:0),d)for(;;)if(f==0){(p[0]+=s)==_n&&(p[0]=1,++t.e);break}else{if(p[f]+=s,p[f]!=_n)break;p[f--]=0,s=1}for(i=p.length;p[--i]===0;)p.pop();if(Pt&&(t.e>mg||t.e<-mg))throw Error(E_+ln(t));return t}function JM(t,e){var n,i,a,s,o,c,d,h,f,p,m=t.constructor,x=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Pt?St(e,x):e;if(d=t.d,p=e.d,i=e.e,h=t.e,d=d.slice(),o=h-i,o){for(f=o<0,f?(n=d,o=-o,c=p.length):(n=p,i=h,c=d.length),a=Math.max(Math.ceil(x/Et),c)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=d.length,c=p.length,f=a<c,f&&(c=a),a=0;a<c;a++)if(d[a]!=p[a]){f=d[a]<p[a];break}o=0}for(f&&(n=d,d=p,p=n,e.s=-e.s),c=d.length,a=p.length-c;a>0;--a)d[c++]=0;for(a=p.length;a>o;){if(d[--a]<p[a]){for(s=a;s&&d[--s]===0;)d[s]=_n-1;--d[s],d[a]+=_n}d[a]-=p[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--i;return d[0]?(e.d=d,e.e=i,Pt?St(e,x):e):new m(0)}function qo(t,e,n){var i,a=ln(t),s=ea(t.d),o=s.length;return e?(n&&(i=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ts(i):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Ts(-a-1)+s,n&&(i=n-o)>0&&(s+=Ts(i))):a>=o?(s+=Ts(a+1-o),n&&(i=n-a-1)>0&&(s=s+"."+Ts(i))):((i=a+1)<o&&(s=s.slice(0,i)+"."+s.slice(i)),n&&(i=n-o)>0&&(a+1===o&&(s+="."),s+=Ts(i))),t.s<0?"-"+s:s}function jT(t,e){if(t.length>e)return t.length=e,!0}function ZM(t){var e,n,i;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ro+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return _T(o,s.toString())}else if(typeof s!="string")throw Error(Ro+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,OJ.test(s))_T(o,s);else throw Error(Ro+s)}if(a.prototype=Ae,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=ZM,a.config=a.set=MJ,t===void 0&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)t.hasOwnProperty(n=i[e++])||(t[n]=this[n]);return a.config(t),a}function MJ(t){if(!t||typeof t!="object")throw Error(mr+"Object expected");var e,n,i,a=["precision",1,Tc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((i=t[n=a[e]])!==void 0)if(kc(i)===i&&i>=a[e+1]&&i<=a[e+2])this[n]=i;else throw Error(Ro+n+": "+i);if((i=t[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(Ro+n+": "+i);return this}var T_=ZM(DJ);Mi=new T_(1);const gt=T_;function QM(t){var e;return t===0?e=1:e=Math.floor(new gt(t).abs().log(10).toNumber())+1,e}function eP(t,e,n){for(var i=new gt(t),a=0,s=[];i.lt(e)&&a<1e5;)s.push(i.toNumber()),i=i.add(n),a++;return s}var tP=t=>{var[e,n]=t,[i,a]=[e,n];return e>n&&([i,a]=[n,e]),[i,a]},nP=(t,e,n)=>{if(t.lte(0))return new gt(0);var i=QM(t.toNumber()),a=new gt(10).pow(i),s=t.div(a),o=i!==1?.05:.1,c=new gt(Math.ceil(s.div(o).toNumber())).add(n).mul(o),d=c.mul(a);return e?new gt(d.toNumber()):new gt(Math.ceil(d.toNumber()))},PJ=(t,e,n)=>{var i=new gt(1),a=new gt(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(i=new gt(10).pow(QM(t)-1),a=new gt(Math.floor(a.div(i).toNumber())).mul(i)):s>1&&(a=new gt(Math.floor(t)))}else t===0?a=new gt(Math.floor((e-1)/2)):n||(a=new gt(Math.floor(t)));for(var o=Math.floor((e-1)/2),c=[],d=0;d<e;d++)c.push(a.add(new gt(d-o).mul(i)).toNumber());return c},iP=function(e,n,i,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(i-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var o=nP(new gt(n).sub(e).div(i-1),a,s),c;e<=0&&n>=0?c=new gt(0):(c=new gt(e).add(n).div(2),c=c.sub(new gt(c).mod(o)));var d=Math.ceil(c.sub(e).div(o).toNumber()),h=Math.ceil(new gt(n).sub(c).div(o).toNumber()),f=d+h+1;return f>i?iP(e,n,i,a,s+1):(f<i&&(h=n>0?h+(i-f):h,d=n>0?d:d+(i-f)),{step:o,tickMin:c.sub(new gt(d).mul(o)),tickMax:c.add(new gt(h).mul(o))})},RJ=function(e){var[n,i]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[c,d]=tP([n,i]);if(c===-1/0||d===1/0){var h=d===1/0?[c,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),d];return n>i?h.reverse():h}if(c===d)return PJ(c,a,s);var{step:f,tickMin:p,tickMax:m}=iP(c,d,o,s,0),x=eP(p,m.add(new gt(.1).mul(f)),f);return n>i?x.reverse():x},LJ=function(e,n){var[i,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=tP([i,a]);if(o===-1/0||c===1/0)return[i,a];if(o===c)return[o];var d=Math.max(n,2),h=nP(new gt(c).sub(o).div(d-1),s,0),f=[...eP(new gt(o),new gt(c),h),c];return s===!1&&(f=f.map(p=>Math.round(p))),i>a?f.reverse():f},rP=t=>t.rootProps.maxBarSize,IJ=t=>t.rootProps.barGap,aP=t=>t.rootProps.barCategoryGap,BJ=t=>t.rootProps.barSize,Dm=t=>t.rootProps.stackOffset,sP=t=>t.rootProps.reverseStackOrder,k_=t=>t.options.chartName,D_=t=>t.rootProps.syncId,oP=t=>t.rootProps.syncMethod,O_=t=>t.options.eventEmitter,zJ=t=>t.rootProps.baseValue,jn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},go={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Gr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Om=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Mm(t,e,n){if(n!=="auto")return n;if(t!=null)return la(t,e)?"category":"number"}function wT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(n),!0).forEach(function(i){$J(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $J(t,e,n){return(e=FJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FJ(t){var e=HJ(t,"string");return typeof e=="symbol"?e:e+""}function HJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ST={allowDataOverflow:go.allowDataOverflow,allowDecimals:go.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:go.angleAxisId,includeHidden:!1,name:void 0,reversed:go.reversed,scale:go.scale,tick:go.tick,tickCount:void 0,ticks:void 0,type:go.type,unit:void 0},CT={allowDataOverflow:Gr.allowDataOverflow,allowDecimals:Gr.allowDecimals,allowDuplicatedCategory:Gr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gr.radiusAxisId,includeHidden:Gr.includeHidden,name:void 0,reversed:Gr.reversed,scale:Gr.scale,tick:Gr.tick,tickCount:Gr.tickCount,ticks:void 0,type:Gr.type,unit:void 0},UJ=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},M_=ue([UJ,WO],(t,e)=>{var n;if(t!=null)return t;var i=(n=Mm(e,"angleAxis",ST.type))!==null&&n!==void 0?n:"category";return vg(vg({},ST),{},{type:i})}),VJ=(t,e)=>t.polarAxis.radiusAxis[e],P_=ue([VJ,WO],(t,e)=>{var n;if(t!=null)return t;var i=(n=Mm(e,"radiusAxis",CT.type))!==null&&n!==void 0?n:"category";return vg(vg({},CT),{},{type:i})}),Pm=t=>t.polarOptions,R_=ue([Xa,Ka,An],FY),lP=ue([Pm,R_],(t,e)=>{if(t!=null)return Mr(t.innerRadius,e,0)}),cP=ue([Pm,R_],(t,e)=>{if(t!=null)return Mr(t.outerRadius,e,e*.8)}),qJ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},uP=ue([Pm],qJ);ue([M_,uP],Om);var dP=ue([R_,lP,cP],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ue([P_,dP],Om);var hP=ue([dt,Pm,lP,cP,Xa,Ka],(t,e,n,i,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||i==null)){var{cx:o,cy:c,startAngle:d,endAngle:h}=e;return{cx:Mr(o,a,a/2),cy:Mr(c,s,s/2),innerRadius:n,outerRadius:i,startAngle:d,endAngle:h,clockWise:!1}}}),En=(t,e)=>e,Rm=(t,e,n)=>n;function Lm(t){return t?.id}function fP(t,e,n){var{chartData:i=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=n,o=new Map;return t.forEach(c=>{var d,h=(d=c.data)!==null&&d!==void 0?d:i;if(!(h==null||h.length===0)){var f=Lm(c);h.forEach((p,m)=>{var x=s==null||a?m:String(on(p,s,null)),b=on(p,c.dataKey,0),y;o.has(x)?y=o.get(x):y={},Object.assign(y,{[f]:b}),o.set(x,y)})}}),Array.from(o.values())}function Im(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Bm=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function zm(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function GJ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Tn=t=>{var e=dt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Dc=t=>t.tooltip.settings.axisId;function WJ(t){if(t in ad)return ad[t]();var e="scale".concat(nh(t));if(e in ad)return ad[e]()}function AT(t){var e=t.ticks,n=t.bandwidth,i=t.range(),a=[Math.min(...i),Math.max(...i)];return{domain:()=>t.domain(),range:(function(s){function o(){return s.apply(this,arguments)}return o.toString=function(){return s.toString()},o})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var o=a[0],c=a[1];return o<=c?s>=o&&s<=c:s>=c&&s<=o},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,o)=>{var c=t(s);if(c!=null){if(t.bandwidth&&o!==null&&o!==void 0&&o.position){var d=t.bandwidth();switch(o.position){case"middle":c+=d/2;break;case"end":c+=d;break}}return c}}}}function NT(t,e,n){if(typeof t=="function")return AT(t.copy().domain(e).range(n));if(t!=null){var i=WJ(t);if(i!=null)return i.domain(e).range(n),AT(i)}}var YJ=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Ga(e)){for(var n,i,a=0;a<e.length;a++){var s=e[a];qe(s)&&((n===void 0||s<n)&&(n=s),(i===void 0||s>i)&&(i=s))}return n!==void 0&&i!==void 0?[n,i]:void 0}return e}default:return e}};function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(i){XJ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function XJ(t,e,n){return(e=KJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KJ(t){var e=JJ(t,"string");return typeof e=="symbol"?e:e+""}function JJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kb=[0,"auto"],vn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},pP=(t,e)=>t.cartesianAxis.xAxis[e],Qa=(t,e)=>{var n=pP(t,e);return n??vn},xn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ah},gP=(t,e)=>t.cartesianAxis.yAxis[e],es=(t,e)=>{var n=gP(t,e);return n??xn},ZJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},L_=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??ZJ},si=(t,e,n)=>{switch(e){case"xAxis":return Qa(t,n);case"yAxis":return es(t,n);case"zAxis":return L_(t,n);case"angleAxis":return M_(t,n);case"radiusAxis":return P_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},QJ=(t,e,n)=>{switch(e){case"xAxis":return Qa(t,n);case"yAxis":return es(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},fh=(t,e,n)=>{switch(e){case"xAxis":return Qa(t,n);case"yAxis":return es(t,n);case"angleAxis":return M_(t,n);case"radiusAxis":return P_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},mP=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function vP(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var $m=t=>t.graphicalItems.cartesianItems,eZ=ue([En,Rm],vP),xP=(t,e,n)=>t.filter(n).filter(i=>e?.includeHidden===!0?!0:!i.hide),ph=ue([$m,si,eZ],xP,{memoizeOptions:{resultEqualityCheck:zm}}),yP=ue([ph],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Im)),bP=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),tZ=ue([ph],bP),_P=t=>t.map(e=>e.data).filter(Boolean).flat(1),nZ=ue([ph],_P,{memoizeOptions:{resultEqualityCheck:zm}}),jP=(t,e)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:a}=e;return t.length>0?t:n.slice(i,a+1)},I_=ue([nZ,qM],jP),wP=(t,e,n)=>e?.dataKey!=null?t.map(i=>({value:on(i,e.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>t.map(a=>({value:on(a,i)}))):t.map(i=>({value:i})),Fm=ue([I_,si,ph],wP);function SP(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Ap(t){if(ia(t)||t instanceof Date){var e=Number(t);if(qe(e))return e}}function TT(t){if(Array.isArray(t)){var e=[Ap(t[0]),Ap(t[1])];return Ga(e)?e:void 0}var n=Ap(t);if(n!=null)return[n,n]}function Wa(t){return t.map(Ap).filter(xi)}function iZ(t,e,n){return!n||typeof e!="number"||Or(e)?[]:n.length?Wa(n.flatMap(i=>{var a=on(t,i.dataKey),s,o;if(Array.isArray(a)?[s,o]=a:s=o=a,!(!qe(s)||!qe(o)))return[e-s,e+o]})):[]}var fn=t=>{var e=Tn(t),n=Dc(t);return fh(t,e,n)},gh=ue([fn],t=>t?.dataKey),rZ=ue([yP,qM,fn],fP),CP=(t,e,n,i)=>{var a={},s=e.reduce((o,c)=>{if(c.stackId==null)return o;var d=o[c.stackId];return d==null&&(d=[]),d.push(c),o[c.stackId]=d,o},a);return Object.fromEntries(Object.entries(s).map(o=>{var[c,d]=o,h=i?[...d].reverse():d,f=h.map(Lm);return[c,{stackedData:MG(t,f,n),graphicalItems:h}]}))},yg=ue([rZ,yP,Dm,sP],CP),AP=(t,e,n,i)=>{var{dataStartIndex:a,dataEndIndex:s}=e;if(i==null&&n!=="zAxis"){var o=IG(t,a,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},aZ=ue([si],t=>t.allowDataOverflow),B_=t=>{var e;if(t==null||!("domain"in t))return kb;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Wa(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:kb},NP=ue([si],B_),EP=ue([NP,aZ],WM),sZ=ue([yg,Za,En,EP],AP,{memoizeOptions:{resultEqualityCheck:Bm}}),z_=t=>t.errorBars,oZ=(t,e,n)=>t.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>SP(n,i)),bg=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),o=Math.min(...s),c=Math.max(...s);return[o,c]}},TP=(t,e,n,i,a)=>{var s,o;if(n.length>0&&t.forEach(c=>{n.forEach(d=>{var h,f,p=(h=i[d.id])===null||h===void 0?void 0:h.filter(S=>SP(a,S)),m=on(c,(f=e.dataKey)!==null&&f!==void 0?f:d.dataKey),x=iZ(c,m,p);if(x.length>=2){var b=Math.min(...x),y=Math.max(...x);(s==null||b<s)&&(s=b),(o==null||y>o)&&(o=y)}var _=TT(m);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),o=o==null?_[1]:Math.max(o,_[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var d=TT(on(c,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),qe(s)&&qe(o))return[s,o]},lZ=ue([I_,si,tZ,z_,En],TP,{memoizeOptions:{resultEqualityCheck:Bm}});function cZ(t){var{value:e}=t;if(ia(e)||e instanceof Date)return e}var uZ=(t,e,n)=>{var i=t.map(cZ).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&U6(i))?uM(0,t.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},kP=t=>t.referenceElements.dots,Oc=(t,e,n)=>t.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===n:i.yAxisId===n),dZ=ue([kP,En,Rm],Oc),DP=t=>t.referenceElements.areas,hZ=ue([DP,En,Rm],Oc),OP=t=>t.referenceElements.lines,fZ=ue([OP,En,Rm],Oc),MP=(t,e)=>{if(t!=null){var n=Wa(t.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},pZ=ue(dZ,En,MP),PP=(t,e)=>{if(t!=null){var n=Wa(t.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},gZ=ue([hZ,En],PP);function mZ(t){var e;if(t.x!=null)return Wa([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(i=>i.x);return n==null||n.length===0?[]:Wa(n)}function vZ(t){var e;if(t.y!=null)return Wa([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(i=>i.y);return n==null||n.length===0?[]:Wa(n)}var RP=(t,e)=>{if(t!=null){var n=t.flatMap(i=>e==="xAxis"?mZ(i):vZ(i));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},xZ=ue([fZ,En],RP),yZ=ue(pZ,xZ,gZ,(t,e,n)=>bg(t,n,e)),LP=(t,e,n,i,a,s,o,c)=>{if(n!=null)return n;var d=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",h=d?bg(i,s,a):bg(s,a);return kJ(e,h,t.allowDataOverflow)},bZ=ue([si,NP,EP,sZ,lZ,yZ,dt,En],LP,{memoizeOptions:{resultEqualityCheck:Bm}}),_Z=[0,1],IP=(t,e,n,i,a,s,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:d}=t,h=la(e,s);if(h&&c==null){var f;return uM(0,(f=n?.length)!==null&&f!==void 0?f:0)}return d==="category"?uZ(i,t,h):a==="expand"?_Z:o}},$_=ue([si,dt,I_,Fm,Dm,En,bZ],IP);function jZ(t){return t in ad}var BP=(t,e,n)=>{if(t!=null){var{scale:i,type:a}=t;if(i==="auto")return a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":a==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(nh(i));return jZ(s)?s:"point"}}},Mc=ue([si,mP,k_],BP);function F_(t,e,n,i){if(!(n==null||i==null))return typeof t.scale=="function"?NT(t.scale,n,i):NT(e,n,i)}var zP=(t,e,n)=>{var i=B_(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Ga(t))return RJ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ga(t))return LJ(t,e.tickCount,e.allowDecimals)}},H_=ue([$_,fh,Mc],zP),$P=(t,e,n,i)=>{if(i!=="angleAxis"&&t?.type==="number"&&Ga(e)&&Array.isArray(n)&&n.length>0){var a,s,o=e[0],c=(a=n[0])!==null&&a!==void 0?a:0,d=e[1],h=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(o,c),Math.max(d,h)]}return e},wZ=ue([si,$_,H_,En],$P),SZ=ue(Fm,si,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,i=Array.from(Wa(t.map(p=>p.value))).sort((p,m)=>p-m),a=i[0],s=i[i.length-1];if(a==null||s==null)return 1/0;var o=s-a;if(o===0)return 1/0;for(var c=0;c<i.length-1;c++){var d=i[c],h=i[c+1];if(!(d==null||h==null)){var f=h-d;n=Math.min(n,f)}}return n/o}}),FP=ue(SZ,dt,aP,An,(t,e,n,i,a)=>a,(t,e,n,i,a)=>{if(!qe(t))return 0;var s=e==="vertical"?i.height:i.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var o=Mr(n,t*s),c=t*s/2;return c-o-(c-o)/s*o}return 0}),CZ=(t,e,n)=>{var i=Qa(t,e);return i==null||typeof i.padding!="string"?0:FP(t,"xAxis",e,n,i.padding)},AZ=(t,e,n)=>{var i=es(t,e);return i==null||typeof i.padding!="string"?0:FP(t,"yAxis",e,n,i.padding)},NZ=ue(Qa,CZ,(t,e)=>{var n,i;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((i=a.right)!==null&&i!==void 0?i:0)+e}}),EZ=ue(es,AZ,(t,e)=>{var n,i;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((i=a.bottom)!==null&&i!==void 0?i:0)+e}}),TZ=ue([An,NZ,xm,vm,(t,e,n)=>n],(t,e,n,i,a)=>{var{padding:s}=i;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),kZ=ue([An,dt,EZ,xm,vm,(t,e,n)=>n],(t,e,n,i,a,s)=>{var{padding:o}=a;return s?[i.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),mh=(t,e,n,i)=>{var a;switch(e){case"xAxis":return TZ(t,n,i);case"yAxis":return kZ(t,n,i);case"zAxis":return(a=L_(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return uP(t);case"radiusAxis":return dP(t,n);default:return}},HP=ue([si,mh],Om),DZ=ue([Mc,wZ],YJ),Hm=ue([si,Mc,DZ,HP],F_);ue([ph,z_,En],oZ);function UP(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Um=(t,e)=>e,Vm=(t,e,n)=>n,OZ=ue(gm,Um,Vm,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(UP)),MZ=ue(mm,Um,Vm,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(UP)),VP=(t,e)=>({width:t.width,height:e.height}),PZ=(t,e)=>{var n=typeof e.width=="number"?e.width:ah;return{width:n,height:t.height}},qP=ue(An,Qa,VP),RZ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},LZ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},IZ=ue(Ka,An,OZ,Um,Vm,(t,e,n,i,a)=>{var s={},o;return n.forEach(c=>{var d=VP(e,c);o==null&&(o=RZ(e,i,t));var h=i==="top"&&!a||i==="bottom"&&a;s[c.id]=o-Number(h)*d.height,o+=(h?-1:1)*d.height}),s}),BZ=ue(Xa,An,MZ,Um,Vm,(t,e,n,i,a)=>{var s={},o;return n.forEach(c=>{var d=PZ(e,c);o==null&&(o=LZ(e,i,t));var h=i==="left"&&!a||i==="right"&&a;s[c.id]=o-Number(h)*d.width,o+=(h?-1:1)*d.width}),s}),zZ=(t,e)=>{var n=Qa(t,e);if(n!=null)return IZ(t,n.orientation,n.mirror)},$Z=ue([An,Qa,zZ,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var a=n?.[i];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),FZ=(t,e)=>{var n=es(t,e);if(n!=null)return BZ(t,n.orientation,n.mirror)},HZ=ue([An,es,FZ,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var a=n?.[i];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),GP=ue(An,es,(t,e)=>{var n=typeof e.width=="number"?e.width:ah;return{width:n,height:t.height}}),kT=(t,e,n)=>{switch(e){case"xAxis":return qP(t,n).width;case"yAxis":return GP(t,n).height;default:return}},WP=(t,e,n,i)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:o}=n,c=la(t,i),d=e.map(h=>h.value);if(o&&c&&s==="category"&&a&&U6(d))return d}},U_=ue([dt,Fm,si,En],WP),YP=(t,e,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,o=la(t,i);if(o&&(a==="number"||s!=="auto"))return e.map(c=>c.value)}},V_=ue([dt,Fm,fh,En],YP),DT=ue([dt,QJ,Mc,Hm,U_,V_,mh,H_,En],(t,e,n,i,a,s,o,c,d)=>{if(e!=null){var h=la(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:c,range:o,realScaleType:n,scale:i}}}),UZ=(t,e,n,i,a,s,o,c,d)=>{if(!(e==null||i==null)){var h=la(t,d),{type:f,ticks:p,tickCount:m}=e,x=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,b=f==="category"&&i.bandwidth?i.bandwidth()/x:0;b=d==="angleAxis"&&s!=null&&s.length>=2?vi(s[0]-s[1])*2*b:b;var y=p||a;return y?y.map((_,S)=>{var N=o?o.indexOf(_):_,E=i.map(N);return qe(E)?{index:S,coordinate:E+b,value:_,offset:b}:null}).filter(xi):h&&c?c.map((_,S)=>{var N=i.map(_);return qe(N)?{coordinate:N+b,value:_,index:S,offset:b}:null}).filter(xi):i.ticks?i.ticks(m).map((_,S)=>{var N=i.map(_);return qe(N)?{coordinate:N+b,value:_,index:S,offset:b}:null}).filter(xi):i.domain().map((_,S)=>{var N=i.map(_);return qe(N)?{coordinate:N+b,value:o?o[_]:_,index:S,offset:b}:null}).filter(xi)}},XP=ue([dt,fh,Mc,Hm,H_,mh,U_,V_,En],UZ),VZ=(t,e,n,i,a,s,o)=>{if(!(e==null||n==null||i==null||i[0]===i[1])){var c=la(t,o),{tickCount:d}=e,h=0;return h=o==="angleAxis"&&i?.length>=2?vi(i[0]-i[1])*2*h:h,c&&s?s.map((f,p)=>{var m=n.map(f);return qe(m)?{coordinate:m+h,value:f,index:p,offset:h}:null}).filter(xi):n.ticks?n.ticks(d).map((f,p)=>{var m=n.map(f);return qe(m)?{coordinate:m+h,value:f,index:p,offset:h}:null}).filter(xi):n.domain().map((f,p)=>{var m=n.map(f);return qe(m)?{coordinate:m+h,value:a?a[f]:f,index:p,offset:h}:null}).filter(xi)}},Hs=ue([dt,fh,Hm,mh,U_,V_,En],VZ),Us=ue(si,Hm,(t,e)=>{if(!(t==null||e==null))return xg(xg({},t),{},{scale:e})}),qZ=ue([si,Mc,$_,HP],F_);ue((t,e,n)=>L_(t,n),qZ,(t,e)=>{if(!(t==null||e==null))return xg(xg({},t),{},{scale:e})});var GZ=ue([dt,gm,mm],(t,e,n)=>{switch(t){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),KP=t=>t.options.defaultTooltipEventType,JP=t=>t.options.validateTooltipEventTypes;function ZP(t,e,n){if(t==null)return e;var i=t?"axis":"item";return n==null?e:n.includes(i)?i:e}function q_(t,e){var n=KP(t),i=JP(t);return ZP(e,n,i)}function WZ(t){return Oe(e=>q_(e,t))}var QP=(t,e)=>{var n,i=Number(e);if(!(Or(i)||e==null))return i>=0?t==null||(n=t[i])===null||n===void 0?void 0:n.value:void 0},YZ=t=>t.tooltip.settings,Os={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},XZ={itemInteraction:{click:Os,hover:Os},axisInteraction:{click:Os,hover:Os},keyboardInteraction:Os,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},e8=bi({name:"tooltip",initialState:XZ,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Ot()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:i}=e.payload,a=kr(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=i)},prepare:Ot()},removeTooltipEntrySettings:{reducer(t,e){var n=kr(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Ot()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:KZ,replaceTooltipEntrySettings:JZ,removeTooltipEntrySettings:ZZ,setTooltipSettingsState:QZ,setActiveMouseOverItemIndex:t8,mouseLeaveItem:eQ,mouseLeaveChart:n8,setActiveClickItemIndex:tQ,setMouseOverAxisIndex:i8,setMouseClickAxisIndex:nQ,setSyncInteraction:Db,setKeyboardInteraction:Ob}=e8.actions,iQ=e8.reducer;function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(i){rQ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function rQ(t,e,n){return(e=aQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aQ(t){var e=sQ(t,"string");return typeof e=="symbol"?e:e+""}function sQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function lQ(t){return t.index!=null}var r8=(t,e,n,i)=>{if(e==null)return Os;var a=oQ(t,e,n);if(a==null)return Os;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(lQ(a)){if(s)return up(up({},a),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return up(up({},Os),{},{coordinate:a.coordinate})};function cQ(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function uQ(t,e){var n=cQ(t),i=e[0],a=e[1];if(n===void 0)return!1;var s=Math.min(i,a),o=Math.max(i,a);return n>=s&&n<=o}function dQ(t,e,n){if(n==null||e==null)return!0;var i=on(t,e);return i==null||!Ga(n)?!0:uQ(i,n)}var G_=(t,e,n,i)=>{var a=t?.index;if(a==null)return null;var s=Number(a);if(!qe(s))return a;var o=0,c=1/0;e.length>0&&(c=e.length-1);var d=Math.max(o,Math.min(s,c)),h=e[d];return h==null||dQ(h,n,i)?String(d):null},a8=(t,e,n,i,a,s,o)=>{if(s!=null){var c=o[0],d=c?.getPosition(s);if(d!=null)return d;var h=a?.[Number(s)];if(h)return n==="horizontal"?{x:h.coordinate,y:(i.top+e)/2}:{x:(i.left+t)/2,y:h.coordinate}}},s8=(t,e,n,i)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=t.itemInteraction.hover.graphicalItemId:a=t.itemInteraction.click.graphicalItemId,a==null&&i!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(o=>{var c;return((c=o.settings)===null||c===void 0?void 0:c.graphicalItemId)===a})},o8=t=>t.options.tooltipPayloadSearcher,Pc=t=>t.tooltip;function MT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function PT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MT(Object(n),!0).forEach(function(i){hQ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function hQ(t,e,n){return(e=fQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fQ(t){var e=pQ(t,"string");return typeof e=="symbol"?e:e+""}function pQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gQ(t,e){return t??e}var l8=(t,e,n,i,a,s,o)=>{if(!(e==null||s==null)){var{chartData:c,computedData:d,dataStartIndex:h,dataEndIndex:f}=n,p=[];return t.reduce((m,x)=>{var b,{dataDefinedOnItem:y,settings:_}=x,S=gQ(y,c),N=Array.isArray(S)?RO(S,h,f):S,E=(b=_?.dataKey)!==null&&b!==void 0?b:i,A=_?.nameKey,T;if(i&&Array.isArray(N)&&!Array.isArray(N[0])&&o==="axis"?T=V6(N,i,a):T=s(N,e,d,A),Array.isArray(T))T.forEach(R=>{var H=PT(PT({},_),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});m.push(PE({tooltipEntrySettings:H,dataKey:R.dataKey,payload:R.payload,value:on(R.payload,R.dataKey),name:R.name}))});else{var k;m.push(PE({tooltipEntrySettings:_,dataKey:E,payload:T,value:on(T,E),name:(k=on(T,A))!==null&&k!==void 0?k:_?.name}))}return m},p)}},W_=ue([fn,mP,k_],BP),mQ=ue([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),vQ=ue([Tn,Dc],vP),Rc=ue([mQ,fn,vQ],xP,{memoizeOptions:{resultEqualityCheck:zm}}),xQ=ue([Rc],t=>t.filter(Im)),yQ=ue([Rc],_P,{memoizeOptions:{resultEqualityCheck:zm}}),Lc=ue([yQ,Za],jP),bQ=ue([xQ,Za,fn],fP),Y_=ue([Lc,fn,Rc],wP),c8=ue([fn],B_),_Q=ue([fn],t=>t.allowDataOverflow),u8=ue([c8,_Q],WM),jQ=ue([Rc],t=>t.filter(Im)),wQ=ue([bQ,jQ,Dm,sP],CP),SQ=ue([wQ,Za,Tn,u8],AP),CQ=ue([Rc],bP),AQ=ue([Lc,fn,CQ,z_,Tn],TP,{memoizeOptions:{resultEqualityCheck:Bm}}),NQ=ue([kP,Tn,Dc],Oc),EQ=ue([NQ,Tn],MP),TQ=ue([DP,Tn,Dc],Oc),kQ=ue([TQ,Tn],PP),DQ=ue([OP,Tn,Dc],Oc),OQ=ue([DQ,Tn],RP),MQ=ue([EQ,OQ,kQ],bg),PQ=ue([fn,c8,u8,SQ,AQ,MQ,dt,Tn],LP),vh=ue([fn,dt,Lc,Y_,Dm,Tn,PQ],IP),RQ=ue([vh,fn,W_],zP),LQ=ue([fn,vh,RQ,Tn],$P),d8=t=>{var e=Tn(t),n=Dc(t),i=!1;return mh(t,e,n,i)},h8=ue([fn,d8],Om),f8=ue([fn,W_,LQ,h8],F_),IQ=ue([dt,Y_,fn,Tn],WP),BQ=ue([dt,Y_,fn,Tn],YP),zQ=(t,e,n,i,a,s,o,c)=>{if(e){var{type:d}=e,h=la(t,c);if(i){var f=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,p=d==="category"&&i.bandwidth?i.bandwidth()/f:0;return p=c==="angleAxis"&&a!=null&&a?.length>=2?vi(a[0]-a[1])*2*p:p,h&&o?o.map((m,x)=>{var b=i.map(m);return qe(b)?{coordinate:b+p,value:m,index:x,offset:p}:null}).filter(xi):i.domain().map((m,x)=>{var b=i.map(m);return qe(b)?{coordinate:b+p,value:s?s[m]:m,index:x,offset:p}:null}).filter(xi)}}},ts=ue([dt,fn,W_,f8,d8,IQ,BQ,Tn],zQ),X_=ue([KP,JP,YZ],(t,e,n)=>ZP(n.shared,t,e)),p8=t=>t.tooltip.settings.trigger,K_=t=>t.tooltip.settings.defaultIndex,xh=ue([Pc,X_,p8,K_],r8),Go=ue([xh,Lc,gh,vh],G_),g8=ue([ts,Go],QP),m8=ue([xh],t=>{if(t)return t.dataKey});ue([xh],t=>{if(t)return t.graphicalItemId});var v8=ue([Pc,X_,p8,K_],s8),$Q=ue([Xa,Ka,dt,An,ts,K_,v8],a8),FQ=ue([xh,$Q],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),HQ=ue([xh],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),UQ=ue([v8,Go,Za,gh,g8,o8,X_],l8),VQ=ue([UQ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function RT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function LT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RT(Object(n),!0).forEach(function(i){qQ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function qQ(t,e,n){return(e=GQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=WQ(t,"string");return typeof e=="symbol"?e:e+""}function WQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YQ=()=>Oe(fn),XQ=()=>{var t=YQ(),e=Oe(ts),n=Oe(f8);return fc(!t||!n?void 0:LT(LT({},t),{},{scale:n}),e)};function IT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Ul(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(n),!0).forEach(function(i){KQ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function KQ(t,e,n){return(e=JQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JQ(t){var e=ZQ(t,"string");return typeof e=="symbol"?e:e+""}function ZQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QQ=(t,e,n,i)=>{var a=e.find(s=>s&&s.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:i.chartY};if(t==="vertical")return{x:i.chartX,y:a.coordinate}}return{x:0,y:0}},eee=(t,e,n,i)=>{var a=e.find(h=>h&&h.index===n);if(a){if(t==="centric"){var s=a.coordinate,{radius:o}=i;return Ul(Ul(Ul({},i),$n(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var c=a.coordinate,{angle:d}=i;return Ul(Ul(Ul({},i),$n(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function tee(t,e){var{chartX:n,chartY:i}=t;return n>=e.left&&n<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var x8=(t,e,n,i,a)=>{var s,o=(s=e?.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(i==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var d,h,f,p,m,x=c>0?(d=n[c-1])===null||d===void 0?void 0:d.coordinate:(h=n[o-1])===null||h===void 0?void 0:h.coordinate,b=(f=n[c])===null||f===void 0?void 0:f.coordinate,y=c>=o-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(m=n[c+1])===null||m===void 0?void 0:m.coordinate,_=void 0;if(!(x==null||b==null||y==null))if(vi(b-x)!==vi(y-b)){var S=[];if(vi(y-b)===vi(a[1]-a[0])){_=y;var N=b+a[1]-a[0];S[0]=Math.min(N,(N+x)/2),S[1]=Math.max(N,(N+x)/2)}else{_=x;var E=y+a[1]-a[0];S[0]=Math.min(b,(E+b)/2),S[1]=Math.max(b,(E+b)/2)}var A=[Math.min(b,(_+b)/2),Math.max(b,(_+b)/2)];if(t>A[0]&&t<=A[1]||t>=S[0]&&t<=S[1]){var T;return(T=n[c])===null||T===void 0?void 0:T.index}}else{var k=Math.min(x,y),R=Math.max(x,y);if(t>(k+b)/2&&t<=(R+b)/2){var H;return(H=n[c])===null||H===void 0?void 0:H.index}}}else if(e)for(var V=0;V<o;V++){var Y=e[V];if(Y!=null){var W=e[V+1],X=e[V-1];if(V===0&&W!=null&&t<=(Y.coordinate+W.coordinate)/2||V===o-1&&X!=null&&t>(Y.coordinate+X.coordinate)/2||V>0&&V<o-1&&X!=null&&W!=null&&t>(Y.coordinate+X.coordinate)/2&&t<=(Y.coordinate+W.coordinate)/2)return Y.index}}return-1},y8=()=>Oe(k_),J_=(t,e)=>e,b8=(t,e,n)=>n,Z_=(t,e,n,i)=>i,nee=ue(ts,t=>rm(t,e=>e.coordinate)),Q_=ue([Pc,J_,b8,Z_],r8),ej=ue([Q_,Lc,gh,vh],G_),iee=(t,e,n)=>{if(e!=null){var i=Pc(t);return e==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},_8=ue([Pc,J_,b8,Z_],s8),_g=ue([Xa,Ka,dt,An,ts,Z_,_8],a8),ree=ue([Q_,_g],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),j8=ue([ts,ej],QP),aee=ue([_8,ej,Za,gh,j8,o8,J_],l8),see=ue([Q_,ej],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),oee=(t,e,n,i,a,s,o)=>{if(!(!t||!n||!i||!a)&&tee(t,o)){var c=BG(t,e),d=x8(c,s,a,n,i),h=QQ(e,a,d,t);return{activeIndex:String(d),activeCoordinate:h}}},lee=(t,e,n,i,a,s,o)=>{if(!(!t||!i||!a||!s||!n)){var c=GY(t,n);if(c){var d=zG(c,e),h=x8(d,o,s,i,a),f=eee(e,s,h,c);return{activeIndex:String(h),activeCoordinate:f}}}},cee=(t,e,n,i,a,s,o,c)=>{if(!(!t||!e||!i||!a||!s))return e==="horizontal"||e==="vertical"?oee(t,e,i,a,s,o,c):lee(t,e,n,i,a,s,o)},uee=ue(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var i=t[e];if(i!=null)return n?i.panoramaElement:i.element}}),dee=ue(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(i=>parseInt(i,10)).concat(Object.values(jn)),n=Array.from(new Set(e));return n.sort((i,a)=>i-a)},{memoizeOptions:{resultEqualityCheck:GJ}});function BT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function zT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BT(Object(n),!0).forEach(function(i){hee(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function hee(t,e,n){return(e=fee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fee(t){var e=pee(t,"string");return typeof e=="symbol"?e:e+""}function pee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gee={},mee={zIndexMap:Object.values(jn).reduce((t,e)=>zT(zT({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),gee)},vee=new Set(Object.values(jn));function xee(t){return vee.has(t)}var w8=bi({name:"zIndex",initialState:mee,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ot()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!xee(n)&&delete t.zIndexMap[n])},prepare:Ot()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:i,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElement=i:t.zIndexMap[n].element=i:t.zIndexMap[n]={consumers:0,element:a?void 0:i,panoramaElement:a?i:void 0}},prepare:Ot()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Ot()}}}),{registerZIndexPortal:yee,unregisterZIndexPortal:bee,registerZIndexPortalElement:_ee,unregisterZIndexPortalElement:jee}=w8.actions,wee=w8.reducer;function br(t){var{zIndex:e,children:n}=t,i=vW(),a=i&&e!==void 0&&e!==0,s=Yn(),o=Qt();j.useLayoutEffect(()=>a?(o(yee({zIndex:e})),()=>{o(bee({zIndex:e}))}):Zo,[o,e,a]);var c=Oe(d=>uee(d,e,s));return a?c?qd.createPortal(n,c):null:n}function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Mb.apply(null,arguments)}function $T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$T(Object(n),!0).forEach(function(i){See(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function See(t,e,n){return(e=Cee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cee(t){var e=Aee(t,"string");return typeof e=="symbol"?e:e+""}function Aee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nee(t){var{cursor:e,cursorComp:n,cursorProps:i}=t;return j.isValidElement(e)?j.cloneElement(e,i):j.createElement(n,i)}function Eee(t){var e,{coordinate:n,payload:i,index:a,offset:s,tooltipAxisBandSize:o,layout:c,cursor:d,tooltipEventType:h,chartName:f}=t,p=n,m=i,x=a;if(!d||!p||f!=="ScatterChart"&&h!=="axis")return null;var b,y,_;if(f==="ScatterChart")b=p,y=aY,_=jn.cursorLine;else if(f==="BarChart")b=sY(c,p,s,o),y=sM,_=jn.cursorRectangle;else if(c==="radial"&&W6(p)){var{cx:S,cy:N,radius:E,startAngle:A,endAngle:T}=oM(p);b={cx:S,cy:N,startAngle:A,endAngle:T,innerRadius:E,outerRadius:E},y=cM,_=jn.cursorLine}else b={points:KY(c,p,s)},y=cd,_=jn.cursorLine;var k=typeof d=="object"&&"className"in d?d.className:void 0,R=dp(dp(dp(dp({stroke:"#ccc",pointerEvents:"none"},s),b),th(d)),{},{payload:m,payloadIndex:x,className:st("recharts-tooltip-cursor",k)});return j.createElement(br,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:_},j.createElement(Nee,{cursor:d,cursorComp:y,cursorProps:R}))}function Tee(t){var e=XQ(),n=VO(),i=Qo(),a=y8();return e==null||n==null||i==null||a==null?null:j.createElement(Eee,Mb({},t,{offset:n,layout:i,tooltipAxisBandSize:e,chartName:a}))}var S8=j.createContext(null),kee=()=>j.useContext(S8),Kx={exports:{}},FT;function Dee(){return FT||(FT=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function a(d,h,f){this.fn=d,this.context=h,this.once=f||!1}function s(d,h,f,p,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var x=new a(f,p||d,m),b=n?n+h:h;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],x]:d._events[b].push(x):(d._events[b]=x,d._eventsCount++),d}function o(d,h){--d._eventsCount===0?d._events=new i:delete d._events[h]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],f,p;if(this._eventsCount===0)return h;for(p in f=this._events)e.call(f,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},c.prototype.listeners=function(h){var f=n?n+h:h,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,x=p.length,b=new Array(x);m<x;m++)b[m]=p[m].fn;return b},c.prototype.listenerCount=function(h){var f=n?n+h:h,p=this._events[f];return p?p.fn?1:p.length:0},c.prototype.emit=function(h,f,p,m,x,b){var y=n?n+h:h;if(!this._events[y])return!1;var _=this._events[y],S=arguments.length,N,E;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),S){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,p),!0;case 4:return _.fn.call(_.context,f,p,m),!0;case 5:return _.fn.call(_.context,f,p,m,x),!0;case 6:return _.fn.call(_.context,f,p,m,x,b),!0}for(E=1,N=new Array(S-1);E<S;E++)N[E-1]=arguments[E];_.fn.apply(_.context,N)}else{var A=_.length,T;for(E=0;E<A;E++)switch(_[E].once&&this.removeListener(h,_[E].fn,void 0,!0),S){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,f);break;case 3:_[E].fn.call(_[E].context,f,p);break;case 4:_[E].fn.call(_[E].context,f,p,m);break;default:if(!N)for(T=1,N=new Array(S-1);T<S;T++)N[T-1]=arguments[T];_[E].fn.apply(_[E].context,N)}}return!0},c.prototype.on=function(h,f,p){return s(this,h,f,p,!1)},c.prototype.once=function(h,f,p){return s(this,h,f,p,!0)},c.prototype.removeListener=function(h,f,p,m){var x=n?n+h:h;if(!this._events[x])return this;if(!f)return o(this,x),this;var b=this._events[x];if(b.fn)b.fn===f&&(!m||b.once)&&(!p||b.context===p)&&o(this,x);else{for(var y=0,_=[],S=b.length;y<S;y++)(b[y].fn!==f||m&&!b[y].once||p&&b[y].context!==p)&&_.push(b[y]);_.length?this._events[x]=_.length===1?_[0]:_:o(this,x)}return this},c.prototype.removeAllListeners=function(h){var f;return h?(f=n?n+h:h,this._events[f]&&o(this,f)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(Kx)),Kx.exports}var Oee=Dee();const Mee=vr(Oee);var Pd=new Mee,Pb="recharts.syncEvent.tooltip",HT="recharts.syncEvent.brush",C8=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Or(n))return t[n]}},Pee={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},A8=bi({name:"options",initialState:Pee,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ree=A8.reducer,{createEventEmitter:Lee}=A8.actions;function Iee(t){return t.tooltip.syncInteraction}var Bee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},N8=bi({name:"chartData",initialState:Bee,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:i}=e.payload;n!=null&&(t.dataStartIndex=n),i!=null&&(t.dataEndIndex=i)}}}),{setChartData:UT,setDataStartEndIndexes:zee,setComputedData:xpe}=N8.actions,$ee=N8.reducer,Fee=["x","y"];function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Vl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(n),!0).forEach(function(i){Hee(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Hee(t,e,n){return(e=Uee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uee(t){var e=Vee(t,"string");return typeof e=="symbol"?e:e+""}function Vee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qee(t,e){if(t==null)return{};var n,i,a=Gee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Gee(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Wee(){var t=Oe(D_),e=Oe(O_),n=Qt(),i=Oe(oP),a=Oe(ts),s=Qo(),o=ym(),c=Oe(d=>d.rootProps.className);j.useEffect(()=>{if(t==null)return Zo;var d=(h,f,p)=>{if(e!==p&&t===h){if(i==="index"){var m;if(o&&f!==null&&f!==void 0&&(m=f.payload)!==null&&m!==void 0&&m.coordinate&&f.payload.sourceViewBox){var x=f.payload.coordinate,{x:b,y}=x,_=qee(x,Fee),{x:S,y:N,width:E,height:A}=f.payload.sourceViewBox,T=Vl(Vl({},_),{},{x:o.x+(E?(b-S)/E:0)*o.width,y:o.y+(A?(y-N)/A:0)*o.height});n(Vl(Vl({},f),{},{payload:Vl(Vl({},f.payload),{},{coordinate:T})}))}else n(f);return}if(a!=null){var k;if(typeof i=="function"){var R={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},H=i(a,R);k=a[H]}else i==="value"&&(k=a.find(M=>String(M.value)===f.payload.label));var{coordinate:V}=f.payload;if(k==null||f.payload.active===!1||V==null||o==null){n(Db({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Y,y:W}=V,X=Math.min(Y,o.x+o.width),ee=Math.min(W,o.y+o.height),L={x:s==="horizontal"?k.coordinate:X,y:s==="horizontal"?ee:k.coordinate},P=Db({active:f.payload.active,coordinate:L,dataKey:f.payload.dataKey,index:String(k.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(P)}}};return Pd.on(Pb,d),()=>{Pd.off(Pb,d)}},[c,n,e,t,i,a,s,o])}function Yee(){var t=Oe(D_),e=Oe(O_),n=Qt();j.useEffect(()=>{if(t==null)return Zo;var i=(a,s,o)=>{e!==o&&t===a&&n(zee(s))};return Pd.on(HT,i),()=>{Pd.off(HT,i)}},[n,e,t])}function Xee(){var t=Qt();j.useEffect(()=>{t(Lee())},[t]),Wee(),Yee()}function Kee(t,e,n,i,a,s){var o=Oe(x=>iee(x,t,e)),c=Oe(O_),d=Oe(D_),h=Oe(oP),f=Oe(Iee),p=f?.active,m=ym();j.useEffect(()=>{if(!p&&d!=null&&c!=null){var x=Db({active:s,coordinate:n,dataKey:o,index:a,label:typeof i=="number"?String(i):i,sourceViewBox:m,graphicalItemId:void 0});Pd.emit(Pb,d,x,c)}},[p,n,o,a,i,c,d,h,s,m])}function qT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function GT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(n),!0).forEach(function(i){Jee(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Jee(t,e,n){return(e=Zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zee(t){var e=Qee(t,"string");return typeof e=="symbol"?e:e+""}function Qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ete(t){return t.dataKey}function tte(t,e){return j.isValidElement(t)?j.cloneElement(t,e):typeof t=="function"?j.createElement(t,e):j.createElement(BW,e)}var WT=[],nte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function E8(t){var e,n,i=ai(t,nte),{active:a,allowEscapeViewBox:s,animationDuration:o,animationEasing:c,content:d,filterNull:h,isAnimationActive:f,offset:p,payloadUniqBy:m,position:x,reverseDirection:b,useTranslate3d:y,wrapperStyle:_,cursor:S,shared:N,trigger:E,defaultIndex:A,portal:T,axisId:k}=i,R=Qt(),H=typeof A=="number"?String(A):A;j.useEffect(()=>{R(QZ({shared:N,trigger:E,axisId:k,active:a,defaultIndex:H}))},[R,N,E,k,a,H]);var V=ym(),Y=tM(),W=WZ(N),{activeIndex:X,isActive:ee}=(e=Oe(q=>see(q,W,E,H)))!==null&&e!==void 0?e:{},L=Oe(q=>aee(q,W,E,H)),P=Oe(q=>j8(q,W,E,H)),M=Oe(q=>ree(q,W,E,H)),I=L,G=kee(),U=(n=a??ee)!==null&&n!==void 0?n:!1,[K,z]=Cq([I,U]),O=W==="axis"?P:void 0;Kee(W,E,M,O,X,U);var $=T??G;if($==null||V==null||W==null)return null;var B=I??WT;U||(B=WT),h&&B.length&&(B=JV(B.filter(q=>q.value!=null&&(q.hide!==!0||i.includeHidden)),m,ete));var Q=B.length>0,J=j.createElement(qW,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:f,active:U,coordinate:M,hasPayload:Q,offset:p,position:x,reverseDirection:b,useTranslate3d:y,viewBox:V,wrapperStyle:_,lastBoundingBox:K,innerRef:z,hasPortalFromProps:!!T},tte(d,GT(GT({},i),{},{payload:B,label:O,active:U,activeIndex:X,coordinate:M,accessibilityLayer:Y})));return j.createElement(j.Fragment,null,qd.createPortal(J,$),U&&j.createElement(Tee,{cursor:S,tooltipEventType:W,coordinate:M,payload:B,index:X}))}var T8=t=>null;T8.displayName="Cell";function ite(t,e,n){return(e=rte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rte(t){var e=ate(t,"string");return typeof e=="symbol"?e:e+""}function ate(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ste{constructor(e){ite(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function YT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function ote(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YT(Object(n),!0).forEach(function(i){lte(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function lte(t,e,n){return(e=cte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dte={cacheSize:2e3,enableCache:!0},k8=ote({},dte),XT=new ste(k8.cacheSize),hte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KT="recharts_measurement_span";function fte(t,e){var n=e.fontSize||"",i=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",o=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(c)}var JT=(t,e)=>{try{var n=document.getElementById(KT);n||(n=document.createElement("span"),n.setAttribute("id",KT),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,hte,e),n.textContent="".concat(t);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},ud=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||lh.isSsr)return{width:0,height:0};if(!k8.enableCache)return JT(e,n);var i=fte(e,n),a=XT.get(i);if(a)return a;var s=JT(e,n);return XT.set(i,s),s},D8;function pte(t,e,n){return(e=gte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gte(t){var e=mte(t,"string");return typeof e=="symbol"?e:e+""}function mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yte={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bte=["cm","mm","pt","pc","in","Q","px"];function _te(t){return bte.includes(t)}var Zl="NaN";function jte(t,e){return t*yte[e]}class Bn{static parse(e){var n,[,i,a]=(n=xte.exec(e))!==null&&n!==void 0?n:[];return i==null?Bn.NaN:new Bn(parseFloat(i),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Or(e)&&(this.unit=""),n!==""&&!vte.test(n)&&(this.num=NaN,this.unit=""),_te(n)&&(this.num=jte(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Bn(NaN,""):new Bn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Bn(NaN,""):new Bn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Bn(NaN,""):new Bn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Bn(NaN,""):new Bn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Or(this.num)}}D8=Bn;pte(Bn,"NaN",new D8(NaN,""));function O8(t){if(t==null||t.includes(Zl))return Zl;for(var e=t;e.includes("*")||e.includes("/");){var n,[,i,a,s]=(n=ZT.exec(e))!==null&&n!==void 0?n:[],o=Bn.parse(i??""),c=Bn.parse(s??""),d=a==="*"?o.multiply(c):o.divide(c);if(d.isNaN())return Zl;e=e.replace(ZT,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,f,p,m]=(h=QT.exec(e))!==null&&h!==void 0?h:[],x=Bn.parse(f??""),b=Bn.parse(m??""),y=p==="+"?x.add(b):x.subtract(b);if(y.isNaN())return Zl;e=e.replace(QT,y.toString())}return e}var e5=/\(([^()]*)\)/;function wte(t){for(var e=t,n;(n=e5.exec(e))!=null;){var[,i]=n;e=e.replace(e5,O8(i))}return e}function Ste(t){var e=t.replace(/\s+/g,"");return e=wte(e),e=O8(e),e}function Cte(t){try{return Ste(t)}catch{return Zl}}function Jx(t){var e=Cte(t.slice(5,-1));return e===Zl?"":e}var Ate=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Nte=["dx","dy","angle","className","breakAll"];function Rb(){return Rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rb.apply(null,arguments)}function t5(t,e){if(t==null)return{};var n,i,a=Ete(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ete(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var M8=/[ \f\n\r\t\v\u2028\u2029]+/,P8=t=>{var{children:e,breakAll:n,style:i}=t;try{var a=[];Wt(e)||(n?a=e.toString().split(""):a=e.toString().split(M8));var s=a.map(c=>({word:c,width:ud(c,i).width})),o=n?0:ud("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function Tte(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var R8=(t,e,n,i)=>t.reduce((a,s)=>{var{word:o,width:c}=s,d=a[a.length-1];if(d&&c!=null&&(e==null||i||d.width+c+n<Number(e)))d.words.push(o),d.width+=c+n;else{var h={words:[o],width:c};a.push(h)}return a},[]),L8=t=>t.reduce((e,n)=>e.width>n.width?e:n),kte="",n5=(t,e,n,i,a,s,o,c)=>{var d=t.slice(0,e),h=P8({breakAll:n,style:i,children:d+kte});if(!h)return[!1,[]];var f=R8(h.wordsWithComputedWidth,s,o,c),p=f.length>a||L8(f).width>Number(s);return[p,f]},Dte=(t,e,n,i,a)=>{var{maxLines:s,children:o,style:c,breakAll:d}=t,h=je(s),f=String(o),p=R8(e,i,n,a);if(!h||a)return p;var m=p.length>s||L8(p).width>Number(i);if(!m)return p;for(var x=0,b=f.length-1,y=0,_;x<=b&&y<=f.length-1;){var S=Math.floor((x+b)/2),N=S-1,[E,A]=n5(f,N,d,c,s,i,n,a),[T]=n5(f,S,d,c,s,i,n,a);if(!E&&!T&&(x=S+1),E&&T&&(b=S-1),!E&&T){_=A;break}y++}return _||p},i5=t=>{var e=Wt(t)?[]:t.toString().split(M8);return[{words:e,width:void 0}]},Ote=t=>{var{width:e,scaleToFit:n,children:i,style:a,breakAll:s,maxLines:o}=t;if((e||n)&&!lh.isSsr){var c,d,h=P8({breakAll:s,children:i,style:a});if(h){var{wordsWithComputedWidth:f,spaceWidth:p}=h;c=f,d=p}else return i5(i);return Dte({breakAll:s,children:i,maxLines:o,style:a},c,d,e,!!n)}return i5(i)},I8="#808080",Mte={angle:0,breakAll:!1,capHeight:"0.71em",fill:I8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},tj=j.forwardRef((t,e)=>{var n=ai(t,Mte),{x:i,y:a,lineHeight:s,capHeight:o,fill:c,scaleToFit:d,textAnchor:h,verticalAnchor:f}=n,p=t5(n,Ate),m=j.useMemo(()=>Ote({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:x,dy:b,angle:y,className:_,breakAll:S}=p,N=t5(p,Nte);if(!ia(i)||!ia(a)||m.length===0)return null;var E=Number(i)+(je(x)?x:0),A=Number(a)+(je(b)?b:0);if(!qe(E)||!qe(A))return null;var T;switch(f){case"start":T=Jx("calc(".concat(o,")"));break;case"middle":T=Jx("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:T=Jx("calc(".concat(m.length-1," * -").concat(s,")"));break}var k=[],R=m[0];if(d&&R!=null){var H=R.width,{width:V}=p;k.push("scale(".concat(je(V)&&je(H)?V/H:1,")"))}return y&&k.push("rotate(".concat(y,", ").concat(E,", ").concat(A,")")),k.length&&(N.transform=k.join(" ")),j.createElement("text",Rb({},ni(N),{ref:e,x:E,y:A,className:st("recharts-text",_),textAnchor:h,fill:c.includes("url")?I8:c}),m.map((Y,W)=>{var X=Y.words.join(S?"":" ");return j.createElement("tspan",{x:E,dy:W===0?T:s,key:"".concat(X,"-").concat(W)},X)}))});tj.displayName="Text";function r5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(n),!0).forEach(function(i){Pte(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Pte(t,e,n){return(e=Rte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rte(t){var e=Lte(t,"string");return typeof e=="symbol"?e:e+""}function Lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ite=t=>{var{viewBox:e,position:n,offset:i=0,parentViewBox:a}=t,{x:s,y:o,height:c,upperWidth:d,lowerWidth:h}=t_(e),f=s,p=s+(d-h)/2,m=(f+p)/2,x=(d+h)/2,b=f+d/2,y=c>=0?1:-1,_=y*i,S=y>0?"end":"start",N=y>0?"start":"end",E=d>=0?1:-1,A=E*i,T=E>0?"end":"start",k=E>0?"start":"end",R=a;if(n==="top"){var H={x:f+d/2,y:o-_,horizontalAnchor:"middle",verticalAnchor:S};return R&&(H.height=Math.max(o-R.y,0),H.width=d),H}if(n==="bottom"){var V={x:p+h/2,y:o+c+_,horizontalAnchor:"middle",verticalAnchor:N};return R&&(V.height=Math.max(R.y+R.height-(o+c),0),V.width=h),V}if(n==="left"){var Y={x:m-A,y:o+c/2,horizontalAnchor:T,verticalAnchor:"middle"};return R&&(Y.width=Math.max(Y.x-R.x,0),Y.height=c),Y}if(n==="right"){var W={x:m+x+A,y:o+c/2,horizontalAnchor:k,verticalAnchor:"middle"};return R&&(W.width=Math.max(R.x+R.width-W.x,0),W.height=c),W}var X=R?{width:x,height:c}:{};return n==="insideLeft"?Wr({x:m+A,y:o+c/2,horizontalAnchor:k,verticalAnchor:"middle"},X):n==="insideRight"?Wr({x:m+x-A,y:o+c/2,horizontalAnchor:T,verticalAnchor:"middle"},X):n==="insideTop"?Wr({x:f+d/2,y:o+_,horizontalAnchor:"middle",verticalAnchor:N},X):n==="insideBottom"?Wr({x:p+h/2,y:o+c-_,horizontalAnchor:"middle",verticalAnchor:S},X):n==="insideTopLeft"?Wr({x:f+A,y:o+_,horizontalAnchor:k,verticalAnchor:N},X):n==="insideTopRight"?Wr({x:f+d-A,y:o+_,horizontalAnchor:T,verticalAnchor:N},X):n==="insideBottomLeft"?Wr({x:p+A,y:o+c-_,horizontalAnchor:k,verticalAnchor:S},X):n==="insideBottomRight"?Wr({x:p+h-A,y:o+c-_,horizontalAnchor:T,verticalAnchor:S},X):n&&typeof n=="object"&&(je(n.x)||Fo(n.x))&&(je(n.y)||Fo(n.y))?Wr({x:s+Mr(n.x,x),y:o+Mr(n.y,c),horizontalAnchor:"end",verticalAnchor:"end"},X):Wr({x:b,y:o+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},X)},Bte=["labelRef"],zte=["content"];function a5(t,e){if(t==null)return{};var n,i,a=$te(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function $te(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function s5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s5(Object(n),!0).forEach(function(i){Fte(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Fte(t,e,n){return(e=Hte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hte(t){var e=Ute(t,"string");return typeof e=="symbol"?e:e+""}function Ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ma(){return Ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ma.apply(null,arguments)}var B8=j.createContext(null),Vte=t=>{var{x:e,y:n,upperWidth:i,lowerWidth:a,width:s,height:o,children:c}=t,d=j.useMemo(()=>({x:e,y:n,upperWidth:i,lowerWidth:a,width:s,height:o}),[e,n,i,a,s,o]);return j.createElement(B8.Provider,{value:d},c)},z8=()=>{var t=j.useContext(B8),e=ym();return t||(e?t_(e):void 0)},qte=j.createContext(null),Gte=()=>{var t=j.useContext(qte),e=Oe(hP);return t||e},Wte=t=>{var{value:e,formatter:n}=t,i=Wt(t.children)?e:t.children;return typeof n=="function"?n(i):i},nj=t=>t!=null&&typeof t=="function",Yte=(t,e)=>{var n=vi(e-t),i=Math.min(Math.abs(e-t),360);return n*i},Xte=(t,e,n,i,a)=>{var{offset:s,className:o}=t,{cx:c,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:x}=a,b=(h+f)/2,y=Yte(p,m),_=y>=0?1:-1,S,N;switch(e){case"insideStart":S=p+_*s,N=x;break;case"insideEnd":S=m-_*s,N=!x;break;case"end":S=m+_*s,N=x;break;default:throw new Error("Unsupported position ".concat(e))}N=y<=0?N:!N;var E=$n(c,d,b,S),A=$n(c,d,b,S+(N?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(N?0:1,`,
    `).concat(A.x,",").concat(A.y),k=Wt(t.id)?bd("recharts-radial-line-"):t.id;return j.createElement("text",Ma({},i,{dominantBaseline:"central",className:st("recharts-radial-bar-label",o)}),j.createElement("defs",null,j.createElement("path",{id:k,d:T})),j.createElement("textPath",{xlinkHref:"#".concat(k)},n))},Kte=(t,e,n)=>{var{cx:i,cy:a,innerRadius:s,outerRadius:o,startAngle:c,endAngle:d}=t,h=(c+d)/2;if(n==="outside"){var{x:f,y:p}=$n(i,a,o+e,h);return{x:f,y:p,textAnchor:f>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(s+o)/2,{x,y:b}=$n(i,a,m,h);return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Np=t=>t!=null&&"cx"in t&&je(t.cx),Jte={angle:0,offset:5,zIndex:jn.label,position:"middle",textBreakAll:!1};function Zte(t){if(!Np(t))return t;var{cx:e,cy:n,outerRadius:i}=t,a=i*2;return{x:e-i,y:n-i,width:a,upperWidth:a,lowerWidth:a,height:a}}function ks(t){var e=ai(t,Jte),{viewBox:n,parentViewBox:i,position:a,value:s,children:o,content:c,className:d="",textBreakAll:h,labelRef:f}=e,p=Gte(),m=z8(),x=a==="center"?m:p??m,b,y,_;n==null?b=x:Np(n)?b=n:b=t_(n);var S=Zte(b);if(!b||Wt(s)&&Wt(o)&&!j.isValidElement(c)&&typeof c!="function")return null;var N=sd(sd({},e),{},{viewBox:b});if(j.isValidElement(c)){var{labelRef:E}=N,A=a5(N,Bte);return j.cloneElement(c,A)}if(typeof c=="function"){var{content:T}=N,k=a5(N,zte);if(y=j.createElement(c,k),j.isValidElement(y))return y}else y=Wte(e);var R=ni(e);if(Np(b)){if(a==="insideStart"||a==="insideEnd"||a==="end")return Xte(e,a,y,R,b);_=Kte(b,e.offset,e.position)}else{if(!S)return null;var H=Ite({viewBox:S,position:a,offset:e.offset,parentViewBox:Np(i)?void 0:i});_=sd(sd({x:H.x,y:H.y,textAnchor:H.horizontalAnchor,verticalAnchor:H.verticalAnchor},H.width!==void 0?{width:H.width}:{}),H.height!==void 0?{height:H.height}:{})}return j.createElement(br,{zIndex:e.zIndex},j.createElement(tj,Ma({ref:f,className:st("recharts-label",d)},R,_,{textAnchor:Tte(R.textAnchor)?R.textAnchor:_.textAnchor,breakAll:h}),y))}ks.displayName="Label";var Qte=(t,e,n)=>{if(!t)return null;var i={viewBox:e,labelRef:n};return t===!0?j.createElement(ks,Ma({key:"label-implicit"},i)):ia(t)?j.createElement(ks,Ma({key:"label-implicit",value:t},i)):j.isValidElement(t)?t.type===ks?j.cloneElement(t,sd({key:"label-implicit"},i)):j.createElement(ks,Ma({key:"label-implicit",content:t},i)):nj(t)?j.createElement(ks,Ma({key:"label-implicit",content:t},i)):t&&typeof t=="object"?j.createElement(ks,Ma({},t,{key:"label-implicit"},i)):null};function ene(t){var{label:e,labelRef:n}=t,i=z8();return Qte(e,i,n)||null}var Zx={},Qx={},o5;function tne(){return o5||(o5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Qx)),Qx}var ey={},l5;function nne(){return l5||(l5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(ey)),ey}var c5;function ine(){return c5||(c5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tne(),n=nne(),i=U2();function a(s){if(i.isArrayLike(s))return e.last(n.toArray(s))}t.last=a})(Zx)),Zx}var ty,u5;function rne(){return u5||(u5=1,ty=ine().last),ty}var ane=rne();const sne=vr(ane);var one=["valueAccessor"],lne=["dataKey","clockWise","id","textBreakAll","zIndex"];function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jg.apply(null,arguments)}function d5(t,e){if(t==null)return{};var n,i,a=cne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function cne(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var une=t=>Array.isArray(t.value)?sne(t.value):t.value,$8=j.createContext(void 0),F8=$8.Provider,H8=j.createContext(void 0);H8.Provider;function dne(){return j.useContext($8)}function hne(){return j.useContext(H8)}function Ep(t){var{valueAccessor:e=une}=t,n=d5(t,one),{dataKey:i,clockWise:a,id:s,textBreakAll:o,zIndex:c}=n,d=d5(n,lne),h=dne(),f=hne(),p=h||f;return!p||!p.length?null:j.createElement(br,{zIndex:c??jn.label},j.createElement(ii,{className:"recharts-label-list"},p.map((m,x)=>{var b,y=Wt(i)?e(m,x):on(m.payload,i),_=Wt(s)?{}:{id:"".concat(s,"-").concat(x)};return j.createElement(ks,jg({key:"label-".concat(x)},ni(m),d,_,{fill:(b=n.fill)!==null&&b!==void 0?b:m.fill,parentViewBox:m.parentViewBox,value:y,textBreakAll:o,viewBox:m.viewBox,index:x,zIndex:0}))})))}Ep.displayName="LabelList";function U8(t){var{label:e}=t;return e?e===!0?j.createElement(Ep,{key:"labelList-implicit"}):j.isValidElement(e)||nj(e)?j.createElement(Ep,{key:"labelList-implicit",content:e}):typeof e=="object"?j.createElement(Ep,jg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lb.apply(null,arguments)}var V8=t=>{var{cx:e,cy:n,r:i,className:a}=t,s=st("recharts-dot",a);return je(e)&&je(n)&&je(i)?j.createElement("circle",Lb({},pr(t),F2(t),{className:s,cx:e,cy:n,r:i})):null},fne={radiusAxis:{},angleAxis:{}},q8=bi({name:"polarAxis",initialState:fne,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:ype,removeRadiusAxis:bpe,addAngleAxis:_pe,removeAngleAxis:jpe}=q8.actions,pne=q8.reducer;function gne(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var ny={exports:{}},yt={};var h5;function mne(){if(h5)return yt;h5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function b(y){if(typeof y=="object"&&y!==null){var _=y.$$typeof;switch(_){case t:switch(y=y.type,y){case n:case a:case i:case d:case h:case m:return y;default:switch(y=y&&y.$$typeof,y){case o:case c:case p:case f:return y;case s:return y;default:return _}}case e:return _}}}return yt.ContextConsumer=s,yt.ContextProvider=o,yt.Element=t,yt.ForwardRef=c,yt.Fragment=n,yt.Lazy=p,yt.Memo=f,yt.Portal=e,yt.Profiler=a,yt.StrictMode=i,yt.Suspense=d,yt.SuspenseList=h,yt.isContextConsumer=function(y){return b(y)===s},yt.isContextProvider=function(y){return b(y)===o},yt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},yt.isForwardRef=function(y){return b(y)===c},yt.isFragment=function(y){return b(y)===n},yt.isLazy=function(y){return b(y)===p},yt.isMemo=function(y){return b(y)===f},yt.isPortal=function(y){return b(y)===e},yt.isProfiler=function(y){return b(y)===a},yt.isStrictMode=function(y){return b(y)===i},yt.isSuspense=function(y){return b(y)===d},yt.isSuspenseList=function(y){return b(y)===h},yt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===a||y===i||y===d||y===h||typeof y=="object"&&y!==null&&(y.$$typeof===p||y.$$typeof===f||y.$$typeof===o||y.$$typeof===s||y.$$typeof===c||y.$$typeof===x||y.getModuleId!==void 0)},yt.typeOf=b,yt}var f5;function vne(){return f5||(f5=1,ny.exports=mne()),ny.exports}var xne=vne(),p5=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",g5=null,iy=null,G8=t=>{if(t===g5&&Array.isArray(iy))return iy;var e=[];return j.Children.forEach(t,n=>{Wt(n)||(xne.isFragment(n)?e=e.concat(G8(n.props.children)):e.push(n))}),iy=e,g5=t,e};function yne(t,e){var n=[],i=[];return Array.isArray(e)?i=e.map(a=>p5(a)):i=[p5(e)],G8(t).forEach(a=>{var s=dc(a,"type.displayName")||dc(a,"type.name");s&&i.indexOf(s)!==-1&&n.push(a)}),n}var W8=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,ry={},m5;function bne(){return m5||(m5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}t.isPlainObject=e})(ry)),ry}var ay,v5;function _ne(){return v5||(v5=1,ay=bne().isPlainObject),ay}var jne=_ne();const wne=vr(jne);var x5,y5,b5,_5,j5;function w5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function S5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w5(Object(n),!0).forEach(function(i){Sne(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Sne(t,e,n){return(e=Cne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=Ane(t,"string");return typeof e=="symbol"?e:e+""}function Ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wg.apply(null,arguments)}function Yu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var C5=(t,e,n,i,a)=>{var s=n-i,o;return o=Gt(x5||(x5=Yu(["M ",",",""])),t,e),o+=Gt(y5||(y5=Yu(["L ",",",""])),t+n,e),o+=Gt(b5||(b5=Yu(["L ",",",""])),t+n-s/2,e+a),o+=Gt(_5||(_5=Yu(["L ",",",""])),t+n-s/2-i,e+a),o+=Gt(j5||(j5=Yu(["L ",","," Z"])),t,e),o},Nne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ene=t=>{var e=ai(t,Nne),{x:n,y:i,upperWidth:a,lowerWidth:s,height:o,className:c}=e,{animationEasing:d,animationDuration:h,animationBegin:f,isUpdateAnimationActive:p}=e,m=j.useRef(null),[x,b]=j.useState(-1),y=j.useRef(a),_=j.useRef(s),S=j.useRef(o),N=j.useRef(n),E=j.useRef(i),A=Sm(t,"trapezoid-");if(j.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var L=m.current.getTotalLength();L&&b(L)}catch{}},[]),n!==+n||i!==+i||a!==+a||s!==+s||o!==+o||a===0&&s===0||o===0)return null;var T=st("recharts-trapezoid",c);if(!p)return j.createElement("g",null,j.createElement("path",wg({},ni(e),{className:T,d:C5(n,i,a,s,o)})));var k=y.current,R=_.current,H=S.current,V=N.current,Y=E.current,W="0px ".concat(x===-1?1:x,"px"),X="".concat(x,"px 0px"),ee=nM(["strokeDasharray"],h,d);return j.createElement(wm,{animationId:A,key:A,canBegin:x>0,duration:h,easing:d,isActive:p,begin:f},L=>{var P=$t(k,a,L),M=$t(R,s,L),I=$t(H,o,L),G=$t(V,n,L),U=$t(Y,i,L);m.current&&(y.current=P,_.current=M,S.current=I,N.current=G,E.current=U);var K=L>0?{transition:ee,strokeDasharray:X}:{strokeDasharray:W};return j.createElement("path",wg({},ni(e),{className:T,d:C5(G,U,P,M,I),ref:m,style:S5(S5({},K),e.style)}))})},Tne=["option","shapeType","activeClassName"];function kne(t,e){if(t==null)return{};var n,i,a=Dne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Dne(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function A5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A5(Object(n),!0).forEach(function(i){One(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function One(t,e,n){return(e=Mne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mne(t){var e=Pne(t,"string");return typeof e=="symbol"?e:e+""}function Pne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rne(t,e){return Sg(Sg({},e),t)}function Lne(t,e){return t==="symbols"}function N5(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return j.createElement(sM,n);case"trapezoid":return j.createElement(Ene,n);case"sector":return j.createElement(cM,n);case"symbols":if(Lne(e))return j.createElement(G6,n);break;case"curve":return j.createElement(cd,n);default:return null}}function Ine(t){return j.isValidElement(t)?t.props:t}function Bne(t){var{option:e,shapeType:n,activeClassName:i="recharts-active-shape"}=t,a=kne(t,Tne),s;if(j.isValidElement(e))s=j.cloneElement(e,Sg(Sg({},a),Ine(e)));else if(typeof e=="function")s=e(a,a.index);else if(wne(e)&&typeof e!="boolean"){var o=Rne(e,a);s=j.createElement(N5,{shapeType:n,elementProps:o})}else{var c=a;s=j.createElement(N5,{shapeType:n,elementProps:c})}return a.isActive?j.createElement(ii,{className:i},s):s}var Y8=(t,e,n)=>{var i=Qt();return(a,s)=>o=>{t?.(a,s,o),i(t8({activeIndex:String(s),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},X8=t=>{var e=Qt();return(n,i)=>a=>{t?.(n,i,a),e(eQ())}},K8=(t,e,n)=>{var i=Qt();return(a,s)=>o=>{t?.(a,s,o),i(tQ({activeIndex:String(s),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function J8(t){var{tooltipEntrySettings:e}=t,n=Qt(),i=Yn(),a=j.useRef(null);return j.useLayoutEffect(()=>{i||(a.current===null?n(KZ(e)):a.current!==e&&n(JZ({prev:a.current,next:e})),a.current=e)},[e,n,i]),j.useLayoutEffect(()=>()=>{a.current&&(n(ZZ(a.current)),a.current=null)},[n]),null}function Z8(t){var{legendPayload:e}=t,n=Qt(),i=Yn(),a=j.useRef(null);return j.useLayoutEffect(()=>{i||(a.current===null?n(kW(e)):a.current!==e&&n(DW({prev:a.current,next:e})),a.current=e)},[n,i,e]),j.useLayoutEffect(()=>()=>{a.current&&(n(OW(a.current)),a.current=null)},[n]),null}var sy,zne=()=>{var[t]=j.useState(()=>bd("uid-"));return t},$ne=(sy=gB.useId)!==null&&sy!==void 0?sy:zne;function Fne(t,e){var n=$ne();return e||(t?"".concat(t,"-").concat(n):n)}var Hne=j.createContext(void 0),Q8=t=>{var{id:e,type:n,children:i}=t,a=Fne("recharts-".concat(n),e);return j.createElement(Hne.Provider,{value:a},i(a))},Une={cartesianItems:[],polarItems:[]},eR=bi({name:"graphicalItems",initialState:Une,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Ot()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:i}=e.payload,a=kr(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=i)},prepare:Ot()},removeCartesianGraphicalItem:{reducer(t,e){var n=kr(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Ot()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Ot()},removePolarGraphicalItem:{reducer(t,e){var n=kr(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Ot()}}}),{addCartesianGraphicalItem:Vne,replaceCartesianGraphicalItem:qne,removeCartesianGraphicalItem:Gne,addPolarGraphicalItem:wpe,removePolarGraphicalItem:Spe}=eR.actions,Wne=eR.reducer,Yne=t=>{var e=Qt(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?e(Vne(t)):n.current!==t&&e(qne({prev:n.current,next:t})),n.current=t},[e,t]),j.useLayoutEffect(()=>()=>{n.current&&(e(Gne(n.current)),n.current=null)},[e]),null},tR=j.memo(Yne),Xne=["points"];function E5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E5(Object(n),!0).forEach(function(i){Kne(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Kne(t,e,n){return(e=Jne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jne(t){var e=Zne(t,"string");return typeof e=="symbol"?e:e+""}function Zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Cg.apply(null,arguments)}function Qne(t,e){if(t==null)return{};var n,i,a=eie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function eie(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function tie(t){var{option:e,dotProps:n,className:i}=t;if(j.isValidElement(e))return j.cloneElement(e,n);if(typeof e=="function")return e(n);var a=st(i,typeof e!="boolean"?e.className:""),s=n??{},{points:o}=s,c=Qne(s,Xne);return j.createElement(V8,Cg({},c,{className:a}))}function nie(t,e){return t==null?!1:e?!0:t.length===1}function iie(t){var{points:e,dot:n,className:i,dotClassName:a,dataKey:s,baseProps:o,needClip:c,clipPathId:d,zIndex:h=jn.scatter}=t;if(!nie(e,n))return null;var f=W8(n),p=wU(n),m=e.map((b,y)=>{var _,S,N=oy(oy(oy({r:3},o),p),{},{index:y,cx:(_=b.x)!==null&&_!==void 0?_:void 0,cy:(S=b.y)!==null&&S!==void 0?S:void 0,dataKey:s,value:b.value,payload:b.payload,points:e});return j.createElement(tie,{key:"dot-".concat(y),option:n,dotProps:N,className:a})}),x={};return c&&d!=null&&(x.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(d,")")),j.createElement(br,{zIndex:h},j.createElement(ii,Cg({className:i},x),m))}function T5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function k5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T5(Object(n),!0).forEach(function(i){rie(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function rie(t,e,n){return(e=aie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aie(t){var e=sie(t,"string");return typeof e=="symbol"?e:e+""}function sie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nR=0,oie={xAxis:{},yAxis:{},zAxis:{}},iR=bi({name:"cartesianAxis",initialState:oie,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Ot()},replaceXAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.xAxis[n.id],t.xAxis[i.id]=i)},prepare:Ot()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Ot()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Ot()},replaceYAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.yAxis[n.id],t.yAxis[i.id]=i)},prepare:Ot()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Ot()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Ot()},replaceZAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.zAxis[n.id],t.zAxis[i.id]=i)},prepare:Ot()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Ot()},updateYAxisWidth(t,e){var{id:n,width:i}=e.payload,a=t.yAxis[n];if(a){var s,o=a.widthHistory||[];if(o.length===3&&o[0]===o[2]&&i===o[1]&&i!==a.width&&Math.abs(i-((s=o[0])!==null&&s!==void 0?s:0))<=1)return;var c=[...o,i].slice(-3);t.yAxis[n]=k5(k5({},a),{},{width:i,widthHistory:c})}}}}),{addXAxis:lie,replaceXAxis:cie,removeXAxis:uie,addYAxis:die,replaceYAxis:hie,removeYAxis:fie,addZAxis:Cpe,replaceZAxis:Ape,removeZAxis:Npe,updateYAxisWidth:pie}=iR.actions,gie=iR.reducer,mie=ue([An],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),vie=ue([mie,Xa,Ka],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),ij=()=>Oe(vie),xie=()=>Oe(VQ);function D5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(n),!0).forEach(function(i){yie(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function yie(t,e,n){return(e=bie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bie(t){var e=_ie(t,"string");return typeof e=="symbol"?e:e+""}function _ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jie=t=>{var{point:e,childIndex:n,mainColor:i,activeDot:a,dataKey:s,clipPath:o}=t;if(a===!1||e.x==null||e.y==null)return null;var c={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},d=ly(ly(ly({},c),th(a)),F2(a)),h;return j.isValidElement(a)?h=j.cloneElement(a,d):typeof a=="function"?h=a(d):h=j.createElement(V8,d),j.createElement(ii,{className:"recharts-active-dot",clipPath:o},h)};function O5(t){var{points:e,mainColor:n,activeDot:i,itemDataKey:a,clipPath:s,zIndex:o=jn.activeDot}=t,c=Oe(Go),d=xie();if(e==null||d==null)return null;var h=e.find(f=>d.includes(f.payload));return Wt(h)?null:j.createElement(br,{zIndex:o},j.createElement(jie,{point:h,childIndex:Number(c),mainColor:n,dataKey:a,activeDot:i,clipPath:s}))}var M5=(t,e,n)=>{var i=n??t;if(!Wt(i))return Mr(i,e,0)},wie=(t,e,n)=>{var i={},a=t.filter(Im),s=t.filter(h=>h.stackId==null),o=a.reduce((h,f)=>{var p=h[f.stackId];return p==null&&(p=[]),p.push(f),h[f.stackId]=p,h},i),c=Object.entries(o).map(h=>{var f,[p,m]=h,x=m.map(y=>y.dataKey),b=M5(e,n,(f=m[0])===null||f===void 0?void 0:f.barSize);return{stackId:p,dataKeys:x,barSize:b}}),d=s.map(h=>{var f=[h.dataKey].filter(m=>m!=null),p=M5(e,n,h.barSize);return{stackId:void 0,dataKeys:f,barSize:p}});return[...c,...d]};function P5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P5(Object(n),!0).forEach(function(i){Sie(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Sie(t,e,n){return(e=Cie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cie(t){var e=Aie(t,"string");return typeof e=="symbol"?e:e+""}function Aie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nie(t,e,n,i,a){var s,o=i.length;if(!(o<1)){var c=Mr(t,n,0,!0),d,h=[];if(qe((s=i[0])===null||s===void 0?void 0:s.barSize)){var f=!1,p=n/o,m=i.reduce((N,E)=>N+(E.barSize||0),0);m+=(o-1)*c,m>=n&&(m-=(o-1)*c,c=0),m>=n&&p>0&&(f=!0,p*=.9,m=o*p);var x=(n-m)/2>>0,b={offset:x-c,size:0};d=i.reduce((N,E)=>{var A,T={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:b.offset+b.size+c,size:f?p:(A=E.barSize)!==null&&A!==void 0?A:0}},k=[...N,T];return b=T.position,k},h)}else{var y=Mr(e,n,0,!0);n-2*y-(o-1)*c<=0&&(c=0);var _=(n-2*y-(o-1)*c)/o;_>1&&(_>>=0);var S=qe(a)?Math.min(_,a):_;d=i.reduce((N,E,A)=>[...N,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:y+(_+c)*A+(_-S)/2,size:S}}],h)}return d}}var Eie=(t,e,n,i,a,s,o)=>{var c=Wt(o)?e:o,d=Nie(n,i,a!==s?a:s,t,c);return a!==s&&d!=null&&(d=d.map(h=>hp(hp({},h),{},{position:hp(hp({},h.position),{},{offset:h.position.offset-a/2})}))),d},Tie=(t,e)=>{var n=Lm(e);if(!(!t||n==null||e==null)){var{stackId:i}=e;if(i!=null){var a=t[i];if(a){var{stackedData:s}=a;if(s)return s.find(o=>o.key===n)}}}},kie=(t,e)=>{if(!(t==null||e==null)){var n=t.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function Die(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&qe(t.zIndex)?t.zIndex:e}var Oie=t=>{var{chartData:e}=t,n=Qt(),i=Yn();return j.useEffect(()=>i?()=>{}:(n(UT(e)),()=>{n(UT(void 0))}),[e,n,i]),null},R5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},rR=bi({name:"brush",initialState:R5,reducers:{setBrushSettings(t,e){return e.payload==null?R5:e.payload}}}),{setBrushSettings:Epe}=rR.actions,Mie=rR.reducer;function Pie(t){return(t%180+180)%180}var Rie=function(e){var{width:n,height:i}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Pie(a),o=s*Math.PI/180,c=Math.atan(i/n),d=o>c&&o<Math.PI-c?i/Math.sin(o):n/Math.cos(o);return Math.abs(d)},Lie={dots:[],areas:[],lines:[]},aR=bi({name:"referenceElements",initialState:Lie,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=kr(t).dots.findIndex(i=>i===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=kr(t).areas.findIndex(i=>i===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=kr(t).lines.findIndex(i=>i===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Tpe,removeDot:kpe,addArea:Dpe,removeArea:Ope,addLine:Mpe,removeLine:Ppe}=aR.actions,Iie=aR.reducer,Bie=j.createContext(void 0),zie=t=>{var{children:e}=t,[n]=j.useState("".concat(bd("recharts"),"-clip")),i=ij();if(i==null)return null;var{x:a,y:s,width:o,height:c}=i;return j.createElement(Bie.Provider,{value:n},j.createElement("defs",null,j.createElement("clipPath",{id:n},j.createElement("rect",{x:a,y:s,height:c,width:o}))),e)};function sR(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],i=0;i<t.length;i+=e){var a=t[i];a!==void 0&&n.push(a)}return n}function $ie(t,e,n){var i={width:t.width+e.width,height:t.height+e.height};return Rie(i,n)}function Fie(t,e,n){var i=n==="width",{x:a,y:s,width:o,height:c}=t;return e===1?{start:i?a:s,end:i?a+o:s+c}:{start:i?a+o:s+c,end:i?a:s}}function Rd(t,e,n,i,a){if(t*e<t*i||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-i)>=0&&t*(e+t*s/2-a)<=0}function Hie(t,e){return sR(t,e+1)}function Uie(t,e,n,i,a){for(var s=(i||[]).slice(),{start:o,end:c}=e,d=0,h=1,f=o,p=function(){var b=i?.[d];if(b===void 0)return{v:sR(i,h)};var y=d,_,S=()=>(_===void 0&&(_=n(b,y)),_),N=b.coordinate,E=d===0||Rd(t,N,S,f,c);E||(d=0,f=o,h+=1),E&&(f=N+t*(S()/2+a),d+=h)},m;h<=s.length;)if(m=p(),m)return m.v;return[]}function Vie(t,e,n,i,a){var s=(i||[]).slice(),o=s.length;if(o===0)return[];for(var{start:c,end:d}=e,h=1;h<=o;h++){for(var f=(o-1)%h,p=c,m=!0,x=function(){var A=i[y];if(A==null)return 0;var T=y,k,R=()=>(k===void 0&&(k=n(A,T)),k),H=A.coordinate,V=y===f||Rd(t,H,R,p,d);if(!V)return m=!1,1;V&&(p=H+t*(R()/2+a))},b,y=f;y<o&&(b=x(),!(b!==0&&b===1));y+=h);if(m){for(var _=[],S=f;S<o;S+=h){var N=i[S];N!=null&&_.push(N)}return _}}return[]}function L5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L5(Object(n),!0).forEach(function(i){qie(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function qie(t,e,n){return(e=Gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gie(t){var e=Wie(t,"string");return typeof e=="symbol"?e:e+""}function Wie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yie(t,e,n,i,a){for(var s=(i||[]).slice(),o=s.length,{start:c}=e,{end:d}=e,h=function(m){var x=s[m];if(x==null)return 1;var b=x,y,_=()=>(y===void 0&&(y=n(x,m)),y);if(m===o-1){var S=t*(b.coordinate+t*_()/2-d);s[m]=b=Vn(Vn({},b),{},{tickCoord:S>0?b.coordinate-S*t:b.coordinate})}else s[m]=b=Vn(Vn({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var N=Rd(t,b.tickCoord,_,c,d);N&&(d=b.tickCoord-t*(_()/2+a),s[m]=Vn(Vn({},b),{},{isShow:!0}))}},f=o-1;f>=0;f--)h(f);return s}function Xie(t,e,n,i,a,s){var o=(i||[]).slice(),c=o.length,{start:d,end:h}=e;if(s){var f=i[c-1];if(f!=null){var p=n(f,c-1),m=t*(f.coordinate+t*p/2-h);if(o[c-1]=f=Vn(Vn({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate}),f.tickCoord!=null){var x=Rd(t,f.tickCoord,()=>p,d,h);x&&(h=f.tickCoord-t*(p/2+a),o[c-1]=Vn(Vn({},f),{},{isShow:!0}))}}}for(var b=s?c-1:c,y=function(N){var E=o[N];if(E==null)return 1;var A=E,T,k=()=>(T===void 0&&(T=n(E,N)),T);if(N===0){var R=t*(A.coordinate-t*k()/2-d);o[N]=A=Vn(Vn({},A),{},{tickCoord:R<0?A.coordinate-R*t:A.coordinate})}else o[N]=A=Vn(Vn({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var H=Rd(t,A.tickCoord,k,d,h);H&&(d=A.tickCoord+t*(k()/2+a),o[N]=Vn(Vn({},A),{},{isShow:!0}))}},_=0;_<b;_++)y(_);return o}function rj(t,e,n){var{tick:i,ticks:a,viewBox:s,minTickGap:o,orientation:c,interval:d,tickFormatter:h,unit:f,angle:p}=t;if(!a||!a.length||!i)return[];if(je(d)||lh.isSsr){var m;return(m=Hie(a,je(d)?d:0))!==null&&m!==void 0?m:[]}var x=[],b=c==="top"||c==="bottom"?"width":"height",y=f&&b==="width"?ud(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(T,k)=>{var R=typeof h=="function"?h(T.value,k):T.value;return b==="width"?$ie(ud(R,{fontSize:e,letterSpacing:n}),y,p):ud(R,{fontSize:e,letterSpacing:n})[b]},S=a[0],N=a[1],E=a.length>=2&&S!=null&&N!=null?vi(N.coordinate-S.coordinate):1,A=Fie(s,E,b);return d==="equidistantPreserveStart"?Uie(E,A,_,a,o):d==="equidistantPreserveEnd"?Vie(E,A,_,a,o):(d==="preserveStart"||d==="preserveStartEnd"?x=Xie(E,A,_,a,o,d==="preserveStartEnd"):x=Yie(E,A,_,a,o),x.filter(T=>T.isShow))}var Kie=t=>{var{ticks:e,label:n,labelGapWithTick:i=5,tickSize:a=0,tickMargin:s=0}=t,o=0;if(e){Array.from(e).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>o&&(o=p.width)}});var c=n?n.getBoundingClientRect().width:0,d=a+s,h=o+d+c+(n?i:0);return Math.round(h)}return 0},Jie=["axisLine","width","height","className","hide","ticks","axisType"];function Zie(t,e){if(t==null)return{};var n,i,a=Qie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Qie(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wo.apply(null,arguments)}function I5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(n),!0).forEach(function(i){ere(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ere(t,e,n){return(e=tre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tre(t){var e=nre(t,"string");return typeof e=="symbol"?e:e+""}function nre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ba={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:jn.axis};function ire(t){var{x:e,y:n,width:i,height:a,orientation:s,mirror:o,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var h=qt(qt(qt({},d),pr(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!o||s==="bottom"&&o);h=qt(qt({},h),{},{x1:e,y1:n+f*a,x2:e+i,y2:n+f*a})}else{var p=+(s==="left"&&!o||s==="right"&&o);h=qt(qt({},h),{},{x1:e+p*i,y1:n,x2:e+p*i,y2:n+a})}return j.createElement("line",Wo({},h,{className:st("recharts-cartesian-axis-line",dc(c,"className"))}))}function rre(t,e,n,i,a,s,o,c,d){var h,f,p,m,x,b,y=c?-1:1,_=t.tickSize||o,S=je(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=f=t.coordinate,m=n+ +!c*a,p=m-y*_,b=p-y*d,x=S;break;case"left":p=m=t.coordinate,f=e+ +!c*i,h=f-y*_,x=h-y*d,b=S;break;case"right":p=m=t.coordinate,f=e+ +c*i,h=f+y*_,x=h+y*d,b=S;break;default:h=f=t.coordinate,m=n+ +c*a,p=m+y*_,b=p+y*d,x=S;break}return{line:{x1:h,y1:p,x2:f,y2:m},tick:{x,y:b}}}function are(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function sre(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ore(t){var{option:e,tickProps:n,value:i}=t,a,s=st(n.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(e))a=j.cloneElement(e,qt(qt({},n),{},{className:s}));else if(typeof e=="function")a=e(qt(qt({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=st(o,gne(e))),a=j.createElement(tj,Wo({},n,{className:o}),i)}return a}var lre=j.forwardRef((t,e)=>{var{ticks:n=[],tick:i,tickLine:a,stroke:s,tickFormatter:o,unit:c,padding:d,tickTextProps:h,orientation:f,mirror:p,x:m,y:x,width:b,height:y,tickSize:_,tickMargin:S,fontSize:N,letterSpacing:E,getTicksConfig:A,events:T,axisType:k}=t,R=rj(qt(qt({},A),{},{ticks:n}),N,E),H=are(f,p),V=sre(f,p),Y=pr(A),W=th(i),X={};typeof a=="object"&&(X=a);var ee=qt(qt({},Y),{},{fill:"none"},X),L=R.map(I=>qt({entry:I},rre(I,m,x,b,y,f,_,p,S))),P=L.map(I=>{var{entry:G,line:U}=I;return j.createElement(ii,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},a&&j.createElement("line",Wo({},ee,U,{className:st("recharts-cartesian-axis-tick-line",dc(a,"className"))})))}),M=L.map((I,G)=>{var U,K,{entry:z,tick:O}=I,$=qt(qt(qt(qt({verticalAnchor:V},Y),{},{textAnchor:H,stroke:"none",fill:s},O),{},{index:G,payload:z,visibleTicksCount:R.length,tickFormatter:o,padding:d},h),{},{angle:(U=(K=h?.angle)!==null&&K!==void 0?K:Y.angle)!==null&&U!==void 0?U:0}),B=qt(qt({},$),W);return j.createElement(ii,Wo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},H2(T,z,G)),i&&j.createElement(ore,{option:i,tickProps:B,value:"".concat(typeof o=="function"?o(z.value,G):z.value).concat(c||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},M.length>0&&j.createElement(br,{zIndex:jn.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:e},M)),P.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},P))}),cre=j.forwardRef((t,e)=>{var{axisLine:n,width:i,height:a,className:s,hide:o,ticks:c,axisType:d}=t,h=Zie(t,Jie),[f,p]=j.useState(""),[m,x]=j.useState(""),b=j.useRef(null);j.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var _;return Kie({ticks:b.current,label:(_=t.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var y=j.useCallback(_=>{if(_){var S=_.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=S;var N=S[0];if(N){var E=window.getComputedStyle(N),A=E.fontSize,T=E.letterSpacing;(A!==f||T!==m)&&(p(A),x(T))}}},[f,m]);return o||i!=null&&i<=0||a!=null&&a<=0?null:j.createElement(br,{zIndex:t.zIndex},j.createElement(ii,{className:st("recharts-cartesian-axis",s)},j.createElement(ire,{x:t.x,y:t.y,width:i,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:pr(t)}),j.createElement(lre,{ref:y,axisType:d,events:h,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),j.createElement(Vte,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},j.createElement(ene,{label:t.label,labelRef:t.labelRef}),t.children)))}),aj=j.forwardRef((t,e)=>{var n=ai(t,Ba);return j.createElement(cre,Wo({},n,{ref:e}))});aj.displayName="CartesianAxis";var ure=["x1","y1","x2","y2","key"],dre=["offset"],hre=["xAxisId","yAxisId"],fre=["xAxisId","yAxisId"];function B5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B5(Object(n),!0).forEach(function(i){pre(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function pre(t,e,n){return(e=gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gre(t){var e=mre(t,"string");return typeof e=="symbol"?e:e+""}function mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function To(){return To=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},To.apply(null,arguments)}function Ag(t,e){if(t==null)return{};var n,i,a=vre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function vre(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var xre=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:i,y:a,width:s,height:o,ry:c}=t;return j.createElement("rect",{x:i,y:a,ry:c,width:s,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function oR(t){var{option:e,lineItemProps:n}=t,i;if(j.isValidElement(e))i=j.cloneElement(e,n);else if(typeof e=="function")i=e(n);else{var a,{x1:s,y1:o,x2:c,y2:d,key:h}=n,f=Ag(n,ure),p=(a=pr(f))!==null&&a!==void 0?a:{},{offset:m}=p,x=Ag(p,dre);i=j.createElement("line",To({},x,{x1:s,y1:o,x2:c,y2:d,fill:"none",key:h}))}return i}function yre(t){var{x:e,width:n,horizontal:i=!0,horizontalPoints:a}=t;if(!i||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=t,c=Ag(t,hre),d=a.map((h,f)=>{var p=qn(qn({},c),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(f),index:f});return j.createElement(oR,{key:"line-".concat(f),option:i,lineItemProps:p})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function bre(t){var{y:e,height:n,vertical:i=!0,verticalPoints:a}=t;if(!i||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=t,c=Ag(t,fre),d=a.map((h,f)=>{var p=qn(qn({},c),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(f),index:f});return j.createElement(oR,{option:i,lineItemProps:p,key:"line-".concat(f)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function _re(t){var{horizontalFill:e,fillOpacity:n,x:i,y:a,width:s,height:o,horizontalPoints:c,horizontal:d=!0}=t;if(!d||!e||!e.length||c==null)return null;var h=c.map(p=>Math.round(p+a-a)).sort((p,m)=>p-m);a!==h[0]&&h.unshift(0);var f=h.map((p,m)=>{var x=h[m+1],b=x==null,y=b?a+o-p:x-p;if(y<=0)return null;var _=m%e.length;return j.createElement("rect",{key:"react-".concat(m),y:p,x:i,height:y,width:s,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function jre(t){var{vertical:e=!0,verticalFill:n,fillOpacity:i,x:a,y:s,width:o,height:c,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var h=d.map(p=>Math.round(p+a-a)).sort((p,m)=>p-m);a!==h[0]&&h.unshift(0);var f=h.map((p,m)=>{var x=h[m+1],b=x==null,y=b?a+o-p:x-p;if(y<=0)return null;var _=m%n.length;return j.createElement("rect",{key:"react-".concat(m),x:p,y:s,width:y,height:c,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var wre=(t,e)=>{var{xAxis:n,width:i,height:a,offset:s}=t;return LO(rj(qn(qn(qn({},Ba),n),{},{ticks:IO(n),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,e)},Sre=(t,e)=>{var{yAxis:n,width:i,height:a,offset:s}=t;return LO(rj(qn(qn(qn({},Ba),n),{},{ticks:IO(n),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,e)},Cre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:jn.grid};function sj(t){var e=qO(),n=GO(),i=VO(),a=qn(qn({},ai(t,Cre)),{},{x:je(t.x)?t.x:i.left,y:je(t.y)?t.y:i.top,width:je(t.width)?t.width:i.width,height:je(t.height)?t.height:i.height}),{xAxisId:s,yAxisId:o,x:c,y:d,width:h,height:f,syncWithTicks:p,horizontalValues:m,verticalValues:x}=a,b=Yn(),y=Oe(V=>DT(V,"xAxis",s,b)),_=Oe(V=>DT(V,"yAxis",o,b));if(!ra(h)||!ra(f)||!je(c)||!je(d))return null;var S=a.verticalCoordinatesGenerator||wre,N=a.horizontalCoordinatesGenerator||Sre,{horizontalPoints:E,verticalPoints:A}=a;if((!E||!E.length)&&typeof N=="function"){var T=m&&m.length,k=N({yAxis:_?qn(qn({},_),{},{ticks:T?m:_.ticks}):void 0,width:e??h,height:n??f,offset:i},T?!0:p);Jp(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(E=k)}if((!A||!A.length)&&typeof S=="function"){var R=x&&x.length,H=S({xAxis:y?qn(qn({},y),{},{ticks:R?x:y.ticks}):void 0,width:e??h,height:n??f,offset:i},R?!0:p);Jp(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(A=H)}return j.createElement(br,{zIndex:a.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(xre,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),j.createElement(_re,To({},a,{horizontalPoints:E})),j.createElement(jre,To({},a,{verticalPoints:A})),j.createElement(yre,To({},a,{offset:i,horizontalPoints:E,xAxis:y,yAxis:_})),j.createElement(bre,To({},a,{offset:i,verticalPoints:A,xAxis:y,yAxis:_}))))}sj.displayName="CartesianGrid";var Are={},lR=bi({name:"errorBars",initialState:Are,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]||(t[n]=[]),t[n].push(i)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:i,next:a}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===i.dataKey&&s.direction===i.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==i.dataKey||a.direction!==i.direction))}}}),{addErrorBar:Rpe,replaceErrorBar:Lpe,removeErrorBar:Ipe}=lR.actions,Nre=lR.reducer,Ere=["children"];function Tre(t,e){if(t==null)return{};var n,i,a=kre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function kre(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Dre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ore=j.createContext(Dre);function Mre(t){var{children:e}=t,n=Tre(t,Ere);return j.createElement(Ore.Provider,{value:n},e)}function oj(t,e){var n,i,a=Oe(h=>Qa(h,t)),s=Oe(h=>es(h,e)),o=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:vn.allowDataOverflow,c=(i=s?.allowDataOverflow)!==null&&i!==void 0?i:xn.allowDataOverflow,d=o||c;return{needClip:d,needClipX:o,needClipY:c}}function cR(t){var{xAxisId:e,yAxisId:n,clipPathId:i}=t,a=ij(),{needClipX:s,needClipY:o,needClip:c}=oj(e,n);if(!c||!a)return null;var{x:d,y:h,width:f,height:p}=a;return j.createElement("clipPath",{id:"clipPath-".concat(i)},j.createElement("rect",{x:s?d:d-f/2,y:o?h:h-p/2,width:s?f:f*2,height:o?p:p*2}))}function Pre(t){var e=th(t),n=3,i=2;if(e!=null){var{r:a,strokeWidth:s}=e,o=Number(a),c=Number(s);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(c)||c<0)&&(c=i),{r:o,strokeWidth:c}}return{r:n,strokeWidth:i}}var cy={exports:{}},uy={};var z5;function Rre(){if(z5)return uy;z5=1;var t=jc();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,o=t.useMemo,c=t.useDebugValue;return uy.useSyncExternalStoreWithSelector=function(d,h,f,p,m){var x=a(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=o(function(){function _(T){if(!S){if(S=!0,N=T,T=p(T),m!==void 0&&b.hasValue){var k=b.value;if(m(k,T))return E=k}return E=T}if(k=E,n(N,T))return k;var R=p(T);return m!==void 0&&m(k,R)?(N=T,k):(N=T,E=R)}var S=!1,N,E,A=f===void 0?null:f;return[function(){return _(h())},A===null?void 0:function(){return _(A())}]},[h,f,p,m]);var y=i(d,x[0],x[1]);return s(function(){b.hasValue=!0,b.value=y},[y]),c(y),y},uy}var $5;function Lre(){return $5||($5=1,cy.exports=Rre()),cy.exports}Lre();var Ire=j.version.startsWith("19"),Bre=Symbol.for(Ire?"react.transitional.element":"react.element"),zre=Symbol.for("react.portal"),$re=Symbol.for("react.fragment"),Fre=Symbol.for("react.strict_mode"),Hre=Symbol.for("react.profiler"),Ure=Symbol.for("react.consumer"),Vre=Symbol.for("react.context"),uR=Symbol.for("react.forward_ref"),qre=Symbol.for("react.suspense"),Gre=Symbol.for("react.suspense_list"),lj=Symbol.for("react.memo"),Wre=Symbol.for("react.lazy"),Yre=uR,Xre=lj;function Kre(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case Bre:switch(t=t.type,t){case $re:case Hre:case Fre:case qre:case Gre:return t;default:switch(t=t&&t.$$typeof,t){case Vre:case uR:case Wre:case lj:return t;case Ure:return t;default:return e}}case zre:return e}}}function Jre(t){return Kre(t)===lj}function Zre(t,e,n,i,{areStatesEqual:a,areOwnPropsEqual:s,areStatePropsEqual:o}){let c=!1,d,h,f,p,m;function x(N,E){return d=N,h=E,f=t(d,h),p=e(i,h),m=n(f,p,h),c=!0,m}function b(){return f=t(d,h),e.dependsOnOwnProps&&(p=e(i,h)),m=n(f,p,h),m}function y(){return t.dependsOnOwnProps&&(f=t(d,h)),e.dependsOnOwnProps&&(p=e(i,h)),m=n(f,p,h),m}function _(){const N=t(d,h),E=!o(N,f);return f=N,E&&(m=n(f,p,h)),m}function S(N,E){const A=!s(E,h),T=!a(N,d,E,h);return d=N,h=E,A&&T?b():A?y():T?_():m}return function(E,A){return c?S(E,A):x(E,A)}}function Qre(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:i,...a}){const s=e(t,a),o=n(t,a),c=i(t,a);return Zre(s,o,c,t,a)}function eae(t,e){const n={};for(const i in t){const a=t[i];typeof a=="function"&&(n[i]=(...s)=>e(a(...s)))}return n}function Ib(t){return function(n){const i=t(n);function a(){return i}return a.dependsOnOwnProps=!1,a}}function F5(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function dR(t,e){return function(i,{displayName:a}){const s=function(c,d){return s.dependsOnOwnProps?s.mapToProps(c,d):s.mapToProps(c,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(c,d){s.mapToProps=t,s.dependsOnOwnProps=F5(t);let h=s(c,d);return typeof h=="function"&&(s.mapToProps=h,s.dependsOnOwnProps=F5(h),h=s(c,d)),h},s}}function cj(t,e){return(n,i)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${i.wrappedComponentName}.`)}}function tae(t){return t&&typeof t=="object"?Ib(e=>eae(t,e)):t?typeof t=="function"?dR(t):cj(t,"mapDispatchToProps"):Ib(e=>({dispatch:e}))}function nae(t){return t?typeof t=="function"?dR(t):cj(t,"mapStateToProps"):Ib(()=>({}))}function iae(t,e,n){return{...n,...t,...e}}function rae(t){return function(n,{displayName:i,areMergedPropsEqual:a}){let s=!1,o;return function(d,h,f){const p=t(d,h,f);return s?a(p,o)||(o=p):(s=!0,o=p),o}}}function aae(t){return t?typeof t=="function"?rae(t):cj(t,"mergeProps"):()=>iae}function sae(t){t()}function oae(){let t=null,e=null;return{clear(){t=null,e=null},notify(){sae(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var H5={notify(){},get:()=>[]};function hR(t,e){let n,i=H5,a=0,s=!1;function o(y){f();const _=i.subscribe(y);let S=!1;return()=>{S||(S=!0,_(),p())}}function c(){i.notify()}function d(){b.onStateChange&&b.onStateChange()}function h(){return s}function f(){a++,n||(n=e?e.addNestedSub(d):t.subscribe(d),i=oae())}function p(){a--,n&&a===0&&(n(),n=void 0,i.clear(),i=H5)}function m(){s||(s=!0,f())}function x(){s&&(s=!1,p())}const b={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:h,trySubscribe:m,tryUnsubscribe:x,getListeners:()=>i};return b}var lae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cae=lae(),uae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",dae=uae(),hae=()=>cae||dae?j.useLayoutEffect:j.useEffect,Ng=hae();function U5(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Tp(t,e){if(U5(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!U5(t[n[a]],e[n[a]]))return!1;return!0}var fae={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pae={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},gae={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mae={[Yre]:gae,[Xre]:fR};function V5(t){return Jre(t)?fR:mae[t.$$typeof]||fae}var vae=Object.defineProperty,xae=Object.getOwnPropertyNames,q5=Object.getOwnPropertySymbols,yae=Object.getOwnPropertyDescriptor,bae=Object.getPrototypeOf,G5=Object.prototype;function Bb(t,e){if(typeof e!="string"){if(G5){const s=bae(e);s&&s!==G5&&Bb(t,s)}let n=xae(e);q5&&(n=n.concat(q5(e)));const i=V5(t),a=V5(e);for(let s=0;s<n.length;++s){const o=n[s];if(!pae[o]&&!(a&&a[o])&&!(i&&i[o])){const c=yae(e,o);try{vae(t,o,c)}catch{}}}}return t}var _ae=Symbol.for("react-redux-context"),jae=typeof globalThis<"u"?globalThis:{};function wae(){if(!j.createContext)return{};const t=jae[_ae]??=new Map;let e=t.get(j.createContext);return e||(e=j.createContext(null),t.set(j.createContext,e)),e}var pR=wae(),Sae=[null,null];function Cae(t,e,n){Ng(()=>t(...e),n)}function Aae(t,e,n,i,a,s){t.current=i,n.current=!1,a.current&&(a.current=null,s())}function Nae(t,e,n,i,a,s,o,c,d,h,f){if(!t)return()=>{};let p=!1,m=null;const x=()=>{if(p||!c.current)return;const y=e.getState();let _,S;try{_=i(y,a.current)}catch(N){S=N,m=N}S||(m=null),_===s.current?o.current||h():(s.current=_,d.current=_,o.current=!0,f())};return n.onStateChange=x,n.trySubscribe(),x(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,m)throw m}}function Eae(t,e){return t===e}function Tae(t,e,n,{pure:i,areStatesEqual:a=Eae,areOwnPropsEqual:s=Tp,areStatePropsEqual:o=Tp,areMergedPropsEqual:c=Tp,forwardRef:d=!1,context:h=pR}={}){const f=h,p=nae(t),m=tae(e),x=aae(n),b=!!t;return _=>{const S=_.displayName||_.name||"Component",N=`Connect(${S})`,E={shouldHandleStateChanges:b,displayName:N,wrappedComponentName:S,WrappedComponent:_,initMapStateToProps:p,initMapDispatchToProps:m,initMergeProps:x,areStatesEqual:a,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:c};function A(R){const[H,V,Y]=j.useMemo(()=>{const{reactReduxForwardedRef:se,...we}=R;return[R.context,se,we]},[R]),W=j.useMemo(()=>{let se=f;return H?.Consumer,se},[H,f]),X=j.useContext(W),ee=!!R.store&&!!R.store.getState&&!!R.store.dispatch,L=!!X&&!!X.store,P=ee?R.store:X.store,M=L?X.getServerState:P.getState,I=j.useMemo(()=>Qre(P.dispatch,E),[P]),[G,U]=j.useMemo(()=>{if(!b)return Sae;const se=hR(P,ee?void 0:X.subscription),we=se.notifyNestedSubs.bind(se);return[se,we]},[P,ee,X]),K=j.useMemo(()=>ee?X:{...X,subscription:G},[ee,X,G]),z=j.useRef(void 0),O=j.useRef(Y),$=j.useRef(void 0),B=j.useRef(!1),Q=j.useRef(!1),J=j.useRef(void 0);Ng(()=>(Q.current=!0,()=>{Q.current=!1}),[]);const q=j.useMemo(()=>()=>$.current&&Y===O.current?$.current:I(P.getState(),Y),[P,Y]),re=j.useMemo(()=>we=>G?Nae(b,P,G,I,O,z,B,Q,$,U,we):()=>{},[G]);Cae(Aae,[O,z,B,Y,$,U]);let Z;try{Z=j.useSyncExternalStore(re,q,M?()=>I(M(),Y):q)}catch(se){throw J.current&&(se.message+=`
The error may be correlated with this previous error:
${J.current.stack}

`),se}Ng(()=>{J.current=void 0,$.current=void 0,z.current=Z});const ve=j.useMemo(()=>j.createElement(_,{...Z,ref:V}),[V,_,Z]);return j.useMemo(()=>b?j.createElement(W.Provider,{value:K},ve):ve,[W,ve,K])}const k=j.memo(A);if(k.WrappedComponent=_,k.displayName=A.displayName=N,d){const H=j.forwardRef(function(Y,W){return j.createElement(k,{...Y,reactReduxForwardedRef:W})});return H.displayName=N,H.WrappedComponent=_,Bb(H,_)}return Bb(k,_)}}var gR=Tae;function kae(t){const{children:e,context:n,serverState:i,store:a}=t,s=j.useMemo(()=>{const d=hR(a);return{store:a,subscription:d,getServerState:i?()=>i:void 0}},[a,i]),o=j.useMemo(()=>a.getState(),[a]);Ng(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,o]);const c=n||pR;return j.createElement(c.Provider,{value:s},e)}var mR=kae,Dae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Oae(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function qm(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var i of n)if(Dae.has(i)){if(t[i]==null&&e[i]==null)continue;if(!Tp(t[i],e[i]))return!1}else if(!Oae(t[i],e[i]))return!1;return!0}function ca(t,e){var n,i;return(n=(i=t.graphicalItems.cartesianItems.find(a=>a.id===e))===null||i===void 0?void 0:i.xAxisId)!==null&&n!==void 0?n:nR}function ua(t,e){var n,i;return(n=(i=t.graphicalItems.cartesianItems.find(a=>a.id===e))===null||i===void 0?void 0:i.yAxisId)!==null&&n!==void 0?n:nR}var vR=(t,e,n)=>Us(t,"xAxis",ca(t,e),n),xR=(t,e,n)=>Hs(t,"xAxis",ca(t,e),n),yR=(t,e,n)=>Us(t,"yAxis",ua(t,e),n),bR=(t,e,n)=>Hs(t,"yAxis",ua(t,e),n),Mae=ue([dt,vR,yR,xR,bR],(t,e,n,i,a)=>la(t,"xAxis")?fc(e,i,!1):fc(n,a,!1)),Pae=(t,e)=>e,_R=ue([$m,Pae],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),jR=t=>{var e=dt(t),n=la(e,"xAxis");return n?"yAxis":"xAxis"},Rae=(t,e)=>{var n=jR(t);return n==="yAxis"?ua(t,e):ca(t,e)},Lae=(t,e,n)=>yg(t,jR(t),Rae(t,e),n),Iae=ue([_R,Lae],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:i}=t,a=Lm(t);if(!(i==null||a==null)){var s=(n=e[i])===null||n===void 0?void 0:n.stackedData,o=s?.find(c=>c.key===a);if(o!=null)return o.map(c=>[c[0],c[1]])}}}),Bae=ue([dt,vR,yR,xR,bR,Iae,GM,Mae,_R,zJ],(t,e,n,i,a,s,o,c,d,h)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:m}=o;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||i==null||a==null||i.length===0||a.length===0||c==null)){var{data:x}=d,b;if(x&&x.length>0?b=x:b=f?.slice(p,m+1),b!=null)return ise({layout:t,xAxis:e,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataStartIndex:p,areaSettings:d,stackedData:s,displayedData:b,chartBaseValue:h,bandSize:c})}}),zae=["id"],$ae=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lo.apply(null,arguments)}function wR(t,e){if(t==null)return{};var n,i,a=Fae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Fae(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function W5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(n),!0).forEach(function(i){Hae(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Hae(t,e,n){return(e=Uae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uae(t){var e=Vae(t,"string");return typeof e=="symbol"?e:e+""}function Vae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eg(t,e){return t&&t!=="none"?t:e}var qae=t=>{var{dataKey:e,name:n,stroke:i,fill:a,legendType:s,hide:o}=t;return[{inactive:o,dataKey:e,type:s,color:Eg(i,a),value:pm(n,e),payload:t}]},Gae=j.memo(t=>{var{dataKey:e,data:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:c,unit:d,tooltipType:h,id:f}=t,p={dataDefinedOnItem:n,getPosition:Zo,settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:pm(o,e),hide:c,type:h,color:Eg(i,s),unit:d,graphicalItemId:f}};return j.createElement(J8,{tooltipEntrySettings:p})});function Wae(t){var{clipPathId:e,points:n,props:i}=t,{needClip:a,dot:s,dataKey:o}=i,c=pr(i);return j.createElement(iie,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:c,needClip:a,clipPathId:e})}function Yae(t){var{showLabels:e,children:n,points:i}=t,a=i.map(s=>{var o,c,d={x:(o=s.x)!==null&&o!==void 0?o:0,y:(c=s.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ql(Ql({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return j.createElement(F8,{value:e?a:void 0},n)}function Y5(t){var{points:e,baseLine:n,needClip:i,clipPathId:a,props:s}=t,{layout:o,type:c,stroke:d,connectNulls:h,isRange:f}=s,{id:p}=s,m=wR(s,zae),x=pr(m),b=ni(m);return j.createElement(j.Fragment,null,e?.length>1&&j.createElement(ii,{clipPath:i?"url(#clipPath-".concat(a,")"):void 0},j.createElement(cd,Lo({},b,{id:p,points:e,connectNulls:h,type:c,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),d!=="none"&&j.createElement(cd,Lo({},x,{className:"recharts-area-curve",layout:o,type:c,connectNulls:h,fill:"none",points:e})),d!=="none"&&f&&j.createElement(cd,Lo({},x,{className:"recharts-area-curve",layout:o,type:c,connectNulls:h,fill:"none",points:n}))),j.createElement(Wae,{points:e,props:m,clipPathId:a}))}function Xae(t){var e,n,{alpha:i,baseLine:a,points:s,strokeWidth:o}=t,c=(e=s[0])===null||e===void 0?void 0:e.y,d=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!qe(c)||!qe(d))return null;var h=i*Math.abs(c-d),f=Math.max(...s.map(p=>p.x||0));return je(a)?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(...a.map(p=>p.x||0),f)),je(f)?j.createElement("rect",{x:0,y:c<d?c:c-h,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(h)}):null}function Kae(t){var e,n,{alpha:i,baseLine:a,points:s,strokeWidth:o}=t,c=(e=s[0])===null||e===void 0?void 0:e.x,d=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!qe(c)||!qe(d))return null;var h=i*Math.abs(c-d),f=Math.max(...s.map(p=>p.y||0));return je(a)?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(...a.map(p=>p.y||0),f)),je(f)?j.createElement("rect",{x:c<d?c:c-h,y:0,width:h,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}function Jae(t){var{alpha:e,layout:n,points:i,baseLine:a,strokeWidth:s}=t;return n==="vertical"?j.createElement(Xae,{alpha:e,points:i,baseLine:a,strokeWidth:s}):j.createElement(Kae,{alpha:e,points:i,baseLine:a,strokeWidth:s})}function Zae(t){var{needClip:e,clipPathId:n,props:i,previousPointsRef:a,previousBaselineRef:s}=t,{points:o,baseLine:c,isAnimationActive:d,animationBegin:h,animationDuration:f,animationEasing:p,onAnimationStart:m,onAnimationEnd:x}=i,b=j.useMemo(()=>({points:o,baseLine:c}),[o,c]),y=Sm(b,"recharts-area-"),_=n_(),[S,N]=j.useState(!1),E=!S,A=j.useCallback(()=>{typeof x=="function"&&x(),N(!1)},[x]),T=j.useCallback(()=>{typeof m=="function"&&m(),N(!0)},[m]);if(_==null)return null;var k=a.current,R=s.current;return j.createElement(Yae,{showLabels:E,points:o},i.children,j.createElement(wm,{animationId:y,begin:h,duration:f,isActive:d,easing:p,onAnimationEnd:A,onAnimationStart:T,key:y},H=>{if(k){var V=k.length/o.length,Y=H===1?o:o.map((X,ee)=>{var L=Math.floor(ee*V);if(k[L]){var P=k[L];return Ql(Ql({},X),{},{x:$t(P.x,X.x,H),y:$t(P.y,X.y,H)})}return X}),W;return je(c)?W=$t(R,c,H):Wt(c)||Or(c)?W=$t(R,0,H):W=c.map((X,ee)=>{var L=Math.floor(ee*V);if(Array.isArray(R)&&R[L]){var P=R[L];return Ql(Ql({},X),{},{x:$t(P.x,X.x,H),y:$t(P.y,X.y,H)})}return X}),H>0&&(a.current=Y,s.current=W),j.createElement(Y5,{points:Y,baseLine:W,needClip:e,clipPathId:n,props:i})}return H>0&&(a.current=o,s.current=c),j.createElement(ii,null,d&&j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(n)},j.createElement(Jae,{alpha:H,points:o,baseLine:c,layout:_,strokeWidth:i.strokeWidth}))),j.createElement(ii,{clipPath:"url(#animationClipPath-".concat(n,")")},j.createElement(Y5,{points:o,baseLine:c,needClip:e,clipPathId:n,props:i})))}),j.createElement(U8,{label:i.label}))}function Qae(t){var{needClip:e,clipPathId:n,props:i}=t,a=j.useRef(null),s=j.useRef();return j.createElement(Zae,{needClip:e,clipPathId:n,props:i,previousPointsRef:a,previousBaselineRef:s})}class ese extends j.PureComponent{render(){var{hide:e,dot:n,points:i,className:a,top:s,left:o,needClip:c,xAxisId:d,yAxisId:h,width:f,height:p,id:m,baseLine:x,zIndex:b}=this.props;if(e)return null;var y=st("recharts-area",a),_=m,{r:S,strokeWidth:N}=Pre(n),E=W8(n),A=S*2+N,T=c?"url(#clipPath-".concat(E?"":"dots-").concat(_,")"):void 0;return j.createElement(br,{zIndex:b},j.createElement(ii,{className:y},c&&j.createElement("defs",null,j.createElement(cR,{clipPathId:_,xAxisId:d,yAxisId:h}),!E&&j.createElement("clipPath",{id:"clipPath-dots-".concat(_)},j.createElement("rect",{x:o-A/2,y:s-A/2,width:f+A,height:p+A}))),j.createElement(Qae,{needClip:c,clipPathId:_,props:this.props})),j.createElement(O5,{points:i,mainColor:Eg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:T}),this.props.isRange&&Array.isArray(x)&&j.createElement(O5,{points:x,mainColor:Eg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:T}))}}var SR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:jn.area};function tse(t){var e,n=ai(t,SR),{activeDot:i,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:c,dot:d,fill:h,fillOpacity:f,hide:p,isAnimationActive:m,legendType:x,stroke:b,xAxisId:y,yAxisId:_}=n,S=wR(n,$ae),N=Qo(),E=y8(),{needClip:A}=oj(y,_),T=Yn(),{points:k,isRange:R,baseLine:H}=(e=Oe(L=>Bae(L,t.id,T)))!==null&&e!==void 0?e:{},V=ij();if(N!=="horizontal"&&N!=="vertical"||V==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:Y,width:W,x:X,y:ee}=V;return!k||!k.length?null:j.createElement(ese,Lo({},S,{activeDot:i,animationBegin:a,animationDuration:s,animationEasing:o,baseLine:H,connectNulls:c,dot:d,fill:h,fillOpacity:f,height:Y,hide:p,layout:N,isAnimationActive:m==="auto"?!lh.isSsr:m,isRange:R,legendType:x,needClip:A,points:k,stroke:b,width:W,left:X,top:ee,xAxisId:y,yAxisId:_}))}var nse=(t,e,n,i,a)=>{var s=n??e;if(je(s))return s;var o=t==="horizontal"?a:i,c=o.scale.domain();if(o.type==="number"){var d=Math.max(c[0],c[1]),h=Math.min(c[0],c[1]);return s==="dataMin"?h:s==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]};function ise(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:i},stackedData:a,layout:s,chartBaseValue:o,xAxis:c,yAxis:d,displayedData:h,dataStartIndex:f,xAxisTicks:p,yAxisTicks:m,bandSize:x}=t,b=a&&a.length,y=nse(s,o,n,c,d),_=s==="horizontal",S=!1,N=h.map((A,T)=>{var k,R,H,V;if(b)V=a[f+T];else{var Y=on(A,i);Array.isArray(Y)?(V=Y,S=!0):V=[y,Y]}var W=(k=(R=V)===null||R===void 0?void 0:R[1])!==null&&k!==void 0?k:null,X=W==null||b&&!e&&on(A,i)==null;if(_){var ee;return{x:kE({axis:c,ticks:p,bandSize:x,entry:A,index:T}),y:X?null:(ee=d.scale.map(W))!==null&&ee!==void 0?ee:null,value:V,payload:A}}return{x:X?null:(H=c.scale.map(W))!==null&&H!==void 0?H:null,y:kE({axis:d,ticks:m,bandSize:x,entry:A,index:T}),value:V,payload:A}}),E;return b||S?E=N.map(A=>{var T,k=Array.isArray(A.value)?A.value[0]:null;if(_){var R;return{x:A.x,y:k!=null&&A.y!=null&&(R=d.scale.map(k))!==null&&R!==void 0?R:null,payload:A.payload}}return{x:k!=null&&(T=c.scale.map(k))!==null&&T!==void 0?T:null,y:A.y,payload:A.payload}}):E=_?d.scale.map(y):c.scale.map(y),{points:N,baseLine:E??0,isRange:S}}function rse(t){var e=ai(t,SR),n=Yn();return j.createElement(Q8,{id:e.id,type:"area"},i=>j.createElement(j.Fragment,null,j.createElement(Z8,{legendPayload:qae(e)}),j.createElement(Gae,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),j.createElement(tR,{type:"area",id:i,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:BO(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),j.createElement(tse,Lo({},e,{id:i}))))}var CR=j.memo(rse,qm);CR.displayName="Area";function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},zb.apply(null,arguments)}function Tg(t){return j.createElement(Bne,zb({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var ase=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,a)=>{if(je(e))return e;var s=je(i)||Wt(i);return s?e(i,a):(s||pt(!1),n)}},sse=(t,e,n)=>n,ose=(t,e)=>e,yh=ue([$m,ose],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),lse=ue([yh],t=>t?.maxBarSize),cse=(t,e,n,i)=>i,use=ue([dt,$m,ca,ua,sse],(t,e,n,i,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===i).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),dse=(t,e,n)=>{var i=dt(t),a=ca(t,e),s=ua(t,e);if(!(a==null||s==null))return i==="horizontal"?yg(t,"yAxis",s,n):yg(t,"xAxis",a,n)},hse=(t,e)=>{var n=dt(t),i=ca(t,e),a=ua(t,e);if(!(i==null||a==null))return n==="horizontal"?kT(t,"xAxis",i):kT(t,"yAxis",a)},fse=ue([use,BJ,hse],wie),pse=(t,e,n)=>{var i,a,s=yh(t,e);if(s==null)return 0;var o=ca(t,e),c=ua(t,e);if(o==null||c==null)return 0;var d=dt(t),h=rP(t),{maxBarSize:f}=s,p=Wt(f)?h:f,m,x;return d==="horizontal"?(m=Us(t,"xAxis",o,n),x=Hs(t,"xAxis",o,n)):(m=Us(t,"yAxis",c,n),x=Hs(t,"yAxis",c,n)),(i=(a=fc(m,x,!0))!==null&&a!==void 0?a:p)!==null&&i!==void 0?i:0},AR=(t,e,n)=>{var i=dt(t),a=ca(t,e),s=ua(t,e);if(!(a==null||s==null)){var o,c;return i==="horizontal"?(o=Us(t,"xAxis",a,n),c=Hs(t,"xAxis",a,n)):(o=Us(t,"yAxis",s,n),c=Hs(t,"yAxis",s,n)),fc(o,c)}},gse=ue([fse,rP,IJ,aP,pse,AR,lse],Eie),mse=(t,e,n)=>{var i=ca(t,e);if(i!=null)return Us(t,"xAxis",i,n)},vse=(t,e,n)=>{var i=ua(t,e);if(i!=null)return Us(t,"yAxis",i,n)},xse=(t,e,n)=>{var i=ca(t,e);if(i!=null)return Hs(t,"xAxis",i,n)},yse=(t,e,n)=>{var i=ua(t,e);if(i!=null)return Hs(t,"yAxis",i,n)},bse=ue([gse,yh],kie),_se=ue([dse,yh],Tie),jse=ue([An,Q2,mse,vse,xse,yse,bse,dt,GM,AR,_se,yh,cse],(t,e,n,i,a,s,o,c,d,h,f,p,m)=>{var{chartData:x,dataStartIndex:b,dataEndIndex:y}=d;if(!(p==null||o==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||i==null||a==null||s==null||h==null)){var{data:_}=p,S;if(_!=null&&_.length>0?S=_:S=x?.slice(b,y+1),S!=null)return Kse({layout:c,barSettings:p,pos:o,parentViewBox:e,bandSize:h,xAxis:n,yAxis:i,xAxisTicks:a,yAxisTicks:s,stackedData:f,displayedData:S,offset:t,cells:m,dataStartIndex:b})}}),wse=["index"];function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$b.apply(null,arguments)}function Sse(t,e){if(t==null)return{};var n,i,a=Cse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Cse(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var NR=j.createContext(void 0),Ase=t=>{var e=j.useContext(NR);if(e!=null)return e.stackId;if(t!=null)return BO(t)},Nse=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Ese=t=>{var e=j.useContext(NR);if(e!=null){var{stackId:n}=e;return"url(#".concat(Nse(n,t),")")}},ER=t=>{var{index:e}=t,n=Sse(t,wse),i=Ese(e);return j.createElement(ii,$b({className:"recharts-bar-stack-layer",clipPath:i},n))},Tse=["onMouseEnter","onMouseLeave","onClick"],kse=["value","background","tooltipPosition"],Dse=["id"],Ose=["onMouseEnter","onClick","onMouseLeave"];function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ya.apply(null,arguments)}function X5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(n),!0).forEach(function(i){Mse(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Mse(t,e,n){return(e=Pse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pse(t){var e=Rse(t,"string");return typeof e=="symbol"?e:e+""}function Rse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kg(t,e){if(t==null)return{};var n,i,a=Lse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Lse(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Ise=t=>{var{dataKey:e,name:n,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:i,value:pm(n,e),payload:t}]},Bse=j.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:c,tooltipType:d,id:h}=t,f={dataDefinedOnItem:void 0,getPosition:Zo,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:pm(s,e),hide:o,type:d,color:a,unit:c,graphicalItemId:h}};return j.createElement(J8,{tooltipEntrySettings:f})});function zse(t){var e=Oe(Go),{data:n,dataKey:i,background:a,allOtherBarProps:s}=t,{onMouseEnter:o,onMouseLeave:c,onClick:d}=s,h=kg(s,Tse),f=Y8(o,i,s.id),p=X8(c),m=K8(d,i,s.id);if(!a||n==null)return null;var x=th(a);return j.createElement(br,{zIndex:Die(a,jn.barBackground)},n.map((b,y)=>{var{value:_,background:S,tooltipPosition:N}=b,E=kg(b,kse);if(!S)return null;var A=f(b,y),T=p(b,y),k=m(b,y),R=Qn(Qn(Qn(Qn(Qn({option:a,isActive:String(y)===e},E),{},{fill:"#eee"},S),x),H2(h,b,y)),{},{onMouseEnter:A,onMouseLeave:T,onClick:k,dataKey:i,index:y,className:"recharts-bar-background-rectangle"});return j.createElement(Tg,Ya({key:"background-bar-".concat(y)},R))}))}function $se(t){var{showLabels:e,children:n,rects:i}=t,a=i?.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Qn(Qn({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return j.createElement(F8,{value:e?a:void 0},n)}function Fse(t){var{shape:e,activeBar:n,baseProps:i,entry:a,index:s,dataKey:o}=t,c=Oe(Go),d=Oe(m8),h=n&&String(s)===c&&(d==null||o===d),f=h?n:e;return h?j.createElement(br,{zIndex:jn.activeBar},j.createElement(ER,{index:s},j.createElement(Tg,Ya({},i,{name:String(i.name)},a,{isActive:h,option:f,index:s,dataKey:o})))):j.createElement(Tg,Ya({},i,{name:String(i.name)},a,{isActive:h,option:f,index:s,dataKey:o}))}function Hse(t){var{shape:e,baseProps:n,entry:i,index:a,dataKey:s}=t;return j.createElement(Tg,Ya({},n,{name:String(n.name)},i,{isActive:!1,option:e,index:a,dataKey:s}))}function Use(t){var e,{data:n,props:i}=t,a=(e=pr(i))!==null&&e!==void 0?e:{},{id:s}=a,o=kg(a,Dse),{shape:c,dataKey:d,activeBar:h}=i,{onMouseEnter:f,onClick:p,onMouseLeave:m}=i,x=kg(i,Ose),b=Y8(f,d,s),y=X8(m),_=K8(p,d,s);return n?j.createElement(j.Fragment,null,n.map((S,N)=>j.createElement(ER,Ya({index:N,key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(N),className:"recharts-bar-rectangle"},H2(x,S,N),{onMouseEnter:b(S,N),onMouseLeave:y(S,N),onClick:_(S,N)}),h?j.createElement(Fse,{shape:c,activeBar:h,baseProps:o,entry:S,index:N,dataKey:d}):j.createElement(Hse,{shape:c,baseProps:o,entry:S,index:N,dataKey:d})))):null}function Vse(t){var{props:e,previousRectanglesRef:n}=t,{data:i,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:c,animationEasing:d,onAnimationEnd:h,onAnimationStart:f}=e,p=n.current,m=Sm(e,"recharts-bar-"),[x,b]=j.useState(!1),y=!x,_=j.useCallback(()=>{typeof h=="function"&&h(),b(!1)},[h]),S=j.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return j.createElement($se,{showLabels:y,rects:i},j.createElement(wm,{animationId:m,begin:o,duration:c,isActive:s,easing:d,onAnimationEnd:_,onAnimationStart:S,key:m},N=>{var E=N===1?i:i?.map((A,T)=>{var k=p&&p[T];if(k)return Qn(Qn({},A),{},{x:$t(k.x,A.x,N),y:$t(k.y,A.y,N),width:$t(k.width,A.width,N),height:$t(k.height,A.height,N)});if(a==="horizontal"){var R=$t(0,A.height,N),H=$t(A.stackedBarStart,A.y,N);return Qn(Qn({},A),{},{y:H,height:R})}var V=$t(0,A.width,N),Y=$t(A.stackedBarStart,A.x,N);return Qn(Qn({},A),{},{width:V,x:Y})});return N>0&&(n.current=E??null),E==null?null:j.createElement(ii,null,j.createElement(Use,{props:e,data:E}))}),j.createElement(U8,{label:e.label}),e.children)}function qse(t){var e=j.useRef(null);return j.createElement(Vse,{previousRectanglesRef:e,props:t})}var TR=0,Gse=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:on(t,e)}};class Wse extends j.PureComponent{render(){var{hide:e,data:n,dataKey:i,className:a,xAxisId:s,yAxisId:o,needClip:c,background:d,id:h}=this.props;if(e||n==null)return null;var f=st("recharts-bar",a),p=h;return j.createElement(ii,{className:f,id:h},c&&j.createElement("defs",null,j.createElement(cR,{clipPathId:p,xAxisId:s,yAxisId:o})),j.createElement(ii,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},j.createElement(zse,{data:n,dataKey:i,background:d,allOtherBarProps:this.props}),j.createElement(qse,this.props)))}}var Yse={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:TR,xAxisId:0,yAxisId:0,zIndex:jn.bar};function Xse(t){var{xAxisId:e,yAxisId:n,hide:i,legendType:a,minPointSize:s,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:h,isAnimationActive:f}=t,{needClip:p}=oj(e,n),m=Qo(),x=Yn(),b=yne(t.children,T8),y=Oe(N=>jse(N,t.id,x,b));if(m!=="vertical"&&m!=="horizontal")return null;var _,S=y?.[0];return S==null||S.height==null||S.width==null?_=0:_=m==="vertical"?S.height/2:S.width/2,j.createElement(Mre,{xAxisId:e,yAxisId:n,data:y,dataPointFormatter:Gse,errorBarOffset:_},j.createElement(Wse,Ya({},t,{layout:m,needClip:p,data:y,xAxisId:e,yAxisId:n,hide:i,legendType:a,minPointSize:s,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:h,isAnimationActive:f})))}function Kse(t){var{layout:e,barSettings:{dataKey:n,minPointSize:i},pos:a,bandSize:s,xAxis:o,yAxis:c,xAxisTicks:d,yAxisTicks:h,stackedData:f,displayedData:p,offset:m,cells:x,parentViewBox:b,dataStartIndex:y}=t,_=e==="horizontal"?c:o,S=f?_.scale.domain():null,N=PG({numericAxis:_}),E=_.scale.map(N);return p.map((A,T)=>{var k,R,H,V,Y,W;if(f){var X=f[T+y];if(X==null)return null;k=TG(X,S)}else k=on(A,n),Array.isArray(k)||(k=[N,k]);var ee=ase(i,TR)(k[1],T);if(e==="horizontal"){var L,P=c.scale.map(k[0]),M=c.scale.map(k[1]);if(P==null||M==null)return null;R=DE({axis:o,ticks:d,bandSize:s,offset:a.offset,entry:A,index:T}),H=(L=M??P)!==null&&L!==void 0?L:void 0,V=a.size;var I=P-M;if(Y=Or(I)?0:I,W={x:R,y:m.top,width:V,height:m.height},Math.abs(ee)>0&&Math.abs(Y)<Math.abs(ee)){var G=vi(Y||ee)*(Math.abs(ee)-Math.abs(Y));H-=G,Y+=G}}else{var U=o.scale.map(k[0]),K=o.scale.map(k[1]);if(U==null||K==null)return null;if(R=U,H=DE({axis:c,ticks:h,bandSize:s,offset:a.offset,entry:A,index:T}),V=K-U,Y=a.size,W={x:m.left,y:H,width:m.width,height:Y},Math.abs(ee)>0&&Math.abs(V)<Math.abs(ee)){var z=vi(V||ee)*(Math.abs(ee)-Math.abs(V));V+=z}}if(R==null||H==null||V==null||Y==null)return null;var O=Qn(Qn({},A),{},{stackedBarStart:E,x:R,y:H,width:V,height:Y,value:f?k:k[1],payload:A,background:W,tooltipPosition:{x:R+V/2,y:H+Y/2},parentViewBox:b},x&&x[T]&&x[T].props);return O}).filter(Boolean)}function Jse(t){var e=ai(t,Yse),n=Ase(e.stackId),i=Yn();return j.createElement(Q8,{id:e.id,type:"bar"},a=>j.createElement(j.Fragment,null,j.createElement(Z8,{legendPayload:Ise(e)}),j.createElement(Bse,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:a}),j.createElement(tR,{type:"bar",id:a,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:i}),j.createElement(br,{zIndex:e.zIndex},j.createElement(Xse,Ya({},e,{id:a})))))}var Fb=j.memo(Jse,qm);Fb.displayName="Bar";var Zse=["domain","range"],Qse=["domain","range"];function K5(t,e){if(t==null)return{};var n,i,a=eoe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function eoe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function J5(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function kR(t,e){if(t===e)return!0;var{domain:n,range:i}=t,a=K5(t,Zse),{domain:s,range:o}=e,c=K5(e,Qse);return!J5(n,s)||!J5(i,o)?!1:qm(a,c)}var toe=["type"],noe=["dangerouslySetInnerHTML","ticks","scale"],ioe=["id","scale"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Hb.apply(null,arguments)}function Z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Q5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(n),!0).forEach(function(i){roe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function roe(t,e,n){return(e=aoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aoe(t){var e=soe(t,"string");return typeof e=="symbol"?e:e+""}function soe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ub(t,e){if(t==null)return{};var n,i,a=ooe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ooe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function loe(t){var e=Qt(),n=j.useRef(null),i=n_(),{type:a}=t,s=Ub(t,toe),o=Mm(i,"xAxis",a),c=j.useMemo(()=>{if(o!=null)return Q5(Q5({},s),{},{type:o})},[s,o]);return j.useLayoutEffect(()=>{c!=null&&(n.current===null?e(lie(c)):n.current!==c&&e(cie({prev:n.current,next:c})),n.current=c)},[c,e]),j.useLayoutEffect(()=>()=>{n.current&&(e(uie(n.current)),n.current=null)},[e]),null}var coe=t=>{var{xAxisId:e,className:n}=t,i=Oe(Q2),a=Yn(),s="xAxis",o=Oe(S=>XP(S,s,e,a)),c=Oe(S=>qP(S,e)),d=Oe(S=>$Z(S,e)),h=Oe(S=>pP(S,e));if(c==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:f,ticks:p,scale:m}=t,x=Ub(t,noe),{id:b,scale:y}=h,_=Ub(h,ioe);return j.createElement(aj,Hb({},x,_,{x:d.x,y:d.y,width:c.width,height:c.height,className:st("recharts-".concat(s," ").concat(s),n),viewBox:i,ticks:o,axisType:s}))},uoe={allowDataOverflow:vn.allowDataOverflow,allowDecimals:vn.allowDecimals,allowDuplicatedCategory:vn.allowDuplicatedCategory,angle:vn.angle,axisLine:Ba.axisLine,height:vn.height,hide:!1,includeHidden:vn.includeHidden,interval:vn.interval,label:!1,minTickGap:vn.minTickGap,mirror:vn.mirror,orientation:vn.orientation,padding:vn.padding,reversed:vn.reversed,scale:vn.scale,tick:vn.tick,tickCount:vn.tickCount,tickLine:Ba.tickLine,tickSize:Ba.tickSize,type:vn.type,xAxisId:0},doe=t=>{var e=ai(t,uoe);return j.createElement(j.Fragment,null,j.createElement(loe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),j.createElement(coe,e))},uj=j.memo(doe,kR);uj.displayName="XAxis";var hoe=["type"],foe=["dangerouslySetInnerHTML","ticks","scale"],poe=["id","scale"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vb.apply(null,arguments)}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(i){goe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function goe(t,e,n){return(e=moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function moe(t){var e=voe(t,"string");return typeof e=="symbol"?e:e+""}function voe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qb(t,e){if(t==null)return{};var n,i,a=xoe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xoe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function yoe(t){var e=Qt(),n=j.useRef(null),i=n_(),{type:a}=t,s=qb(t,hoe),o=Mm(i,"yAxis",a),c=j.useMemo(()=>{if(o!=null)return tk(tk({},s),{},{type:o})},[o,s]);return j.useLayoutEffect(()=>{c!=null&&(n.current===null?e(die(c)):n.current!==c&&e(hie({prev:n.current,next:c})),n.current=c)},[c,e]),j.useLayoutEffect(()=>()=>{n.current&&(e(fie(n.current)),n.current=null)},[e]),null}function boe(t){var{yAxisId:e,className:n,width:i,label:a}=t,s=j.useRef(null),o=j.useRef(null),c=Oe(Q2),d=Yn(),h=Qt(),f="yAxis",p=Oe(k=>GP(k,e)),m=Oe(k=>HZ(k,e)),x=Oe(k=>XP(k,f,e,d)),b=Oe(k=>gP(k,e));if(j.useLayoutEffect(()=>{if(!(i!=="auto"||!p||nj(a)||j.isValidElement(a)||b==null)){var k=s.current;if(k){var R=k.getCalculatedWidth();Math.round(p.width)!==Math.round(R)&&h(pie({id:e,width:R}))}}},[x,p,h,a,e,i,b]),p==null||m==null||b==null)return null;var{dangerouslySetInnerHTML:y,ticks:_,scale:S}=t,N=qb(t,foe),{id:E,scale:A}=b,T=qb(b,poe);return j.createElement(aj,Vb({},N,T,{ref:s,labelRef:o,x:m.x,y:m.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:p.width,height:p.height,className:st("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:x,axisType:f}))}var _oe={allowDataOverflow:xn.allowDataOverflow,allowDecimals:xn.allowDecimals,allowDuplicatedCategory:xn.allowDuplicatedCategory,angle:xn.angle,axisLine:Ba.axisLine,hide:!1,includeHidden:xn.includeHidden,interval:xn.interval,label:!1,minTickGap:xn.minTickGap,mirror:xn.mirror,orientation:xn.orientation,padding:xn.padding,reversed:xn.reversed,scale:xn.scale,tick:xn.tick,tickCount:xn.tickCount,tickLine:Ba.tickLine,tickSize:Ba.tickSize,type:xn.type,width:xn.width,yAxisId:0},joe=t=>{var e=ai(t,_oe);return j.createElement(j.Fragment,null,j.createElement(yoe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),j.createElement(boe,e))},dj=j.memo(joe,kR);dj.displayName="YAxis";var woe=(t,e)=>e,hj=ue([woe,dt,hP,Tn,h8,ts,nee,An],cee),fj=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,i=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/i)}},DR=gr("mouseClick"),OR=rh();OR.startListening({actionCreator:DR,effect:(t,e)=>{var n=t.payload,i=hj(e.getState(),fj(n));i?.activeIndex!=null&&e.dispatch(nQ({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var Gb=gr("mouseMove"),MR=rh(),fp=null;MR.startListening({actionCreator:Gb,effect:(t,e)=>{var n=t.payload;fp!==null&&cancelAnimationFrame(fp);var i=fj(n);fp=requestAnimationFrame(()=>{var a=e.getState(),s=q_(a,a.tooltip.settings.shared);if(s==="axis"){var o=hj(a,i);o?.activeIndex!=null?e.dispatch(i8({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(n8())}fp=null})}});function Soe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var nk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},PR=bi({name:"rootProps",initialState:nk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:nk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Coe=PR.reducer,{updateOptions:Aoe}=PR.actions,Noe=null,Eoe={updatePolarOptions:(t,e)=>e.payload},RR=bi({name:"polarOptions",initialState:Noe,reducers:Eoe}),{updatePolarOptions:Bpe}=RR.actions,Toe=RR.reducer,LR=gr("keyDown"),IR=gr("focus"),pj=rh();pj.startListening({actionCreator:LR,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=G_(a,Lc(n),gh(n),vh(n)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var d=ts(n);if(s==="Enter"){var h=_g(n,"axis","hover",String(a.index));e.dispatch(Ob({active:!a.active,activeIndex:a.index,activeCoordinate:h}));return}var f=GZ(n),p=f==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,x=c+m*p;if(!(d==null||x>=d.length||x<0)){var b=_g(n,"axis","hover",String(x));e.dispatch(Ob({active:!0,activeIndex:x.toString(),activeCoordinate:b}))}}}}}});pj.startListening({actionCreator:IR,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",o=_g(n,"axis","hover",String(s));e.dispatch(Ob({active:!0,activeIndex:s,activeCoordinate:o}))}}}});var ur=gr("externalEvent"),BR=rh(),dy=new Map;BR.startListening({actionCreator:ur,effect:(t,e)=>{var{handler:n,reactEvent:i}=t.payload;if(n!=null){i.persist();var a=i.type,s=dy.get(a);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var c=e.getState(),d={activeCoordinate:FQ(c),activeDataKey:m8(c),activeIndex:Go(c),activeLabel:g8(c),activeTooltipIndex:Go(c),isTooltipActive:HQ(c)};n(d,i)}finally{dy.delete(a)}});dy.set(a,o)}}});var koe=ue([Pc],t=>t.tooltipItemPayloads),Doe=ue([koe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var i=t.find(s=>s.settings.graphicalItemId===n);if(i!=null){var{getPosition:a}=i;if(a!=null)return a(e)}}}),zR=gr("touchMove"),$R=rh();$R.startListening({actionCreator:zR,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var i=e.getState(),a=q_(i,i.tooltip.settings.shared);if(a==="axis"){var s=n.touches[0];if(s==null)return;var o=hj(i,fj({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&e.dispatch(i8({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var f=h.getAttribute(FG),p=(c=h.getAttribute(HG))!==null&&c!==void 0?c:void 0,m=Rc(i).find(y=>y.id===p);if(f==null||m==null||p==null)return;var{dataKey:x}=m,b=Doe(i,f,p);e.dispatch(t8({activeDataKey:x,activeIndex:f,activeCoordinate:b,activeGraphicalItemId:p}))}}}});var Ooe=sO({brush:Mie,cartesianAxis:gie,chartData:$ee,errorBars:Nre,graphicalItems:Wne,layout:SG,legend:MW,options:Ree,polarAxis:pne,polarOptions:Toe,referenceElements:Iie,rootProps:Coe,tooltip:iQ,zIndex:wee}),Moe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Xq({reducer:Ooe,preloadedState:e,middleware:i=>{var a;return i({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([OR.middleware,MR.middleware,pj.middleware,BR.middleware,$R.middleware])},enhancers:i=>{var a=i;return typeof i=="function"&&(a=i()),a.concat(jO({type:"raf"}))},devTools:{serialize:{replacer:Soe},name:"recharts-".concat(n)}})};function Poe(t){var{preloadedState:e,children:n,reduxStoreName:i}=t,a=Yn(),s=j.useRef(null);if(a)return n;s.current==null&&(s.current=Moe(e,i));var o=q2;return j.createElement(mR,{context:o,store:s.current},n)}function Roe(t){var{layout:e,margin:n}=t,i=Qt(),a=Yn();return j.useEffect(()=>{a||(i(_G(e)),i(bG(n)))},[i,a,e,n]),null}var Loe=j.memo(Roe,qm);function Ioe(t){var e=Qt();return j.useEffect(()=>{e(Aoe(t))},[e,t]),null}function ik(t){var{zIndex:e,isPanorama:n}=t,i=j.useRef(null),a=Qt();return j.useLayoutEffect(()=>(i.current&&a(_ee({zIndex:e,element:i.current,isPanorama:n})),()=>{a(jee({zIndex:e,isPanorama:n}))}),[a,e,n]),j.createElement("g",{tabIndex:-1,ref:i})}function rk(t){var{children:e,isPanorama:n}=t,i=Oe(dee);if(!i||i.length===0)return e;var a=i.filter(o=>o<0),s=i.filter(o=>o>0);return j.createElement(j.Fragment,null,a.map(o=>j.createElement(ik,{key:o,zIndex:o,isPanorama:n})),e,s.map(o=>j.createElement(ik,{key:o,zIndex:o,isPanorama:n})))}var Boe=["children"];function zoe(t,e){if(t==null)return{};var n,i,a=$oe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function $oe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Dg.apply(null,arguments)}var Foe={width:"100%",height:"100%",display:"block"},Hoe=j.forwardRef((t,e)=>{var n=qO(),i=GO(),a=tM();if(!ra(n)||!ra(i))return null;var{children:s,otherAttributes:o,title:c,desc:d}=t,h,f;return o!=null&&(typeof o.tabIndex=="number"?h=o.tabIndex:h=a?0:void 0,typeof o.role=="string"?f=o.role:f=a?"application":void 0),j.createElement(C6,Dg({},o,{title:c,desc:d,role:f,tabIndex:h,width:n,height:i,style:Foe,ref:e}),s)}),Uoe=t=>{var{children:e}=t,n=Oe(xm);if(!n)return null;var{width:i,height:a,y:s,x:o}=n;return j.createElement(C6,{width:i,height:a,x:o,y:s},e)},ak=j.forwardRef((t,e)=>{var{children:n}=t,i=zoe(t,Boe),a=Yn();return a?j.createElement(Uoe,null,j.createElement(rk,{isPanorama:!0},n)):j.createElement(Hoe,Dg({ref:e},i),j.createElement(rk,{isPanorama:!1},n))});function Voe(){var t=Qt(),[e,n]=j.useState(null),i=Oe($G);return j.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;qe(s)&&s!==i&&t(wG(s))}},[e,t,i]),n}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function qoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(i){Goe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Goe(t,e,n){return(e=Woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Woe(t){var e=Yoe(t,"string");return typeof e=="symbol"?e:e+""}function Yoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Is(){return Is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Is.apply(null,arguments)}var Xoe=()=>(Xee(),null);function Og(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Koe=j.forwardRef((t,e)=>{var n,i,a=j.useRef(null),[s,o]=j.useState({containerWidth:Og((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Og((i=t.style)===null||i===void 0?void 0:i.height)}),c=j.useCallback((h,f)=>{o(p=>{var m=Math.round(h),x=Math.round(f);return p.containerWidth===m&&p.containerHeight===x?p:{containerWidth:m,containerHeight:x}})},[]),d=j.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=h.getBoundingClientRect();c(f,p);var m=b=>{var y=b[0];if(y!=null){var{width:_,height:S}=y.contentRect;c(_,S)}},x=new ResizeObserver(m);x.observe(h),a.current=x}},[e,c]);return j.useEffect(()=>()=>{var h=a.current;h?.disconnect()},[c]),j.createElement(j.Fragment,null,j.createElement(sh,{width:s.containerWidth,height:s.containerHeight}),j.createElement("div",Is({ref:d},t)))}),Joe=j.forwardRef((t,e)=>{var{width:n,height:i}=t,[a,s]=j.useState({containerWidth:Og(n),containerHeight:Og(i)}),o=j.useCallback((d,h)=>{s(f=>{var p=Math.round(d),m=Math.round(h);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),c=j.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:h,height:f}=d.getBoundingClientRect();o(h,f)}},[e,o]);return j.createElement(j.Fragment,null,j.createElement(sh,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",Is({ref:c},t)))}),Zoe=j.forwardRef((t,e)=>{var{width:n,height:i}=t;return j.createElement(j.Fragment,null,j.createElement(sh,{width:n,height:i}),j.createElement("div",Is({ref:e},t)))}),Qoe=j.forwardRef((t,e)=>{var{width:n,height:i}=t;return typeof n=="string"||typeof i=="string"?j.createElement(Joe,Is({},t,{ref:e})):typeof n=="number"&&typeof i=="number"?j.createElement(Zoe,Is({},t,{width:n,height:i,ref:e})):j.createElement(j.Fragment,null,j.createElement(sh,{width:n,height:i}),j.createElement("div",Is({ref:e},t)))});function ele(t){return t?Koe:Qoe}var tle=j.forwardRef((t,e)=>{var{children:n,className:i,height:a,onClick:s,onContextMenu:o,onDoubleClick:c,onMouseDown:d,onMouseEnter:h,onMouseLeave:f,onMouseMove:p,onMouseUp:m,onTouchEnd:x,onTouchMove:b,onTouchStart:y,style:_,width:S,responsive:N,dispatchTouchEvents:E=!0}=t,A=j.useRef(null),T=Qt(),[k,R]=j.useState(null),[H,V]=j.useState(null),Y=Voe(),W=e_(),X=W?.width>0?W.width:S,ee=W?.height>0?W.height:a,L=j.useCallback(Z=>{Y(Z),typeof e=="function"&&e(Z),R(Z),V(Z),Z!=null&&(A.current=Z)},[Y,e,R,V]),P=j.useCallback(Z=>{T(DR(Z)),T(ur({handler:s,reactEvent:Z}))},[T,s]),M=j.useCallback(Z=>{T(Gb(Z)),T(ur({handler:h,reactEvent:Z}))},[T,h]),I=j.useCallback(Z=>{T(n8()),T(ur({handler:f,reactEvent:Z}))},[T,f]),G=j.useCallback(Z=>{T(Gb(Z)),T(ur({handler:p,reactEvent:Z}))},[T,p]),U=j.useCallback(()=>{T(IR())},[T]),K=j.useCallback(Z=>{T(LR(Z.key))},[T]),z=j.useCallback(Z=>{T(ur({handler:o,reactEvent:Z}))},[T,o]),O=j.useCallback(Z=>{T(ur({handler:c,reactEvent:Z}))},[T,c]),$=j.useCallback(Z=>{T(ur({handler:d,reactEvent:Z}))},[T,d]),B=j.useCallback(Z=>{T(ur({handler:m,reactEvent:Z}))},[T,m]),Q=j.useCallback(Z=>{T(ur({handler:y,reactEvent:Z}))},[T,y]),J=j.useCallback(Z=>{E&&T(zR(Z)),T(ur({handler:b,reactEvent:Z}))},[T,E,b]),q=j.useCallback(Z=>{T(ur({handler:x,reactEvent:Z}))},[T,x]),re=ele(N);return j.createElement(S8.Provider,{value:k},j.createElement(kU.Provider,{value:H},j.createElement(re,{width:X??_?.width,height:ee??_?.height,className:st("recharts-wrapper",i),style:qoe({position:"relative",cursor:"default",width:X,height:ee},_),onClick:P,onContextMenu:z,onDoubleClick:O,onFocus:U,onKeyDown:K,onMouseDown:$,onMouseEnter:M,onMouseLeave:I,onMouseMove:G,onMouseUp:B,onTouchEnd:q,onTouchMove:J,onTouchStart:Q,ref:L},j.createElement(Xoe,null),n)))}),nle=["width","height","responsive","children","className","style","compact","title","desc"];function ile(t,e){if(t==null)return{};var n,i,a=rle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function rle(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var ale=j.forwardRef((t,e)=>{var{width:n,height:i,responsive:a,children:s,className:o,style:c,compact:d,title:h,desc:f}=t,p=ile(t,nle),m=pr(p);return d?j.createElement(j.Fragment,null,j.createElement(sh,{width:n,height:i}),j.createElement(ak,{otherAttributes:m,title:h,desc:f},s)):j.createElement(tle,{className:o,style:c,width:n,height:i,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},j.createElement(ak,{otherAttributes:m,title:h,desc:f,ref:e},j.createElement(zie,null,s)))});function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wb.apply(null,arguments)}var sle={top:5,right:5,bottom:5,left:5},ole={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:sle,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},FR=j.forwardRef(function(e,n){var i,a=ai(e.categoricalChartProps,ole),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,f={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return j.createElement(Poe,{preloadedState:{options:f},reduxStoreName:(i=h.id)!==null&&i!==void 0?i:s},j.createElement(Oie,{chartData:h.data}),j.createElement(Loe,{layout:a.layout,margin:a.margin}),j.createElement(Ioe,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(ale,Wb({},a,{ref:n})))}),lle=["axis","item"],cle=j.forwardRef((t,e)=>j.createElement(FR,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lle,tooltipPayloadSearcher:C8,categoricalChartProps:t,ref:e})),ule=["axis"],dle=j.forwardRef((t,e)=>j.createElement(FR,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ule,tooltipPayloadSearcher:C8,categoricalChartProps:t,ref:e}));const hle=[],fle=({active:t,payload:e,label:n})=>t&&e&&e.length?r.jsxs("div",{className:"chart-tooltip",children:[r.jsx("p",{className:"chart-tooltip-label",children:n}),r.jsx("p",{className:"chart-tooltip-value",children:e[0].value.toLocaleString()})]}):null;function ple({data:t=hle,color:e="#2d5a87",height:n=300,title:i="Registration Trends"}){return t.length===0?r.jsxs("div",{className:"chart-container",children:[r.jsx("div",{className:"chart-header",children:r.jsx("h3",{className:"chart-title",children:i})}),r.jsx("div",{style:{height:n,display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af"},children:"   "})]}):r.jsxs("div",{className:"chart-container",children:[r.jsxs("div",{className:"chart-header",children:[r.jsx("h3",{className:"chart-title",children:i}),r.jsxs("div",{className:"chart-legend",children:[r.jsx("span",{className:"chart-legend-dot",style:{background:e}}),r.jsx("span",{children:""})]})]}),r.jsx(UO,{width:"100%",height:n,children:r.jsxs(dle,{data:t,margin:{top:10,right:10,left:-20,bottom:0},children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:e,stopOpacity:.2}),r.jsx("stop",{offset:"95%",stopColor:e,stopOpacity:0})]})}),r.jsx(sj,{strokeDasharray:"3 3",stroke:"#f0f0f0",vertical:!1}),r.jsx(uj,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12},dy:10}),r.jsx(dj,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12},dx:-10}),r.jsx(E8,{content:r.jsx(fle,{})}),r.jsx(CR,{type:"monotone",dataKey:"value",stroke:e,strokeWidth:2,fillOpacity:1,fill:"url(#colorValue)"})]})})]})}const gle=[],mle=({active:t,payload:e,label:n})=>t&&e&&e.length?r.jsxs("div",{className:"chart-tooltip",children:[r.jsx("p",{className:"chart-tooltip-label",children:n}),e.map((i,a)=>r.jsxs("p",{className:"chart-tooltip-item",style:{color:i.color},children:[i.name,": ",i.value]},a))]}):null;function vle({data:t=gle,colors:e={pending:"#f59e0b",approved:"#10b981"},height:n=300,title:i="Monthly Registrations"}){return t.length===0?r.jsxs("div",{className:"chart-container",children:[r.jsx("div",{className:"chart-header",children:r.jsx("h3",{className:"chart-title",children:i})}),r.jsx("div",{style:{height:n,display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af"},children:"   "})]}):r.jsxs("div",{className:"chart-container",children:[r.jsxs("div",{className:"chart-header",children:[r.jsx("h3",{className:"chart-title",children:i}),r.jsxs("div",{className:"chart-legends",children:[r.jsxs("div",{className:"chart-legend",children:[r.jsx("span",{className:"chart-legend-dot",style:{background:e.approved}}),r.jsx("span",{children:""})]}),r.jsxs("div",{className:"chart-legend",children:[r.jsx("span",{className:"chart-legend-dot",style:{background:e.pending}}),r.jsx("span",{children:""})]})]})]}),r.jsx(UO,{width:"100%",height:n,children:r.jsxs(cle,{data:t,margin:{top:10,right:10,left:-20,bottom:0},children:[r.jsx(sj,{strokeDasharray:"3 3",stroke:"#f0f0f0",vertical:!1}),r.jsx(uj,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12},dy:10}),r.jsx(dj,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12},dx:-10}),r.jsx(E8,{content:r.jsx(mle,{})}),r.jsx(Fb,{dataKey:"approved",name:"",fill:e.approved,radius:[4,4,0,0],maxBarSize:40}),r.jsx(Fb,{dataKey:"pending",name:"",fill:e.pending,radius:[4,4,0,0],maxBarSize:40})]})})]})}const xle=[],ok={approved:{label:"",class:"success"},pending:{label:"",class:"warning"},rejected:{label:"",class:"danger"}},yle=t=>{const e=t.toUpperCase().split("").map(n=>127397+n.charCodeAt());return String.fromCodePoint(...e)};function ble({data:t=xle,title:e=" ",viewAllLink:n="/admin/registrations"}){const[i,a]=j.useState(""),s=t.filter(c=>c.name.toLowerCase().includes(i.toLowerCase())||c.email.toLowerCase().includes(i.toLowerCase())||c.country.toLowerCase().includes(i.toLowerCase())),o=c=>new Date(c).toLocaleDateString("ru-RU",{day:"numeric",month:"short"});return r.jsxs("div",{className:"recent-table-container",children:[r.jsxs("div",{className:"recent-table-header",children:[r.jsx("h3",{className:"recent-table-title",children:e}),r.jsxs("div",{className:"recent-table-actions",children:[r.jsxs("div",{className:"recent-table-search",children:[r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"11",cy:"11",r:"8"}),r.jsx("path",{d:"M21 21l-4.35-4.35"})]}),r.jsx("input",{type:"text",placeholder:"...",value:i,onChange:c=>a(c.target.value)})]}),r.jsxs(Pi,{to:n,className:"recent-table-view-all",children:["",r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]}),r.jsx("div",{className:"recent-table-wrapper",children:r.jsxs("table",{className:"recent-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{})]})}),r.jsx("tbody",{children:s.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"5",className:"recent-table-empty",children:" "})}):s.map(c=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsxs("div",{className:"recent-table-user",children:[r.jsx("div",{className:"recent-table-avatar",children:c.name.charAt(0).toUpperCase()}),r.jsxs("div",{className:"recent-table-user-info",children:[r.jsx("span",{className:"recent-table-name",children:c.name}),r.jsx("span",{className:"recent-table-email",children:c.email})]})]})}),r.jsx("td",{children:r.jsxs("span",{className:"recent-table-country",children:[r.jsx("span",{className:"flag",children:yle(c.countryCode)}),c.country]})}),r.jsx("td",{children:r.jsx("span",{className:`recent-table-status ${ok[c.status].class}`,children:ok[c.status].label})}),r.jsx("td",{children:r.jsx("span",{className:"recent-table-date",children:o(c.date)})}),r.jsx("td",{children:r.jsx(Pi,{to:`/admin/registrations/${c.id}`,className:"recent-table-action-btn",children:r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})})]},c.id))})]})})]})}const lk={"01":"","02":"","03":"","04":"","05":"","06":"","07":"","08":"","09":"",10:"",11:"",12:""};function _le(){const[t,e]=j.useState(null),[n,i]=j.useState([]),[a,s]=j.useState([]),{getStats:o,getTrends:c,getRecentRegistrations:d,loading:h,error:f}=xU();j.useEffect(()=>{p()},[]);const p=async()=>{try{const[_,S,N]=await Promise.all([o(),c().catch(()=>[]),d(5).catch(()=>({items:[]}))]);e(_),i(S),s(N.items||[])}catch(_){console.error("Failed to load stats:",_)}};if(h&&!t)return r.jsxs("div",{className:"dashboard-loading",children:[r.jsx("div",{className:"dashboard-loading-spinner"}),r.jsx("span",{children:"  ..."})]});const m=n.map(_=>({name:lk[_.month.split("-")[1]]||_.month,value:_.total})),x=n.map(_=>({name:lk[_.month.split("-")[1]]||_.month,pending:_.pending,approved:_.approved})),b=a.map(_=>({id:_.id,name:`${_.first_name} ${_.last_name}`,email:_.email,country:_.country,countryCode:_.country,status:_.status,date:_.created_at||""})),y=[{title:" ",value:t?.total_news||0,subtitle:`${t?.total_news||0} `,icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})}),color:"#2d5a87",link:"/admin/content/news"},{title:"",value:t?.total_speakers||0,subtitle:`${t?.total_speakers||0} `,icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),color:"#6366f1",link:"/admin/home/speakers"},{title:"",value:t?.total_partners||0,subtitle:`${t?.total_partners||0} `,icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12.22 19.85c-.18.18-.5.21-.71 0L5.66 14a2.5 2.5 0 0 1 0-3.54l6.36-6.36c.2-.2.51-.2.71 0l6.36 6.36a2.5 2.5 0 0 1 0 3.54l-6.87 5.85z"})}),color:"#f59e0b",link:"/admin/home/partners"},{title:"",value:t?.total_registrations||0,subtitle:`${t?.pending_registrations||0} `,icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})}),color:"#10b981",link:"/admin/registrations"}];return r.jsxs("div",{className:"dashboard",children:[r.jsx("div",{className:"dashboard-header",children:r.jsxs("div",{className:"dashboard-header-left",children:[r.jsx("h1",{className:"dashboard-title",children:" "}),r.jsx("p",{className:"dashboard-subtitle",children:"   "})]})}),f&&r.jsxs("div",{className:"dashboard-error",children:[r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),r.jsx("span",{children:"   ."}),r.jsx("button",{onClick:p,children:""})]}),r.jsx("div",{className:"dashboard-stats-grid",children:y.map(_=>r.jsx(yU,{title:_.title,value:_.value,subtitle:_.subtitle,icon:_.icon,color:_.color,link:_.link},_.title))}),r.jsxs("div",{className:"dashboard-charts-grid",children:[r.jsx("div",{className:"dashboard-chart-card",children:r.jsx(ple,{title:" ",data:m.length>0?m:void 0,height:280,color:"#2d5a87"})}),r.jsx("div",{className:"dashboard-chart-card",children:r.jsx(vle,{title:"  ",data:x.length>0?x:void 0,height:280})})]}),r.jsxs("div",{className:"dashboard-bottom-grid",children:[r.jsx("div",{className:"dashboard-table-section",children:r.jsx(ble,{title:" ",data:b.length>0?b:void 0,viewAllLink:"/admin/registrations"})}),r.jsxs("div",{className:"dashboard-side-section",children:[r.jsxs("div",{className:"dashboard-card dashboard-quick-actions-card",children:[r.jsx("h3",{className:"dashboard-card-title",children:" "}),r.jsxs("div",{className:"dashboard-quick-actions",children:[r.jsxs(Pi,{to:"/admin/content/news",className:"dashboard-quick-action",children:[r.jsx("div",{className:"dashboard-quick-action-icon",style:{background:"rgba(45, 90, 135, 0.1)",color:"#2d5a87"},children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})})}),r.jsx("span",{children:" "})]}),r.jsxs(Pi,{to:"/admin/home/speakers",className:"dashboard-quick-action",children:[r.jsx("div",{className:"dashboard-quick-action-icon",style:{background:"rgba(99, 102, 241, 0.1)",color:"#6366f1"},children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),r.jsx("span",{children:" "})]}),r.jsxs(Pi,{to:"/admin/registrations",className:"dashboard-quick-action",children:[r.jsx("div",{className:"dashboard-quick-action-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})})}),r.jsx("span",{children:""})]}),r.jsxs(Pi,{to:"/admin/settings",className:"dashboard-quick-action",children:[r.jsx("div",{className:"dashboard-quick-action-icon",style:{background:"rgba(107, 114, 128, 0.1)",color:"#6b7280"},children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})})}),r.jsx("span",{children:""})]})]})]}),r.jsxs("div",{className:"dashboard-card dashboard-info-card",children:[r.jsx("h3",{className:"dashboard-card-title",children:"  "}),r.jsxs("div",{className:"dashboard-info-list",children:[r.jsxs("div",{className:"dashboard-info-item",children:[r.jsx("div",{className:"dashboard-info-icon",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"})})}),r.jsxs("div",{className:"dashboard-info-content",children:[r.jsx("span",{className:"dashboard-info-label",children:" "}),r.jsx("span",{className:"dashboard-info-value",children:"25-28 , 2026"})]})]}),r.jsxs("div",{className:"dashboard-info-item",children:[r.jsx("div",{className:"dashboard-info-icon",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),r.jsxs("div",{className:"dashboard-info-content",children:[r.jsx("span",{className:"dashboard-info-label",children:" "}),r.jsx("span",{className:"dashboard-info-value",children:" , "})]})]}),r.jsxs("div",{className:"dashboard-info-item",children:[r.jsx("div",{className:"dashboard-info-icon",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})})}),r.jsxs("div",{className:"dashboard-info-content",children:[r.jsx("span",{className:"dashboard-info-label",children:" "}),r.jsx("span",{className:"dashboard-info-value",children:"150+ "})]})]})]})]}),r.jsxs("div",{className:"dashboard-card dashboard-overview-card",children:[r.jsx("h3",{className:"dashboard-card-title",children:" "}),r.jsxs("div",{className:"dashboard-overview-stats",children:[r.jsxs("div",{className:"dashboard-overview-stat",children:[r.jsx("div",{className:"dashboard-overview-value",children:t?.pending_registrations||0}),r.jsx("div",{className:"dashboard-overview-label",children:" "}),r.jsx("div",{className:"dashboard-overview-bar",children:r.jsx("div",{className:"dashboard-overview-bar-fill warning",style:{width:`${Math.min((t?.pending_registrations||0)/(t?.total_registrations||1)*100,100)}%`}})})]}),r.jsxs("div",{className:"dashboard-overview-stat",children:[r.jsx("div",{className:"dashboard-overview-value",children:t?.approved_registrations||0}),r.jsx("div",{className:"dashboard-overview-label",children:""}),r.jsx("div",{className:"dashboard-overview-bar",children:r.jsx("div",{className:"dashboard-overview-bar-fill success",style:{width:`${Math.min((t?.approved_registrations||0)/(t?.total_registrations||1)*100,100)}%`}})})]}),r.jsxs("div",{className:"dashboard-overview-stat",children:[r.jsx("div",{className:"dashboard-overview-value",children:t?.total_countries||0}),r.jsx("div",{className:"dashboard-overview-label",children:""}),r.jsx("div",{className:"dashboard-overview-bar",children:r.jsx("div",{className:"dashboard-overview-bar-fill info",style:{width:`${Math.min((t?.total_countries||0)/150*100,100)}%`}})})]})]})]})]})]})]})}function jle({value:t,onChange:e,id:n}){const i=j.useRef(null);j.useEffect(()=>{if(i.current){const h=t||"";i.current.innerHTML!==h&&(i.current.innerHTML=h)}},[n]);const a=(h,f=null)=>{i.current&&(i.current.focus(),document.execCommand(h,!1,f))},s=h=>{e(h.currentTarget.innerHTML)},o=h=>{h.key==="Tab"&&(h.preventDefault(),document.execCommand("insertHTML",!1,"&nbsp;&nbsp;&nbsp;&nbsp;"))},c=h=>{h.preventDefault();let f=h.clipboardData.getData("text/plain");f=f.replace(/\r\n/g,`
`).replace(/\n{3,}/g,`

`).replace(/[ \t]+/g," ").trim(),document.execCommand("insertText",!1,f)},d=()=>{const h=prompt(" URL :");if(!h)return;const p=window.getSelection().toString();p?document.execCommand("insertHTML",!1,`<a href="${h}" target="_blank" rel="noopener noreferrer">${p}</a>`):document.execCommand("insertHTML",!1,`<a href="${h}" target="_blank" rel="noopener noreferrer">${h}</a>`)};return r.jsxs("div",{children:[r.jsxs("div",{className:"news-editor-toolbar",children:[r.jsx("button",{type:"button",onClick:()=>a("bold"),title:" (Ctrl+B)",children:r.jsx("strong",{children:"B"})}),r.jsx("button",{type:"button",onClick:()=>a("italic"),title:" (Ctrl+I)",children:r.jsx("em",{children:"I"})}),r.jsx("button",{type:"button",onClick:()=>a("underline"),title:" (Ctrl+U)",children:r.jsx("u",{children:"U"})}),r.jsx("span",{className:"toolbar-divider"}),r.jsx("button",{type:"button",onClick:()=>a("formatBlock","h2"),title:" H2",children:"H2"}),r.jsx("button",{type:"button",onClick:()=>a("formatBlock","h3"),title:" H3",children:"H3"}),r.jsx("button",{type:"button",onClick:()=>a("formatBlock","p"),title:"",children:"P"}),r.jsx("span",{className:"toolbar-divider"}),r.jsx("button",{type:"button",onClick:()=>a("insertUnorderedList"),title:" ",children:" List"}),r.jsx("button",{type:"button",onClick:()=>a("insertOrderedList"),title:" ",children:"1. List"}),r.jsx("span",{className:"toolbar-divider"}),r.jsx("button",{type:"button",onClick:d,title:" ",children:"Link"}),r.jsx("button",{type:"button",onClick:()=>a("removeFormat"),title:" ",children:"Clear"})]}),r.jsx("div",{ref:i,contentEditable:!0,className:"news-wysiwyg-editor",onInput:s,onKeyDown:o,onPaste:c,suppressContentEditableWarning:!0})]})}const wle=[{slug:"tajikistan-prepares-un-water-conference",category:"conference",title_ru:"     ",title_en:"Tajikistan prepares to host UN Water Conference",title_tj:"       ",excerpt_ru:"           .",excerpt_en:"Preparations for the largest international event in the field of water resources are in full swing.",excerpt_tj:"             .",image:"/assets/images/news-conference.jpg",published_at:"2026-01-14",content_ru:"<p>                   2018-2028.</p><p>      150  ,     , ,      .</p>",content_en:'<p>The Republic of Tajikistan is actively preparing to host the Fourth High-Level International Conference on the International Decade for Action "Water for Sustainable Development" 2018-2028.</p><p>Delegations from more than 150 countries are expected to participate, including heads of state and government, ministers, representatives of international organizations and the expert community.</p>',content_tj:"<p>                     2018-2028.</p><p> ,      150    .</p>"},{slug:"preliminary-program-published",category:"program",title_ru:"   ",title_en:"Preliminary program of events published",title_tj:"    ",excerpt_ru:"    ,     .",excerpt_en:"Check out the schedule of plenary sessions, thematic sessions and cultural events.",excerpt_tj:"   ,       .",image:"/assets/images/news-program.jpg",published_at:"2026-01-10",content_ru:"<p>      .</p><p>         ,     .</p>",content_en:"<p>The organizing committee of the conference has published the preliminary program of events.</p><p>The conference program spans four days and includes plenary sessions, thematic sessions and cultural events.</p>",content_tj:"<p>       .</p><p>            ,     .</p>"},{slug:"registration-open-international-delegations",category:"registration",title_ru:"    ",title_en:"Registration open for international delegations",title_tj:"     ",excerpt_ru:"  150      .",excerpt_en:"Representatives from more than 150 countries will be able to participate in the conference.",excerpt_tj:"   150      .",image:"/assets/images/news-registration.jpg",published_at:"2026-01-05",content_ru:"<p>         .</p><p>     .</p>",content_en:"<p>The conference secretariat has officially announced the opening of registration for international delegations.</p><p>Registration is carried out through the official conference portal.</p>",content_tj:"<p>           .</p><p>       .</p>"},{slug:"youth-role-water-management",category:"youth",title_ru:"     ",title_en:"Role of youth in water resource management",title_tj:"     ",excerpt_ru:"         .",excerpt_en:"Young leaders from around the world will share their vision of sustainable development.",excerpt_tj:"             .",image:"/assets/images/news-youth.jpg",published_at:"2025-12-28",content_ru:"<p>             .</p><p>         .</p>",content_en:"<p>The conference will pay special attention to the role of youth in solving global water problems.</p><p>The youth forum will bring together young leaders and activists from around the world.</p>",content_tj:"<p>               .</p><p>           .</p>"}];function ck(){const[t,e]=j.useState([]),[n,i]=j.useState({page:1,total:0,totalPages:1}),[a,s]=j.useState(""),[o,c]=j.useState(!1),[d,h]=j.useState(null),[f,p]=j.useState("ru"),{list:m,create:x,update:b,remove:y,loading:_}=vU(),{upload:S,uploading:N}=M2(),[E,A]=j.useState({slug:"",category:"conference",title_ru:"",title_en:"",title_tj:"",excerpt_ru:"",excerpt_en:"",excerpt_tj:"",content_ru:"",content_en:"",content_tj:"",image:"/assets/images/news-default.png",published_at:new Date().toISOString().split("T")[0]});j.useEffect(()=>{k()},[n.page,a]);const T=async()=>{console.log("Seeding default news...");for(const ee of wle)try{await x(ee)}catch(L){console.error("Failed to seed news:",ee.slug,L)}},k=async()=>{try{const ee=await m({page:n.page,limit:10,search:a});if(ee.total===0&&n.page===1&&!a){await T();const L=await m({page:1,limit:10,search:""});e(L.items),i({page:L.page,total:L.total,totalPages:L.total_pages})}else e(ee.items),i({page:ee.page,total:ee.total,totalPages:ee.total_pages})}catch(ee){console.error("Failed to load news:",ee)}},R=async ee=>{ee.preventDefault();try{d?await b(d.id,E):await x(E),c(!1),Y(),k()}catch(L){console.error("Failed to save news:",L)}},H=ee=>{h(ee),A({slug:ee.slug,category:ee.category,title_ru:ee.title_ru,title_en:ee.title_en,title_tj:ee.title_tj,excerpt_ru:ee.excerpt_ru,excerpt_en:ee.excerpt_en,excerpt_tj:ee.excerpt_tj,content_ru:ee.content_ru,content_en:ee.content_en,content_tj:ee.content_tj,image:ee.image,published_at:ee.published_at}),c(!0)},V=async ee=>{if(window.confirm(" ,     ?"))try{await y(ee),k()}catch(L){console.error("Failed to delete news:",L)}},Y=()=>{h(null),A({slug:"",category:"conference",title_ru:"",title_en:"",title_tj:"",excerpt_ru:"",excerpt_en:"",excerpt_tj:"",content_ru:"",content_en:"",content_tj:"",image:"/assets/images/news-default.png",published_at:new Date().toISOString().split("T")[0]}),p("ru")},W=async ee=>{const L=ee.target.files[0];if(L)try{const P=await S(L);P&&(P.url||P.path)&&A(M=>({...M,image:P.url||P.path}))}catch(P){console.error("Failed to upload image:",P),alert("  ")}},X=ee=>ee.toLowerCase().replace(/[-]/g,L=>({:"a",:"b",:"v",:"g",:"d",:"e",:"e",:"zh",:"z",:"i",:"y",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"h",:"ts",:"ch",:"sh",:"sch",:"",:"y",:"",:"e",:"yu",:"ya",:"g",:"i",:"q",:"u",:"h",:"j"})[L]||L).replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return r.jsxs("div",{className:"news-manager",children:[r.jsxs("div",{className:"admin-page-header",children:[r.jsx("h1",{className:"admin-page-title",children:" "}),r.jsx("button",{className:"admin-btn admin-btn-primary",onClick:()=>{Y(),c(!0)},children:"+  "})]}),r.jsxs("div",{className:"admin-card",children:[r.jsx("div",{className:"admin-card-header",children:r.jsx("input",{type:"text",className:"admin-form-input",placeholder:" ...",value:a,onChange:ee=>s(ee.target.value),style:{maxWidth:"300px"}})}),_&&r.jsx("div",{className:"admin-loading",children:"..."}),!_&&t.length===0&&r.jsxs("div",{className:"admin-empty",children:[r.jsx("div",{className:"admin-empty-icon",children:""}),r.jsx("p",{children:"  "})]}),!_&&t.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs("table",{className:"admin-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:""})]})}),r.jsx("tbody",{children:t.map(ee=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsxs("div",{className:"news-title-cell",children:[r.jsx("img",{src:ee.image,alt:"",className:"news-thumb"}),r.jsxs("div",{children:[r.jsx("div",{className:"news-title",children:ee.title_ru||ee.title_en}),r.jsx("div",{className:"news-slug",children:ee.slug})]})]})}),r.jsx("td",{children:r.jsx("span",{className:`admin-badge admin-badge-${Sle(ee.category)}`,children:Cle(ee.category)})}),r.jsx("td",{children:ee.published_at}),r.jsx("td",{children:r.jsxs("div",{className:"admin-table-actions",children:[r.jsx("button",{className:"admin-btn admin-btn-secondary admin-btn-sm",onClick:()=>H(ee),children:""}),r.jsx("button",{className:"admin-btn admin-btn-danger admin-btn-sm",onClick:()=>V(ee.id),children:""})]})})]},ee.id))})]}),n.totalPages>1&&r.jsxs("div",{className:"admin-pagination",children:[r.jsx("button",{className:"admin-btn admin-btn-secondary admin-btn-sm",disabled:n.page===1,onClick:()=>i({...n,page:n.page-1}),children:""}),r.jsxs("span",{className:"admin-pagination-info",children:[" ",n.page,"  ",n.totalPages]}),r.jsx("button",{className:"admin-btn admin-btn-secondary admin-btn-sm",disabled:n.page>=n.totalPages,onClick:()=>i({...n,page:n.page+1}),children:""})]})]})]}),o&&r.jsx("div",{className:"admin-modal-overlay",onClick:()=>c(!1),children:r.jsxs("div",{className:"admin-modal admin-modal-lg",onClick:ee=>ee.stopPropagation(),children:[r.jsxs("div",{className:"admin-modal-header",children:[r.jsx("h2",{className:"admin-modal-title",children:d?" ":" "}),r.jsx("button",{className:"admin-modal-close",onClick:()=>c(!1),children:""})]}),r.jsxs("form",{onSubmit:R,children:[r.jsxs("div",{className:"admin-modal-body",children:[r.jsxs("div",{className:"admin-form-row",children:[r.jsxs("div",{className:"admin-form-group",children:[r.jsx("label",{className:"admin-form-label",children:"Slug ()"}),r.jsx("input",{type:"text",className:"admin-form-input",value:E.slug,onChange:ee=>A({...E,slug:ee.target.value}),placeholder:"news-article-slug",required:!0})]}),r.jsxs("div",{className:"admin-form-group",children:[r.jsx("label",{className:"admin-form-label",children:""}),r.jsxs("select",{className:"admin-form-select",value:E.category,onChange:ee=>A({...E,category:ee.target.value}),children:[r.jsx("option",{value:"conference",children:""}),r.jsx("option",{value:"program",children:""}),r.jsx("option",{value:"registration",children:""}),r.jsx("option",{value:"youth",children:""}),r.jsx("option",{value:"projects",children:""}),r.jsx("option",{value:"diplomacy",children:""})]})]})]}),r.jsxs("div",{className:"admin-form-row",children:[r.jsxs("div",{className:"admin-form-group",children:[r.jsx("label",{className:"admin-form-label",children:""}),r.jsxs("div",{className:"news-image-upload",children:[E.image&&r.jsx("div",{className:"news-image-preview",children:r.jsx("img",{src:E.image,alt:"Preview"})}),r.jsxs("div",{className:"news-image-controls",children:[r.jsxs("label",{className:"admin-btn admin-btn-secondary admin-btn-sm news-upload-btn",children:[N?"...":" ",r.jsx("input",{type:"file",accept:"image/*",onChange:W,style:{display:"none"},disabled:N})]}),r.jsx("input",{type:"text",className:"admin-form-input",value:E.image,onChange:ee=>A({...E,image:ee.target.value}),placeholder:"  URL ",style:{flex:1}})]})]})]}),r.jsxs("div",{className:"admin-form-group",children:[r.jsx("label",{className:"admin-form-label",children:" "}),r.jsx("input",{type:"date",className:"admin-form-input",value:E.published_at,onChange:ee=>A({...E,published_at:ee.target.value}),required:!0})]})]}),r.jsxs("div",{className:"admin-tabs",children:[r.jsx("button",{type:"button",className:`admin-tab ${f==="ru"?"active":""}`,onClick:()=>p("ru"),children:""}),r.jsx("button",{type:"button",className:`admin-tab ${f==="en"?"active":""}`,onClick:()=>p("en"),children:""}),r.jsx("button",{type:"button",className:`admin-tab ${f==="tj"?"active":""}`,onClick:()=>p("tj"),children:""})]}),["ru","en","tj"].map(ee=>{const L=ee==="ru"?"":ee==="en"?"":"";return f===ee&&r.jsxs("div",{children:[r.jsxs("div",{className:"admin-form-group",children:[r.jsxs("label",{className:"admin-form-label",children:[" (",L,")"]}),r.jsx("input",{type:"text",className:"admin-form-input",value:E[`title_${ee}`],onChange:P=>{const M=P.target.value;A(I=>({...I,[`title_${ee}`]:M,...ee==="ru"?{slug:X(M)}:{}}))},required:ee==="ru"})]}),r.jsxs("div",{className:"admin-form-group",children:[r.jsxs("label",{className:"admin-form-label",children:["  (",L,")"]}),r.jsx("textarea",{className:"admin-form-textarea",value:E[`excerpt_${ee}`],onChange:P=>A({...E,[`excerpt_${ee}`]:P.target.value}),rows:"2",required:ee==="ru"})]}),r.jsxs("div",{className:"admin-form-group",children:[r.jsxs("label",{className:"admin-form-label",children:[" (",L,")"]}),r.jsx(jle,{value:E[`content_${ee}`],onChange:P=>A(M=>({...M,[`content_${ee}`]:P})),id:`${d?.id||"new"}-${ee}`})]})]},ee)})]}),r.jsxs("div",{className:"admin-modal-footer",children:[r.jsx("button",{type:"button",className:"admin-btn admin-btn-secondary",onClick:()=>c(!1),children:""}),r.jsx("button",{type:"submit",className:"admin-btn admin-btn-primary",disabled:_,children:_?"...":d?"":""})]})]})]})})]})}function Sle(t){return{conference:"info",program:"success",registration:"warning",youth:"info",projects:"success",diplomacy:"info"}[t]||"info"}function Cle(t){return{conference:"",program:"",registration:"",youth:"",projects:"",diplomacy:""}[t]||t}function Ale(){const[t,e]=j.useState([]),[n,i]=j.useState({}),[a,s]=j.useState(!1),{list:o,update:c,loading:d}=oa();j.useEffect(()=>{h()},[]);const h=async()=>{try{const b=await o();e(b);const y={};b.forEach(_=>{y[_.setting_key]=_.setting_value}),i(y)}catch(b){console.error("Failed to load settings:",b)}},f=(b,y)=>{i({...n,[b]:y}),s(!0)},p=async()=>{try{const b=Object.entries(n).map(([y,_])=>({key:y,value:_}));await c(b),s(!1),h()}catch(b){console.error("Failed to save settings:",b)}},m={conference:{title:"  ",keys:["conference_name_ru","conference_name_en","conference_name_tj","conference_dates"]},location:{title:" ",keys:["conference_location_ru","conference_location_en","conference_location_tj"]},contact:{title:" ",keys:["contact_email","contact_phone","contact_address_ru","contact_address_en","contact_address_tj"]}},x=b=>({conference_name_ru:"  ()",conference_name_en:"  ()",conference_name_tj:"  ()",conference_dates:" ",conference_location_ru:"  ()",conference_location_en:"  ()",conference_location_tj:"  ()",contact_email:"Email",contact_phone:"",contact_address_ru:" ()",contact_address_en:" ()",contact_address_tj:" ()"})[b]||b;return r.jsxs("div",{className:"settings-manager",children:[r.jsxs("div",{className:"admin-page-header",children:[r.jsx("h1",{className:"admin-page-title",children:" "}),a&&r.jsx("button",{className:"admin-btn admin-btn-primary",onClick:p,disabled:d,children:d?"...":" "})]}),d&&t.length===0&&r.jsx("div",{className:"admin-loading",children:"..."}),Object.entries(m).map(([b,y])=>r.jsxs("div",{className:"admin-card",style:{marginBottom:"24px"},children:[r.jsx("h3",{className:"admin-card-title",style:{marginBottom:"20px"},children:y.title}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:y.keys.map(_=>r.jsxs("div",{className:"admin-form-group",style:{margin:0},children:[r.jsx("label",{className:"admin-form-label",children:x(_)}),_.includes("name")||_.includes("address")?r.jsx("textarea",{className:"admin-form-textarea",value:n[_]||"",onChange:S=>f(_,S.target.value),rows:"2"}):r.jsx("input",{type:_==="contact_email"?"email":"text",className:"admin-form-input",value:n[_]||"",onChange:S=>f(_,S.target.value)})]},_))})]},b)),t.length>0&&r.jsxs("div",{className:"admin-card",children:[r.jsx("h3",{className:"admin-card-title",style:{marginBottom:"20px"},children:" "}),r.jsxs("table",{className:"admin-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:""}),r.jsx("th",{children:""}),r.jsx("th",{children:" "})]})}),r.jsx("tbody",{children:t.map(b=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx("code",{style:{background:"#f0f2f5",padding:"4px 8px",borderRadius:"4px"},children:b.setting_key})}),r.jsx("td",{style:{maxWidth:"400px",overflow:"hidden",textOverflow:"ellipsis"},children:b.setting_value}),r.jsx("td",{children:b.updated_at?.split("T")[0]||"-"})]},b.id))})]})]})]})}const Nle=[{id:"header",path:"/admin/home/header",label:" ",icon:"header"},{id:"loading",path:"/admin/home/loading",label:" ",icon:"loading"},{id:"hero",path:"/admin/home/hero",label:" ",icon:"hero"},{id:"speakers",path:"/admin/home/speakers",label:"",icon:"speakers"},{id:"news",path:"/admin/home/news",label:"",icon:"news"},{id:"program",path:"/admin/home/program",label:"",icon:"calendar"},{id:"partners",path:"/admin/home/partners",label:"",icon:"partners"},{id:"app",path:"/admin/home/app",label:"",icon:"smartphone"},{id:"footer",path:"/admin/home/footer",label:" ",icon:"footer"}],Ele=t=>({header:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"})]}),footer:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]}),hero:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("polygon",{points:"23 7 16 12 23 17 23 7"}),r.jsx("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})]}),speakers:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),news:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),r.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),calendar:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),partners:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"9",cy:"7",r:"4"}),r.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),r.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),loading:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]}),smartphone:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[r.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),r.jsx("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"})]})})[t]||null;function Tle(){return Wn(),r.jsxs("div",{className:"home-page-manager",children:[r.jsx("div",{className:"page-manager-header",children:r.jsxs("div",{className:"page-manager-title",children:[r.jsx("h1",{children:" "}),r.jsx("p",{children:"    "})]})}),r.jsxs("div",{className:"page-manager-layout",children:[r.jsx("div",{className:"section-nav",children:Nle.map(t=>r.jsxs(Op,{to:t.path,className:({isActive:e})=>`section-nav-item ${e?"active":""}`,children:[r.jsx("span",{className:"section-nav-icon",children:Ele(t.icon)}),r.jsx("span",{className:"section-nav-label",children:t.label})]},t.id))}),r.jsx("div",{className:"section-content",children:r.jsx(s2,{})})]})]})}const kle="";function Dle(){const{token:t}=dn(),[e,n]=j.useState(!0),[i,a]=j.useState(null),s={video_url:"/assets/video/hero-background.mp4",youtube_url:"https://www.youtube.com/watch?v=YOUR_VIDEO_ID",video_source:"url",title_ru:"4-            ",title_en:'4th High-Level International Conference on the International Decade for Action "Water for Sustainable Development"',title_tj:" 4-            ",dates_ru:"25-28  2026",dates_en:"May 25-28, 2026",dates_tj:"25-28  2026",location_ru:" , ",location_en:"Kohi Somon, Dushanbe",location_tj:" , ",quote_ru:"       .            .",quote_en:'"Water is the foundation of life and sustainable development. We must unite the efforts of the entire global community to solve global water problems."',quote_tj:"      .             .",quote_author_ru:" ",quote_author_en:"Emomali Rahmon",quote_author_tj:" ",registration_btn_ru:"",registration_btn_en:"Registration",registration_btn_tj:"",video_btn_ru:" ",video_btn_en:"Video Presentation",video_btn_tj:" ",show_registration_btn:"true",show_video_btn:"true"},[o,c]=j.useState(s);j.useEffect(()=>{h()},[]);const d=async(p,m={})=>{const x=await fetch(`${kle}${p}`,{...m,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,...m.headers}});if(!x.ok)throw new Error(`HTTP ${x.status}`);return x.json()},h=async()=>{try{const p=await d("/api/admin/settings"),m={};p.forEach(x=>{m[x.setting_key]=x.setting_value}),c(x=>({...x,video_url:m.hero_video_url||x.video_url,youtube_url:m.hero_youtube_url||x.youtube_url,video_source:m.hero_video_source||x.video_source,title_ru:m.hero_title_ru||x.title_ru,title_en:m.hero_title_en||x.title_en,title_tj:m.hero_title_tj||x.title_tj,dates_ru:m.hero_dates_ru||x.dates_ru,dates_en:m.hero_dates_en||x.dates_en,dates_tj:m.hero_dates_tj||x.dates_tj,location_ru:m.hero_location_ru||x.location_ru,location_en:m.hero_location_en||x.location_en,location_tj:m.hero_location_tj||x.location_tj,quote_ru:m.hero_quote_ru||x.quote_ru,quote_en:m.hero_quote_en||x.quote_en,quote_tj:m.hero_quote_tj||x.quote_tj,quote_author_ru:m.hero_quote_author_ru||x.quote_author_ru,quote_author_en:m.hero_quote_author_en||x.quote_author_en,quote_author_tj:m.hero_quote_author_tj||x.quote_author_tj,registration_btn_ru:m.hero_registration_btn_ru||x.registration_btn_ru,registration_btn_en:m.hero_registration_btn_en||x.registration_btn_en,registration_btn_tj:m.hero_registration_btn_tj||x.registration_btn_tj,video_btn_ru:m.hero_video_btn_ru||x.video_btn_ru,video_btn_en:m.hero_video_btn_en||x.video_btn_en,video_btn_tj:m.hero_video_btn_tj||x.video_btn_tj,show_registration_btn:m.hero_show_registration_btn!==void 0?m.hero_show_registration_btn:x.show_registration_btn,show_video_btn:m.hero_show_video_btn!==void 0?m.hero_show_video_btn:x.show_video_btn}))}catch(p){console.error("Failed to load settings:",p)}finally{n(!1)}},f=async()=>{a({type:"saving",message:"..."});try{await d("/api/admin/settings",{method:"PUT",body:JSON.stringify({settings:Object.entries(o).map(([p,m])=>({key:`hero_${p}`,value:m}))})}),a({type:"success",message:"  !"}),setTimeout(()=>a(null),3e3)}catch(p){console.error("Failed to save hero:",p),a({type:"error",message:" : "+p.message}),setTimeout(()=>a(null),5e3)}};return e?r.jsx("div",{className:"section-loading",children:"..."}):r.jsxs("div",{className:"section-panel",children:[r.jsxs("div",{className:"section-panel-header",children:[r.jsx("h2",{children:" "}),r.jsx("p",{children:"     "})]}),i&&r.jsxs("div",{className:`save-status save-status--${i.type}`,style:{marginBottom:"20px"},children:[i.type==="saving"&&r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),i.type==="success"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),i.type==="error"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),r.jsx("span",{children:i.message}),r.jsx("button",{className:"save-status-close",onClick:()=>a(null),children:r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{className:"form-section-title",children:" "}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-flag"})," "]}),r.jsx("textarea",{value:o.title_ru,onChange:p=>c({...o,title_ru:p.target.value}),rows:"2"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-flag"})," "]}),r.jsx("textarea",{value:o.title_en,onChange:p=>c({...o,title_en:p.target.value}),rows:"2"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-flag"})," "]}),r.jsx("textarea",{value:o.title_tj,onChange:p=>c({...o,title_tj:p.target.value}),rows:"2"})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{className:"form-section-title",children:"   "}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-flag"}),"  ()"]}),r.jsx("input",{type:"text",value:o.dates_ru,onChange:p=>c({...o,dates_ru:p.target.value}),placeholder:"25-28  2026"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-flag"}),"  ()"]}),r.jsx("input",{type:"text",value:o.dates_en,onChange:p=>c({...o,dates_en:p.target.value}),placeholder:"May 25-28, 2026"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-flag"}),"  ()"]}),r.jsx("input",{type:"text",value:o.dates_tj,onChange:p=>c({...o,dates_tj:p.target.value}),placeholder:"25-28  2026"})]})]}),r.jsx("h4",{className:"form-subsection-title",children:" "}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-flag"})," "]}),r.jsx("input",{type:"text",value:o.location_ru,onChange:p=>c({...o,location_ru:p.target.value})})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-flag"})," "]}),r.jsx("input",{type:"text",value:o.location_en,onChange:p=>c({...o,location_en:p.target.value})})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-flag"})," "]}),r.jsx("input",{type:"text",value:o.location_tj,onChange:p=>c({...o,location_tj:p.target.value})})]})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{className:"form-section-title",children:""}),r.jsx("h4",{className:"form-subsection-title",children:" "}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-flag"})," "]}),r.jsx("textarea",{value:o.quote_ru,onChange:p=>c({...o,quote_ru:p.target.value}),rows:"2"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-flag"})," "]}),r.jsx("textarea",{value:o.quote_en,onChange:p=>c({...o,quote_en:p.target.value}),rows:"2"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-flag"})," "]}),r.jsx("textarea",{value:o.quote_tj,onChange:p=>c({...o,quote_tj:p.target.value}),rows:"2"})]}),r.jsx("h4",{className:"form-subsection-title",children:" "}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-flag"})," "]}),r.jsx("input",{type:"text",value:o.quote_author_ru,onChange:p=>c({...o,quote_author_ru:p.target.value})})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-flag"})," "]}),r.jsx("input",{type:"text",value:o.quote_author_en,onChange:p=>c({...o,quote_author_en:p.target.value})})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-flag"})," "]}),r.jsx("input",{type:"text",value:o.quote_author_tj,onChange:p=>c({...o,quote_author_tj:p.target.value})})]})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{className:"form-section-title",children:""}),r.jsx("h4",{className:"form-subsection-title",children:" "}),r.jsx("div",{className:"form-group",style:{marginBottom:"16px"},children:r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[r.jsx("input",{type:"checkbox",checked:o.show_registration_btn==="true",onChange:p=>c({...o,show_registration_btn:p.target.checked?"true":"false"}),style:{width:"18px",height:"18px",cursor:"pointer"}}),r.jsx("span",{children:"  "})]})}),o.show_registration_btn==="true"&&r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-flag"})," "]}),r.jsx("input",{type:"text",value:o.registration_btn_ru,onChange:p=>c({...o,registration_btn_ru:p.target.value})})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-flag"})," "]}),r.jsx("input",{type:"text",value:o.registration_btn_en,onChange:p=>c({...o,registration_btn_en:p.target.value})})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-flag"})," "]}),r.jsx("input",{type:"text",value:o.registration_btn_tj,onChange:p=>c({...o,registration_btn_tj:p.target.value})})]})]}),r.jsx("h4",{className:"form-subsection-title",children:" "}),r.jsx("div",{className:"form-group",style:{marginBottom:"16px"},children:r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[r.jsx("input",{type:"checkbox",checked:o.show_video_btn==="true",onChange:p=>c({...o,show_video_btn:p.target.checked?"true":"false"}),style:{width:"18px",height:"18px",cursor:"pointer"}}),r.jsx("span",{children:"  "})]})}),o.show_video_btn==="true"&&r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-flag"})," "]}),r.jsx("input",{type:"text",value:o.video_btn_ru,onChange:p=>c({...o,video_btn_ru:p.target.value})})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-flag"})," "]}),r.jsx("input",{type:"text",value:o.video_btn_en,onChange:p=>c({...o,video_btn_en:p.target.value})})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-flag"})," "]}),r.jsx("input",{type:"text",value:o.video_btn_tj,onChange:p=>c({...o,video_btn_tj:p.target.value})})]})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{className:"form-section-title",children:" "}),r.jsxs("div",{className:"video-source-toggle",children:[r.jsx("label",{className:"toggle-label",children:" :"}),r.jsxs("div",{className:"toggle-buttons",children:[r.jsx("button",{type:"button",className:`toggle-btn ${o.video_source==="url"?"active":""}`,onClick:()=>c({...o,video_source:"url"}),children:"URL "}),r.jsx("button",{type:"button",className:`toggle-btn ${o.video_source==="youtube"?"active":""}`,onClick:()=>c({...o,video_source:"youtube"}),children:"YouTube"})]})]}),o.video_source==="url"?r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"URL  "}),r.jsx("input",{type:"text",value:o.video_url,onChange:p=>c({...o,video_url:p.target.value}),placeholder:"/assets/video/hero-background.mp4"}),r.jsx("span",{className:"form-hint",children:"    "})]}):r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"YouTube URL"}),r.jsx("input",{type:"text",value:o.youtube_url,onChange:p=>c({...o,youtube_url:p.target.value}),placeholder:"https://www.youtube.com/watch?v=..."}),r.jsx("span",{className:"form-hint",children:"   YouTube"})]})]}),r.jsx("button",{className:"btn-save",onClick:f,children:"  "})]})}const hy="",Ole=[{name_ru:" ",name_en:"Emomali Rahmon",name_tj:" ",title_ru:"  ",title_en:"President of the Republic of Tajikistan",title_tj:"  ",image:"/assets/images/speaker-rahmon.jpg",image_source:"url",image_position:"center center",flag_url:"https://flagcdn.com/w80/tj.png",flag_source:"url",flag_alt_ru:" ",flag_alt_en:"Flag of Tajikistan",flag_alt_tj:" ",sort_order:0},{name_ru:" ",name_en:"Kohir Rasulzoda",name_tj:" ",title_ru:"-  ",title_en:"Prime Minister of the Republic of Tajikistan",title_tj:"  ",image:"/assets/images/speaker-rasulzoda.jpg",image_source:"url",image_position:"center center",flag_url:"https://flagcdn.com/w80/tj.png",flag_source:"url",flag_alt_ru:" ",flag_alt_en:"Flag of Tajikistan",flag_alt_tj:" ",sort_order:1},{name_ru:" ",name_en:"Antnio Guterres",name_tj:" ",title_ru:"  ",title_en:"UN Secretary-General",title_tj:"  ",image:"/assets/images/speaker-guterres.jpg",image_source:"url",image_position:"center center",flag_url:"https://flagcdn.com/w80/un.png",flag_source:"url",flag_alt_ru:" ",flag_alt_en:"UN Flag",flag_alt_tj:" ",sort_order:2},{name_ru:" ",name_en:"Li Junhua",name_tj:" ",title_ru:"   ",title_en:"United Nations Under-Secretary-General",title_tj:"   ",image:"/assets/images/speaker-li.jpg",image_source:"url",image_position:"center center",flag_url:"https://flagcdn.com/w80/cn.png",flag_source:"url",flag_alt_ru:" ",flag_alt_en:"Flag of China",flag_alt_tj:" ",sort_order:3}];function Mle(){const{token:t}=dn(),e=sa(),[n,i]=j.useState(!1),[a,s]=j.useState(null),[o,c]=j.useState([]),[d,h]=j.useState(null),[f,p]=j.useState({name_ru:"",name_en:"",name_tj:"",title_ru:"",title_en:"",title_tj:"",image:"/assets/images/speaker-default.png",image_source:"url",image_position:"center center",flag_url:"",flag_source:"url",flag_alt_ru:"",flag_alt_en:"",flag_alt_tj:"",sort_order:0}),[m,x]=j.useState(!1),[b,y]=j.useState(!1),[_,S]=j.useState(!1),N=j.useRef(null),E=async(I,G={})=>{const U=await fetch(`${hy}${I}`,{...G,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,...G.headers}});if(!U.ok)throw new Error(`HTTP ${U.status}`);return U.json()};j.useEffect(()=>{T()},[]);const A=async()=>{console.log("Seeding default speakers...");for(const I of Ole)try{await E("/api/admin/speakers",{method:"POST",body:JSON.stringify(I)})}catch(G){console.error("Failed to seed speaker:",I.name_en,G)}},T=async()=>{i(!0);try{const I=await E("/api/admin/speakers");if(I.length===0){await A();const G=await E("/api/admin/speakers");c(G)}else c(I)}catch(I){console.error("Failed to load speakers:",I)}finally{i(!1)}},k=async()=>{s({type:"saving",message:"..."});try{const I=d,G=f,U={name_ru:G.name_ru,name_en:G.name_en,name_tj:G.name_tj,title_ru:G.title_ru,title_en:G.title_en,title_tj:G.title_tj,bio_ru:I.bio_ru||null,bio_en:I.bio_en||null,bio_tj:I.bio_tj||null,organization_ru:I.organization_ru||null,organization_en:I.organization_en||null,organization_tj:I.organization_tj||null,country_ru:I.country_ru||null,country_en:I.country_en||null,country_tj:I.country_tj||null,email:I.email||null,expertise:I.expertise||null,achievements:I.achievements||null,publications:I.publications||null,session_title_ru:I.session_title_ru||null,session_title_en:I.session_title_en||null,session_title_tj:I.session_title_tj||null,session_time_ru:I.session_time_ru||null,session_time_en:I.session_time_en||null,session_time_tj:I.session_time_tj||null,session_description_ru:I.session_description_ru||null,session_description_en:I.session_description_en||null,session_description_tj:I.session_description_tj||null,image:G.image,image_source:G.image_source,image_position:G.image_position,flag_url:G.flag_url||null,flag_alt_ru:G.flag_alt_ru||null,flag_alt_en:G.flag_alt_en||null,flag_alt_tj:G.flag_alt_tj||null,sort_order:G.sort_order,clickable:I.clickable!=null?Number(I.clickable):1};d&&d.id?await E(`/api/admin/speakers/${d.id}`,{method:"PUT",body:JSON.stringify(U)}):await E("/api/admin/speakers",{method:"POST",body:JSON.stringify(U)}),s({type:"success",message:"  !"}),h(null),H(),T(),setTimeout(()=>s(null),3e3)}catch(I){console.error("Failed to save speaker:",I),s({type:"error",message:" : "+I.message}),setTimeout(()=>s(null),5e3)}},R=async I=>{if(window.confirm("  ?"))try{await E(`/api/admin/speakers/${I}`,{method:"DELETE"}),s({type:"success",message:" !"}),T(),setTimeout(()=>s(null),3e3)}catch(G){console.error("Failed to delete speaker:",G),s({type:"error",message:" : "+G.message}),setTimeout(()=>s(null),5e3)}},H=()=>{p({name_ru:"",name_en:"",name_tj:"",title_ru:"",title_en:"",title_tj:"",image:"/assets/images/speaker-default.png",image_source:"url",image_position:"center center",flag_url:"",flag_source:"url",flag_alt_ru:"",flag_alt_en:"",flag_alt_tj:"",sort_order:o.length})},V=async I=>{const G=I.target.files?.[0];if(G){if(!G.type.startsWith("image/")){alert(",  ");return}I.target.value="",x(!0);try{const U=new FormData;U.append("file",G);const K=await fetch(`${hy}/api/admin/upload`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:U});if(!K.ok)throw new Error(" ");const z=await K.json();p(O=>({...O,image:z.url}))}catch(U){console.error("Failed to upload image:",U),alert("   ")}finally{x(!1)}}},Y=async I=>{const G=I.target.files?.[0];if(G){if(!G.type.startsWith("image/")){alert(",  ");return}I.target.value="",y(!0);try{const U=new FormData;U.append("file",G);const K=await fetch(`${hy}/api/admin/upload`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:U});if(!K.ok)throw new Error(" ");const z=await K.json();p(O=>({...O,flag_url:z.url}))}catch(U){console.error("Failed to upload flag:",U),alert("   ")}finally{y(!1)}}},W=I=>{const G=I.split(" "),U={left:0,center:50,right:100,top:0,bottom:100},K=U[G[0]]!==void 0?U[G[0]]:parseFloat(G[0]),z=U[G[1]]!==void 0?U[G[1]]:parseFloat(G[1]);return{x:isNaN(K)?50:K,y:isNaN(z)?50:z}},X=j.useCallback(I=>{if(!N.current)return;const G=N.current.getBoundingClientRect(),U=I.touches?I.touches[0].clientX:I.clientX,K=I.touches?I.touches[0].clientY:I.clientY;let z=(U-G.left)/G.width*100,O=(K-G.top)/G.height*100;z=Math.max(0,Math.min(100,z)),O=Math.max(0,Math.min(100,O)),p($=>({...$,image_position:`${z.toFixed(0)}% ${O.toFixed(0)}%`}))},[]),ee=j.useCallback(I=>{I.preventDefault(),S(!0),X(I)},[X]),L=j.useCallback(()=>{S(!1)},[]);j.useEffect(()=>{if(_){const I=U=>X(U),G=()=>L();return window.addEventListener("mousemove",I),window.addEventListener("mouseup",G),window.addEventListener("touchmove",I),window.addEventListener("touchend",G),()=>{window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",G),window.removeEventListener("touchmove",I),window.removeEventListener("touchend",G)}}},[_,X,L]);const P=W(f.image_position),M=I=>{h(I),p({name_ru:I.name_ru||"",name_en:I.name_en||"",name_tj:I.name_tj||"",title_ru:I.title_ru||"",title_en:I.title_en||"",title_tj:I.title_tj||"",image:I.image||"/assets/images/speaker-default.png",image_source:I.image_source||"url",image_position:I.image_position||"center center",flag_url:I.flag_url||"",flag_source:I.flag_source||"url",flag_alt_ru:I.flag_alt_ru||"",flag_alt_en:I.flag_alt_en||"",flag_alt_tj:I.flag_alt_tj||"",sort_order:I.sort_order||0})};return r.jsxs("div",{className:"section-panel",children:[r.jsxs("div",{className:"section-panel-header",children:[r.jsxs("div",{children:[r.jsx("h2",{children:""}),r.jsx("p",{children:"   "})]}),r.jsx("button",{className:"btn-primary",onClick:()=>{h({}),H()},children:"+  "})]}),a&&r.jsxs("div",{className:`save-status save-status--${a.type}`,style:{marginBottom:"20px"},children:[a.type==="saving"&&r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),a.type==="success"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),a.type==="error"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),r.jsx("span",{children:a.message}),r.jsx("button",{className:"save-status-close",onClick:()=>s(null),children:r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),d&&r.jsx("div",{className:"modal-overlay",onClick:I=>I.target===I.currentTarget&&h(null),children:r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h3",{children:d.id?" ":" "}),r.jsx("button",{className:"btn-close",onClick:()=>h(null),children:r.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsxs("div",{className:"modal-body",children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h4",{children:" "}),r.jsxs("div",{className:"lang-inputs-grid",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-flag"}),""]}),r.jsx("input",{type:"text",value:f.name_ru,onChange:I=>p({...f,name_ru:I.target.value}),placeholder:" "})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-flag"}),"English"]}),r.jsx("input",{type:"text",value:f.name_en,onChange:I=>p({...f,name_en:I.target.value}),placeholder:"Full Name"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-flag"}),""]}),r.jsx("input",{type:"text",value:f.name_tj,onChange:I=>p({...f,name_tj:I.target.value}),placeholder:" "})]})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h4",{children:""}),r.jsxs("div",{className:"lang-inputs-grid",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-flag"}),""]}),r.jsx("input",{type:"text",value:f.title_ru,onChange:I=>p({...f,title_ru:I.target.value}),placeholder:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-flag"}),"English"]}),r.jsx("input",{type:"text",value:f.title_en,onChange:I=>p({...f,title_en:I.target.value}),placeholder:"Position"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-flag"}),""]}),r.jsx("input",{type:"text",value:f.title_tj,onChange:I=>p({...f,title_tj:I.target.value}),placeholder:""})]})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h4",{children:" "}),r.jsxs("div",{className:"image-upload-section",children:[r.jsxs("div",{className:"image-preview-side",children:[r.jsxs("div",{className:"image-position-container",ref:N,onMouseDown:ee,onTouchStart:ee,children:[r.jsx("img",{src:f.image,alt:"Preview",style:{objectPosition:f.image_position}}),r.jsx("div",{className:"position-marker",style:{left:`${P.x}%`,top:`${P.y}%`},children:r.jsx("div",{className:"position-marker-dot"})}),r.jsx("div",{className:"position-crosshair-h",style:{top:`${P.y}%`}}),r.jsx("div",{className:"position-crosshair-v",style:{left:`${P.x}%`}})]}),r.jsx("span",{className:"image-hint",children:"  "})]}),r.jsxs("div",{className:"image-input-side",children:[r.jsxs("div",{className:"source-toggle",children:[r.jsxs("button",{type:"button",className:`source-toggle-btn ${f.image_source==="url"?"active":""}`,onClick:()=>p({...f,image_source:"url"}),children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"})}),"URL "]}),r.jsxs("button",{type:"button",className:`source-toggle-btn ${f.image_source==="upload"?"active":""}`,onClick:()=>p({...f,image_source:"upload"}),children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"})}),""]})]}),f.image_source==="url"?r.jsx("div",{className:"form-group",children:r.jsx("input",{type:"text",value:f.image,onChange:I=>p({...f,image:I.target.value}),placeholder:"https://example.com/image.jpg"})}):r.jsxs("div",{className:"upload-dropzone",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:V,disabled:m,id:"speaker-image-upload"}),r.jsx("label",{htmlFor:"speaker-image-upload",className:m?"uploading":"",children:m?r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"spinner",viewBox:"0 0 24 24",width:"24",height:"24",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),r.jsx("span",{children:"..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:r.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})}),r.jsx("span",{children:"    "}),r.jsx("small",{children:"PNG, JPG  5MB"})]})})]})]})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h4",{children:"  "}),r.jsxs("div",{className:"flag-upload-section",children:[r.jsx("div",{className:"flag-preview-side",children:f.flag_url?r.jsx("div",{className:"flag-preview-large",children:r.jsx("img",{src:f.flag_url,alt:"Flag preview"})}):r.jsx("div",{className:"flag-preview-placeholder",children:r.jsx("svg",{viewBox:"0 0 24 24",width:"32",height:"32",fill:"#9ca3af",children:r.jsx("path",{d:"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"})})})}),r.jsxs("div",{className:"flag-input-side",children:[r.jsxs("div",{className:"source-toggle",children:[r.jsxs("button",{type:"button",className:`source-toggle-btn ${f.flag_source==="url"?"active":""}`,onClick:()=>p({...f,flag_source:"url"}),children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"})}),"URL "]}),r.jsxs("button",{type:"button",className:`source-toggle-btn ${f.flag_source==="upload"?"active":""}`,onClick:()=>p({...f,flag_source:"upload"}),children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"})}),""]})]}),f.flag_source==="url"?r.jsx("div",{className:"form-group",children:r.jsx("input",{type:"text",value:f.flag_url,onChange:I=>p({...f,flag_url:I.target.value}),placeholder:"https://flagcdn.com/w80/tj.png"})}):r.jsxs("div",{className:"upload-dropzone",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:Y,disabled:b,id:"flag-upload"}),r.jsx("label",{htmlFor:"flag-upload",className:b?"uploading":"",children:b?r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"spinner",viewBox:"0 0 24 24",width:"24",height:"24",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),r.jsx("span",{children:"..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:r.jsx("path",{d:"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"})}),r.jsx("span",{children:"  "}),r.jsx("small",{children:"PNG, JPG, SVG"})]})})]})]})]}),r.jsxs("div",{className:"lang-inputs-grid",style:{marginTop:"16px"},children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-flag"}),"Alt "]}),r.jsx("input",{type:"text",value:f.flag_alt_ru,onChange:I=>p({...f,flag_alt_ru:I.target.value}),placeholder:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-flag"}),"Alt text"]}),r.jsx("input",{type:"text",value:f.flag_alt_en,onChange:I=>p({...f,flag_alt_en:I.target.value}),placeholder:"Tajikistan"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-flag"}),"Alt "]}),r.jsx("input",{type:"text",value:f.flag_alt_tj,onChange:I=>p({...f,flag_alt_tj:I.target.value}),placeholder:""})]})]})]}),r.jsx("div",{className:"form-section",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"number",value:f.sort_order,onChange:I=>p({...f,sort_order:parseInt(I.target.value)||0}),style:{maxWidth:"120px"}})]})})]}),r.jsxs("div",{className:"modal-footer",children:[r.jsx("button",{className:"btn-secondary",onClick:()=>h(null),children:""}),r.jsx("button",{className:"btn-primary",onClick:k,children:""})]})]})}),n?r.jsx("div",{className:"loading-state",children:"..."}):r.jsx("div",{className:"speakers-list",children:o.map(I=>r.jsxs("div",{className:"speaker-card-horizontal",children:[r.jsxs("div",{className:"speaker-card-image",children:[r.jsx("img",{src:I.image,alt:I.name_ru,style:{objectPosition:I.image_position||"center center"}}),I.flag_url&&r.jsx("div",{className:"speaker-card-flag",children:r.jsx("img",{src:I.flag_url,alt:I.flag_alt_ru||""})})]}),r.jsxs("div",{className:"speaker-card-content",children:[r.jsx("p",{className:"speaker-card-title",children:I.title_ru||I.title_en}),r.jsx("p",{className:"speaker-card-name",children:I.name_ru||I.name_en}),!I.clickable&&r.jsx("span",{style:{fontSize:"11px",color:"#999",marginTop:"2px",display:"inline-block"},children:" "})]}),r.jsxs("div",{className:"speaker-card-actions",children:[r.jsx("button",{className:"btn-icon",title:" ()",onClick:()=>M(I),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})})}),r.jsx("button",{className:"btn-icon",title:" ",onClick:()=>e(`/admin/home/speakers/${I.id}`),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})})}),r.jsx("button",{className:"btn-icon btn-icon-danger",title:"",onClick:()=>R(I.id),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})})]})]},I.id))})]})}const Ple="",uk=[{code:"ru",label:"",flag:"https://flagcdn.com/w20/ru.png"},{code:"en",label:"English",flag:"https://flagcdn.com/w20/gb.png"},{code:"tj",label:"",flag:"https://flagcdn.com/w20/tj.png"}];function Rle(){const{token:t}=dn(),[e,n]=j.useState(!1),[i,a]=j.useState([]),[s,o]=j.useState("ru"),[c,d]=j.useState(null),[h,f]=j.useState({ru:"",en:"News",tj:""}),p=async(y,_={})=>{const S=await fetch(`${Ple}${y}`,{..._,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,..._.headers}});if(!S.ok)throw new Error(`HTTP ${S.status}`);return S.json()};j.useEffect(()=>{m(),x()},[]);const m=async()=>{n(!0);try{const y=await p("/api/admin/news");a(y.items?y.items.slice(0,6):y.slice(0,6))}catch(y){console.error("Failed to load news:",y)}finally{n(!1)}},x=async()=>{try{const y=await p("/api/admin/settings"),_={};y.forEach(S=>{_[S.setting_key]=S.setting_value}),f({ru:_.news_section_title_ru||"",en:_.news_section_title_en||"News",tj:_.news_section_title_tj||""})}catch(y){console.error("Failed to load settings:",y)}},b=async()=>{d({type:"saving",message:"..."});try{const y=[{key:"news_section_title_ru",value:h.ru},{key:"news_section_title_en",value:h.en},{key:"news_section_title_tj",value:h.tj}];await p("/api/admin/settings",{method:"PUT",body:JSON.stringify({settings:y})}),d({type:"success",message:" !"}),setTimeout(()=>d(null),3e3)}catch(y){console.error("Failed to save settings:",y),d({type:"error",message:" : "+y.message}),setTimeout(()=>d(null),5e3)}};return r.jsxs("div",{className:"section-panel",children:[r.jsxs("div",{className:"section-panel-header",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"  "}),r.jsx("p",{children:"  ,    "})]}),r.jsx(Pi,{to:"/admin/content/news",className:"btn-primary",children:"  "})]}),c&&r.jsxs("div",{className:`save-status save-status--${c.type}`,children:[c.type==="saving"&&r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),c.type==="success"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),c.type==="error"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),r.jsx("span",{children:c.message}),r.jsx("button",{className:"save-status-close",onClick:()=>d(null),children:""})]}),r.jsxs("div",{className:"form-section",style:{marginBottom:"24px"},children:[r.jsx("h3",{className:"form-section-title",children:" "}),r.jsx("p",{className:"card-description",style:{marginBottom:"16px"},children:",       "}),r.jsx("div",{className:"lang-tab-buttons",style:{marginBottom:"16px"},children:uk.map(y=>r.jsxs("button",{type:"button",className:`lang-tab-btn ${s===y.code?"active":""}`,onClick:()=>o(y.code),children:[r.jsx("img",{src:y.flag,alt:y.label,style:{width:"16px",height:"12px",objectFit:"cover",borderRadius:"2px"}}),y.label]},y.code))}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",uk.find(y=>y.code===s)?.label,")"]}),r.jsx("input",{type:"text",value:h[s],onChange:y=>f(_=>({..._,[s]:y.target.value})),placeholder:s==="ru"?"":s==="en"?"News":""})]}),r.jsx("button",{className:"btn-primary",onClick:b,style:{marginTop:"12px"},children:" "})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{className:"form-section-title",children:" 6 "}),r.jsxs("p",{className:"card-description",children:["     6   .      ",r.jsx(Pi,{to:"/admin/content/news",children:" "}),"."]}),e?r.jsx("div",{className:"loading-state",children:"..."}):r.jsxs("div",{className:"news-preview-grid",children:[i.map((y,_)=>r.jsxs("div",{className:"news-preview-card",children:[y.image&&r.jsx("div",{className:"news-preview-image",children:r.jsx("img",{src:y.image,alt:y.title_ru})}),r.jsxs("div",{className:"news-preview-content",children:[r.jsx("span",{className:"news-preview-category",children:y.category}),r.jsx("h4",{children:y.title_ru}),r.jsxs("p",{children:[y.excerpt_ru?.substring(0,100),"..."]}),r.jsx("span",{className:"news-preview-date",children:y.published_at})]})]},y.id||_)),i.length===0&&r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"   "}),r.jsx(Pi,{to:"/admin/content/news",className:"btn-secondary",children:" "})]})]})]})]})}const dk="",fy=[{code:"ru",label:"",flag:"https://flagcdn.com/w20/ru.png"},{code:"en",label:"English",flag:"https://flagcdn.com/w20/gb.png"},{code:"tj",label:"",flag:"https://flagcdn.com/w20/tj.png"}],Lle={ru:{date_range:"25-28  2026",title:" ",subtitle:"      ,     ",stats:{days:"4",days_label:"",sessions:"20+",sessions_label:"",speakers:"150+",speakers_label:""},download_btn:" PDF",days:[{date:"25  2026",label:" 1",title:" ",events_count:"6 ",events:[{time:"08:30  10:00",title:" ",description:"    ",location:"  "},{time:"10:00  11:30",title:" ",description:"   ",location:" "},{time:"11:30  12:00",title:"-",description:"",location:""},{time:"12:00  13:30",title:"   ",description:"     ",location:" "},{time:"13:30  15:00",title:"",description:"",location:" "},{time:"15:00  18:00",title:"  ()",description:"  -",location:" "}]},{date:"26  2026",label:" 2",title:" ",events_count:"5 ",events:[{time:"09:00  10:30",title:"  1",description:"    ",location:" A"},{time:"10:30  11:00",title:"-",description:"",location:""},{time:"11:00  13:00",title:" ",description:"  ",location:" A, B, C"},{time:"13:00  14:30",title:"",description:"",location:" "},{time:"14:30  18:00",title:" ",description:"  ",location:"-"}]},{date:"27  2026",label:" 3",title:" ",events_count:"5 ",events:[{time:"09:00  12:00",title:" ",description:"     ",location:" "},{time:"12:00  12:30",title:"-",description:"",location:""},{time:"12:30  14:00",title:"",description:"",location:" "},{time:"14:00  17:00",title:" ",description:" ",location:"-"},{time:"19:00  22:00",title:" ",description:" ",location:" "}]},{date:"28  2026",label:" 4",title:" ",events_count:"4 ",events:[{time:"09:00  11:00",title:"  ",description:"  ",location:" "},{time:"11:00  11:30",title:"-",description:"",location:""},{time:"11:30  13:00",title:" ",description:"  ",location:" "},{time:"13:00  14:30",title:" ",description:"",location:" "}]}]},en:{date_range:"May 25-28, 2026",title:"Conference Program",subtitle:"Four days of intensive program with plenary sessions, thematic sessions and cultural events",stats:{days:"4",days_label:"days",sessions:"20+",sessions_label:"sessions",speakers:"150+",speakers_label:"speakers"},download_btn:"Download PDF",days:[{date:"May 25, 2026",label:"Day 1",title:"Opening Ceremony",events_count:"6 events",events:[{time:"08:30  10:00",title:"Participant Registration",description:"Badge and conference materials distribution",location:"Main Hall Foyer"},{time:"10:00  11:30",title:"Grand Opening",description:"Welcome speeches by delegation heads",location:"Main Hall"},{time:"11:30  12:00",title:"Coffee Break",description:"",location:"Foyer"},{time:"12:00  13:30",title:"High-Level Plenary Session",description:"Reports by ministers and international organization representatives",location:"Main Hall"},{time:"13:30  15:00",title:"Lunch",description:"",location:"Banquet Hall"},{time:"15:00  18:00",title:"Plenary Session (continued)",description:"Presentations by participating country delegations",location:"Main Hall"}]},{date:"May 26, 2026",label:"Day 2",title:"Thematic Sessions",events_count:"5 events",events:[]},{date:"May 27, 2026",label:"Day 3",title:"International Cooperation",events_count:"5 events",events:[]},{date:"May 28, 2026",label:"Day 4",title:"Closing Ceremony",events_count:"4 events",events:[]}]},tj:{date_range:"25-28  2026",title:" ",subtitle:"      ,     ",stats:{days:"4",days_label:"",sessions:"20+",sessions_label:"",speakers:"150+",speakers_label:""},download_btn:" PDF",days:[{date:"25  2026",label:" 1",title:" ",events_count:"6 ",events:[]},{date:"26  2026",label:" 2",title:" ",events_count:"5 ",events:[]},{date:"27  2026",label:" 3",title:" ",events_count:"5 ",events:[]},{date:"28  2026",label:" 4",title:" ",events_count:"4 ",events:[]}]}};function Ile(){const{token:t}=dn(),[e,n]=j.useState(null),[i,a]=j.useState("ru"),[s,o]=j.useState(0),[c,d]=j.useState(Lle),[h,f]=j.useState(null),[p,m]=j.useState({time:"",title:"",description:"",location:""}),[x,b]=j.useState({ru:"",en:"",tj:""}),[y,_]=j.useState({ru:!1,en:!1,tj:!1}),S=async(L,P={})=>{const M=await fetch(`${dk}${L}`,{...P,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,...P.headers}});if(!M.ok)throw new Error(`HTTP ${M.status}`);return M.json()};j.useEffect(()=>{N()},[]);const N=async()=>{try{const L=await S("/api/admin/settings"),P={};if(L.forEach(M=>{P[M.setting_key]=M.setting_value}),P.program_data)try{const M=JSON.parse(P.program_data);d(I=>({...I,...M}))}catch(M){console.error("Failed to parse program data:",M)}b({ru:P.program_pdf_ru||"",en:P.program_pdf_en||"",tj:P.program_pdf_tj||""})}catch(L){console.error("Failed to load settings:",L)}},E=async()=>{n({type:"saving",message:"..."});try{await S("/api/admin/settings",{method:"PUT",body:JSON.stringify({settings:[{key:"program_data",value:JSON.stringify(c)},{key:"program_pdf_ru",value:x.ru},{key:"program_pdf_en",value:x.en},{key:"program_pdf_tj",value:x.tj}]})}),n({type:"success",message:" !"}),setTimeout(()=>n(null),3e3)}catch(L){console.error("Failed to save:",L),n({type:"error",message:" : "+L.message}),setTimeout(()=>n(null),5e3)}},A=(L,P)=>{d(M=>({...M,[i]:{...M[i],[L]:P}}))},T=(L,P)=>{d(M=>({...M,[i]:{...M[i],stats:{...M[i].stats,[L]:P}}}))},k=(L,P,M)=>{d(I=>{const G=[...I[i].days];return G[L]={...G[L],[P]:M},{...I,[i]:{...I[i],days:G}}})},R=(L,P,M,I)=>{d(G=>{const U=[...G[i].days],K=[...U[L].events];return K[P]={...K[P],[M]:I},U[L]={...U[L],events:K},{...G,[i]:{...G[i],days:U}}})},H=L=>{d(P=>{const M=[...P[i].days];return M[L]={...M[L],events:[...M[L].events,{time:"",title:"",description:"",location:""}]},{...P,[i]:{...P[i],days:M}}})},V=(L,P)=>{window.confirm("  ?")&&d(M=>{const I=[...M[i].days],G=I[L].events.filter((U,K)=>K!==P);return I[L]={...I[L],events:G},{...M,[i]:{...M[i],days:I}}})},Y=async(L,P)=>{const M=P.target.files?.[0];if(!M)return;if(M.type!=="application/pdf"){n({type:"error",message:",  PDF "}),setTimeout(()=>n(null),3e3);return}if(M.size>20*1024*1024){n({type:"error",message:"   (. 20MB)"}),setTimeout(()=>n(null),3e3);return}_(G=>({...G,[L]:!0}));const I=new FormData;I.append("file",M),I.append("folder","program");try{const G=await fetch(`${dk}/api/admin/upload`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:I});if(!G.ok)throw new Error(`Upload failed: ${G.status}`);const U=await G.json();b(K=>({...K,[L]:U.url})),n({type:"success",message:`PDF (${L.toUpperCase()}) !`}),setTimeout(()=>n(null),3e3)}catch(G){console.error("Failed to upload PDF:",G),n({type:"error",message:" : "+G.message}),setTimeout(()=>n(null),5e3)}finally{_(G=>({...G,[L]:!1})),P.target.value=""}},W=L=>{b(P=>({...P,[L]:""}))},X=c[i],ee=X?.days?.[s];return r.jsxs("div",{className:"section-panel",children:[r.jsxs("div",{className:"section-panel-header",children:[r.jsxs("div",{children:[r.jsx("h2",{children:" "}),r.jsx("p",{children:"    "})]}),r.jsx("button",{className:"btn-primary",onClick:E,children:" "})]}),e&&r.jsxs("div",{className:`save-status save-status--${e.type}`,style:{marginBottom:"20px"},children:[e.type==="saving"&&r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),e.type==="success"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),e.type==="error"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),r.jsx("span",{children:e.message}),r.jsx("button",{className:"save-status-close",onClick:()=>n(null),children:""})]}),r.jsx("div",{className:"lang-tab-buttons",style:{marginBottom:"24px"},children:fy.map(L=>r.jsxs("button",{className:`lang-tab-btn ${i===L.code?"active":""}`,onClick:()=>a(L.code),children:[r.jsx("img",{src:L.flag,alt:L.code.toUpperCase(),className:"lang-tab-flag"}),r.jsx("span",{className:"lang-tab-label",children:L.label})]},L.code))}),r.jsxs("div",{className:"form-section",children:[r.jsxs("h3",{className:"form-section-title",children:["  (",fy.find(L=>L.code===i)?.label,")"]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:X?.date_range||"",onChange:L=>A("date_range",L.target.value),placeholder:"25-28  2026"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:X?.title||"",onChange:L=>A("title",L.target.value),placeholder:" "})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("textarea",{value:X?.subtitle||"",onChange:L=>A("subtitle",L.target.value),placeholder:"  ",rows:2})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"  "}),r.jsx("input",{type:"text",value:X?.download_btn||"",onChange:L=>A("download_btn",L.target.value),placeholder:" PDF"})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{className:"form-section-title",children:"PDF  "}),r.jsx("p",{style:{color:"#64748b",fontSize:"13px",marginBottom:"20px"},children:" PDF     .      ."}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:fy.map(L=>r.jsxs("div",{className:"admin-card",style:{padding:"20px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[r.jsx("img",{src:L.flag,alt:L.label,style:{width:"20px",height:"14px",objectFit:"cover",borderRadius:"2px"}}),r.jsx("span",{style:{fontWeight:"600",color:"#1e293b"},children:L.label})]}),x[L.code]?r.jsxs("div",{style:{background:"#f0fdf4",border:"1px solid #86efac",borderRadius:"10px",padding:"16px",textAlign:"center"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"32",height:"32",fill:"#22c55e",style:{marginBottom:"8px"},children:r.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})}),r.jsx("p",{style:{fontSize:"12px",color:"#15803d",marginBottom:"12px",wordBreak:"break-all"},children:x[L.code].split("/").pop()}),r.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"center"},children:[r.jsxs("a",{href:x[L.code],target:"_blank",rel:"noopener noreferrer",style:{padding:"6px 12px",background:"#2d5a87",color:"white",borderRadius:"6px",fontSize:"12px",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"4px"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"14",height:"14",fill:"currentColor",children:r.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})}),""]}),r.jsxs("button",{onClick:()=>W(L.code),style:{padding:"6px 12px",background:"transparent",border:"1px solid #ef4444",color:"#ef4444",borderRadius:"6px",fontSize:"12px",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"4px"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"14",height:"14",fill:"currentColor",children:r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})}),""]})]})]}):r.jsxs("div",{style:{border:"2px dashed #cbd5e1",borderRadius:"10px",padding:"20px",textAlign:"center",cursor:y[L.code]?"wait":"pointer",transition:"all 0.2s",background:"#f8fafc"},onClick:()=>!y[L.code]&&document.getElementById(`pdf-upload-${L.code}`).click(),onDragOver:P=>{P.preventDefault(),P.currentTarget.style.borderColor="#2d5a87",P.currentTarget.style.background="#eff6ff"},onDragLeave:P=>{P.currentTarget.style.borderColor="#cbd5e1",P.currentTarget.style.background="#f8fafc"},onDrop:P=>{P.preventDefault(),P.currentTarget.style.borderColor="#cbd5e1",P.currentTarget.style.background="#f8fafc";const M=P.dataTransfer.files[0];if(M){const I=document.getElementById(`pdf-upload-${L.code}`),G=new DataTransfer;G.items.add(M),I.files=G.files,Y(L.code,{target:I})}},children:[r.jsx("input",{id:`pdf-upload-${L.code}`,type:"file",accept:".pdf,application/pdf",onChange:P=>Y(L.code,P),style:{display:"none"}}),y[L.code]?r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"24",height:"24",style:{color:"#2d5a87"},children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),r.jsx("span",{style:{color:"#64748b",fontSize:"12px"},children:"..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"28",height:"28",fill:"#94a3b8",style:{marginBottom:"8px"},children:r.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11 8 15.01z"})}),r.jsx("p",{style:{color:"#64748b",fontSize:"12px",margin:0},children:"   PDF"}),r.jsx("p",{style:{color:"#94a3b8",fontSize:"11px",margin:"4px 0 0"},children:". 20MB"})]})]})]},L.code))})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{className:"form-section-title",children:" "}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[r.jsxs("div",{className:"admin-card",style:{padding:"20px",textAlign:"center"},children:[r.jsx("div",{className:"form-group",style:{marginBottom:"8px"},children:r.jsx("input",{type:"text",value:X?.stats?.days||"",onChange:L=>T("days",L.target.value),placeholder:"4",style:{fontSize:"32px",fontWeight:"700",textAlign:"center",color:"#2d5a87",border:"none",background:"transparent",width:"100%"}})}),r.jsx("input",{type:"text",value:X?.stats?.days_label||"",onChange:L=>T("days_label",L.target.value),placeholder:"",style:{textAlign:"center",border:"none",background:"#f9fafb",borderRadius:"6px",padding:"6px",fontSize:"14px",width:"100%"}})]}),r.jsxs("div",{className:"admin-card",style:{padding:"20px",textAlign:"center"},children:[r.jsx("div",{className:"form-group",style:{marginBottom:"8px"},children:r.jsx("input",{type:"text",value:X?.stats?.sessions||"",onChange:L=>T("sessions",L.target.value),placeholder:"20+",style:{fontSize:"32px",fontWeight:"700",textAlign:"center",color:"#2d5a87",border:"none",background:"transparent",width:"100%"}})}),r.jsx("input",{type:"text",value:X?.stats?.sessions_label||"",onChange:L=>T("sessions_label",L.target.value),placeholder:"",style:{textAlign:"center",border:"none",background:"#f9fafb",borderRadius:"6px",padding:"6px",fontSize:"14px",width:"100%"}})]}),r.jsxs("div",{className:"admin-card",style:{padding:"20px",textAlign:"center"},children:[r.jsx("div",{className:"form-group",style:{marginBottom:"8px"},children:r.jsx("input",{type:"text",value:X?.stats?.speakers||"",onChange:L=>T("speakers",L.target.value),placeholder:"150+",style:{fontSize:"32px",fontWeight:"700",textAlign:"center",color:"#2d5a87",border:"none",background:"transparent",width:"100%"}})}),r.jsx("input",{type:"text",value:X?.stats?.speakers_label||"",onChange:L=>T("speakers_label",L.target.value),placeholder:"",style:{textAlign:"center",border:"none",background:"#f9fafb",borderRadius:"6px",padding:"6px",fontSize:"14px",width:"100%"}})]})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{className:"form-section-title",children:"  "}),r.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",flexWrap:"wrap"},children:X?.days?.map((L,P)=>r.jsxs("button",{className:`lang-tab-btn ${s===P?"active":""}`,onClick:()=>o(P),style:{minWidth:"140px"},children:[r.jsx("span",{style:{fontWeight:"600"},children:L.label}),r.jsx("span",{style:{fontSize:"12px",opacity:.8},children:L.date})]},P))}),ee&&r.jsxs("div",{className:"admin-card",children:[r.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:r.jsxs("div",{style:{flex:1},children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:ee.label||"",onChange:L=>k(s,"label",L.target.value),placeholder:" 1"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:ee.date||"",onChange:L=>k(s,"date",L.target.value),placeholder:"25  2026"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:ee.title||"",onChange:L=>k(s,"title",L.target.value),placeholder:" "})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:ee.events_count||"",onChange:L=>k(s,"events_count",L.target.value),placeholder:"6 "})]})]})]})}),r.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"20px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[r.jsxs("h4",{style:{margin:0,fontSize:"15px",fontWeight:"600",color:"#374151"},children:[" (",ee.events?.length||0,")"]}),r.jsx("button",{className:"btn-add",onClick:()=>H(s),children:"+  "})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[ee.events?.map((L,P)=>r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",padding:"16px",background:"#f9fafb",borderRadius:"10px",border:"1px solid #e5e7eb"},children:[r.jsx("div",{style:{fontWeight:"600",color:"#2d5a87",fontSize:"14px"},children:r.jsx("input",{type:"text",value:L.time||"",onChange:M=>R(s,P,"time",M.target.value),placeholder:"08:30  10:00",style:{width:"100%",fontWeight:"600",color:"#2d5a87",border:"none",background:"white",padding:"6px 8px",borderRadius:"6px",fontSize:"13px"}})}),r.jsxs("div",{style:{width:"100%"},children:[r.jsx("input",{type:"text",value:L.title||"",onChange:M=>R(s,P,"title",M.target.value),placeholder:" ",style:{width:"100%",fontWeight:"600",marginBottom:"6px",border:"none",background:"white",padding:"6px 8px",borderRadius:"6px"}}),r.jsx("input",{type:"text",value:L.description||"",onChange:M=>R(s,P,"description",M.target.value),placeholder:" ",style:{width:"100%",color:"#6b7280",marginBottom:"6px",border:"none",background:"white",padding:"6px 8px",borderRadius:"6px",fontSize:"13px"}}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"14",height:"14",fill:"#9ca3af",children:r.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),r.jsx("input",{type:"text",value:L.location||"",onChange:M=>R(s,P,"location",M.target.value),placeholder:" ",style:{flex:1,color:"#9ca3af",border:"none",background:"white",padding:"4px 8px",borderRadius:"6px",fontSize:"12px"}})]})]}),r.jsx("button",{onClick:()=>V(s,P),style:{background:"#fee2e2",border:"none",borderRadius:"6px",padding:"8px",cursor:"pointer",color:"#ef4444",display:"flex",alignItems:"center",justifyContent:"center"},title:" ",children:r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})})]},P)),(!ee.events||ee.events.length===0)&&r.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#9ca3af",background:"#f9fafb",borderRadius:"10px",border:"2px dashed #e5e7eb"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"32",height:"32",fill:"currentColor",style:{marginBottom:"12px",opacity:.5},children:r.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"})}),r.jsx("p",{style:{margin:"0 0 12px 0"},children:"    "}),r.jsx("button",{className:"btn-add",onClick:()=>H(s),children:"+   "})]})]})]})]})]})]})}const hk="",Xu=[{code:"ru",label:"",flag:"https://flagcdn.com/w20/ru.png"},{code:"en",label:"English",flag:"https://flagcdn.com/w20/gb.png"},{code:"tj",label:"",flag:"https://flagcdn.com/w20/tj.png"}],py=[{value:"organizer",label:{ru:"",en:"Organizer",tj:""}},{value:"partner",label:{ru:"",en:"Partner",tj:""}},{value:"sponsor",label:{ru:"",en:"Sponsor",tj:""}},{value:"media",label:{ru:" ",en:"Media Partner",tj:" "}}],Ble=[{name:"United Nations",logo:"/assets/images/partners/un.png",website:"https://www.un.org",partner_type:"organizer",sort_order:0},{name:"Government of Tajikistan",logo:"/assets/images/partners/tajikistan.png",website:"https://www.tajikistan.gov.tj",partner_type:"organizer",sort_order:1},{name:"The World Bank",logo:"/assets/images/partners/worldbank.png",website:"https://www.worldbank.org",partner_type:"partner",sort_order:0},{name:"UNDP",logo:"/assets/images/partners/undp.png",website:"https://www.undp.org",partner_type:"partner",sort_order:1},{name:"UNESCO",logo:"/assets/images/partners/unesco.png",website:"https://www.unesco.org",partner_type:"partner",sort_order:2},{name:"UNICEF",logo:"/assets/images/partners/unicef.png",website:"https://www.unicef.org",partner_type:"partner",sort_order:3},{name:"Asian Development Bank",logo:"/assets/images/partners/adb.png",website:"https://www.adb.org",partner_type:"sponsor",sort_order:0},{name:"European Union",logo:"/assets/images/partners/eu.png",website:"https://european-union.europa.eu",partner_type:"sponsor",sort_order:1}],Ku=(t,e="ru")=>t?typeof t.label=="string"?t.label:t.label?.[e]||t.label?.ru||t.value:"",zle=t=>{const e={:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"y",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"h",:"ts",:"ch",:"sh",:"sch",:"",:"y",:"",:"e",:"yu",:"ya",:"g",:"i",:"q",:"u",:"h",:"j"};return t.toLowerCase().split("").map(n=>e[n]||n).join("").replace(/[^a-z0-9]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,"")};function $le(){const{token:t}=dn(),[e,n]=j.useState(!1),[i,a]=j.useState(null),[s,o]=j.useState([]),[c,d]=j.useState(null),[h,f]=j.useState("url"),[p,m]=j.useState(!1),x=j.useRef(null),[b,y]=j.useState(py),[_,S]=j.useState(!1),[N,E]=j.useState(""),[A,T]=j.useState({ru:"",en:"",tj:""}),[k,R]=j.useState("ru"),[H,V]=j.useState({name:"",logo:"/assets/images/partner-default.png",website:"",partner_type:"partner",sort_order:0}),Y=async(O,$={})=>{const B=await fetch(`${hk}${O}`,{...$,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,...$.headers}});if(!B.ok)throw new Error(`HTTP ${B.status}`);return B.json()};j.useEffect(()=>{M(),W()},[]);const W=async()=>{try{const O=await Y("/api/admin/settings"),$={};if(O.forEach(B=>{$[B.setting_key]=B.setting_value}),$.partner_types)try{const B=JSON.parse($.partner_types);Array.isArray(B)&&B.length>0&&y(B)}catch(B){console.error("Failed to parse partner types:",B)}}catch(O){console.error("Failed to load partner types:",O)}},X=async O=>{try{await Y("/api/admin/settings",{method:"PUT",body:JSON.stringify({settings:[{key:"partner_types",value:JSON.stringify(O)}]})}),y(O),a({type:"success",message:"  !"}),setTimeout(()=>a(null),3e3)}catch($){console.error("Failed to save partner types:",$),a({type:"error",message:" : "+$.message}),setTimeout(()=>a(null),5e3)}},ee=()=>{if(!N.trim()||!A.ru.trim()){a({type:"error",message:"    (RU)"}),setTimeout(()=>a(null),3e3);return}if(b.some(B=>B.value===N.trim())){a({type:"error",message:"     "}),setTimeout(()=>a(null),3e3);return}const O={value:N.trim(),label:{ru:A.ru.trim(),en:A.en.trim()||A.ru.trim(),tj:A.tj.trim()||A.ru.trim()}},$=[...b,O];X($),E(""),T({ru:"",en:"",tj:""})},L=O=>{const $=s.filter(Q=>Q.partner_type===O);if($.length>0){a({type:"error",message:` : ${$.length} ()   `}),setTimeout(()=>a(null),5e3);return}const B=b.filter(Q=>Q.value!==O);if(B.length===0){a({type:"error",message:"     "}),setTimeout(()=>a(null),3e3);return}X(B)},P=async()=>{console.log("Seeding default partners...");try{await Y("/api/admin/settings",{method:"PUT",body:JSON.stringify({settings:[{key:"partner_types",value:JSON.stringify(py)}]})}),y(py)}catch(O){console.error("Failed to seed partner types:",O)}for(const O of Ble)try{await Y("/api/admin/partners",{method:"POST",body:JSON.stringify(O)})}catch($){console.error("Failed to seed partner:",O.name,$)}},M=async()=>{n(!0);try{const O=await Y("/api/admin/partners");if(O.length===0){await P();const $=await Y("/api/admin/partners");o($)}else o(O)}catch(O){console.error("Failed to load partners:",O)}finally{n(!1)}},I=async()=>{a({type:"saving",message:"..."});try{c&&c.id?await Y(`/api/admin/partners/${c.id}`,{method:"PUT",body:JSON.stringify(H)}):await Y("/api/admin/partners",{method:"POST",body:JSON.stringify(H)}),a({type:"success",message:" !"}),d(null),U(),M(),setTimeout(()=>a(null),3e3)}catch(O){console.error("Failed to save partner:",O),a({type:"error",message:" : "+O.message}),setTimeout(()=>a(null),5e3)}},G=async O=>{if(window.confirm("  ?"))try{await Y(`/api/admin/partners/${O}`,{method:"DELETE"}),a({type:"success",message:" !"}),M(),setTimeout(()=>a(null),3e3)}catch($){console.error("Failed to delete partner:",$),a({type:"error",message:" : "+$.message}),setTimeout(()=>a(null),5e3)}},U=()=>{V({name:"",logo:"/assets/images/partner-default.png",website:"",partner_type:"partner",sort_order:s.length}),f("url")},K=async O=>{const $=O.target.files?.[0];if(!$)return;if(!["image/png","image/jpeg","image/jpg","image/gif","image/webp","image/svg+xml"].includes($.type)){a({type:"error",message:"  .  PNG, JPG, GIF, WebP  SVG."}),setTimeout(()=>a(null),5e3);return}if($.size>5*1024*1024){a({type:"error",message:"  .  : 5MB"}),setTimeout(()=>a(null),5e3);return}m(!0);const Q=new FormData;Q.append("file",$),Q.append("folder","partners");try{const J=await fetch(`${hk}/api/admin/upload`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:Q});if(!J.ok)throw new Error(`Upload failed: ${J.status}`);const q=await J.json();V({...H,logo:q.url||q.path}),a({type:"success",message:" !"}),setTimeout(()=>a(null),3e3)}catch(J){console.error("Upload error:",J),a({type:"error",message:" : "+J.message}),setTimeout(()=>a(null),5e3)}finally{m(!1),x.current&&(x.current.value="")}},z=b.reduce((O,$)=>(O[$.value]=s.filter(B=>B.partner_type===$.value),O),{});return r.jsxs("div",{className:"section-panel",children:[r.jsxs("div",{className:"section-panel-header",children:[r.jsxs("div",{children:[r.jsx("h2",{children:""}),r.jsx("p",{children:"    "})]}),r.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.jsxs("button",{className:"btn-secondary",onClick:()=>S(!_),style:{display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})})," "]}),r.jsx("button",{className:"btn-primary",onClick:()=>{d({}),U()},children:"+  "})]})]}),_&&r.jsx("div",{className:"modal-overlay",onClick:()=>S(!1),children:r.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),style:{maxWidth:"600px"},children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h3",{children:"  "}),r.jsx("button",{className:"btn-close",onClick:()=>S(!1),children:""})]}),r.jsxs("div",{className:"modal-body",children:[r.jsxs("div",{style:{marginBottom:"24px"},children:[r.jsxs("label",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"12px",display:"block"},children:["  (",b.length,")"]}),r.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:b.map(O=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"12px 16px",background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"10px",fontSize:"14px"},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px"},children:[r.jsx("span",{style:{fontWeight:"600",color:"#1f2937"},children:Ku(O,"ru")}),r.jsxs("span",{style:{fontSize:"11px",color:"#9ca3af"},children:["EN: ",Ku(O,"en")," | TJ: ",Ku(O,"tj")]}),r.jsx("span",{style:{fontSize:"10px",color:"#d1d5db",fontFamily:"monospace"},children:O.value})]}),r.jsx("button",{onClick:()=>L(O.value),style:{background:"#fee2e2",border:"none",borderRadius:"6px",cursor:"pointer",color:"#ef4444",padding:"6px",display:"flex",alignItems:"center",transition:"all 0.2s"},title:" ",children:r.jsx("svg",{viewBox:"0 0 24 24",width:"14",height:"14",fill:"currentColor",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},O.value))})]}),r.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"20px"},children:[r.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"16px",display:"block"},children:"  "}),r.jsx("div",{className:"lang-tab-buttons",style:{marginBottom:"16px"},children:Xu.map(O=>r.jsxs("button",{type:"button",className:`lang-tab-btn ${k===O.code?"active":""}`,onClick:()=>R(O.code),children:[r.jsx("img",{src:O.flag,alt:O.label,style:{width:"16px",height:"12px",objectFit:"cover",borderRadius:"2px"}}),O.label]},O.code))}),r.jsxs("div",{className:"form-row",style:{marginBottom:"16px"},children:[r.jsxs("div",{className:"form-group",style:{margin:0},children:[r.jsxs("label",{children:[" (",Xu.find(O=>O.code===k)?.label,")",k==="ru"&&r.jsx("span",{style:{color:"#ef4444"},children:" *"})]}),r.jsx("input",{type:"text",value:A[k],onChange:O=>{const $=O.target.value;T({...A,[k]:$}),k==="ru"&&E(zle($))},placeholder:k==="ru"?"":k==="en"?"Sponsor":""})]}),r.jsxs("div",{className:"form-group",style:{margin:0},children:[r.jsx("label",{children:" ()"}),r.jsx("input",{type:"text",value:N,onChange:O=>E(O.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"sponsor",style:{background:"#f9fafb"}})]})]}),(A.ru||A.en||A.tj)&&r.jsxs("div",{style:{marginBottom:"16px",padding:"12px 16px",background:"#f0f9ff",borderRadius:"8px",fontSize:"13px",border:"1px solid #bae6fd"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"#0ea5e9",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),r.jsx("span",{style:{fontWeight:"600",color:"#0369a1"},children:"  "})]}),r.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",color:"#0c4a6e"},children:[r.jsxs("span",{children:[r.jsx("img",{src:Xu[0].flag,alt:"RU",style:{width:"14px",height:"10px",marginRight:"4px",verticalAlign:"middle"}}),A.ru||""]}),r.jsxs("span",{children:[r.jsx("img",{src:Xu[1].flag,alt:"EN",style:{width:"14px",height:"10px",marginRight:"4px",verticalAlign:"middle"}}),A.en||""]}),r.jsxs("span",{children:[r.jsx("img",{src:Xu[2].flag,alt:"TJ",style:{width:"14px",height:"10px",marginRight:"4px",verticalAlign:"middle"}}),A.tj||""]})]})]}),r.jsx("button",{className:"btn-primary",onClick:ee,style:{width:"100%"},children:"+  "})]})]}),r.jsx("div",{className:"modal-footer",children:r.jsx("button",{className:"btn-secondary",onClick:()=>S(!1),children:""})})]})}),i&&r.jsxs("div",{className:`save-status save-status--${i.type}`,style:{marginBottom:"20px"},children:[i.type==="saving"&&r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),i.type==="success"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),i.type==="error"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),r.jsx("span",{children:i.message}),r.jsx("button",{className:"save-status-close",onClick:()=>a(null),children:""})]}),c&&r.jsx("div",{className:"modal-overlay",onClick:()=>d(null),children:r.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h3",{children:c.id?" ":" "}),r.jsx("button",{className:"btn-close",onClick:()=>d(null),children:""})]}),r.jsxs("div",{className:"modal-body",children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:H.name,onChange:O=>V({...H,name:O.target.value}),placeholder:" "})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("select",{value:H.partner_type,onChange:O=>V({...H,partner_type:O.target.value}),children:b.map(O=>r.jsx("option",{value:O.value,children:Ku(O,"ru")},O.value))})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsxs("div",{className:"source-toggle",style:{marginBottom:"12px"},children:[r.jsx("button",{type:"button",className:`toggle-btn ${h==="url"?"active":""}`,onClick:()=>f("url"),children:"URL "}),r.jsx("button",{type:"button",className:`toggle-btn ${h==="upload"?"active":""}`,onClick:()=>f("upload"),children:" "})]}),h==="url"?r.jsx("input",{type:"text",value:H.logo,onChange:O=>V({...H,logo:O.target.value}),placeholder:"/assets/images/partners/logo.png"}):r.jsxs("div",{className:"upload-area",children:[r.jsx("input",{type:"file",ref:x,onChange:K,accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp,image/svg+xml",style:{display:"none"},id:"partner-logo-upload"}),r.jsx("label",{htmlFor:"partner-logo-upload",className:`upload-label ${p?"disabled":""}`,style:{cursor:p?"not-allowed":"pointer"},children:p?r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"24",height:"24",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),r.jsx("span",{children:"..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:r.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})}),r.jsx("span",{children:"  "}),r.jsx("span",{style:{fontSize:"12px",color:"#9ca3af"},children:"PNG, JPG, GIF, WebP, SVG (. 5MB)"})]})})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"-"}),r.jsx("input",{type:"text",value:H.website,onChange:O=>V({...H,website:O.target.value}),placeholder:"https://example.com"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"number",value:H.sort_order,onChange:O=>V({...H,sort_order:parseInt(O.target.value)||0}),style:{maxWidth:"100px"}})]}),H.logo&&r.jsxs("div",{className:"logo-preview",style:{marginTop:"16px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px"},children:" :"}),r.jsx("img",{src:H.logo,alt:"Logo preview",style:{maxWidth:"150px",maxHeight:"80px",objectFit:"contain",background:"#f5f5f5",padding:"10px",borderRadius:"8px"}})]})]}),r.jsxs("div",{className:"modal-footer",children:[r.jsx("button",{className:"btn-secondary",onClick:()=>d(null),children:""}),r.jsx("button",{className:"btn-primary",onClick:I,children:""})]})]})}),e?r.jsx("div",{className:"loading-state",children:"..."}):r.jsx(r.Fragment,{children:Object.entries(z).map(([O,$])=>$.length>0&&r.jsxs("div",{className:"admin-card",children:[r.jsx("h3",{children:Ku(b.find(B=>B.value===O),"ru")||O}),r.jsx("div",{className:"items-grid partners-grid",children:$.map(B=>r.jsxs("div",{className:"item-card partner-card",children:[r.jsx("img",{src:B.logo,alt:B.name,className:"partner-logo"}),r.jsxs("div",{className:"item-info",children:[r.jsx("strong",{children:B.name}),B.website&&r.jsx("a",{href:B.website,target:"_blank",rel:"noopener noreferrer",className:"partner-link",children:B.website})]}),r.jsxs("div",{className:"item-actions",children:[r.jsx("button",{className:"btn-edit",onClick:()=>{d(B),V({name:B.name||"",logo:B.logo||"",website:B.website||"",partner_type:B.partner_type||"partner",sort_order:B.sort_order||0})},children:""}),r.jsx("button",{className:"btn-delete",onClick:()=>G(B.id),children:""})]})]},B.id))})]},O))})]})}const Fle="",Ju=[{code:"ru",label:"",flag:"https://flagcdn.com/w20/ru.png"},{code:"en",label:"English",flag:"https://flagcdn.com/w20/gb.png"},{code:"tj",label:"",flag:"https://flagcdn.com/w20/tj.png"}],sr={ru:{app_title:` 
 `,app_description:"   ,        .  ,     .",feature1_title:"  ",feature1_description:"   ",feature2_title:"Push-",feature2_description:"   ",feature3_title:" ",feature3_description:"   ",feature4_title:" ",feature4_description:"    "},en:{app_title:`Download the official
conference app`,app_description:"Get access to the program, materials and conference notifications right on your smartphone. Interactive map, session schedule and much more.",feature1_title:"Program & Schedule",feature1_description:"Complete schedule of all events",feature2_title:"Push Notifications",feature2_description:"Instant alerts about changes",feature3_title:"Interactive Map",feature3_description:"Navigate the conference venue",feature4_title:"Participant Materials",feature4_description:"Access to documents and presentations"},tj:{app_title:` 
  `,app_description:" ,           .  ,      .",feature1_title:"  ",feature1_description:"   ",feature2_title:" Push",feature2_description:"    ",feature3_title:" ",feature3_description:"   ",feature4_title:" ",feature4_description:"    "}};function Hle(){const{token:t}=dn(),[e,n]=j.useState(null),[i,a]=j.useState("ru"),[s,o]=j.useState({app_store_url:"#",google_play_url:"#",...sr}),c=async(m,x={})=>{const b=await fetch(`${Fle}${m}`,{...x,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,...x.headers}});if(!b.ok)throw new Error(`HTTP ${b.status}`);return b.json()};j.useEffect(()=>{d()},[]);const d=async()=>{try{const m=await c("/api/admin/settings"),x={};m.forEach(_=>{x[_.setting_key]=_.setting_value});const b=(_,S,N)=>{try{if(x[_])return JSON.parse(x[_])[S]||N}catch{if(S==="ru"&&x[_])return x[_]}return N},y={app_store_url:x.app_store_url||"#",google_play_url:x.google_play_url||"#"};Ju.forEach(({code:_})=>{y[_]={app_title:b("app_title",_,sr[_].app_title),app_description:b("app_description",_,sr[_].app_description),feature1_title:b("feature1_title",_,sr[_].feature1_title),feature1_description:b("feature1_description",_,sr[_].feature1_description),feature2_title:b("feature2_title",_,sr[_].feature2_title),feature2_description:b("feature2_description",_,sr[_].feature2_description),feature3_title:b("feature3_title",_,sr[_].feature3_title),feature3_description:b("feature3_description",_,sr[_].feature3_description),feature4_title:b("feature4_title",_,sr[_].feature4_title),feature4_description:b("feature4_description",_,sr[_].feature4_description)}}),o(y)}catch(m){console.error("Failed to load settings:",m)}},h=async()=>{n({type:"saving",message:"..."});try{const m=x=>{const b={};return Ju.forEach(({code:y})=>{b[y]=s[y][x]}),JSON.stringify(b)};await c("/api/admin/settings",{method:"PUT",body:JSON.stringify({settings:[{key:"app_store_url",value:s.app_store_url},{key:"google_play_url",value:s.google_play_url},{key:"app_title",value:m("app_title")},{key:"app_description",value:m("app_description")},{key:"feature1_title",value:m("feature1_title")},{key:"feature1_description",value:m("feature1_description")},{key:"feature2_title",value:m("feature2_title")},{key:"feature2_description",value:m("feature2_description")},{key:"feature3_title",value:m("feature3_title")},{key:"feature3_description",value:m("feature3_description")},{key:"feature4_title",value:m("feature4_title")},{key:"feature4_description",value:m("feature4_description")}]})}),n({type:"success",message:"  !"}),setTimeout(()=>n(null),3e3)}catch(m){console.error("Failed to save:",m),n({type:"error",message:" : "+m.message}),setTimeout(()=>n(null),5e3)}},f=(m,x)=>{o(b=>({...b,[i]:{...b[i],[m]:x}}))},p=s[i]||sr[i];return r.jsxs("div",{className:"section-panel",children:[r.jsx("div",{className:"section-panel-header",children:r.jsxs("div",{children:[r.jsx("h2",{children:" "}),r.jsx("p",{children:"      "})]})}),e&&r.jsxs("div",{className:`save-status save-status--${e.type}`,style:{marginBottom:"20px"},children:[e.type==="saving"&&r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),e.type==="success"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),e.type==="error"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),r.jsx("span",{children:e.message}),r.jsx("button",{className:"save-status-close",onClick:()=>n(null),children:""})]}),r.jsx("div",{className:"lang-tab-buttons",style:{marginBottom:"24px"},children:Ju.map(m=>r.jsxs("button",{className:`lang-tab-btn ${i===m.code?"active":""}`,onClick:()=>a(m.code),children:[r.jsx("img",{src:m.flag,alt:m.code.toUpperCase(),className:"lang-tab-flag"}),r.jsx("span",{className:"lang-tab-label",children:m.label})]},m.code))}),r.jsxs("div",{className:"form-section",children:[r.jsxs("h3",{className:"form-section-title",children:["   (",Ju.find(m=>m.code===i)?.label,")"]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("textarea",{value:p.app_title,onChange:m=>f("app_title",m.target.value),placeholder:"   ",rows:2,style:{resize:"vertical",minHeight:"60px"}}),r.jsx("span",{className:"form-hint",children:"        "})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("textarea",{value:p.app_description,onChange:m=>f("app_description",m.target.value),placeholder:"   ,   ...",rows:3,style:{resize:"vertical",minHeight:"80px"}})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsxs("h3",{className:"form-section-title",children:["  (",Ju.find(m=>m.code===i)?.label,")"]}),r.jsxs("div",{className:"feature-editor-grid",children:[r.jsxs("div",{className:"feature-editor-item",children:[r.jsx("div",{className:"feature-editor-number",children:"1"}),r.jsxs("div",{className:"feature-editor-fields",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:p.feature1_title,onChange:m=>f("feature1_title",m.target.value),placeholder:"  "})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:p.feature1_description,onChange:m=>f("feature1_description",m.target.value),placeholder:"   "})]})]})]}),r.jsxs("div",{className:"feature-editor-item",children:[r.jsx("div",{className:"feature-editor-number",children:"2"}),r.jsxs("div",{className:"feature-editor-fields",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:p.feature2_title,onChange:m=>f("feature2_title",m.target.value),placeholder:"Push-"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:p.feature2_description,onChange:m=>f("feature2_description",m.target.value),placeholder:"   "})]})]})]}),r.jsxs("div",{className:"feature-editor-item",children:[r.jsx("div",{className:"feature-editor-number",children:"3"}),r.jsxs("div",{className:"feature-editor-fields",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:p.feature3_title,onChange:m=>f("feature3_title",m.target.value),placeholder:" "})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:p.feature3_description,onChange:m=>f("feature3_description",m.target.value),placeholder:"   "})]})]})]}),r.jsxs("div",{className:"feature-editor-item",children:[r.jsx("div",{className:"feature-editor-number",children:"4"}),r.jsxs("div",{className:"feature-editor-fields",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:p.feature4_title,onChange:m=>f("feature4_title",m.target.value),placeholder:" "})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:p.feature4_description,onChange:m=>f("feature4_description",m.target.value),placeholder:"    "})]})]})]})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{className:"form-section-title",children:"   "}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",style:{marginRight:"8px",verticalAlign:"middle"},children:r.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.53 4.09zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"App Store URL"]}),r.jsx("input",{type:"text",value:s.app_store_url,onChange:m=>o({...s,app_store_url:m.target.value}),placeholder:"https://apps.apple.com/app/..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",style:{marginRight:"8px",verticalAlign:"middle"},children:r.jsx("path",{d:"M3.609 1.814L13.792 12 3.61 22.186a.996.996 0 0 1-.61-.92V2.734a1 1 0 0 1 .609-.92zm10.89 10.893l2.302 2.302-10.937 6.333 8.635-8.635zm3.199-3.198l2.807 1.626a1 1 0 0 1 0 1.73l-2.808 1.626L15.206 12l2.492-2.491zM5.864 2.658L16.802 8.99l-2.303 2.303-8.635-8.635z"})}),"Google Play URL"]}),r.jsx("input",{type:"text",value:s.google_play_url,onChange:m=>o({...s,google_play_url:m.target.value}),placeholder:"https://play.google.com/store/apps/details?id=..."})]})]})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{className:"btn-save",onClick:h,children:" "})})]})}const Ule="",pp=[{code:"ru",label:"",flag:"https://flagcdn.com/w20/ru.png"},{code:"en",label:"English",flag:"https://flagcdn.com/w20/gb.png"},{code:"tj",label:"",flag:"https://flagcdn.com/w20/tj.png"}],or={ru:{title_line1:", ",title_line2:"4-    ",title_line3:"   ",title_line4:"   ",title_line5:"10-12  2026"},en:{title_line1:"Dushanbe, Tajikistan",title_line2:"4th HIGH-LEVEL INTERNATIONAL CONFERENCE ON THE",title_line3:"INTERNATIONAL DECADE FOR ACTION",title_line4:'"WATER FOR SUSTAINABLE DEVELOPMENT"',title_line5:"June 10-12, 2026"},tj:{title_line1:", ",title_line2:" 4-  ",title_line3:"    ",title_line4:"   ",title_line5:"10-12  2026"}};function Vle(){const{token:t}=dn(),[e,n]=j.useState(null),[i,a]=j.useState("ru"),[s,o]=j.useState({logo_url:"/assets/images/logo-mini.png",duration:"2",bg_color_start:"#0c4a6e",bg_color_mid:"#075985",bg_color_end:"#0369a1",date_color:"#7dd3fc",...or}),c=async(m,x={})=>{const b=await fetch(`${Ule}${m}`,{...x,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,...x.headers}});if(!b.ok)throw new Error(`HTTP ${b.status}`);return b.json()};j.useEffect(()=>{d()},[]);const d=async()=>{try{const m=await c("/api/admin/settings"),x={};m.forEach(y=>{x[y.setting_key]=y.setting_value});const b={logo_url:x.loading_logo_url||"/assets/images/logo-mini.png",duration:x.loading_duration||"2",bg_color_start:x.loading_bg_color_start||"#0c4a6e",bg_color_mid:x.loading_bg_color_mid||"#075985",bg_color_end:x.loading_bg_color_end||"#0369a1",date_color:x.loading_date_color||"#7dd3fc"};pp.forEach(({code:y})=>{b[y]={title_line1:x[`loading_title_line1_${y}`]||or[y].title_line1,title_line2:x[`loading_title_line2_${y}`]||or[y].title_line2,title_line3:x[`loading_title_line3_${y}`]||or[y].title_line3,title_line4:x[`loading_title_line4_${y}`]||or[y].title_line4,title_line5:x[`loading_title_line5_${y}`]||or[y].title_line5}}),o(b)}catch(m){console.error("Failed to load settings:",m)}},h=async()=>{n({type:"saving",message:"..."});try{const m=[{key:"loading_logo_url",value:s.logo_url},{key:"loading_duration",value:s.duration},{key:"loading_bg_color_start",value:s.bg_color_start},{key:"loading_bg_color_mid",value:s.bg_color_mid},{key:"loading_bg_color_end",value:s.bg_color_end},{key:"loading_date_color",value:s.date_color}];pp.forEach(({code:x})=>{m.push({key:`loading_title_line1_${x}`,value:s[x].title_line1},{key:`loading_title_line2_${x}`,value:s[x].title_line2},{key:`loading_title_line3_${x}`,value:s[x].title_line3},{key:`loading_title_line4_${x}`,value:s[x].title_line4},{key:`loading_title_line5_${x}`,value:s[x].title_line5})}),await c("/api/admin/settings",{method:"PUT",body:JSON.stringify({settings:m})}),n({type:"success",message:"   !"}),setTimeout(()=>n(null),3e3)}catch(m){console.error("Failed to save:",m),n({type:"error",message:" : "+m.message}),setTimeout(()=>n(null),5e3)}},f=(m,x)=>{o(b=>({...b,[i]:{...b[i],[m]:x}}))},p=s[i]||or[i];return r.jsxs("div",{className:"section-panel",children:[r.jsx("div",{className:"section-panel-header",children:r.jsxs("div",{children:[r.jsx("h2",{children:" "}),r.jsx("p",{children:" ,     "})]})}),e&&r.jsxs("div",{className:`save-status save-status--${e.type}`,style:{marginBottom:"20px"},children:[e.type==="saving"&&r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),e.type==="success"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),e.type==="error"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),r.jsx("span",{children:e.message}),r.jsx("button",{className:"save-status-close",onClick:()=>n(null),children:""})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{className:"form-section-title",children:" "}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"URL "}),r.jsx("input",{type:"text",value:s.logo_url,onChange:m=>o({...s,logo_url:m.target.value}),placeholder:"/assets/images/logo-mini.png"}),r.jsx("span",{className:"form-hint",children:"    ( : 120120px)"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"  ()"}),r.jsx("input",{type:"number",min:"1",max:"10",step:"0.5",value:s.duration,onChange:m=>o({...s,duration:m.target.value}),placeholder:"2"}),r.jsx("span",{className:"form-hint",children:"      (110)"})]})]}),s.logo_url&&r.jsxs("div",{style:{marginTop:"12px",padding:"16px",background:`linear-gradient(135deg, ${s.bg_color_start}, ${s.bg_color_mid}, ${s.bg_color_end})`,borderRadius:"8px",display:"inline-flex",alignItems:"center",gap:"12px"},children:[r.jsx("img",{src:s.logo_url,alt:"Preview",style:{width:"60px",height:"auto",filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.3))"},onError:m=>{m.target.style.display="none"}}),r.jsx("span",{style:{color:"rgba(255,255,255,0.7)",fontSize:"13px"},children:" "})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{className:"form-section-title",children:" "}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"   "}),r.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[r.jsx("input",{type:"color",value:s.bg_color_start,onChange:m=>o({...s,bg_color_start:m.target.value}),style:{width:"50px",height:"36px",padding:"2px",cursor:"pointer"}}),r.jsx("input",{type:"text",value:s.bg_color_start,onChange:m=>o({...s,bg_color_start:m.target.value}),style:{flex:1}})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"   "}),r.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[r.jsx("input",{type:"color",value:s.bg_color_mid,onChange:m=>o({...s,bg_color_mid:m.target.value}),style:{width:"50px",height:"36px",padding:"2px",cursor:"pointer"}}),r.jsx("input",{type:"text",value:s.bg_color_mid,onChange:m=>o({...s,bg_color_mid:m.target.value}),style:{flex:1}})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"   "}),r.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[r.jsx("input",{type:"color",value:s.bg_color_end,onChange:m=>o({...s,bg_color_end:m.target.value}),style:{width:"50px",height:"36px",padding:"2px",cursor:"pointer"}}),r.jsx("input",{type:"text",value:s.bg_color_end,onChange:m=>o({...s,bg_color_end:m.target.value}),style:{flex:1}})]})]})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[r.jsx("input",{type:"color",value:s.date_color,onChange:m=>o({...s,date_color:m.target.value}),style:{width:"50px",height:"36px",padding:"2px",cursor:"pointer"}}),r.jsx("input",{type:"text",value:s.date_color,onChange:m=>o({...s,date_color:m.target.value}),style:{flex:1}})]}),r.jsx("span",{className:"form-hint",children:"    ( )"})]})}),r.jsx("div",{style:{marginTop:"12px",height:"48px",borderRadius:"8px",background:`linear-gradient(135deg, ${s.bg_color_start} 0%, ${s.bg_color_mid} 50%, ${s.bg_color_end} 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx("span",{style:{color:s.date_color,fontWeight:700,fontSize:"14px",letterSpacing:"0.1em"},children:"    "})})]}),r.jsx("div",{className:"lang-tab-buttons",style:{marginBottom:"24px"},children:pp.map(m=>r.jsxs("button",{className:`lang-tab-btn ${i===m.code?"active":""}`,onClick:()=>a(m.code),children:[r.jsx("img",{src:m.flag,alt:m.code.toUpperCase(),className:"lang-tab-flag"}),r.jsx("span",{className:"lang-tab-label",children:m.label})]},m.code))}),r.jsxs("div",{className:"form-section",children:[r.jsxs("h3",{className:"form-section-title",children:["   (",pp.find(m=>m.code===i)?.label,")"]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" 1    (  )"}),r.jsx("input",{type:"text",value:p.title_line1,onChange:m=>f("title_line1",m.target.value),placeholder:or[i].title_line1})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" 2   ( 1)"}),r.jsx("input",{type:"text",value:p.title_line2,onChange:m=>f("title_line2",m.target.value),placeholder:or[i].title_line2})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" 3   ( 2)"}),r.jsx("input",{type:"text",value:p.title_line3,onChange:m=>f("title_line3",m.target.value),placeholder:or[i].title_line3})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" 4   ( 3)"}),r.jsx("input",{type:"text",value:p.title_line4,onChange:m=>f("title_line4",m.target.value),placeholder:or[i].title_line4})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" 5   (  )"}),r.jsx("input",{type:"text",value:p.title_line5,onChange:m=>f("title_line5",m.target.value),placeholder:or[i].title_line5})]})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{className:"btn-save",onClick:h,children:" "})})]})}const fk="",ql=[{code:"ru",label:"",flag:"https://flagcdn.com/w20/ru.png"},{code:"en",label:"English",flag:"https://flagcdn.com/w20/gb.png"},{code:"tj",label:"",flag:"https://flagcdn.com/w20/tj.png"}],qle=[{id:"conference",path:"/conference",label_ru:"",label_en:"Conference",label_tj:"",hasDropdown:!0,submenus:[{id:"intro",path:"/conference#intro",label_ru:"",label_en:"Introduction",label_tj:""},{id:"goals",path:"/conference#goals",label_ru:"",label_en:"Goals",label_tj:""},{id:"date-venue",path:"/conference#date-venue",label_ru:"   ",label_en:"Date and Venue",label_tj:"  "},{id:"participation",path:"/conference#participation",label_ru:"",label_en:"Participation",label_tj:""}]},{id:"program",path:"/program",label_ru:"",label_en:"Program",label_tj:"",hasDropdown:!0,submenus:[{id:"program-structure",path:"/program/structure",label_ru:" ",label_en:"Program Structure",label_tj:" "},{id:"plenary",path:"/program/plenary",label_ru:" ",label_en:"Plenary Session",label_tj:" "},{id:"conference-events",path:"/program/events",label_ru:"   ",label_en:"Conference Events",label_tj:" "},{id:"forums",path:"/program/forums",label_ru:"",label_en:"Forums",label_tj:""}]},{id:"events",path:"/events",label_ru:"",label_en:"Events",label_tj:"",hasDropdown:!0,submenus:[{id:"parallel-events",path:"/events#parallel",label_ru:" ",label_en:"Parallel Events",label_tj:" "},{id:"cultural-events",path:"/events#cultural",label_ru:" ",label_en:"Cultural Events",label_tj:" "},{id:"excursion-hisor",path:"/excursions#hisor",label_ru:"",label_en:"Hisor",label_tj:""},{id:"excursion-rogun",path:"/excursions#rogun",label_ru:"",label_en:"Rogun",label_tj:""},{id:"excursion-dushanbe",path:"/excursions#dushanbe",label_ru:"",label_en:"Dushanbe",label_tj:""}]},{id:"exhibition",path:"/exhibition",label_ru:"",label_en:"Exhibition",label_tj:"",hasDropdown:!1,submenus:[]},{id:"logistics",path:"/logistics",label_ru:"",label_en:"Logistics",label_tj:"",hasDropdown:!0,submenus:[{id:"practical-info",path:"/logistics#practical",label_ru:" ",label_en:"Practical Information",label_tj:" "},{id:"visa",path:"/logistics#visa",label_ru:"  ",label_en:"Visa to Tajikistan",label_tj:"o "},{id:"press",path:"/logistics#press",label_ru:" ",label_en:"Press Accreditation",label_tj:" "},{id:"flights",path:"/logistics#flights",label_ru:"",label_en:"Flights",label_tj:""},{id:"accommodation",path:"/logistics#accommodation",label_ru:"  ",label_en:"Hotel Accommodation",label_tj:"  "},{id:"weather",path:"/logistics#weather",label_ru:"",label_en:"Weather",label_tj:" "}]},{id:"registration",path:"/registration",label_ru:"",label_en:"Registration",label_tj:"",hasDropdown:!1,isButton:!0,submenus:[]},{id:"contacts",path:"/contacts",label_ru:"",label_en:"Contacts",label_tj:"",hasDropdown:!1,submenus:[]},{id:"water-decade",path:"/water-decade",label_ru:" ",label_en:"Water Decade",label_tj:" ",hasDropdown:!1,isSpecialButton:!0,submenus:[]}],Gle={logo_url:"/assets/images/logo-compact.png",logo_url_ru:"/assets/images/logo/LOGO_WATER_CONFERENCE_2026_left_ru.png",logo_url_en:"/assets/images/logo/LOGO_WATER_CONFERENCE_2026_left_eng.png",logo_url_tj:"/assets/images/logo/LOGO_WATER_CONFERENCE_2026_left_taj.png",title_ru:`4-    
  
    `,title_en:`4th HIGH-LEVEL INTERNATIONAL CONFERENCE ON THE
INTERNATIONAL DECADE FOR ACTION "WATER FOR
SUSTAINABLE DEVELOPMENT"`,title_tj:` 4-   
     
 `,twitter_url:"https://twitter.com",instagram_url:"https://instagram.com",facebook_url:"https://facebook.com"},Wle={site_title_ru:"   2026 |    ",site_title_en:"Dushanbe Water Conference 2026 | Water for Sustainable Development",site_title_tj:"   2026 |    "};function pk(){const{token:t}=dn(),[e,n]=j.useState(!0),[i,a]=j.useState(null),[s,o]=j.useState("ru"),[c,d]=j.useState("general"),[h,f]=j.useState(Gle),[p,m]=j.useState(Wle),[x,b]=j.useState(qle),[y,_]=j.useState({}),[S,N]=j.useState(null),[E,A]=j.useState(null),[T,k]=j.useState(null);j.useEffect(()=>{H()},[]);const R=async(q,re={})=>{const Z=await fetch(`${fk}${q}`,{...re,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,...re.headers}});if(!Z.ok)throw new Error(`HTTP ${Z.status}`);return Z.json()},H=async()=>{try{const q=await R("/api/admin/settings"),re={};if(q.forEach(Z=>{re[Z.setting_key]=Z.setting_value}),f(Z=>{const ve={...Z};return Object.keys(Z).forEach(ae=>{const se=`header_${ae}`;re[se]&&(ve[ae]=re[se])}),ve}),m(Z=>{const ve={...Z};return Object.keys(Z).forEach(ae=>{re[ae]&&(ve[ae]=re[ae])}),ve}),re.header_navigation)try{const Z=JSON.parse(re.header_navigation);Array.isArray(Z)&&Z.length>0&&b(Z)}catch(Z){console.error("Failed to parse navigation:",Z)}}catch(q){console.error("Failed to load settings:",q)}finally{n(!1)}},V=async()=>{a({type:"saving",message:"..."});try{const q=[...Object.entries(h).map(([re,Z])=>({key:`header_${re}`,value:Z})),...Object.entries(p).map(([re,Z])=>({key:re,value:Z})),{key:"header_navigation",value:JSON.stringify(x)}];await R("/api/admin/settings",{method:"PUT",body:JSON.stringify({settings:q})}),a({type:"success",message:" !"}),setTimeout(()=>a(null),3e3)}catch(q){console.error("Failed to save settings:",q),a({type:"error",message:" : "+q.message}),setTimeout(()=>a(null),5e3)}},Y=(q,re)=>{f(Z=>({...Z,[q]:re}))},W=(q,re)=>{m(Z=>({...Z,[q]:re}))},[X,ee]=j.useState(null),L=X!==null,P=async(q,re="logo_url")=>{const Z=q.target.files?.[0];if(!Z)return;if(!Z.type.startsWith("image/")){a({type:"error",message:",  "}),setTimeout(()=>a(null),3e3);return}if(Z.size>5*1024*1024){a({type:"error",message:"   (. 5MB)"}),setTimeout(()=>a(null),3e3);return}ee(re);const ve=new FormData;ve.append("file",Z),ve.append("folder","logo");try{const ae=await fetch(`${fk}/api/admin/upload`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:ve});if(!ae.ok)throw new Error(`Upload failed: ${ae.status}`);const se=await ae.json();f(we=>({...we,[re]:se.url})),a({type:"success",message:" !"}),setTimeout(()=>a(null),3e3)}catch(ae){console.error("Failed to upload logo:",ae),a({type:"error",message:" : "+ae.message}),setTimeout(()=>a(null),5e3)}finally{ee(null),q.target.value=""}},M=q=>{_(re=>({...re,[q]:!re[q]}))},I=(q,re,Z)=>{b(ve=>{const ae=[...ve];return ae[q]={...ae[q],[re]:Z},ae})},G=(q,re,Z,ve)=>{b(ae=>{const se=[...ae],we=[...se[q].submenus];return we[re]={...we[re],[Z]:ve},se[q]={...se[q],submenus:we},se})},U=q=>{b(re=>{const Z=[...re],ve={id:`submenu-${Date.now()}`,path:"#",label_ru:" ",label_en:"New Item",label_tj:" "};return Z[q]={...Z[q],submenus:[...Z[q].submenus,ve]},Z})},K=(q,re)=>{window.confirm("   ?")&&b(Z=>{const ve=[...Z],ae=ve[q].submenus.filter((se,we)=>we!==re);return ve[q]={...ve[q],submenus:ae},ve})},z=(q,re,Z="menu")=>{A({index:re,type:Z}),q.dataTransfer.effectAllowed="move"},O=(q,re,Z="menu")=>{q.preventDefault(),E&&E.type===Z&&k({index:re,type:Z})},$=()=>{if(E&&T&&E.type===T.type&&E.type==="menu"){const q=[...x],[re]=q.splice(E.index,1);q.splice(T.index,0,re),b(q)}A(null),k(null)},B=(q,re,Z)=>{A({menuIndex:re,submenuIndex:Z,type:"submenu"}),q.dataTransfer.effectAllowed="move"},Q=(q,re,Z)=>{q.preventDefault(),E&&E.type==="submenu"&&E.menuIndex===re&&k({menuIndex:re,submenuIndex:Z,type:"submenu"})},J=()=>{if(E&&T&&E.type==="submenu"&&T.type==="submenu"&&E.menuIndex===T.menuIndex){const q=[...x],re=[...q[E.menuIndex].submenus],[Z]=re.splice(E.submenuIndex,1);re.splice(T.submenuIndex,0,Z),q[E.menuIndex]={...q[E.menuIndex],submenus:re},b(q)}A(null),k(null)};return e?r.jsx("div",{className:"loading-state",children:"..."}):r.jsxs("div",{className:"section-panel",children:[r.jsx("div",{className:"section-panel-header",children:r.jsxs("div",{children:[r.jsx("h2",{children:"  (Header)"}),r.jsx("p",{children:" , ,    "})]})}),i&&r.jsxs("div",{className:`save-status save-status--${i.type}`,children:[i.type==="saving"&&r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),i.type==="success"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),i.type==="error"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),r.jsx("span",{children:i.message}),r.jsx("button",{className:"save-status-close",onClick:()=>a(null),children:""})]}),r.jsxs("div",{className:"admin-tabs",style:{marginBottom:"24px"},children:[r.jsx("button",{className:`admin-tab ${c==="general"?"active":""}`,onClick:()=>d("general"),children:" "}),r.jsx("button",{className:`admin-tab ${c==="siteTitle"?"active":""}`,onClick:()=>d("siteTitle"),children:" "}),r.jsx("button",{className:`admin-tab ${c==="title"?"active":""}`,onClick:()=>d("title"),children:""}),r.jsx("button",{className:`admin-tab ${c==="navigation"?"active":""}`,onClick:()=>d("navigation"),children:""}),r.jsx("button",{className:`admin-tab ${c==="social"?"active":""}`,onClick:()=>d("social"),children:". "})]}),c==="general"&&r.jsxs("div",{className:"admin-card",children:[r.jsx("h3",{children:"  "}),r.jsx("p",{style:{color:"#64748b",fontSize:"13px",marginBottom:"20px"},children:"     .        ."}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:ql.map(q=>{const re=`logo_url_${q.code}`,Z=`logo-upload-${q.code}`,ve=L&&X===re;return r.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"20px",background:"#fafafa"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[r.jsx("img",{src:q.flag,alt:q.label,style:{width:"24px",height:"16px",objectFit:"cover",borderRadius:"3px"}}),r.jsxs("h4",{style:{margin:0,fontSize:"15px",fontWeight:"600"},children:[" (",q.label,")"]})]}),r.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"flex-start"},children:[r.jsx("div",{style:{width:"120px",height:"80px",background:"#1e3a5f",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:h[re]?r.jsx("img",{src:h[re],alt:`Logo ${q.code}`,style:{maxWidth:"100px",maxHeight:"60px",objectFit:"contain"},onError:ae=>{ae.target.style.display="none"}}):r.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"12px"},children:" "})}),r.jsxs("div",{style:{flex:1},children:[r.jsxs("div",{style:{border:"2px dashed #cbd5e1",borderRadius:"8px",padding:"12px",textAlign:"center",marginBottom:"12px",background:"#fff",cursor:ve?"wait":"pointer",transition:"all 0.2s"},onClick:()=>!ve&&document.getElementById(Z).click(),onMouseOver:ae=>{ve||(ae.currentTarget.style.borderColor="#2d5a87")},onMouseOut:ae=>{ae.currentTarget.style.borderColor="#cbd5e1"},children:[r.jsx("input",{id:Z,type:"file",accept:"image/*",onChange:ae=>P(ae,re),style:{display:"none"}}),ve?r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",style:{color:"#2d5a87"},children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),r.jsx("span",{style:{color:"#64748b",fontSize:"13px"},children:"..."})]}):r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"#64748b",strokeWidth:"2",children:r.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"})}),r.jsx("span",{style:{color:"#64748b",fontSize:"13px"},children:" "})]})]}),r.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.jsx("input",{type:"text",value:h[re],onChange:ae=>Y(re,ae.target.value),placeholder:`/assets/images/logo/logo-${q.code}.png`,style:{flex:1,padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"13px"}}),h[re]&&r.jsx("button",{onClick:()=>Y(re,""),style:{padding:"8px 12px",border:"1px solid #ef4444",borderRadius:"6px",background:"transparent",color:"#ef4444",fontSize:"12px",cursor:"pointer"},title:"",children:r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})]})]})]},q.code)})})]}),c==="siteTitle"&&r.jsxs("div",{className:"admin-card",children:[r.jsx("h3",{children:"  "}),r.jsx("p",{style:{color:"#64748b",fontSize:"13px",marginBottom:"20px"},children:",         (favicon).      ."}),r.jsx("div",{className:"lang-tab-buttons",style:{marginBottom:"20px"},children:ql.map(q=>r.jsxs("button",{type:"button",className:`lang-tab-btn ${s===q.code?"active":""}`,onClick:()=>o(q.code),children:[r.jsx("img",{src:q.flag,alt:q.label,style:{width:"16px",height:"12px",objectFit:"cover",borderRadius:"2px"}}),q.label]},q.code))}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:["  (",ql.find(q=>q.code===s)?.label,")"]}),r.jsx("input",{type:"text",value:p[`site_title_${s}`],onChange:q=>W(`site_title_${s}`,q.target.value),placeholder:"Dushanbe Water Conference 2026"}),r.jsx("p",{style:{color:"#94a3b8",fontSize:"12px",marginTop:"6px"},children:" :  60 "})]}),r.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"#f1f5f9",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[r.jsx("p",{style:{fontSize:"12px",color:"#64748b",marginBottom:"10px"},children:"   :"}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"#fff",padding:"8px 12px",borderRadius:"6px",border:"1px solid #e2e8f0",maxWidth:"300px"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"#2d5a87",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})}),r.jsx("span",{style:{fontSize:"13px",color:"#1e293b",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:p[`site_title_${s}`]||" "})]})]})]}),c==="title"&&r.jsxs("div",{className:"admin-card",children:[r.jsx("h3",{children:" "}),r.jsx("p",{style:{color:"#64748b",fontSize:"13px",marginBottom:"20px"},children:"  ,       "}),r.jsx("div",{className:"lang-tab-buttons",style:{marginBottom:"20px"},children:ql.map(q=>r.jsxs("button",{type:"button",className:`lang-tab-btn ${s===q.code?"active":""}`,onClick:()=>o(q.code),children:[r.jsx("img",{src:q.flag,alt:q.label,style:{width:"16px",height:"12px",objectFit:"cover",borderRadius:"2px"}}),q.label]},q.code))}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",ql.find(q=>q.code===s)?.label,")"]}),r.jsx("textarea",{value:h[`title_${s}`],onChange:q=>Y(`title_${s}`,q.target.value),placeholder:"4-  ...",rows:"3",style:{resize:"vertical"}})]}),r.jsxs("div",{style:{marginTop:"24px",padding:"20px",background:"#1e3a5f",borderRadius:"8px",color:"white"},children:[r.jsx("p",{style:{fontSize:"11px",color:"rgba(255,255,255,0.6)",marginBottom:"12px"},children:" :"}),r.jsx("div",{style:{fontSize:"11px",lineHeight:"1.5",fontWeight:"600",textTransform:"uppercase"},children:h[`title_${s}`]})]})]}),c==="navigation"&&r.jsxs("div",{className:"admin-card",children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[r.jsxs("div",{children:[r.jsx("h3",{style:{margin:0},children:" "}),r.jsx("p",{style:{color:"#64748b",fontSize:"13px",margin:"4px 0 0"},children:"    .     ."})]}),r.jsx("div",{className:"lang-tab-buttons",children:ql.map(q=>r.jsxs("button",{type:"button",className:`lang-tab-btn ${s===q.code?"active":""}`,onClick:()=>o(q.code),style:{padding:"6px 12px"},children:[r.jsx("img",{src:q.flag,alt:q.label,style:{width:"16px",height:"12px",objectFit:"cover",borderRadius:"2px"}}),q.code.toUpperCase()]},q.code))})]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:x.map((q,re)=>r.jsxs("div",{draggable:!0,onDragStart:Z=>z(Z,re),onDragOver:Z=>O(Z,re),onDragEnd:$,style:{background:T?.index===re&&T?.type==="menu"?"#e0f2fe":"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"10px",overflow:"hidden",transition:"all 0.2s"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:q.isRegister?"#2d5a87":"#fff",color:q.isRegister?"#fff":"#1e293b",cursor:"grab"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",style:{opacity:.4,flexShrink:0},children:r.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})}),r.jsx("input",{type:"text",value:q[`label_${s}`],onChange:Z=>I(re,`label_${s}`,Z.target.value),style:{flex:1,padding:"8px 12px",border:"1px solid transparent",borderRadius:"6px",background:q.isRegister?"rgba(255,255,255,0.15)":"#f1f5f9",color:q.isRegister?"#fff":"#1e293b",fontWeight:"600",fontSize:"14px"},onFocus:Z=>Z.target.style.borderColor="#2d5a87",onBlur:Z=>Z.target.style.borderColor="transparent"}),r.jsx("input",{type:"text",value:q.path,onChange:Z=>I(re,"path",Z.target.value),placeholder:"URL",style:{width:"140px",padding:"8px 12px",border:"1px solid transparent",borderRadius:"6px",background:q.isRegister?"rgba(255,255,255,0.15)":"#f1f5f9",color:q.isRegister?"#fff":"#64748b",fontSize:"12px",fontFamily:"monospace"}}),q.hasDropdown&&q.submenus.length>0&&r.jsxs("button",{onClick:()=>M(q.id),style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",border:"none",borderRadius:"6px",background:q.isRegister?"rgba(255,255,255,0.2)":"#e2e8f0",color:q.isRegister?"#fff":"#64748b",fontSize:"12px",cursor:"pointer",fontWeight:"500"},children:[r.jsxs("span",{children:[q.submenus.length," "]}),r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",style:{transform:y[q.id]?"rotate(180deg)":"rotate(0)",transition:"transform 0.2s"},children:r.jsx("path",{d:"M7 10l5 5 5-5z"})})]})]}),q.hasDropdown&&y[q.id]&&r.jsx("div",{style:{padding:"12px 16px",background:"#f8fafc",borderTop:"1px solid #e2e8f0"},children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[q.submenus.map((Z,ve)=>r.jsxs("div",{draggable:!0,onDragStart:ae=>B(ae,re,ve),onDragOver:ae=>Q(ae,re,ve),onDragEnd:J,style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 12px",background:T?.menuIndex===re&&T?.submenuIndex===ve?"#dbeafe":"#fff",border:"1px solid #e2e8f0",borderRadius:"8px",marginLeft:"24px",transition:"all 0.2s"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"14",height:"14",fill:"#94a3b8",style:{cursor:"grab",flexShrink:0},children:r.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})}),r.jsx("input",{type:"text",value:Z[`label_${s}`],onChange:ae=>G(re,ve,`label_${s}`,ae.target.value),style:{flex:1,padding:"6px 10px",border:"1px solid transparent",borderRadius:"4px",background:"#f8fafc",fontSize:"13px"},onFocus:ae=>ae.target.style.borderColor="#2d5a87",onBlur:ae=>ae.target.style.borderColor="transparent"}),r.jsx("input",{type:"text",value:Z.path,onChange:ae=>G(re,ve,"path",ae.target.value),placeholder:"URL",style:{width:"140px",padding:"6px 10px",border:"1px solid transparent",borderRadius:"4px",background:"#f8fafc",color:"#64748b",fontSize:"11px",fontFamily:"monospace"}}),r.jsx("button",{onClick:()=>K(re,ve),style:{padding:"6px",border:"none",borderRadius:"4px",background:"transparent",color:"#ef4444",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"",children:r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},Z.id)),r.jsxs("button",{onClick:()=>U(re),style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"10px",marginLeft:"24px",border:"2px dashed #cbd5e1",borderRadius:"8px",background:"transparent",color:"#64748b",fontSize:"13px",cursor:"pointer",transition:"all 0.2s"},onMouseOver:Z=>{Z.currentTarget.style.borderColor="#2d5a87",Z.currentTarget.style.color="#2d5a87"},onMouseOut:Z=>{Z.currentTarget.style.borderColor="#cbd5e1",Z.currentTarget.style.color="#64748b"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})})," "]})]})})]},q.id))})]}),c==="social"&&r.jsxs("div",{className:"admin-card",children:[r.jsx("h3",{children:" "}),r.jsx("p",{style:{color:"#64748b",fontSize:"13px",marginBottom:"20px"},children:"   ,    "}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"#000000",width:"20",height:"20",children:r.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Twitter / X"]}),r.jsx("input",{type:"text",value:h.twitter_url,onChange:q=>Y("twitter_url",q.target.value),placeholder:"https://twitter.com/..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"insta-grad",x1:"0%",y1:"100%",x2:"100%",y2:"0%",children:[r.jsx("stop",{offset:"0%",stopColor:"#FFDC80"}),r.jsx("stop",{offset:"50%",stopColor:"#F77737"}),r.jsx("stop",{offset:"100%",stopColor:"#C13584"})]})}),r.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",fill:"url(#insta-grad)"}),r.jsx("circle",{cx:"12",cy:"12",r:"4",fill:"none",stroke:"white",strokeWidth:"2"}),r.jsx("circle",{cx:"17.5",cy:"6.5",r:"1.5",fill:"white"})]}),"Instagram"]}),r.jsx("input",{type:"text",value:h.instagram_url,onChange:q=>Y("instagram_url",q.target.value),placeholder:"https://instagram.com/..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"#1877F2",width:"20",height:"20",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]}),r.jsx("input",{type:"text",value:h.facebook_url,onChange:q=>Y("facebook_url",q.target.value),placeholder:"https://facebook.com/..."})]})]}),r.jsx("button",{className:"btn-save",onClick:V,children:"  "})]})}const gk="",mo=[{code:"ru",label:"",flag:"https://flagcdn.com/w20/ru.png"},{code:"en",label:"English",flag:"https://flagcdn.com/w20/gb.png"},{code:"tj",label:"",flag:"https://flagcdn.com/w20/tj.png"}],Yle=[{id:"about",path:"/",label_ru:" ",label_en:"About",label_tj:"  "},{id:"program",path:"/program",label_ru:"",label_en:"Program",label_tj:""},{id:"speakers",path:"/#speakers",label_ru:"",label_en:"Speakers",label_tj:""},{id:"news",path:"/news",label_ru:"",label_en:"News",label_tj:""},{id:"contacts",path:"/contacts",label_ru:"",label_en:"Contacts",label_tj:""}],Xle=[{id:"registration",path:"/registration",label_ru:"",label_en:"Registration",label_tj:""},{id:"logistics",path:"/logistics",label_ru:"",label_en:"Logistics",label_tj:""},{id:"excursions",path:"/excursions",label_ru:"",label_en:"Excursions",label_tj:""},{id:"exhibition",path:"/exhibition",label_ru:"",label_en:"Exhibition",label_tj:""},{id:"media",path:"/contacts#media",label_ru:" ",label_en:"Media Accreditation",label_tj:" "}],Kle={logo_url:"/assets/images/logo-compact.png",logo_url_ru:"/assets/images/logo/LOGO_WATER_CONFERENCE_2026_left_ru.png",logo_url_en:"/assets/images/logo/LOGO_WATER_CONFERENCE_2026_left_eng.png",logo_url_tj:"/assets/images/logo/LOGO_WATER_CONFERENCE_2026_left_taj.png",description_ru:"          ",description_en:'High-Level International Conference on the Decade for Action "Water for Sustainable Development"',description_tj:"           ",quick_links_title_ru:"",quick_links_title_en:"Quick Links",quick_links_title_tj:"",participants_title_ru:"",participants_title_en:"For Participants",participants_title_tj:" ",contacts_title_ru:"",contacts_title_en:"Contacts",contacts_title_tj:"",address_ru:", ",address_en:"Dushanbe, Tajikistan",address_tj:", ",phone:"+992 (37) 227-68-43",email:"secretariat@dushanbewaterprocess.org",copyright_ru:" 2026   .   .",copyright_en:" 2026 Dushanbe Water Conference. All rights reserved.",copyright_tj:" 2026   .    .",organizer_ru:"  ",organizer_en:"Government of the Republic of Tajikistan",organizer_tj:"  ",facebook_url:"https://facebook.com",instagram_url:"https://instagram.com",twitter_url:"https://twitter.com"};function Jle(){const{token:t}=dn(),[e,n]=j.useState(!0),[i,a]=j.useState(null),[s,o]=j.useState("ru"),[c,d]=j.useState("general"),[h,f]=j.useState(Kle),[p,m]=j.useState(Yle),[x,b]=j.useState(Xle),[y,_]=j.useState(null),[S,N]=j.useState(null),[E,A]=j.useState(null),T=E!==null;j.useEffect(()=>{R()},[]);const k=async(B,Q={})=>{const J=await fetch(`${gk}${B}`,{...Q,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,...Q.headers}});if(!J.ok)throw new Error(`HTTP ${J.status}`);return J.json()},R=async()=>{try{const B=await k("/api/admin/settings"),Q={};if(B.forEach(J=>{Q[J.setting_key]=J.setting_value}),f(J=>{const q={...J};return Object.keys(J).forEach(re=>{const Z=`footer_${re}`;Q[Z]&&(q[re]=Q[Z])}),q}),Q.footer_quick_links)try{const J=JSON.parse(Q.footer_quick_links);Array.isArray(J)&&J.length>0&&m(J)}catch(J){console.error("Failed to parse quick links:",J)}if(Q.footer_participant_links)try{const J=JSON.parse(Q.footer_participant_links);Array.isArray(J)&&J.length>0&&b(J)}catch(J){console.error("Failed to parse participant links:",J)}}catch(B){console.error("Failed to load settings:",B)}finally{n(!1)}},H=async()=>{a({type:"saving",message:"..."});try{const B=[...Object.entries(h).map(([Q,J])=>({key:`footer_${Q}`,value:J})),{key:"footer_quick_links",value:JSON.stringify(p)},{key:"footer_participant_links",value:JSON.stringify(x)}];await k("/api/admin/settings",{method:"PUT",body:JSON.stringify({settings:B})}),a({type:"success",message:" !"}),setTimeout(()=>a(null),3e3)}catch(B){console.error("Failed to save settings:",B),a({type:"error",message:" : "+B.message}),setTimeout(()=>a(null),5e3)}},V=(B,Q)=>{f(J=>({...J,[B]:Q}))},Y=async(B,Q="logo_url")=>{const J=B.target.files?.[0];if(!J)return;if(!J.type.startsWith("image/")){a({type:"error",message:",  "}),setTimeout(()=>a(null),3e3);return}if(J.size>5*1024*1024){a({type:"error",message:"   (. 5MB)"}),setTimeout(()=>a(null),3e3);return}A(Q);const q=new FormData;q.append("file",J),q.append("folder","logo");try{const re=await fetch(`${gk}/api/admin/upload`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:q});if(!re.ok)throw new Error(`Upload failed: ${re.status}`);const Z=await re.json();f(ve=>({...ve,[Q]:Z.url})),a({type:"success",message:" !"}),setTimeout(()=>a(null),3e3)}catch(re){console.error("Failed to upload logo:",re),a({type:"error",message:" : "+re.message}),setTimeout(()=>a(null),5e3)}finally{A(null),B.target.value=""}},W=(B,Q,J)=>{m(q=>{const re=[...q];return re[B]={...re[B],[Q]:J},re})},X=()=>{m(B=>[...B,{id:`link-${Date.now()}`,path:"#",label_ru:" ",label_en:"New Link",label_tj:" "}])},ee=B=>{window.confirm("  ?")&&m(Q=>Q.filter((J,q)=>q!==B))},L=(B,Q,J)=>{b(q=>{const re=[...q];return re[B]={...re[B],[Q]:J},re})},P=()=>{b(B=>[...B,{id:`link-${Date.now()}`,path:"#",label_ru:" ",label_en:"New Link",label_tj:" "}])},M=B=>{window.confirm("  ?")&&b(Q=>Q.filter((J,q)=>q!==B))},I=(B,Q)=>{_({index:Q,type:"quick"}),B.dataTransfer.effectAllowed="move"},G=(B,Q)=>{B.preventDefault(),y?.type==="quick"&&N({index:Q,type:"quick"})},U=()=>{if(y?.type==="quick"&&S?.type==="quick"){const B=[...p],[Q]=B.splice(y.index,1);B.splice(S.index,0,Q),m(B)}_(null),N(null)},K=(B,Q)=>{_({index:Q,type:"participant"}),B.dataTransfer.effectAllowed="move"},z=(B,Q)=>{B.preventDefault(),y?.type==="participant"&&N({index:Q,type:"participant"})},O=()=>{if(y?.type==="participant"&&S?.type==="participant"){const B=[...x],[Q]=B.splice(y.index,1);B.splice(S.index,0,Q),b(B)}_(null),N(null)};if(e)return r.jsx("div",{className:"loading-state",children:"..."});const $=(B,Q,J)=>r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[B.map((q,re)=>r.jsxs("div",{draggable:!0,onDragStart:Z=>J.dragStart(Z,re),onDragOver:Z=>J.dragOver(Z,re),onDragEnd:J.dragEnd,style:{display:"flex",alignItems:"center",gap:"10px",padding:"12px",background:S?.index===re&&S?.type===Q?"#e0f2fe":"#fff",border:"1px solid #e2e8f0",borderRadius:"8px",transition:"all 0.2s",cursor:"grab"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"#94a3b8",style:{flexShrink:0},children:r.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})}),r.jsx("input",{type:"text",value:q[`label_${s}`],onChange:Z=>J.change(re,`label_${s}`,Z.target.value),style:{flex:1,padding:"8px 10px",border:"1px solid transparent",borderRadius:"6px",background:"#f8fafc",fontSize:"13px",fontWeight:"500"},onFocus:Z=>Z.target.style.borderColor="#2d5a87",onBlur:Z=>Z.target.style.borderColor="transparent"}),r.jsx("input",{type:"text",value:q.path,onChange:Z=>J.change(re,"path",Z.target.value),placeholder:"URL",style:{width:"140px",padding:"8px 10px",border:"1px solid transparent",borderRadius:"6px",background:"#f8fafc",color:"#64748b",fontSize:"12px",fontFamily:"monospace"}}),r.jsx("button",{onClick:()=>J.delete(re),style:{padding:"6px",border:"none",borderRadius:"4px",background:"transparent",color:"#ef4444",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"",children:r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},q.id)),r.jsxs("button",{onClick:J.add,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"12px",border:"2px dashed #cbd5e1",borderRadius:"8px",background:"transparent",color:"#64748b",fontSize:"13px",cursor:"pointer",transition:"all 0.2s"},onMouseOver:q=>{q.currentTarget.style.borderColor="#2d5a87",q.currentTarget.style.color="#2d5a87"},onMouseOut:q=>{q.currentTarget.style.borderColor="#cbd5e1",q.currentTarget.style.color="#64748b"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})})," "]})]});return r.jsxs("div",{className:"section-panel",children:[r.jsx("div",{className:"section-panel-header",children:r.jsxs("div",{children:[r.jsx("h2",{children:"  (Footer)"}),r.jsx("p",{children:" ,     "})]})}),i&&r.jsxs("div",{className:`save-status save-status--${i.type}`,children:[i.type==="saving"&&r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),i.type==="success"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),i.type==="error"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),r.jsx("span",{children:i.message}),r.jsx("button",{className:"save-status-close",onClick:()=>a(null),children:""})]}),r.jsxs("div",{className:"admin-tabs",style:{marginBottom:"24px"},children:[r.jsx("button",{className:`admin-tab ${c==="general"?"active":""}`,onClick:()=>d("general"),children:" "}),r.jsx("button",{className:`admin-tab ${c==="links"?"active":""}`,onClick:()=>d("links"),children:" "}),r.jsx("button",{className:`admin-tab ${c==="contacts"?"active":""}`,onClick:()=>d("contacts"),children:""}),r.jsx("button",{className:`admin-tab ${c==="bottom"?"active":""}`,onClick:()=>d("bottom"),children:" "})]}),c==="general"&&r.jsxs("div",{className:"admin-card",children:[r.jsx("h3",{children:"  "}),r.jsx("p",{style:{color:"#64748b",fontSize:"13px",marginBottom:"20px"},children:"     .        ."}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px",marginBottom:"24px"},children:mo.map(B=>{const Q=`logo_url_${B.code}`,J=`footer-logo-upload-${B.code}`,q=T&&E===Q;return r.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"20px",background:"#fafafa"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[r.jsx("img",{src:B.flag,alt:B.label,style:{width:"24px",height:"16px",objectFit:"cover",borderRadius:"3px"}}),r.jsxs("h4",{style:{margin:0,fontSize:"15px",fontWeight:"600"},children:[" (",B.label,")"]})]}),r.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"flex-start"},children:[r.jsx("div",{style:{width:"120px",height:"80px",background:"#1e3a5f",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:h[Q]?r.jsx("img",{src:h[Q],alt:`Logo ${B.code}`,style:{maxWidth:"100px",maxHeight:"60px",objectFit:"contain"},onError:re=>{re.target.style.display="none"}}):r.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"12px"},children:" "})}),r.jsxs("div",{style:{flex:1},children:[r.jsxs("div",{style:{border:"2px dashed #cbd5e1",borderRadius:"8px",padding:"12px",textAlign:"center",marginBottom:"12px",background:"#fff",cursor:q?"wait":"pointer",transition:"all 0.2s"},onClick:()=>!q&&document.getElementById(J).click(),onMouseOver:re=>{q||(re.currentTarget.style.borderColor="#2d5a87")},onMouseOut:re=>{re.currentTarget.style.borderColor="#cbd5e1"},children:[r.jsx("input",{id:J,type:"file",accept:"image/*",onChange:re=>Y(re,Q),style:{display:"none"}}),q?r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",style:{color:"#2d5a87"},children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),r.jsx("span",{style:{color:"#64748b",fontSize:"13px"},children:"..."})]}):r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"#64748b",strokeWidth:"2",children:r.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"})}),r.jsx("span",{style:{color:"#64748b",fontSize:"13px"},children:" "})]})]}),r.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.jsx("input",{type:"text",value:h[Q],onChange:re=>V(Q,re.target.value),placeholder:`/assets/images/logo/logo-${B.code}.png`,style:{flex:1,padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"13px"}}),h[Q]&&r.jsx("button",{onClick:()=>V(Q,""),style:{padding:"8px 12px",border:"1px solid #ef4444",borderRadius:"6px",background:"transparent",color:"#ef4444",fontSize:"12px",cursor:"pointer"},title:"",children:r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})]})]})]},B.code)})}),r.jsx("h4",{style:{marginTop:"24px",marginBottom:"16px"},children:" "}),r.jsx("div",{className:"lang-tab-buttons",style:{marginBottom:"16px"},children:mo.map(B=>r.jsxs("button",{type:"button",className:`lang-tab-btn ${s===B.code?"active":""}`,onClick:()=>o(B.code),children:[r.jsx("img",{src:B.flag,alt:B.label,style:{width:"16px",height:"12px",objectFit:"cover",borderRadius:"2px"}}),B.label]},B.code))}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",mo.find(B=>B.code===s)?.label,")"]}),r.jsx("textarea",{value:h[`description_${s}`],onChange:B=>V(`description_${s}`,B.target.value),rows:"3",placeholder:" ..."})]}),r.jsx("h4",{style:{marginTop:"24px",marginBottom:"16px"},children:" "}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Facebook"}),r.jsx("input",{type:"text",value:h.facebook_url,onChange:B=>V("facebook_url",B.target.value),placeholder:"https://facebook.com/..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Instagram"}),r.jsx("input",{type:"text",value:h.instagram_url,onChange:B=>V("instagram_url",B.target.value),placeholder:"https://instagram.com/..."})]})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Twitter / X"}),r.jsx("input",{type:"text",value:h.twitter_url,onChange:B=>V("twitter_url",B.target.value),placeholder:"https://twitter.com/..."})]})})]}),c==="links"&&r.jsxs("div",{className:"admin-card",children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[r.jsxs("div",{children:[r.jsx("h3",{style:{margin:0},children:" "}),r.jsx("p",{style:{color:"#64748b",fontSize:"13px",margin:"4px 0 0"},children:"    .   ."})]}),r.jsx("div",{className:"lang-tab-buttons",children:mo.map(B=>r.jsxs("button",{type:"button",className:`lang-tab-btn ${s===B.code?"active":""}`,onClick:()=>o(B.code),style:{padding:"6px 12px"},children:[r.jsx("img",{src:B.flag,alt:B.label,style:{width:"16px",height:"12px",objectFit:"cover",borderRadius:"2px"}}),B.code.toUpperCase()]},B.code))})]}),r.jsxs("div",{style:{marginBottom:"32px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[r.jsx("div",{style:{width:"4px",height:"24px",background:"#2d5a87",borderRadius:"2px"}}),r.jsx("div",{style:{flex:1},children:r.jsx("input",{type:"text",value:h[`quick_links_title_${s}`],onChange:B=>V(`quick_links_title_${s}`,B.target.value),placeholder:"",style:{fontSize:"16px",fontWeight:"600",color:"#1e293b",border:"none",background:"transparent",padding:"4px 0",width:"100%"}})}),r.jsxs("span",{style:{background:"#e0f2fe",color:"#0369a1",padding:"4px 10px",borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:[p.length," "]})]}),$(p,"quick",{dragStart:I,dragOver:G,dragEnd:U,change:W,delete:ee,add:X})]}),r.jsxs("div",{children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[r.jsx("div",{style:{width:"4px",height:"24px",background:"#059669",borderRadius:"2px"}}),r.jsx("div",{style:{flex:1},children:r.jsx("input",{type:"text",value:h[`participants_title_${s}`],onChange:B=>V(`participants_title_${s}`,B.target.value),placeholder:"",style:{fontSize:"16px",fontWeight:"600",color:"#1e293b",border:"none",background:"transparent",padding:"4px 0",width:"100%"}})}),r.jsxs("span",{style:{background:"#d1fae5",color:"#047857",padding:"4px 10px",borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:[x.length," "]})]}),$(x,"participant",{dragStart:K,dragOver:z,dragEnd:O,change:L,delete:M,add:P})]})]}),c==="contacts"&&r.jsxs("div",{className:"admin-card",children:[r.jsx("h3",{children:" "}),r.jsx("div",{className:"lang-tab-buttons",style:{marginBottom:"20px"},children:mo.map(B=>r.jsxs("button",{type:"button",className:`lang-tab-btn ${s===B.code?"active":""}`,onClick:()=>o(B.code),children:[r.jsx("img",{src:B.flag,alt:B.label,style:{width:"16px",height:"12px",objectFit:"cover",borderRadius:"2px"}}),B.label]},B.code))}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"  "}),r.jsx("input",{type:"text",value:h[`contacts_title_${s}`],onChange:B=>V(`contacts_title_${s}`,B.target.value),placeholder:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",style:{verticalAlign:"middle",marginRight:"8px"},children:[r.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]})," (",mo.find(B=>B.code===s)?.label,")"]}),r.jsx("input",{type:"text",value:h[`address_${s}`],onChange:B=>V(`address_${s}`,B.target.value),placeholder:", "})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",style:{verticalAlign:"middle",marginRight:"8px"},children:r.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),""]}),r.jsx("input",{type:"text",value:h.phone,onChange:B=>V("phone",B.target.value),placeholder:"+992 (37) 227-68-43"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",style:{verticalAlign:"middle",marginRight:"8px"},children:[r.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),r.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Email"]}),r.jsx("input",{type:"email",value:h.email,onChange:B=>V("email",B.target.value),placeholder:"secretariat@dushanbewaterprocess.org"})]}),r.jsxs("div",{style:{marginTop:"24px",padding:"20px",background:"#1e293b",borderRadius:"8px",color:"white"},children:[r.jsx("p",{style:{fontSize:"11px",color:"rgba(255,255,255,0.6)",marginBottom:"12px"},children:" :"}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",fontSize:"13px"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14",children:[r.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),h[`address_${s}`]]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14",children:r.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),h.phone]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14",children:[r.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),r.jsx("polyline",{points:"22,6 12,13 2,6"})]}),r.jsx("span",{style:{color:"#60a5fa"},children:h.email})]})]})]})]}),c==="bottom"&&r.jsxs("div",{className:"admin-card",children:[r.jsx("h3",{children:"  "}),r.jsx("div",{className:"lang-tab-buttons",style:{marginBottom:"20px"},children:mo.map(B=>r.jsxs("button",{type:"button",className:`lang-tab-btn ${s===B.code?"active":""}`,onClick:()=>o(B.code),children:[r.jsx("img",{src:B.flag,alt:B.label,style:{width:"16px",height:"12px",objectFit:"cover",borderRadius:"2px"}}),B.label]},B.code))}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:h[`copyright_${s}`],onChange:B=>V(`copyright_${s}`,B.target.value),placeholder:" 2026   .   ."})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:h[`organizer_${s}`],onChange:B=>V(`organizer_${s}`,B.target.value),placeholder:"  "})]}),r.jsxs("div",{style:{marginTop:"24px",padding:"20px",background:"#0f172a",borderRadius:"8px",color:"white"},children:[r.jsx("p",{style:{fontSize:"11px",color:"rgba(255,255,255,0.6)",marginBottom:"12px"},children:"  :"}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"12px",color:"rgba(255,255,255,0.7)"},children:[r.jsx("span",{children:h[`copyright_${s}`]}),r.jsx("span",{children:h[`organizer_${s}`]})]})]})]}),r.jsx("button",{className:"btn-save",onClick:H,children:"  "})]})}const Zle="";function gy({value:t,onChange:e,placeholder:n}){const i=j.useRef(null);j.useEffect(()=>{i.current&&i.current.innerHTML!==t&&(i.current.innerHTML=t||"")},[t]);const a=(c,d=null)=>{i.current&&(i.current.focus(),document.execCommand(c,!1,d))},s=c=>{e(c.currentTarget.innerHTML)},o=c=>{c.preventDefault();let d=c.clipboardData.getData("text/plain");d=d.replace(/\r\n/g,`
`).replace(/\n{3,}/g,`

`).replace(/[ \t]+/g," ").trim(),document.execCommand("insertText",!1,d)};return r.jsxs("div",{className:"bio-editor-wrapper",children:[r.jsxs("div",{className:"bio-toolbar",children:[r.jsx("button",{type:"button",onClick:()=>a("bold"),title:"",children:r.jsx("b",{children:"B"})}),r.jsx("button",{type:"button",onClick:()=>a("italic"),title:"",children:r.jsx("i",{children:"I"})}),r.jsx("button",{type:"button",onClick:()=>a("underline"),title:"",children:r.jsx("u",{children:"U"})}),r.jsx("span",{className:"toolbar-divider"}),r.jsx("button",{type:"button",onClick:()=>a("formatBlock","<p>"),title:"",children:"P"}),r.jsx("button",{type:"button",onClick:()=>a("insertUnorderedList"),title:"",children:" List"}),r.jsx("span",{className:"toolbar-divider"}),r.jsx("button",{type:"button",onClick:()=>{const c=prompt("URL :");c&&a("createLink",c)},title:"",children:"Link"}),r.jsx("button",{type:"button",onClick:()=>a("removeFormat"),title:" ",children:"Clear"})]}),r.jsx("div",{ref:i,className:"bio-editor-content",contentEditable:!0,onInput:s,onPaste:o,"data-placeholder":n,suppressContentEditableWarning:!0})]})}function Qle(){const{id:t}=Xo(),e=sa(),{token:n}=dn(),[i,a]=j.useState(!0),[s,o]=j.useState(!1),[c,d]=j.useState(null),[h,f]=j.useState(null),[p,m]=j.useState({bio_ru:"",bio_en:"",bio_tj:"",organization_ru:"",organization_en:"",organization_tj:"",country_ru:"",country_en:"",country_tj:"",email:"",expertise:"",achievements:"",publications:"",session_title_ru:"",session_title_en:"",session_title_tj:"",session_time_ru:"",session_time_en:"",session_time_tj:"",session_description_ru:"",session_description_en:"",session_description_tj:"",clickable:1}),x=async(_,S={})=>{const N=await fetch(`${Zle}${_}`,{...S,headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,...S.headers}});if(!N.ok)throw new Error(`HTTP ${N.status}`);return N.json()};j.useEffect(()=>{b()},[t]);const b=async(_=!0)=>{_&&a(!0);try{const S=await x(`/api/admin/speakers/${t}`);console.log("Loaded speaker, clickable from DB:",S.clickable),f(S),m({bio_ru:S.bio_ru||"",bio_en:S.bio_en||"",bio_tj:S.bio_tj||"",organization_ru:S.organization_ru||"",organization_en:S.organization_en||"",organization_tj:S.organization_tj||"",country_ru:S.country_ru||"",country_en:S.country_en||"",country_tj:S.country_tj||"",email:S.email||"",expertise:S.expertise||"",achievements:S.achievements||"",publications:S.publications||"",session_title_ru:S.session_title_ru||"",session_title_en:S.session_title_en||"",session_title_tj:S.session_title_tj||"",session_time_ru:S.session_time_ru||"",session_time_en:S.session_time_en||"",session_time_tj:S.session_time_tj||"",session_description_ru:S.session_description_ru||"",session_description_en:S.session_description_en||"",session_description_tj:S.session_description_tj||"",clickable:S.clickable!=null?Number(S.clickable):1})}catch(S){console.error("Failed to load speaker:",S)}finally{_&&a(!1)}},y=async()=>{o(!0),d({type:"saving",message:"..."});try{const _=h,S=p,N={name_ru:_.name_ru,name_en:_.name_en,name_tj:_.name_tj,title_ru:_.title_ru,title_en:_.title_en,title_tj:_.title_tj,bio_ru:S.bio_ru||null,bio_en:S.bio_en||null,bio_tj:S.bio_tj||null,organization_ru:S.organization_ru||null,organization_en:S.organization_en||null,organization_tj:S.organization_tj||null,country_ru:S.country_ru||null,country_en:S.country_en||null,country_tj:S.country_tj||null,email:S.email||null,expertise:S.expertise||null,achievements:S.achievements||null,publications:S.publications||null,session_title_ru:S.session_title_ru||null,session_title_en:S.session_title_en||null,session_title_tj:S.session_title_tj||null,session_time_ru:S.session_time_ru||null,session_time_en:S.session_time_en||null,session_time_tj:S.session_time_tj||null,session_description_ru:S.session_description_ru||null,session_description_en:S.session_description_en||null,session_description_tj:S.session_description_tj||null,image:_.image,image_source:_.image_source||null,image_position:_.image_position||null,flag_url:_.flag_url||null,flag_alt_ru:_.flag_alt_ru||null,flag_alt_en:_.flag_alt_en||null,flag_alt_tj:_.flag_alt_tj||null,sort_order:_.sort_order,clickable:S.clickable};console.log("Saving speaker with clickable:",S.clickable,"payload clickable:",N.clickable),await x(`/api/admin/speakers/${t}`,{method:"PUT",body:JSON.stringify(N)}),d({type:"success",message:" !"}),await b(!1),setTimeout(()=>d(null),3e3)}catch(_){console.error("Failed to save speaker:",_),d({type:"error",message:" : "+_.message}),setTimeout(()=>d(null),5e3)}finally{o(!1)}};return i?r.jsx("div",{className:"section-panel",children:r.jsx("div",{className:"loading-state",children:"..."})}):h?r.jsxs("div",{className:"section-panel",children:[r.jsxs("div",{className:"section-panel-header",children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[r.jsxs("button",{className:"btn-secondary",onClick:()=>e("/admin/home/speakers"),style:{padding:"8px 12px",display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),""]}),r.jsxs("div",{children:[r.jsx("h2",{children:h.name_ru||h.name_en}),r.jsx("p",{children:"   "})]})]}),r.jsx("button",{className:"btn-primary",onClick:y,disabled:s,children:s?"...":""})]}),c&&r.jsxs("div",{className:`save-status save-status--${c.type}`,style:{marginBottom:"20px"},children:[c.type==="saving"&&r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),c.type==="success"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),c.type==="error"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),r.jsx("span",{children:c.message}),r.jsx("button",{className:"save-status-close",onClick:()=>d(null),children:r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsx("div",{className:"form-section",style:{background:"#fafafa",border:"1px solid #e8e8e8",borderRadius:"8px",padding:"16px 20px"},children:r.jsxs("div",{className:"form-group",style:{margin:0},children:[r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:[r.jsx("input",{type:"checkbox",checked:!!p.clickable,onChange:_=>m({...p,clickable:_.target.checked?1:0}),style:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#1890ff"}}),"    "]}),r.jsx("p",{style:{fontSize:"12px",color:"#8c8c8c",marginTop:"4px",marginLeft:"28px"},children:" ,     "})]})}),r.jsxs("div",{className:"form-section",children:[r.jsx("h4",{children:" "}),r.jsxs("div",{className:"lang-inputs-grid",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-flag"}),""]}),r.jsx("input",{type:"text",value:p.session_title_ru,onChange:_=>m({...p,session_title_ru:_.target.value}),placeholder:" "})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-flag"}),"English"]}),r.jsx("input",{type:"text",value:p.session_title_en,onChange:_=>m({...p,session_title_en:_.target.value}),placeholder:"Welcome Messages"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-flag"}),""]}),r.jsx("input",{type:"text",value:p.session_title_tj,onChange:_=>m({...p,session_title_tj:_.target.value}),placeholder:"  "})]})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h4",{children:""}),r.jsxs("div",{className:"lang-inputs-grid bio-editors-grid",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-flag"}),""]}),r.jsx(gy,{value:p.bio_ru,onChange:_=>m({...p,bio_ru:_}),placeholder:" ..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-flag"}),"English"]}),r.jsx(gy,{value:p.bio_en,onChange:_=>m({...p,bio_en:_}),placeholder:"Enter biography..."})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-flag"}),""]}),r.jsx(gy,{value:p.bio_tj,onChange:_=>m({...p,bio_tj:_}),placeholder:"   ..."})]})]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"24px",paddingBottom:"24px"},children:[r.jsx("button",{className:"btn-secondary",onClick:()=>e("/admin/home/speakers"),children:""}),r.jsx("button",{className:"btn-primary",onClick:y,disabled:s,children:s?"...":""})]})]}):r.jsxs("div",{className:"section-panel",children:[r.jsx("p",{children:"  "}),r.jsx("button",{className:"btn-secondary",onClick:()=>e("/admin/home/speakers"),children:""})]})}var Tr=function(e){var n=e.top,i=e.right,a=e.bottom,s=e.left,o=i-s,c=a-n,d={top:n,right:i,bottom:a,left:s,width:o,height:c,x:s,y:n,center:{x:(i+s)/2,y:(a+n)/2}};return d},gj=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},mk=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},ece=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},my={top:0,right:0,bottom:0,left:0},mj=function(e){var n=e.borderBox,i=e.margin,a=i===void 0?my:i,s=e.border,o=s===void 0?my:s,c=e.padding,d=c===void 0?my:c,h=Tr(gj(n,a)),f=Tr(mk(n,o)),p=Tr(mk(f,d));return{marginBox:h,borderBox:Tr(n),paddingBox:f,contentBox:p,margin:a,border:o,padding:d}},lr=function(e){var n=e.slice(0,-2),i=e.slice(-2);if(i!=="px")return 0;var a=Number(n);return isNaN(a)&&pt(!1),a},tce=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Mg=function(e,n){var i=e.borderBox,a=e.border,s=e.margin,o=e.padding,c=ece(i,n);return mj({borderBox:c,border:a,margin:s,padding:o})},Pg=function(e,n){return n===void 0&&(n=tce()),Mg(e,n)},HR=function(e,n){var i={top:lr(n.marginTop),right:lr(n.marginRight),bottom:lr(n.marginBottom),left:lr(n.marginLeft)},a={top:lr(n.paddingTop),right:lr(n.paddingRight),bottom:lr(n.paddingBottom),left:lr(n.paddingLeft)},s={top:lr(n.borderTopWidth),right:lr(n.borderRightWidth),bottom:lr(n.borderBottomWidth),left:lr(n.borderLeftWidth)};return mj({borderBox:e,margin:i,padding:a,border:s})},UR=function(e){var n=e.getBoundingClientRect(),i=window.getComputedStyle(e);return HR(n,i)},Ld=function(e){var n=[],i=null,a=function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];n=c,!i&&(i=requestAnimationFrame(function(){i=null,e.apply(void 0,n)}))};return a.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},a};function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rg.apply(null,arguments)}function VR(t,e){}VR.bind(null,"warn");VR.bind(null,"error");function Bs(){}function nce(t,e){return{...t,...e}}function hr(t,e,n){const i=e.map(a=>{const s=nce(n,a.options);return t.addEventListener(a.eventName,a.fn,s),function(){t.removeEventListener(a.eventName,a.fn,s)}});return function(){i.forEach(s=>{s()})}}const ice="Invariant failed";class Lg extends Error{}Lg.prototype.toString=function(){return this.message};function xe(t,e){throw new Lg(ice)}class rce extends Ft.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Bs,this.onWindowError=n=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),n.error instanceof Lg&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=hr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof Lg){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const ace=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ig=t=>t+1,sce=t=>`
  You have lifted an item in position ${Ig(t.source.index)}
`,qR=(t,e)=>{const n=t.droppableId===e.droppableId,i=Ig(t.index),a=Ig(e.index);return n?`
      You have moved the item from position ${i}
      to position ${a}
    `:`
    You have moved the item from position ${i}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${a}
  `},GR=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,oce=t=>{const e=t.destination;if(e)return qR(t.source,e);const n=t.combine;return n?GR(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},vk=t=>`
  The item has returned to its starting position
  of ${Ig(t.index)}
`,lce=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${vk(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${qR(t.source,e)}
    `:n?`
      You have dropped the item.
      ${GR(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${vk(t.source)}
  `},kp={dragHandleUsageInstructions:ace,onDragStart:sce,onDragUpdate:oce,onDragEnd:lce};function cce(t,e){return!!(t===e||Number.isNaN(t)&&Number.isNaN(e))}function WR(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!cce(t[n],e[n]))return!1;return!0}function nt(t,e){const n=j.useState(()=>({inputs:e,result:t()}))[0],i=j.useRef(!0),a=j.useRef(n),o=i.current||!!(e&&a.current.inputs&&WR(e,a.current.inputs))?a.current:{inputs:e,result:t()};return j.useEffect(()=>{i.current=!1,a.current=o},[o]),o.result}function ke(t,e){return nt(()=>t,e)}const Cn={x:0,y:0},Fn=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Li=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),zs=(t,e)=>t.x===e.x&&t.y===e.y,Ic=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Yo=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},Id=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),xk=(t,e)=>Math.min(...e.map(n=>Id(t,n))),YR=t=>e=>({x:t(e.x),y:t(e.y)});var uce=(t,e)=>{const n=Tr({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const bh=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),yk=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],dce={top:0,right:0,bottom:0,left:0},hce=(t,e)=>e?bh(t,e.scroll.diff.displacement):t,fce=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,pce=(t,e)=>e&&e.shouldClipSubject?uce(e.pageMarginBox,t):Tr(t);var xc=({page:t,withPlaceholder:e,axis:n,frame:i})=>{const a=hce(t.marginBox,i),s=fce(a,n,e),o=pce(s,i);return{page:t,withPlaceholder:e,active:o}},vj=(t,e)=>{t.frame||xe();const n=t.frame,i=Li(e,n.scroll.initial),a=Ic(i),s={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:i,displacement:a},max:n.scroll.max}},o=xc({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s});return{...t,frame:s,subject:o}};function Sn(t,e=WR){let n=null;function i(...a){if(n&&n.lastThis===this&&e(a,n.lastArgs))return n.lastResult;const s=t.apply(this,a);return n={lastResult:s,lastArgs:a,lastThis:this},s}return i.clear=function(){n=null},i}const XR=Sn(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),KR=Sn(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),Gm=Sn(t=>Object.values(t)),gce=Sn(t=>Object.values(t));var Bc=Sn((t,e)=>gce(e).filter(i=>t===i.descriptor.droppableId).sort((i,a)=>i.descriptor.index-a.descriptor.index));function xj(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Wm(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Ym=Sn((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),mce=({isMovingForward:t,draggable:e,destination:n,insideDestination:i,previousImpact:a})=>{if(!n.isCombineEnabled||!xj(a))return null;function o(x){const b={type:"COMBINE",combine:{draggableId:x,droppableId:n.descriptor.id}};return{...a,at:b}}const c=a.displaced.all,d=c.length?c[0]:null;if(t)return d?o(d):null;const h=Ym(e,i);if(!d){if(!h.length)return null;const x=h[h.length-1];return o(x.descriptor.id)}const f=h.findIndex(x=>x.descriptor.id===d);f===-1&&xe();const p=f-1;if(p<0)return null;const m=h[p];return o(m.descriptor.id)},zc=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const JR={point:Cn,value:0},Bd={invisible:{},visible:{},all:[]},vce={displaced:Bd,displacedBy:JR,at:null};var fr=(t,e)=>n=>t<=n&&n<=e,ZR=t=>{const e=fr(t.top,t.bottom),n=fr(t.left,t.right);return i=>{if(e(i.top)&&e(i.bottom)&&n(i.left)&&n(i.right))return!0;const s=e(i.top)||e(i.bottom),o=n(i.left)||n(i.right);if(s&&o)return!0;const d=i.top<t.top&&i.bottom>t.bottom,h=i.left<t.left&&i.right>t.right;return d&&h?!0:d&&o||h&&s}},xce=t=>{const e=fr(t.top,t.bottom),n=fr(t.left,t.right);return i=>e(i.top)&&e(i.bottom)&&n(i.left)&&n(i.right)};const yj={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},QR={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var yce=t=>e=>{const n=fr(e.top,e.bottom),i=fr(e.left,e.right);return a=>t===yj?n(a.top)&&n(a.bottom):i(a.left)&&i(a.right)};const bce=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:Cn;return bh(t,n)},_ce=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,jce=(t,e,n)=>n(e)(t),bj=({target:t,destination:e,viewport:n,withDroppableDisplacement:i,isVisibleThroughFrameFn:a})=>{const s=i?bce(t,e):t;return _ce(s,e,a)&&jce(s,n,a)},wce=t=>bj({...t,isVisibleThroughFrameFn:ZR}),eL=t=>bj({...t,isVisibleThroughFrameFn:xce}),Sce=t=>bj({...t,isVisibleThroughFrameFn:yce(t.destination.axis)}),Cce=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:i,visible:a}=e;if(i[t])return!1;const s=a[t];return s?s.shouldAnimate:!0};function Ace(t,e){const n=t.page.marginBox,i={top:e.point.y,right:0,bottom:0,left:e.point.x};return Tr(gj(n,i))}function zd({afterDragging:t,destination:e,displacedBy:n,viewport:i,forceShouldAnimate:a,last:s}){return t.reduce(function(c,d){const h=Ace(d,n),f=d.descriptor.id;if(c.all.push(f),!wce({target:h,destination:e,viewport:i,withDroppableDisplacement:!0}))return c.invisible[d.descriptor.id]=!0,c;const m=Cce(f,s,a),x={draggableId:f,shouldAnimate:m};return c.visible[f]=x,c},{all:[],visible:{},invisible:{}})}function Nce(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function bk({insideDestination:t,inHomeList:e,displacedBy:n,destination:i}){const a=Nce(t,{inHomeList:e});return{displaced:Bd,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function Bg({draggable:t,insideDestination:e,destination:n,viewport:i,displacedBy:a,last:s,index:o,forceShouldAnimate:c}){const d=zc(t,n);if(o==null)return bk({insideDestination:e,inHomeList:d,displacedBy:a,destination:n});const h=e.find(b=>b.descriptor.index===o);if(!h)return bk({insideDestination:e,inHomeList:d,displacedBy:a,destination:n});const f=Ym(t,e),p=e.indexOf(h),m=f.slice(p);return{displaced:zd({afterDragging:m,destination:n,displacedBy:a,last:s,viewport:i.frame,forceShouldAnimate:c}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Vs(t,e){return!!e.effected[t]}var Ece=({isMovingForward:t,destination:e,draggables:n,combine:i,afterCritical:a})=>{if(!e.isCombineEnabled)return null;const s=i.draggableId,c=n[s].descriptor.index;return Vs(s,a)?t?c:c-1:t?c+1:c},Tce=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:i})=>{if(!n.length)return null;const a=i.index,s=t?a+1:a-1,o=n[0].descriptor.index,c=n[n.length-1].descriptor.index,d=e?c:c+1;return s<o||s>d?null:s},kce=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:i,destination:a,insideDestination:s,previousImpact:o,viewport:c,afterCritical:d})=>{const h=o.at;if(h||xe(),h.type==="REORDER"){const p=Tce({isMovingForward:t,isInHomeList:e,location:h.destination,insideDestination:s});return p==null?null:Bg({draggable:n,insideDestination:s,destination:a,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:p})}const f=Ece({isMovingForward:t,destination:a,displaced:o.displaced,draggables:i,combine:h.combine,afterCritical:d});return f==null?null:Bg({draggable:n,insideDestination:s,destination:a,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:f})},Dce=({displaced:t,afterCritical:e,combineWith:n,displacedBy:i})=>{const a=!!(t.visible[n]||t.invisible[n]);return Vs(n,e)?a?Cn:Ic(i.point):a?i.point:Cn},Oce=({afterCritical:t,impact:e,draggables:n})=>{const i=Wm(e);i||xe();const a=i.draggableId,s=n[a].page.borderBox.center,o=Dce({displaced:e.displaced,afterCritical:t,combineWith:a,displacedBy:e.displacedBy});return Fn(s,o)};const tL=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,Mce=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,_j=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,_k=({axis:t,moveRelativeTo:e,isMoving:n})=>Yo(t.line,e.marginBox[t.end]+tL(t,n),_j(t,e.marginBox,n)),jk=({axis:t,moveRelativeTo:e,isMoving:n})=>Yo(t.line,e.marginBox[t.start]-Mce(t,n),_j(t,e.marginBox,n)),Pce=({axis:t,moveInto:e,isMoving:n})=>Yo(t.line,e.contentBox[t.start]+tL(t,n),_j(t,e.contentBox,n));var Rce=({impact:t,draggable:e,draggables:n,droppable:i,afterCritical:a})=>{const s=Bc(i.descriptor.id,n),o=e.page,c=i.axis;if(!s.length)return Pce({axis:c,moveInto:i.page,isMoving:o});const{displaced:d,displacedBy:h}=t,f=d.all[0];if(f){const m=n[f];if(Vs(f,a))return jk({axis:c,moveRelativeTo:m.page,isMoving:o});const x=Mg(m.page,h.point);return jk({axis:c,moveRelativeTo:x,isMoving:o})}const p=s[s.length-1];if(p.descriptor.id===e.descriptor.id)return o.borderBox.center;if(Vs(p.descriptor.id,a)){const m=Mg(p.page,Ic(a.displacedBy.point));return _k({axis:c,moveRelativeTo:m,isMoving:o})}return _k({axis:c,moveRelativeTo:p.page,isMoving:o})},Yb=(t,e)=>{const n=t.frame;return n?Fn(e,n.scroll.diff.displacement):e};const Lce=({impact:t,draggable:e,droppable:n,draggables:i,afterCritical:a})=>{const s=e.page.borderBox.center,o=t.at;return!n||!o?s:o.type==="REORDER"?Rce({impact:t,draggable:e,draggables:i,droppable:n,afterCritical:a}):Oce({impact:t,draggables:i,afterCritical:a})};var Xm=t=>{const e=Lce(t),n=t.droppable;return n?Yb(n,e):e},nL=(t,e)=>{const n=Li(e,t.scroll.initial),i=Ic(n);return{frame:Tr({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:i}}}};function wk(t,e){return t.map(n=>e[n])}function Ice(t,e){for(let n=0;n<e.length;n++){const i=e[n].visible[t];if(i)return i}return null}var Bce=({impact:t,viewport:e,destination:n,draggables:i,maxScrollChange:a})=>{const s=nL(e,Fn(e.scroll.current,a)),o=n.frame?vj(n,Fn(n.frame.scroll.current,a)):n,c=t.displaced,d=zd({afterDragging:wk(c.all,i),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:c,forceShouldAnimate:!1}),h=zd({afterDragging:wk(c.all,i),destination:o,displacedBy:t.displacedBy,viewport:e.frame,last:c,forceShouldAnimate:!1}),f={},p={},m=[c,d,h];return c.all.forEach(b=>{const y=Ice(b,m);if(y){p[b]=y;return}f[b]=!0}),{...t,displaced:{all:c.all,invisible:f,visible:p}}},zce=(t,e)=>Fn(t.scroll.diff.displacement,e),jj=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const i=zce(n,t),a=Li(i,e.page.borderBox.center);return Fn(e.client.borderBox.center,a)},iL=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:i,withDroppableDisplacement:a,onlyOnMainAxis:s=!1})=>{const o=Li(n,t.page.borderBox.center),d={target:bh(t.page.borderBox,o),destination:e,withDroppableDisplacement:a,viewport:i};return s?Sce(d):eL(d)},$ce=({isMovingForward:t,draggable:e,destination:n,draggables:i,previousImpact:a,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:c,afterCritical:d})=>{if(!n.isEnabled)return null;const h=Bc(n.descriptor.id,i),f=zc(e,n),p=mce({isMovingForward:t,draggable:e,destination:n,insideDestination:h,previousImpact:a})||kce({isMovingForward:t,isInHomeList:f,draggable:e,draggables:i,destination:n,insideDestination:h,previousImpact:a,viewport:s,afterCritical:d});if(!p)return null;const m=Xm({impact:p,draggable:e,droppable:n,draggables:i,afterCritical:d});if(iL({draggable:e,destination:n,newPageBorderBoxCenter:m,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:jj({pageBorderBoxCenter:m,draggable:e,viewport:s}),impact:p,scrollJumpRequest:null};const b=Li(m,o),y=Bce({impact:p,viewport:s,destination:n,draggables:i,maxScrollChange:b});return{clientSelection:c,impact:y,scrollJumpRequest:b}};const Jn=t=>{const e=t.subject.active;return e||xe(),e};var Fce=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:i,viewport:a})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,c=fr(s[o.start],s[o.end]),d=Gm(i).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>ZR(a.frame)(Jn(f))).filter(f=>{const p=Jn(f);return t?s[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<s[o.crossAxisStart]}).filter(f=>{const p=Jn(f),m=fr(p[o.start],p[o.end]);return c(p[o.start])||c(p[o.end])||m(s[o.start])||m(s[o.end])}).sort((f,p)=>{const m=Jn(f)[o.crossAxisStart],x=Jn(p)[o.crossAxisStart];return t?m-x:x-m}).filter((f,p,m)=>Jn(f)[o.crossAxisStart]===Jn(m[0])[o.crossAxisStart]);if(!d.length)return null;if(d.length===1)return d[0];const h=d.filter(f=>fr(Jn(f)[o.start],Jn(f)[o.end])(e[o.line]));return h.length===1?h[0]:h.length>1?h.sort((f,p)=>Jn(f)[o.start]-Jn(p)[o.start])[0]:d.sort((f,p)=>{const m=xk(e,yk(Jn(f))),x=xk(e,yk(Jn(p)));return m!==x?m-x:Jn(f)[o.start]-Jn(p)[o.start]})[0]};const Sk=(t,e)=>{const n=t.page.borderBox.center;return Vs(t.descriptor.id,e)?Li(n,e.displacedBy.point):n},Hce=(t,e)=>{const n=t.page.borderBox;return Vs(t.descriptor.id,e)?bh(n,Ic(e.displacedBy.point)):n};var Uce=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:i,afterCritical:a})=>i.filter(o=>eL({target:Hce(o,a),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((o,c)=>{const d=Id(t,Yb(n,Sk(o,a))),h=Id(t,Yb(n,Sk(c,a)));return d<h?-1:h<d?1:o.descriptor.index-c.descriptor.index})[0]||null,_h=Sn(function(e,n){const i=n[e.line];return{value:i,point:Yo(e.line,i)}});const Vce=(t,e,n)=>{const i=t.axis;if(t.descriptor.mode==="virtual")return Yo(i.line,e[i.line]);const a=t.subject.page.contentBox[i.size],d=Bc(t.descriptor.id,n).reduce((h,f)=>h+f.client.marginBox[i.size],0)+e[i.line]-a;return d<=0?null:Yo(i.line,d)},rL=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),aL=(t,e,n)=>{const i=t.frame;zc(e,t)&&xe(),t.subject.withPlaceholder&&xe();const a=_h(t.axis,e.displaceBy).point,s=Vce(t,a,n),o={placeholderSize:a,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){const f=xc({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return{...t,subject:f}}const c=s?Fn(i.scroll.max,s):i.scroll.max,d=rL(i,c),h=xc({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:d});return{...t,subject:h,frame:d}},qce=t=>{const e=t.subject.withPlaceholder;e||xe();const n=t.frame;if(!n){const o=xc({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:o}}const i=e.oldFrameMaxScroll;i||xe();const a=rL(n,i),s=xc({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return{...t,subject:s,frame:a}};var Gce=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:i,draggables:a,destination:s,viewport:o,afterCritical:c})=>{if(!e){if(n.length)return null;const p={displaced:Bd,displacedBy:JR,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},m=Xm({impact:p,draggable:i,droppable:s,draggables:a,afterCritical:c}),x=zc(i,s)?s:aL(s,i,a);return iL({draggable:i,destination:x,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const d=t[s.axis.line]<=e.page.borderBox.center[s.axis.line],h=(()=>{const p=e.descriptor.index;return e.descriptor.id===i.descriptor.id||d?p:p+1})(),f=_h(s.axis,i.displaceBy);return Bg({draggable:i,insideDestination:n,destination:s,viewport:o,displacedBy:f,last:Bd,index:h})},Wce=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:i,draggables:a,droppables:s,viewport:o,afterCritical:c})=>{const d=Fce({isMovingForward:t,pageBorderBoxCenter:e,source:i,droppables:s,viewport:o});if(!d)return null;const h=Bc(d.descriptor.id,a),f=Uce({pageBorderBoxCenter:e,viewport:o,destination:d,insideDestination:h,afterCritical:c}),p=Gce({previousPageBorderBoxCenter:e,destination:d,draggable:n,draggables:a,moveRelativeTo:f,insideDestination:h,viewport:o,afterCritical:c});if(!p)return null;const m=Xm({impact:p,draggable:n,droppable:d,draggables:a,afterCritical:c});return{clientSelection:jj({pageBorderBoxCenter:m,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Bi=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const Yce=(t,e)=>{const n=Bi(t);return n?e[n]:null};var Xce=({state:t,type:e})=>{const n=Yce(t.impact,t.dimensions.droppables),i=!!n,a=t.dimensions.droppables[t.critical.droppable.id],s=n||a,o=s.axis.direction,c=o==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||o==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(c&&!i)return null;const d=e==="MOVE_DOWN"||e==="MOVE_RIGHT",h=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,{draggables:p,droppables:m}=t.dimensions;return c?$ce({isMovingForward:d,previousPageBorderBoxCenter:f,draggable:h,destination:s,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Wce({isMovingForward:d,previousPageBorderBoxCenter:f,draggable:h,isOver:s,draggables:p,droppables:m,viewport:t.viewport,afterCritical:t.afterCritical})};function wo(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function sL(t){const e=fr(t.top,t.bottom),n=fr(t.left,t.right);return function(a){return e(a.y)&&n(a.x)}}function Kce(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function Jce({pageBorderBox:t,draggable:e,candidates:n}){const i=e.page.borderBox.center,a=n.map(s=>{const o=s.axis,c=Yo(s.axis.line,t.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:Id(i,c)}}).sort((s,o)=>o.distance-s.distance);return a[0]?a[0].id:null}function Zce({pageBorderBox:t,draggable:e,droppables:n}){const i=Gm(n).filter(a=>{if(!a.isEnabled)return!1;const s=a.subject.active;if(!s||!Kce(t,s))return!1;if(sL(s)(t.center))return!0;const o=a.axis,c=s.center[o.crossAxisLine],d=t[o.crossAxisStart],h=t[o.crossAxisEnd],f=fr(s[o.crossAxisStart],s[o.crossAxisEnd]),p=f(d),m=f(h);return!p&&!m?!0:p?d<c:h>c});return i.length?i.length===1?i[0].descriptor.id:Jce({pageBorderBox:t,draggable:e,candidates:i}):null}const oL=(t,e)=>Tr(bh(t,e));var Qce=(t,e)=>{const n=t.frame;return n?oL(e,n.scroll.diff.value):e};function lL({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function eue({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var tue=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:i,last:a,viewport:s,afterCritical:o})=>{const c=n.axis,d=_h(n.axis,e.displaceBy),h=d.value,f=t[c.start],p=t[c.end],x=Ym(e,i).find(y=>{const _=y.descriptor.id,S=y.page.borderBox.center[c.line],N=Vs(_,o),E=lL({displaced:a,id:_});return N?E?p<=S:f<S-h:E?p<=S+h:f<S})||null,b=eue({draggable:e,closest:x,inHomeList:zc(e,n)});return Bg({draggable:e,insideDestination:i,destination:n,viewport:s,last:a,displacedBy:d,index:b})};const nue=4;var iue=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:i,insideDestination:a,afterCritical:s})=>{if(!i.isCombineEnabled)return null;const o=i.axis,c=_h(i.axis,t.displaceBy),d=c.value,h=e[o.start],f=e[o.end],m=Ym(t,a).find(b=>{const y=b.descriptor.id,_=b.page.borderBox,N=_[o.size]/nue,E=Vs(y,s),A=lL({displaced:n.displaced,id:y});return E?A?f>_[o.start]+N&&f<_[o.end]-N:h>_[o.start]-d+N&&h<_[o.end]-d-N:A?f>_[o.start]+d+N&&f<_[o.end]+d-N:h>_[o.start]+N&&h<_[o.end]-N});return m?{displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:i.descriptor.id}}}:null},cL=({pageOffset:t,draggable:e,draggables:n,droppables:i,previousImpact:a,viewport:s,afterCritical:o})=>{const c=oL(e.page.borderBox,t),d=Zce({pageBorderBox:c,draggable:e,droppables:i});if(!d)return vce;const h=i[d],f=Bc(h.descriptor.id,n),p=Qce(h,c);return iue({pageBorderBoxWithDroppableScroll:p,draggable:e,previousImpact:a,destination:h,insideDestination:f,afterCritical:o})||tue({pageBorderBoxWithDroppableScroll:p,draggable:e,destination:h,insideDestination:f,last:a.displaced,viewport:s,afterCritical:o})},wj=(t,e)=>({...t,[e.descriptor.id]:e});const rue=({previousImpact:t,impact:e,droppables:n})=>{const i=Bi(t),a=Bi(e);if(!i||i===a)return n;const s=n[i];if(!s.subject.withPlaceholder)return n;const o=qce(s);return wj(n,o)};var aue=({draggable:t,draggables:e,droppables:n,previousImpact:i,impact:a})=>{const s=rue({previousImpact:i,impact:a,droppables:n}),o=Bi(a);if(!o)return s;const c=n[o];if(zc(t,c)||c.subject.withPlaceholder)return s;const d=aL(c,t,e);return wj(s,d)},dd=({state:t,clientSelection:e,dimensions:n,viewport:i,impact:a,scrollJumpRequest:s})=>{const o=i||t.viewport,c=n||t.dimensions,d=e||t.current.client.selection,h=Li(d,t.initial.client.selection),f={offset:h,selection:d,borderBoxCenter:Fn(t.initial.client.borderBoxCenter,h)},p={selection:Fn(f.selection,o.scroll.current),borderBoxCenter:Fn(f.borderBoxCenter,o.scroll.current),offset:Fn(f.offset,o.scroll.diff.value)},m={client:f,page:p};if(t.phase==="COLLECTING")return{...t,dimensions:c,viewport:o,current:m};const x=c.draggables[t.critical.draggable.id],b=a||cL({pageOffset:p.offset,draggable:x,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),y=aue({draggable:x,impact:b,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables});return{...t,current:m,dimensions:{draggables:c.draggables,droppables:y},impact:b,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function sue(t,e){return t.map(n=>e[n])}var uL=({impact:t,viewport:e,draggables:n,destination:i,forceShouldAnimate:a})=>{const s=t.displaced,o=sue(s.all,n),c=zd({afterDragging:o,destination:i,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:a,last:s});return{...t,displaced:c}},dL=({impact:t,draggable:e,droppable:n,draggables:i,viewport:a,afterCritical:s})=>{const o=Xm({impact:t,draggable:e,draggables:i,droppable:n,afterCritical:s});return jj({pageBorderBoxCenter:o,draggable:e,viewport:a})},hL=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&xe();const i=t.impact,a=n||t.viewport,s=e||t.dimensions,{draggables:o,droppables:c}=s,d=o[t.critical.draggable.id],h=Bi(i);h||xe();const f=c[h],p=uL({impact:i,viewport:a,destination:f,draggables:o}),m=dL({impact:p,draggable:d,droppable:f,draggables:o,viewport:a,afterCritical:t.afterCritical});return dd({impact:p,clientSelection:m,state:t,dimensions:s,viewport:a})},oue=t=>({index:t.index,droppableId:t.droppableId}),fL=({draggable:t,home:e,draggables:n,viewport:i})=>{const a=_h(e.axis,t.displaceBy),s=Bc(e.descriptor.id,n),o=s.indexOf(t);o===-1&&xe();const c=s.slice(o+1),d=c.reduce((m,x)=>(m[x.descriptor.id]=!0,m),{}),h={inVirtualList:e.descriptor.mode==="virtual",displacedBy:a,effected:d};return{impact:{displaced:zd({afterDragging:c,destination:e,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:oue(t.descriptor)}},afterCritical:h}},lue=(t,e)=>({draggables:t.draggables,droppables:wj(t.droppables,e)}),cue=({draggable:t,offset:e,initialWindowScroll:n})=>{const i=Mg(t.client,e),a=Pg(i,n);return{...t,placeholder:{...t.placeholder,client:i},client:i,page:a}},uue=t=>{const e=t.frame;return e||xe(),e},due=({additions:t,updatedDroppables:e,viewport:n})=>{const i=n.scroll.diff.value;return t.map(a=>{const s=a.descriptor.droppableId,o=e[s],d=uue(o).scroll.diff.value,h=Fn(i,d);return cue({draggable:a,offset:h,initialWindowScroll:n.scroll.initial})})},hue=({state:t,published:e})=>{const n=e.modified.map(S=>{const N=t.dimensions.droppables[S.droppableId];return vj(N,S.scroll)}),i={...t.dimensions.droppables,...XR(n)},a=KR(due({additions:e.additions,updatedDroppables:i,viewport:t.viewport})),s={...t.dimensions.draggables,...a};e.removals.forEach(S=>{delete s[S]});const o={droppables:i,draggables:s},c=Bi(t.impact),d=c?o.droppables[c]:null,h=o.draggables[t.critical.draggable.id],f=o.droppables[t.critical.droppable.id],{impact:p,afterCritical:m}=fL({draggable:h,home:f,draggables:s,viewport:t.viewport}),x=d&&d.isCombineEnabled?t.impact:p,b=cL({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:x,viewport:t.viewport,afterCritical:m}),y={...t,phase:"DRAGGING",impact:b,onLiftImpact:p,dimensions:o,afterCritical:m,forceShouldAnimate:!1};return t.phase==="COLLECTING"?y:{...y,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const Xb=t=>t.movementMode==="SNAP",vy=(t,e,n)=>{const i=lue(t.dimensions,e);return!Xb(t)||n?dd({state:t,dimensions:i}):hL({state:t,dimensions:i})};function xy(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const Ck={phase:"IDLE",completed:null,shouldFlush:!1};var fue=(t=Ck,e)=>{if(e.type==="FLUSH")return{...Ck,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&xe();const{critical:n,clientSelection:i,viewport:a,dimensions:s,movementMode:o}=e.payload,c=s.draggables[n.draggable.id],d=s.droppables[n.droppable.id],h={selection:i,borderBoxCenter:c.client.borderBox.center,offset:Cn},f={client:h,page:{selection:Fn(h.selection,a.scroll.initial),borderBoxCenter:Fn(h.selection,a.scroll.initial),offset:Fn(h.selection,a.scroll.diff.value)}},p=Gm(s.droppables).every(y=>!y.isFixedOnPage),{impact:m,afterCritical:x}=fL({draggable:c,home:d,draggables:s.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:f,current:f,isWindowScrollAllowed:p,impact:m,afterCritical:x,onLiftImpact:m,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&xe(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||xe(),hue({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;wo(t)||xe();const{client:n}=e.payload;return zs(n,t.current.client.selection)?t:dd({state:t,clientSelection:n,impact:Xb(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return xy(t);wo(t)||xe();const{id:n,newScroll:i}=e.payload,a=t.dimensions.droppables[n];if(!a)return t;const s=vj(a,i);return vy(t,s,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;wo(t)||xe();const{id:n,isEnabled:i}=e.payload,a=t.dimensions.droppables[n];a||xe(),a.isEnabled===i&&xe();const s={...a,isEnabled:i};return vy(t,s,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;wo(t)||xe();const{id:n,isCombineEnabled:i}=e.payload,a=t.dimensions.droppables[n];a||xe(),a.isCombineEnabled===i&&xe();const s={...a,isCombineEnabled:i};return vy(t,s,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;wo(t)||xe(),t.isWindowScrollAllowed||xe();const n=e.payload.newScroll;if(zs(t.viewport.scroll.current,n))return xy(t);const i=nL(t.viewport,n);return Xb(t)?hL({state:t,viewport:i}):dd({state:t,viewport:i})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!wo(t))return t;const n=e.payload.maxScroll;if(zs(n,t.viewport.scroll.max))return t;const i={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:i}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&xe();const n=Xce({state:t,type:e.type});return n?dd({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&xe(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:i,newHomeClientOffset:a}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||xe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:i,newHomeClientOffset:a,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function ct(t,e){return t instanceof Object&&"type"in t&&t.type===e}const pue=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),gue=t=>({type:"LIFT",payload:t}),mue=t=>({type:"INITIAL_PUBLISH",payload:t}),vue=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),xue=()=>({type:"COLLECTION_STARTING",payload:null}),yue=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),bue=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),_ue=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),pL=t=>({type:"MOVE",payload:t}),jue=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),wue=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),Sue=()=>({type:"MOVE_UP",payload:null}),Cue=()=>({type:"MOVE_DOWN",payload:null}),Aue=()=>({type:"MOVE_RIGHT",payload:null}),Nue=()=>({type:"MOVE_LEFT",payload:null}),Sj=()=>({type:"FLUSH",payload:null}),Eue=t=>({type:"DROP_ANIMATE",payload:t}),Cj=t=>({type:"DROP_COMPLETE",payload:t}),gL=t=>({type:"DROP",payload:t}),Tue=t=>({type:"DROP_PENDING",payload:t}),mL=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var kue=t=>({getState:e,dispatch:n})=>i=>a=>{if(!ct(a,"LIFT")){i(a);return}const{id:s,clientSelection:o,movementMode:c}=a.payload,d=e();d.phase==="DROP_ANIMATING"&&n(Cj({completed:d.completed})),e().phase!=="IDLE"&&xe(),n(Sj()),n(pue({draggableId:s,movementMode:c}));const f={draggableId:s,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:p,dimensions:m,viewport:x}=t.startPublishing(f);n(mue({critical:p,dimensions:m,clientSelection:o,movementMode:c,viewport:x}))},Due=t=>()=>e=>n=>{ct(n,"INITIAL_PUBLISH")&&t.dragging(),ct(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(ct(n,"FLUSH")||ct(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const Aj={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},$d={opacity:{drop:0,combining:.7},scale:{drop:.75}},vL={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},vo=`${vL.outOfTheWay}s ${Aj.outOfTheWay}`,hd={fluid:`opacity ${vo}`,snap:`transform ${vo}, opacity ${vo}`,drop:t=>{const e=`${t}s ${Aj.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${vo}`,placeholder:`height ${vo}, width ${vo}, margin ${vo}`},Ak=t=>zs(t,Cn)?void 0:`translate(${t.x}px, ${t.y}px)`,Kb={moveTo:Ak,drop:(t,e)=>{const n=Ak(t);if(n)return e?`${n} scale(${$d.scale.drop})`:n}},{minDropTime:Jb,maxDropTime:xL}=vL,Oue=xL-Jb,Nk=1500,Mue=.6;var Pue=({current:t,destination:e,reason:n})=>{const i=Id(t,e);if(i<=0)return Jb;if(i>=Nk)return xL;const a=i/Nk,s=Jb+Oue*a,o=n==="CANCEL"?s*Mue:s;return Number(o.toFixed(2))},Rue=({impact:t,draggable:e,dimensions:n,viewport:i,afterCritical:a})=>{const{draggables:s,droppables:o}=n,c=Bi(t),d=c?o[c]:null,h=o[e.descriptor.droppableId],f=dL({impact:t,draggable:e,draggables:s,afterCritical:a,droppable:d||h,viewport:i});return Li(f,e.client.borderBox.center)},Lue=({draggables:t,reason:e,lastImpact:n,home:i,viewport:a,onLiftImpact:s})=>!n.at||e!=="DROP"?{impact:uL({draggables:t,impact:s,destination:i,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Bd},didDropInsideDroppable:!0};const Iue=({getState:t,dispatch:e})=>n=>i=>{if(!ct(i,"DROP")){n(i);return}const a=t(),s=i.payload.reason;if(a.phase==="COLLECTING"){e(Tue({reason:s}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&xe(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||xe();const c=a.critical,d=a.dimensions,h=d.draggables[a.critical.draggable.id],{impact:f,didDropInsideDroppable:p}=Lue({reason:s,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),m=p?xj(f):null,x=p?Wm(f):null,b={index:c.draggable.index,droppableId:c.droppable.id},y={draggableId:h.descriptor.id,type:h.descriptor.type,source:b,reason:s,mode:a.movementMode,destination:m,combine:x},_=Rue({impact:f,draggable:h,dimensions:d,viewport:a.viewport,afterCritical:a.afterCritical}),S={critical:a.critical,afterCritical:a.afterCritical,result:y,impact:f};if(!(!zs(a.current.client.offset,_)||!!y.combine)){e(Cj({completed:S}));return}const E=Pue({current:a.current.client.offset,destination:_,reason:s});e(Eue({newHomeClientOffset:_,dropDuration:E,completed:S}))};var yL=()=>({x:window.pageXOffset,y:window.pageYOffset});function Bue(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function zue({onWindowScroll:t}){function e(){t(yL())}const n=Ld(e),i=Bue(n);let a=Bs;function s(){return a!==Bs}function o(){s()&&xe(),a=hr(window,[i])}function c(){s()||xe(),n.cancel(),a(),a=Bs}return{start:o,stop:c,isActive:s}}const $ue=t=>ct(t,"DROP_COMPLETE")||ct(t,"DROP_ANIMATE")||ct(t,"FLUSH"),Fue=t=>{const e=zue({onWindowScroll:n=>{t.dispatch(jue({newScroll:n}))}});return n=>i=>{!e.isActive()&&ct(i,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&$ue(i)&&e.stop(),n(i)}};var Hue=t=>{let e=!1,n=!1;const i=setTimeout(()=>{n=!0}),a=s=>{e||n||(e=!0,t(s),clearTimeout(i))};return a.wasCalled=()=>e,a},Uue=()=>{const t=[],e=a=>{const s=t.findIndex(c=>c.timerId===a);s===-1&&xe();const[o]=t.splice(s,1);o.callback()};return{add:a=>{const s=setTimeout(()=>e(s)),o={timerId:s,callback:a};t.push(o)},flush:()=>{if(!t.length)return;const a=[...t];t.length=0,a.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const Vue=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,que=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,Gue=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,i=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&i},Zu=(t,e)=>{e()},gp=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function yy(t,e,n,i){if(!t){n(i(e));return}const a=Hue(n);t(e,{announce:a}),a.wasCalled()||n(i(e))}var Wue=(t,e)=>{const n=Uue();let i=null;const a=(p,m)=>{i&&xe(),Zu("onBeforeCapture",()=>{const x=t().onBeforeCapture;x&&x({draggableId:p,mode:m})})},s=(p,m)=>{i&&xe(),Zu("onBeforeDragStart",()=>{const x=t().onBeforeDragStart;x&&x(gp(p,m))})},o=(p,m)=>{i&&xe();const x=gp(p,m);i={mode:m,lastCritical:p,lastLocation:x.source,lastCombine:null},n.add(()=>{Zu("onDragStart",()=>yy(t().onDragStart,x,e,kp.onDragStart))})},c=(p,m)=>{const x=xj(m),b=Wm(m);i||xe();const y=!Gue(p,i.lastCritical);y&&(i.lastCritical=p);const _=!Vue(i.lastLocation,x);_&&(i.lastLocation=x);const S=!que(i.lastCombine,b);if(S&&(i.lastCombine=b),!y&&!_&&!S)return;const N={...gp(p,i.mode),combine:b,destination:x};n.add(()=>{Zu("onDragUpdate",()=>yy(t().onDragUpdate,N,e,kp.onDragUpdate))})},d=()=>{i||xe(),n.flush()},h=p=>{i||xe(),i=null,Zu("onDragEnd",()=>yy(t().onDragEnd,p,e,kp.onDragEnd))};return{beforeCapture:a,beforeStart:s,start:o,update:c,flush:d,drop:h,abort:()=>{if(!i)return;const p={...gp(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};h(p)}}},Yue=(t,e)=>{const n=Wue(t,e);return i=>a=>s=>{if(ct(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(ct(s,"INITIAL_PUBLISH")){const c=s.payload.critical;n.beforeStart(c,s.payload.movementMode),a(s),n.start(c,s.payload.movementMode);return}if(ct(s,"DROP_COMPLETE")){const c=s.payload.completed.result;n.flush(),a(s),n.drop(c);return}if(a(s),ct(s,"FLUSH")){n.abort();return}const o=i.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const Xue=t=>e=>n=>{if(!ct(n,"DROP_ANIMATION_FINISHED")){e(n);return}const i=t.getState();i.phase!=="DROP_ANIMATING"&&xe(),t.dispatch(Cj({completed:i.completed}))},Kue=t=>{let e=null,n=null;function i(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return a=>s=>{if((ct(s,"FLUSH")||ct(s,"DROP_COMPLETE")||ct(s,"DROP_ANIMATION_FINISHED"))&&i(),a(s),!ct(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(mL())}};n=requestAnimationFrame(()=>{n=null,e=hr(window,[o])})}};var Jue=t=>()=>e=>n=>{(ct(n,"DROP_COMPLETE")||ct(n,"FLUSH")||ct(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},Zue=t=>{let e=!1;return()=>n=>i=>{if(ct(i,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(i.payload.critical.draggable.id),n(i),t.tryRestoreFocusRecorded();return}if(n(i),!!e){if(ct(i,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(ct(i,"DROP_COMPLETE")){e=!1;const a=i.payload.completed.result;a.combine&&t.tryShiftRecord(a.draggableId,a.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const Que=t=>ct(t,"DROP_COMPLETE")||ct(t,"DROP_ANIMATE")||ct(t,"FLUSH");var ede=t=>e=>n=>i=>{if(Que(i)){t.stop(),n(i);return}if(ct(i,"INITIAL_PUBLISH")){n(i);const a=e.getState();a.phase!=="DRAGGING"&&xe(),t.start(a);return}n(i),t.scroll(e.getState())};const tde=t=>e=>n=>{if(e(n),!ct(n,"PUBLISH_WHILE_DRAGGING"))return;const i=t.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||t.dispatch(gL({reason:i.reason})))},nde=_d;var ide=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:i,announce:a,autoScroller:s})=>W2(fue,nde(oO(Due(n),Jue(t),kue(t),Iue,Xue,Kue,tde,ede(s),Fue,Zue(e),Yue(i,a))));const by=()=>({additions:{},removals:{},modified:{}});function rde({registry:t,callbacks:e}){let n=by(),i=null;const a=()=>{i||(e.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:d,removals:h,modified:f}=n,p=Object.keys(d).map(b=>t.draggable.getById(b).getDimension(Cn)).sort((b,y)=>b.descriptor.index-y.descriptor.index),m=Object.keys(f).map(b=>{const _=t.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:_}}),x={additions:p,removals:Object.keys(h),modified:m};n=by(),e.publish(x)}))};return{add:d=>{const h=d.descriptor.id;n.additions[h]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[h]&&delete n.removals[h],a()},remove:d=>{const h=d.descriptor;n.removals[h.id]=!0,n.modified[h.droppableId]=!0,n.additions[h.id]&&delete n.additions[h.id],a()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,n=by())}}}var bL=({scrollHeight:t,scrollWidth:e,height:n,width:i})=>{const a=Li({x:e,y:t},{x:i,y:n});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},_L=()=>{const t=document.documentElement;return t||xe(),t},jL=()=>{const t=_L();return bL({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},ade=()=>{const t=yL(),e=jL(),n=t.y,i=t.x,a=_L(),s=a.clientWidth,o=a.clientHeight,c=i+s,d=n+o;return{frame:Tr({top:n,left:i,right:c,bottom:d}),scroll:{initial:t,current:t,max:e,diff:{value:Cn,displacement:Cn}}}},sde=({critical:t,scrollOptions:e,registry:n})=>{const i=ade(),a=i.scroll.current,s=t.droppable,o=n.droppable.getAllByType(s.type).map(f=>f.callbacks.getDimensionAndWatchScroll(a,e)),c=n.draggable.getAllByType(t.draggable.type).map(f=>f.getDimension(a));return{dimensions:{draggables:KR(c),droppables:XR(o)},critical:t,viewport:i}};function Ek(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var ode=(t,e)=>{let n=null;const i=rde({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),a=(m,x)=>{t.droppable.exists(m)||xe(),n&&e.updateDroppableIsEnabled({id:m,isEnabled:x})},s=(m,x)=>{n&&(t.droppable.exists(m)||xe(),e.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:x}))},o=(m,x)=>{n&&(t.droppable.exists(m)||xe(),e.updateDroppableScroll({id:m,newScroll:x}))},c=(m,x)=>{n&&t.droppable.getById(m).callbacks.scroll(x)},d=()=>{if(!n)return;i.stop();const m=n.critical.droppable;t.droppable.getAllByType(m.type).forEach(x=>x.callbacks.dragStopped()),n.unsubscribe(),n=null},h=m=>{n||xe();const x=n.critical.draggable;m.type==="ADDITION"&&Ek(t,x,m.value)&&i.add(m.value),m.type==="REMOVAL"&&Ek(t,x,m.value)&&i.remove(m.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:s,scrollDroppable:c,updateDroppableScroll:o,startPublishing:m=>{n&&xe();const x=t.draggable.getById(m.draggableId),b=t.droppable.getById(x.descriptor.droppableId),y={draggable:x.descriptor,droppable:b.descriptor},_=t.subscribe(h);return n={critical:y,unsubscribe:_},sde({critical:y,registry:t,scrollOptions:m.scrollOptions})},stopPublishing:d}},wL=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",lde=t=>{window.scrollBy(t.x,t.y)};const cde=Sn(t=>Gm(t).filter(e=>!(!e.isEnabled||!e.frame))),ude=(t,e)=>cde(e).find(i=>(i.frame||xe(),sL(i.frame.pageMarginBox)(t)))||null;var dde=({center:t,destination:e,droppables:n})=>{if(e){const a=n[e];return a.frame?a:null}return ude(t,n)};const Fd={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var hde=(t,e,n=()=>Fd)=>{const i=n(),a=t[e.size]*i.startFromPercentage,s=t[e.size]*i.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:s}},SL=({startOfRange:t,endOfRange:e,current:n})=>{const i=e-t;return i===0?0:(n-t)/i},Nj=1,fde=(t,e,n=()=>Fd)=>{const i=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return i.maxPixelScroll;if(t===e.startScrollingFrom)return Nj;const s=1-SL({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),o=i.maxPixelScroll*i.ease(s);return Math.ceil(o)},pde=(t,e,n)=>{const i=n(),a=i.durationDampening.accelerateAt,s=i.durationDampening.stopDampeningAt,o=e,c=s,h=Date.now()-o;if(h>=s)return t;if(h<a)return Nj;const f=SL({startOfRange:a,endOfRange:c,current:h}),p=t*i.ease(f);return Math.ceil(p)},Tk=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=fde(t,e,a);return s===0?0:i?Math.max(pde(s,n,a),Nj):s},kk=({container:t,distanceToEdges:e,dragStartTime:n,axis:i,shouldUseTimeDampening:a,getAutoScrollerOptions:s})=>{const o=hde(t,i,s);return e[i.end]<e[i.start]?Tk({distanceToEdge:e[i.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:s}):-1*Tk({distanceToEdge:e[i.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:s})},gde=({container:t,subject:e,proposedScroll:n})=>{const i=e.height>t.height,a=e.width>t.width;return!a&&!i?n:a&&i?null:{x:a?0:n.x,y:i?0:n.y}};const mde=YR(t=>t===0?0:t);var CL=({dragStartTime:t,container:e,subject:n,center:i,shouldUseTimeDampening:a,getAutoScrollerOptions:s})=>{const o={top:i.y-e.top,right:e.right-i.x,bottom:e.bottom-i.y,left:i.x-e.left},c=kk({container:e,distanceToEdges:o,dragStartTime:t,axis:yj,shouldUseTimeDampening:a,getAutoScrollerOptions:s}),d=kk({container:e,distanceToEdges:o,dragStartTime:t,axis:QR,shouldUseTimeDampening:a,getAutoScrollerOptions:s}),h=mde({x:d,y:c});if(zs(h,Cn))return null;const f=gde({container:e,subject:n,proposedScroll:h});return f?zs(f,Cn)?null:f:null};const vde=YR(t=>t===0?0:t>0?1:-1),Ej=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:i})=>{const a=Fn(e,i),s={x:t(a.x,n.x),y:t(a.y,n.y)};return zs(s,Cn)?null:s}})(),AL=({max:t,current:e,change:n})=>{const i={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},a=vde(n),s=Ej({max:i,current:e,change:a});return!s||a.x!==0&&s.x===0||a.y!==0&&s.y===0},Tj=(t,e)=>AL({current:t.scroll.current,max:t.scroll.max,change:e}),xde=(t,e)=>{if(!Tj(t,e))return null;const n=t.scroll.max,i=t.scroll.current;return Ej({current:i,max:n,change:e})},kj=(t,e)=>{const n=t.frame;return n?AL({current:n.scroll.current,max:n.scroll.max,change:e}):!1},yde=(t,e)=>{const n=t.frame;return!n||!kj(t,e)?null:Ej({current:n.scroll.current,max:n.scroll.max,change:e})};var bde=({viewport:t,subject:e,center:n,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:s})=>{const o=CL({dragStartTime:i,container:t.frame,subject:e,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:s});return o&&Tj(t,o)?o:null},_de=({droppable:t,subject:e,center:n,dragStartTime:i,shouldUseTimeDampening:a,getAutoScrollerOptions:s})=>{const o=t.frame;if(!o)return null;const c=CL({dragStartTime:i,container:o.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:s});return c&&kj(t,c)?c:null},Dk=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:i,scrollDroppable:a,getAutoScrollerOptions:s})=>{const o=t.current.page.borderBoxCenter,d=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const p=t.viewport,m=bde({dragStartTime:e,viewport:p,subject:d,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(m){i(m);return}}const h=dde({center:o,destination:Bi(t.impact),droppables:t.dimensions.droppables});if(!h)return;const f=_de({dragStartTime:e,droppable:h,subject:d,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});f&&a(h.descriptor.id,f)},jde=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>Fd})=>{const i=Ld(t),a=Ld(e);let s=null;const o=h=>{s||xe();const{shouldUseTimeDampening:f,dragStartTime:p}=s;Dk({state:h,scrollWindow:i,scrollDroppable:a,dragStartTime:p,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:h=>{s&&xe();const f=Date.now();let p=!1;const m=()=>{p=!0};Dk({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:n}),s={dragStartTime:f,shouldUseTimeDampening:p},p&&o(h)},stop:()=>{s&&(i.cancel(),a.cancel(),s=null)},scroll:o}},wde=({move:t,scrollDroppable:e,scrollWindow:n})=>{const i=(c,d)=>{const h=Fn(c.current.client.selection,d);t({client:h})},a=(c,d)=>{if(!kj(c,d))return d;const h=yde(c,d);if(!h)return e(c.descriptor.id,d),null;const f=Li(d,h);return e(c.descriptor.id,f),Li(d,f)},s=(c,d,h)=>{if(!c||!Tj(d,h))return h;const f=xde(d,h);if(!f)return n(h),null;const p=Li(h,f);return n(p),Li(h,p)};return c=>{const d=c.scrollJumpRequest;if(!d)return;const h=Bi(c.impact);h||xe();const f=a(c.dimensions.droppables[h],d);if(!f)return;const p=c.viewport,m=s(c.isWindowScrollAllowed,p,f);m&&i(c,m)}},Sde=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:i})=>{const a=jde({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:i}),s=wde({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:d=>{if(!(i().disabled||d.phase!=="DRAGGING")){if(d.movementMode==="FLUID"){a.scroll(d);return}d.scrollJumpRequest&&s(d)}},start:a.start,stop:a.stop}};const yc="data-rfd",bc=(()=>{const t=`${yc}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),Zb=(()=>{const t=`${yc}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Cde=(()=>{const t=`${yc}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Ok={contextId:`${yc}-scroll-container-context-id`},Ade=t=>e=>`[${e}="${t}"]`,Qu=(t,e)=>t.map(n=>{const i=n.styles[e];return i?`${n.selector} { ${i} }`:""}).join(" "),Nde="pointer-events: none;";var Ede=t=>{const e=Ade(t),n=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(bc.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:Nde,dropAnimating:c}}})(),i=(()=>{const c=`
      transition: ${hd.outOfTheWay};
    `;return{selector:e(Zb.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),a={selector:e(Cde.contextId),styles:{always:"overflow-anchor: none;"}},o=[i,n,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Qu(o,"always"),resting:Qu(o,"resting"),dragging:Qu(o,"dragging"),dropAnimating:Qu(o,"dropAnimating"),userCancel:Qu(o,"userCancel")}};const zi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect,_y=()=>{const t=document.querySelector("head");return t||xe(),t},Mk=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function Tde(t,e){const n=nt(()=>Ede(t),[t]),i=j.useRef(null),a=j.useRef(null),s=ke(Sn(p=>{const m=a.current;m||xe(),m.textContent=p}),[]),o=ke(p=>{const m=i.current;m||xe(),m.textContent=p},[]);zi(()=>{!i.current&&!a.current||xe();const p=Mk(e),m=Mk(e);return i.current=p,a.current=m,p.setAttribute(`${yc}-always`,t),m.setAttribute(`${yc}-dynamic`,t),_y().appendChild(p),_y().appendChild(m),o(n.always),s(n.resting),()=>{const x=b=>{const y=b.current;y||xe(),_y().removeChild(y),b.current=null};x(i),x(a)}},[e,o,s,n.always,n.resting,t]);const c=ke(()=>s(n.dragging),[s,n.dragging]),d=ke(p=>{if(p==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),h=ke(()=>{a.current&&s(n.resting)},[s,n.resting]);return nt(()=>({dragging:c,dropping:d,resting:h}),[c,d,h])}function NL(t,e){return Array.from(t.querySelectorAll(e))}var EL=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Km(t){return t instanceof EL(t).HTMLElement}function kde(t,e){const n=`[${bc.contextId}="${t}"]`,i=NL(document,n);if(!i.length)return null;const a=i.find(s=>s.getAttribute(bc.draggableId)===e);return!a||!Km(a)?null:a}function Dde(t){const e=j.useRef({}),n=j.useRef(null),i=j.useRef(null),a=j.useRef(!1),s=ke(function(m,x){const b={id:m,focus:x};return e.current[m]=b,function(){const _=e.current;_[m]!==b&&delete _[m]}},[]),o=ke(function(m){const x=kde(t,m);x&&x!==document.activeElement&&x.focus()},[t]),c=ke(function(m,x){n.current===m&&(n.current=x)},[]),d=ke(function(){i.current||a.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const m=n.current;m&&o(m)}))},[o]),h=ke(function(m){n.current=null;const x=document.activeElement;x&&x.getAttribute(bc.draggableId)===m&&(n.current=m)},[]);return zi(()=>(a.current=!0,function(){a.current=!1;const m=i.current;m&&cancelAnimationFrame(m)}),[]),nt(()=>({register:s,tryRecordFocus:h,tryRestoreFocusRecorded:d,tryShiftRecord:c}),[s,h,d,c])}function Ode(){const t={draggables:{},droppables:{}},e=[];function n(p){return e.push(p),function(){const x=e.indexOf(p);x!==-1&&e.splice(x,1)}}function i(p){e.length&&e.forEach(m=>m(p))}function a(p){return t.draggables[p]||null}function s(p){const m=a(p);return m||xe(),m}const o={register:p=>{t.draggables[p.descriptor.id]=p,i({type:"ADDITION",value:p})},update:(p,m)=>{const x=t.draggables[m.descriptor.id];x&&x.uniqueId===p.uniqueId&&(delete t.draggables[m.descriptor.id],t.draggables[p.descriptor.id]=p)},unregister:p=>{const m=p.descriptor.id,x=a(m);x&&p.uniqueId===x.uniqueId&&(delete t.draggables[m],t.droppables[p.descriptor.droppableId]&&i({type:"REMOVAL",value:p}))},getById:s,findById:a,exists:p=>!!a(p),getAllByType:p=>Object.values(t.draggables).filter(m=>m.descriptor.type===p)};function c(p){return t.droppables[p]||null}function d(p){const m=c(p);return m||xe(),m}const h={register:p=>{t.droppables[p.descriptor.id]=p},unregister:p=>{const m=c(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete t.droppables[p.descriptor.id]},getById:d,findById:c,exists:p=>!!c(p),getAllByType:p=>Object.values(t.droppables).filter(m=>m.descriptor.type===p)};function f(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:h,subscribe:n,clean:f}}function Mde(){const t=nt(Ode,[]);return j.useEffect(()=>function(){t.clean()},[t]),t}var Dj=Ft.createContext(null),zg=()=>{const t=document.body;return t||xe(),t};const Pde={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Rde=t=>`rfd-announcement-${t}`;function Lde(t){const e=nt(()=>Rde(t),[t]),n=j.useRef(null);return j.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),Rg(s.style,Pde),zg().appendChild(s),function(){setTimeout(function(){const d=zg();d.contains(s)&&d.removeChild(s),s===n.current&&(n.current=null)})}},[e]),ke(a=>{const s=n.current;if(s){s.textContent=a;return}},[])}const Ide={separator:"::"};function Oj(t,e=Ide){const n=Ft.useId();return nt(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function Bde({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function zde({contextId:t,text:e}){const n=Oj("hidden-text",{separator:"-"}),i=nt(()=>Bde({contextId:t,uniqueId:n}),[n,t]);return j.useEffect(function(){const s=document.createElement("div");return s.id=i,s.textContent=e,s.style.display="none",zg().appendChild(s),function(){const c=zg();c.contains(s)&&c.removeChild(s)}},[i,e]),i}var Jm=Ft.createContext(null);function TL(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),e}function $de(){let t=null;function e(){return!!t}function n(o){return o===t}function i(o){t&&xe();const c={abandon:o};return t=c,c}function a(){t||xe(),t=null}function s(){t&&(t.abandon(),a())}return{isClaimed:e,isActive:n,claim:i,release:a,tryAbandon:s}}function Hd(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const Fde=9,Hde=13,Mj=27,kL=32,Ude=33,Vde=34,qde=35,Gde=36,Wde=37,Yde=38,Xde=39,Kde=40,Jde={[Hde]:!0,[Fde]:!0};var DL=t=>{Jde[t.keyCode]&&t.preventDefault()};const Zm=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(i=>`on${i}`in document)||t})(),OL=0,Pk=5;function Zde(t,e){return Math.abs(e.x-t.x)>=Pk||Math.abs(e.y-t.y)>=Pk}const Rk={type:"IDLE"};function Qde({cancel:t,completed:e,getPhase:n,setPhase:i}){return[{eventName:"mousemove",fn:a=>{const{button:s,clientX:o,clientY:c}=a;if(s!==OL)return;const d={x:o,y:c},h=n();if(h.type==="DRAGGING"){a.preventDefault(),h.actions.move(d);return}h.type!=="PENDING"&&xe();const f=h.point;if(!Zde(f,d))return;a.preventDefault();const p=h.actions.fluidLift(d);i({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:a=>{const s=n();if(s.type!=="DRAGGING"){t();return}a.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:a=>{n().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:a=>{if(n().type==="PENDING"){t();return}if(a.keyCode===Mj){a.preventDefault(),t();return}DL(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:a=>{const s=n();if(s.type==="IDLE"&&xe(),s.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:Zm,fn:t}]}function ehe(t){const e=j.useRef(Rk),n=j.useRef(Bs),i=nt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==OL||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const m=t.findClosestDraggableId(p);if(!m)return;const x=t.tryGetLock(m,o,{sourceEvent:p});if(!x)return;p.preventDefault();const b={x:p.clientX,y:p.clientY};n.current(),h(x,b)}}),[t]),a=nt(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const p=t.findClosestDraggableId(f);if(!p)return;const m=t.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||t.canGetLock(p)&&f.preventDefault())}}),[t]),s=ke(function(){const p={passive:!1,capture:!0};n.current=hr(window,[a,i],p)},[a,i]),o=ke(()=>{e.current.type!=="IDLE"&&(e.current=Rk,n.current(),s())},[s]),c=ke(()=>{const f=e.current;o(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[o]),d=ke(function(){const p={capture:!0,passive:!1},m=Qde({cancel:c,completed:o,getPhase:()=>e.current,setPhase:x=>{e.current=x}});n.current=hr(window,m,p)},[c,o]),h=ke(function(p,m){e.current.type!=="IDLE"&&xe(),e.current={type:"PENDING",point:m,actions:p},d()},[d]);zi(function(){return s(),function(){n.current()}},[s])}function the(){}const nhe={[Vde]:!0,[Ude]:!0,[Gde]:!0,[qde]:!0};function ihe(t,e){function n(){e(),t.cancel()}function i(){e(),t.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===Mj){a.preventDefault(),n();return}if(a.keyCode===kL){a.preventDefault(),i();return}if(a.keyCode===Kde){a.preventDefault(),t.moveDown();return}if(a.keyCode===Yde){a.preventDefault(),t.moveUp();return}if(a.keyCode===Xde){a.preventDefault(),t.moveRight();return}if(a.keyCode===Wde){a.preventDefault(),t.moveLeft();return}if(nhe[a.keyCode]){a.preventDefault();return}DL(a)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Zm,fn:n}]}function rhe(t){const e=j.useRef(the),n=nt(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==kL)return;const o=t.findClosestDraggableId(s);if(!o)return;const c=t.tryGetLock(o,f,{sourceEvent:s});if(!c)return;s.preventDefault();let d=!0;const h=c.snapLift();e.current();function f(){d||xe(),d=!1,e.current(),i()}e.current=hr(window,ihe(h,f),{capture:!0,passive:!1})}}),[t]),i=ke(function(){const s={passive:!1,capture:!0};e.current=hr(window,[n],s)},[n]);zi(function(){return i(),function(){e.current()}},[i])}const jy={type:"IDLE"},ahe=120,she=.15;function ohe({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===Mj&&n.preventDefault(),t()}},{eventName:Zm,fn:t}]}function lhe({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const a=n();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;const{clientX:s,clientY:o}=i.touches[0],c={x:s,y:o};i.preventDefault(),a.actions.move(c)}},{eventName:"touchend",fn:i=>{const a=n();if(a.type!=="DRAGGING"){t();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:i=>{if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:i=>{const a=n();a.type==="IDLE"&&xe();const s=i.touches[0];if(!s||!(s.force>=she))return;const c=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){c&&t();return}if(c){if(a.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}},{eventName:Zm,fn:t}]}function che(t){const e=j.useRef(jy),n=j.useRef(Bs),i=ke(function(){return e.current},[]),a=ke(function(x){e.current=x},[]),s=nt(()=>({eventName:"touchstart",fn:function(x){if(x.defaultPrevented)return;const b=t.findClosestDraggableId(x);if(!b)return;const y=t.tryGetLock(b,c,{sourceEvent:x});if(!y)return;const _=x.touches[0],{clientX:S,clientY:N}=_,E={x:S,y:N};n.current(),p(y,E)}}),[t]),o=ke(function(){const x={capture:!0,passive:!1};n.current=hr(window,[s],x)},[s]),c=ke(()=>{const m=e.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),a(jy),n.current(),o())},[o,a]),d=ke(()=>{const m=e.current;c(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[c]),h=ke(function(){const x={capture:!0,passive:!1},b={cancel:d,completed:c,getPhase:i},y=hr(window,lhe(b),x),_=hr(window,ohe(b),x);n.current=function(){y(),_()}},[d,i,c]),f=ke(function(){const x=i();x.type!=="PENDING"&&xe();const b=x.actions.fluidLift(x.point);a({type:"DRAGGING",actions:b,hasMoved:!1})},[i,a]),p=ke(function(x,b){i().type!=="IDLE"&&xe();const y=setTimeout(f,ahe);a({type:"PENDING",point:b,actions:x,longPressTimerId:y}),h()},[h,i,a,f]);zi(function(){return o(),function(){n.current();const b=i();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),a(jy))}},[i,o,a]),zi(function(){return hr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const uhe=["input","button","textarea","select","option","optgroup","video","audio"];function ML(t,e){if(e==null)return!1;if(uhe.includes(e.tagName.toLowerCase()))return!0;const i=e.getAttribute("contenteditable");return i==="true"||i===""?!0:e===t?!1:ML(t,e.parentElement)}function dhe(t,e){const n=e.target;return Km(n)?ML(t,n):!1}var hhe=t=>Tr(t.getBoundingClientRect()).center;function fhe(t){return t instanceof EL(t).Element}const phe=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||t})();function PL(t,e){return t==null?null:t[phe](e)?t:PL(t.parentElement,e)}function ghe(t,e){return t.closest?t.closest(e):PL(t,e)}function mhe(t){return`[${bc.contextId}="${t}"]`}function vhe(t,e){const n=e.target;if(!fhe(n))return null;const i=mhe(t),a=ghe(n,i);return!a||!Km(a)?null:a}function xhe(t,e){const n=vhe(t,e);return n?n.getAttribute(bc.draggableId):null}function yhe(t,e){const n=`[${Zb.contextId}="${t}"]`,a=NL(document,n).find(s=>s.getAttribute(Zb.id)===e);return!a||!Km(a)?null:a}function bhe(t){t.preventDefault()}function mp({expected:t,phase:e,isLockActive:n,shouldWarn:i}){return!(!n()||t!==e)}function RL({lockAPI:t,store:e,registry:n,draggableId:i}){if(t.isClaimed())return!1;const a=n.draggable.findById(i);return!(!a||!a.options.isEnabled||!wL(e.getState(),i))}function _he({lockAPI:t,contextId:e,store:n,registry:i,draggableId:a,forceSensorStop:s,sourceEvent:o}){if(!RL({lockAPI:t,store:n,registry:i,draggableId:a}))return null;const d=i.draggable.getById(a),h=yhe(e,d.descriptor.id);if(!h||o&&!d.options.canDragInteractiveElements&&dhe(h,o))return null;const f=t.claim(s||Bs);let p="PRE_DRAG";function m(){return d.options.shouldRespectForcePress}function x(){return t.isActive(f)}function b(T,k){mp({expected:T,phase:p,isLockActive:x,shouldWarn:!0})&&n.dispatch(k())}const y=b.bind(null,"DRAGGING");function _(T){function k(){t.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(k(),xe()),n.dispatch(gue(T.liftActionArgs)),p="DRAGGING";function R(H,V={shouldBlockNextClick:!1}){if(T.cleanup(),V.shouldBlockNextClick){const Y=hr(window,[{eventName:"click",fn:bhe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(Y)}k(),n.dispatch(gL({reason:H}))}return{isActive:()=>mp({expected:"DRAGGING",phase:p,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:m,drop:H=>R("DROP",H),cancel:H=>R("CANCEL",H),...T.actions}}function S(T){const k=Ld(H=>{y(()=>pL({client:H}))});return{..._({liftActionArgs:{id:a,clientSelection:T,movementMode:"FLUID"},cleanup:()=>k.cancel(),actions:{move:k}}),move:k}}function N(){const T={moveUp:()=>y(Sue),moveRight:()=>y(Aue),moveDown:()=>y(Cue),moveLeft:()=>y(Nue)};return _({liftActionArgs:{id:a,clientSelection:hhe(h),movementMode:"SNAP"},cleanup:Bs,actions:T})}function E(){mp({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!0})&&t.release()}return{isActive:()=>mp({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:S,snapLift:N,abort:E}}const jhe=[ehe,rhe,che];function whe({contextId:t,store:e,registry:n,customSensors:i,enableDefaultSensors:a}){const s=[...a?jhe:[],...i||[]],o=j.useState(()=>$de())[0],c=ke(function(_,S){Hd(_)&&!Hd(S)&&o.tryAbandon()},[o]);zi(function(){let _=e.getState();return e.subscribe(()=>{const N=e.getState();c(_,N),_=N})},[o,e,c]),zi(()=>o.tryAbandon,[o.tryAbandon]);const d=ke(y=>RL({lockAPI:o,registry:n,store:e,draggableId:y}),[o,n,e]),h=ke((y,_,S)=>_he({lockAPI:o,registry:n,contextId:t,store:e,draggableId:y,forceSensorStop:_||null,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null}),[t,o,n,e]),f=ke(y=>xhe(t,y),[t]),p=ke(y=>{const _=n.draggable.findById(y);return _?_.options:null},[n.draggable]),m=ke(function(){o.isClaimed()&&(o.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(Sj()))},[o,e]),x=ke(()=>o.isClaimed(),[o]),b=nt(()=>({canGetLock:d,tryGetLock:h,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:x}),[d,h,f,p,m,x]);for(let y=0;y<s.length;y++)s[y](b)}const She=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};qd.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),Che=t=>({...Fd,...t.autoScrollerOptions,durationDampening:{...Fd.durationDampening,...t.autoScrollerOptions}});function ed(t){return t.current||xe(),t.current}function Ahe(t){const{contextId:e,setCallbacks:n,sensors:i,nonce:a,dragHandleUsageInstructions:s}=t,o=j.useRef(null),c=TL(t),d=ke(()=>She(c.current),[c]),h=ke(()=>Che(c.current),[c]),f=Lde(e),p=zde({contextId:e,text:s}),m=Tde(e,a),x=ke(Y=>{ed(o).dispatch(Y)},[]),b=nt(()=>pE({publishWhileDragging:vue,updateDroppableScroll:yue,updateDroppableIsEnabled:bue,updateDroppableIsCombineEnabled:_ue,collectionStarting:xue},x),[x]),y=Mde(),_=nt(()=>ode(y,b),[y,b]),S=nt(()=>Sde({scrollWindow:lde,scrollDroppable:_.scrollDroppable,getAutoScrollerOptions:h,...pE({move:pL},x)}),[_.scrollDroppable,x,h]),N=Dde(e),E=nt(()=>ide({announce:f,autoScroller:S,dimensionMarshal:_,focusMarshal:N,getResponders:d,styleMarshal:m}),[f,S,_,N,d,m]);o.current=E;const A=ke(()=>{const Y=ed(o);Y.getState().phase!=="IDLE"&&Y.dispatch(Sj())},[]),T=ke(()=>{const Y=ed(o).getState();return Y.phase==="DROP_ANIMATING"?!0:Y.phase==="IDLE"?!1:Y.isDragging},[]),k=nt(()=>({isDragging:T,tryAbort:A}),[T,A]);n(k);const R=ke(Y=>wL(ed(o).getState(),Y),[]),H=ke(()=>wo(ed(o).getState()),[]),V=nt(()=>({marshal:_,focus:N,contextId:e,canLift:R,isMovementAllowed:H,dragHandleUsageInstructionsId:p,registry:y}),[e,_,p,N,R,H,y]);return whe({contextId:e,store:E,registry:y,customSensors:i||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),j.useEffect(()=>A,[A]),Ft.createElement(Jm.Provider,{value:V},Ft.createElement(mR,{context:Dj,store:E},t.children))}function Nhe(){return Ft.useId()}function Pj(t){const e=Nhe(),n=t.dragHandleUsageInstructions||kp.dragHandleUsageInstructions;return Ft.createElement(rce,null,i=>Ft.createElement(Ahe,{nonce:t.nonce,contextId:e,setCallbacks:i,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const Lk={dragging:5e3,dropAnimating:4500},Ehe=(t,e)=>e?hd.drop(e.duration):t?hd.snap:hd.fluid,The=(t,e)=>{if(t)return e?$d.opacity.drop:$d.opacity.combining},khe=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function Dhe(t){const n=t.dimension.client,{offset:i,combineWith:a,dropping:s}=t,o=!!a,c=khe(t),d=!!s,h=d?Kb.drop(i,o):Kb.moveTo(i);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Ehe(c,s),transform:h,opacity:The(o,d),zIndex:d?Lk.dropAnimating:Lk.dragging,pointerEvents:"none"}}function Ohe(t){return{transform:Kb.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function Mhe(t){return t.type==="DRAGGING"?Dhe(t):Ohe(t)}function Phe(t,e,n=Cn){const i=window.getComputedStyle(e),a=e.getBoundingClientRect(),s=HR(a,i),o=Pg(s,n),c={client:s,tagName:e.tagName.toLowerCase(),display:i.display},d={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:t,placeholder:c,displaceBy:d,client:s,page:o}}function Rhe(t){const e=Oj("draggable"),{descriptor:n,registry:i,getDraggableRef:a,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:c}=t,d=nt(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:c}),[s,c,o]),h=ke(x=>{const b=a();return b||xe(),Phe(n,b,x)},[n,a]),f=nt(()=>({uniqueId:e,descriptor:n,options:d,getDimension:h}),[n,h,d,e]),p=j.useRef(f),m=j.useRef(!0);zi(()=>(i.draggable.register(p.current),()=>i.draggable.unregister(p.current)),[i.draggable]),zi(()=>{if(m.current){m.current=!1;return}const x=p.current;p.current=f,i.draggable.update(f,x)},[f,i.draggable])}var Rj=Ft.createContext(null);function $g(t){const e=j.useContext(t);return e||xe(),e}function Lhe(t){t.preventDefault()}const Ihe=t=>{const e=j.useRef(null),n=ke((k=null)=>{e.current=k},[]),i=ke(()=>e.current,[]),{contextId:a,dragHandleUsageInstructionsId:s,registry:o}=$g(Jm),{type:c,droppableId:d}=$g(Rj),h=nt(()=>({id:t.draggableId,index:t.index,type:c,droppableId:d}),[t.draggableId,t.index,c,d]),{children:f,draggableId:p,isEnabled:m,shouldRespectForcePress:x,canDragInteractiveElements:b,isClone:y,mapped:_,dropAnimationFinished:S}=t;if(!y){const k=nt(()=>({descriptor:h,registry:o,getDraggableRef:i,canDragInteractiveElements:b,shouldRespectForcePress:x,isEnabled:m}),[h,o,i,b,x,m]);Rhe(k)}const N=nt(()=>m?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:Lhe}:null,[a,s,p,m]),E=ke(k=>{_.type==="DRAGGING"&&_.dropping&&k.propertyName==="transform"&&qd.flushSync(S)},[S,_]),A=nt(()=>{const k=Mhe(_),R=_.type==="DRAGGING"&&_.dropping?E:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":p,style:k,onTransitionEnd:R},dragHandleProps:N}},[a,N,p,_,E,n]),T=nt(()=>({draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}),[h.droppableId,h.id,h.index,h.type]);return Ft.createElement(Ft.Fragment,null,f(A,_.snapshot,T))};var LL=(t,e)=>t===e,IL=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const Bhe=t=>t.combine?t.combine.draggableId:null,zhe=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function $he(){const t=Sn((a,s)=>({x:a,y:s})),e=Sn((a,s,o=null,c=null,d=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!d,dropAnimation:d,mode:a,draggingOver:o,combineWith:c,combineTargetFor:null})),n=Sn((a,s,o,c,d=null,h=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:h,mode:s,offset:a,dimension:o,forceShouldAnimate:f,snapshot:e(s,c,d,h,null)}}));return(a,s)=>{if(Hd(a)){if(a.critical.draggable.id!==s.draggableId)return null;const o=a.current.client.offset,c=a.dimensions.draggables[s.draggableId],d=Bi(a.impact),h=zhe(a.impact),f=a.forceShouldAnimate;return n(t(o.x,o.y),a.movementMode,c,s.isClone,d,h,f)}if(a.phase==="DROP_ANIMATING"){const o=a.completed;if(o.result.draggableId!==s.draggableId)return null;const c=s.isClone,d=a.dimensions.draggables[s.draggableId],h=o.result,f=h.mode,p=IL(h),m=Bhe(h),b={duration:a.dropDuration,curve:Aj.drop,moveTo:a.newHomeClientOffset,opacity:m?$d.opacity.drop:null,scale:m?$d.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:d,dropping:b,draggingOver:p,combineWith:m,mode:f,forceShouldAnimate:null,snapshot:e(f,c,p,m,b)}}}return null}}function BL(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const Fhe={mapped:{type:"SECONDARY",offset:Cn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:BL(null)}};function Hhe(){const t=Sn((o,c)=>({x:o,y:c})),e=Sn(BL),n=Sn((o,c=null,d)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:c,shouldAnimateDisplacement:d,snapshot:e(c)}})),i=o=>o?n(Cn,o,!0):null,a=(o,c,d,h)=>{const f=d.displaced.visible[o],p=!!(h.inVirtualList&&h.effected[o]),m=Wm(d),x=m&&m.draggableId===o?c:null;if(!f){if(!p)return i(x);if(d.displaced.invisible[o])return null;const _=Ic(h.displacedBy.point),S=t(_.x,_.y);return n(S,x,!0)}if(p)return i(x);const b=d.displacedBy.point,y=t(b.x,b.y);return n(y,x,f.shouldAnimate)};return(o,c)=>{if(Hd(o))return o.critical.draggable.id===c.draggableId?null:a(c.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const d=o.completed;return d.result.draggableId===c.draggableId?null:a(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null}}const Uhe=()=>{const t=$he(),e=Hhe();return(i,a)=>t(i,a)||e(i,a)||Fhe},Vhe={dropAnimationFinished:mL},qhe=gR(Uhe,Vhe,null,{context:Dj,areStatePropsEqual:LL})(Ihe);function zL(t){return $g(Rj).isUsingCloneFor===t.draggableId&&!t.isClone?null:Ft.createElement(qhe,t)}function Lj(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,i=!!t.shouldRespectForcePress;return Ft.createElement(zL,Rg({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:i}))}const $L=t=>e=>t===e,Ghe=$L("scroll"),Whe=$L("auto"),Ik=(t,e)=>e(t.overflowX)||e(t.overflowY),Yhe=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return Ik(n,Ghe)||Ik(n,Whe)},Xhe=()=>!1,FL=t=>t==null?null:t===document.body?Xhe()?t:null:t===document.documentElement?null:Yhe(t)?t:FL(t.parentElement);var Qb=t=>({x:t.scrollLeft,y:t.scrollTop});const HL=t=>t?window.getComputedStyle(t).position==="fixed"?!0:HL(t.parentElement):!1;var Khe=t=>{const e=FL(t),n=HL(t);return{closestScrollable:e,isFixedOnPage:n}},Jhe=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:i,direction:a,client:s,page:o,closest:c})=>{const d=(()=>{if(!c)return null;const{scrollSize:m,client:x}=c,b=bL({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:x,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:b,diff:{value:Cn,displacement:Cn}}}})(),h=a==="vertical"?yj:QR,f=xc({page:o,withPlaceholder:null,axis:h,frame:d});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:i,axis:h,isEnabled:e,client:s,page:o,frame:d,subject:f}};const Zhe=(t,e)=>{const n=UR(t);if(!e||t!==e)return n;const i=n.paddingBox.top-e.scrollTop,a=n.paddingBox.left-e.scrollLeft,s=i+e.scrollHeight,o=a+e.scrollWidth,d=gj({top:i,right:o,bottom:s,left:a},n.border);return mj({borderBox:d,margin:n.margin,border:n.border,padding:n.padding})};var Qhe=({ref:t,descriptor:e,env:n,windowScroll:i,direction:a,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:c})=>{const d=n.closestScrollable,h=Zhe(t,d),f=Pg(h,i),p=(()=>{if(!d)return null;const x=UR(d),b={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:x,page:Pg(x,i),scroll:Qb(d),scrollSize:b,shouldClipSubject:c}})();return Jhe({descriptor:e,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:a,client:h,page:f,closest:p})};const efe={passive:!1},tfe={passive:!0};var Bk=t=>t.shouldPublishImmediately?efe:tfe;const vp=t=>t&&t.env.closestScrollable||null;function nfe(t){const e=j.useRef(null),n=$g(Jm),i=Oj("droppable"),{registry:a,marshal:s}=n,o=TL(t),c=nt(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),d=j.useRef(c),h=nt(()=>Sn((A,T)=>{e.current||xe();const k={x:A,y:T};s.updateDroppableScroll(c.id,k)}),[c.id,s]),f=ke(()=>{const A=e.current;return!A||!A.env.closestScrollable?Cn:Qb(A.env.closestScrollable)},[]),p=ke(()=>{const A=f();h(A.x,A.y)},[f,h]),m=nt(()=>Ld(p),[p]),x=ke(()=>{const A=e.current,T=vp(A);if(A&&T||xe(),A.scrollOptions.shouldPublishImmediately){p();return}m()},[m,p]),b=ke((A,T)=>{e.current&&xe();const k=o.current,R=k.getDroppableRef();R||xe();const H=Khe(R),V={ref:R,descriptor:c,env:H,scrollOptions:T};e.current=V;const Y=Qhe({ref:R,descriptor:c,env:H,windowScroll:A,direction:k.direction,isDropDisabled:k.isDropDisabled,isCombineEnabled:k.isCombineEnabled,shouldClipSubject:!k.ignoreContainerClipping}),W=H.closestScrollable;return W&&(W.setAttribute(Ok.contextId,n.contextId),W.addEventListener("scroll",x,Bk(V.scrollOptions))),Y},[n.contextId,c,x,o]),y=ke(()=>{const A=e.current,T=vp(A);return A&&T||xe(),Qb(T)},[]),_=ke(()=>{const A=e.current;A||xe();const T=vp(A);e.current=null,T&&(m.cancel(),T.removeAttribute(Ok.contextId),T.removeEventListener("scroll",x,Bk(A.scrollOptions)))},[x,m]),S=ke(A=>{const T=e.current;T||xe();const k=vp(T);k||xe(),k.scrollTop+=A.y,k.scrollLeft+=A.x},[]),N=nt(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:y,dragStopped:_,scroll:S}),[_,b,y,S]),E=nt(()=>({uniqueId:i,descriptor:c,callbacks:N}),[N,c,i]);zi(()=>(d.current=E.descriptor,a.droppable.register(E),()=>{e.current&&_(),a.droppable.unregister(E)}),[N,c,_,E,s,a.droppable]),zi(()=>{e.current&&s.updateDroppableIsEnabled(d.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),zi(()=>{e.current&&s.updateDroppableIsCombineEnabled(d.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function wy(){}const zk={width:0,height:0,margin:dce},ife=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?zk:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},rfe=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const i=ife({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?hd.placeholder:null}},afe=t=>{const e=j.useRef(null),n=ke(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:i,onTransitionEnd:a,onClose:s,contextId:o}=t,[c,d]=j.useState(t.animate==="open");j.useEffect(()=>c?i!=="open"?(n(),d(!1),wy):e.current?wy:(e.current=setTimeout(()=>{e.current=null,d(!1)}),n):wy,[i,c,n]);const h=ke(p=>{p.propertyName==="height"&&(a(),i==="close"&&s())},[i,s,a]),f=rfe({isAnimatingOpenOnMount:c,animate:t.animate,placeholder:t.placeholder});return Ft.createElement(t.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":o,onTransitionEnd:h,ref:t.innerRef})};var sfe=Ft.memo(afe);class ofe extends Ft.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const lfe=t=>{const e=j.useContext(Jm);e||xe();const{contextId:n,isMovementAllowed:i}=e,a=j.useRef(null),s=j.useRef(null),{children:o,droppableId:c,type:d,mode:h,direction:f,ignoreContainerClipping:p,isDropDisabled:m,isCombineEnabled:x,snapshot:b,useClone:y,updateViewportMaxScroll:_,getContainerForClone:S}=t,N=ke(()=>a.current,[]),E=ke((W=null)=>{a.current=W},[]);ke(()=>s.current,[]);const A=ke((W=null)=>{s.current=W},[]),T=ke(()=>{i()&&_({maxScroll:jL()})},[i,_]);nfe({droppableId:c,type:d,mode:h,direction:f,isDropDisabled:m,isCombineEnabled:x,ignoreContainerClipping:p,getDroppableRef:N});const k=nt(()=>Ft.createElement(ofe,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:W,data:X,animate:ee})=>Ft.createElement(sfe,{placeholder:X,onClose:W,innerRef:A,animate:ee,contextId:n,onTransitionEnd:T})),[n,T,t.placeholder,t.shouldAnimatePlaceholder,A]),R=nt(()=>({innerRef:E,placeholder:k,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}}),[n,c,k,E]),H=y?y.dragging.draggableId:null,V=nt(()=>({droppableId:c,type:d,isUsingCloneFor:H}),[c,H,d]);function Y(){if(!y)return null;const{dragging:W,render:X}=y,ee=Ft.createElement(zL,{draggableId:W.draggableId,index:W.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(L,P)=>X(L,P,W));return tz.createPortal(ee,S())}return Ft.createElement(Rj.Provider,{value:V},o(R,b),Y())};function cfe(){return document.body||xe(),document.body}const $k={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:cfe},UL=t=>{let e={...t},n;for(n in $k)t[n]===void 0&&(e={...e,[n]:$k[n]});return e},Sy=(t,e)=>t===e.droppable.type,Fk=(t,e)=>e.draggables[t.draggable.id],ufe=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=Sn(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),i=Sn((s,o,c,d,h,f)=>{const p=h.descriptor.id;if(h.descriptor.droppableId===s){const b=f?{render:f,dragging:n(h.descriptor)}:null,y={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:b}}if(!o)return e;if(!d)return t;const x={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}});return(s,o)=>{const c=UL(o),d=c.droppableId,h=c.type,f=!c.isDropDisabled,p=c.renderClone;if(Hd(s)){const m=s.critical;if(!Sy(h,m))return e;const x=Fk(m,s.dimensions),b=Bi(s.impact)===d;return i(d,f,b,b,x,p)}if(s.phase==="DROP_ANIMATING"){const m=s.completed;if(!Sy(h,m.critical))return e;const x=Fk(m.critical,s.dimensions);return i(d,f,IL(m.result)===d,Bi(m.impact)===d,x,p)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const m=s.completed;if(!Sy(h,m.critical))return e;const x=Bi(m.impact)===d,b=!!(m.impact.at&&m.impact.at.type==="COMBINE"),y=m.critical.droppable.id===d;return x?b?t:e:y?t:e}return e}},dfe={updateViewportMaxScroll:wue},Ij=gR(ufe,dfe,(t,e,n)=>({...UL(n),...t,...e}),{context:Dj,areStatePropsEqual:LL})(lfe);const VL=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const hfe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const ffe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const Hk=t=>{const e=ffe(t);return e.charAt(0).toUpperCase()+e.slice(1)};var pfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gfe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const mfe=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:s,iconNode:o,...c},d)=>j.createElement("svg",{ref:d,...pfe,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:VL("lucide",a),...!s&&!gfe(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,f])=>j.createElement(h,f)),...Array.isArray(s)?s:[s]]));const en=(t,e)=>{const n=j.forwardRef(({className:i,...a},s)=>j.createElement(mfe,{ref:s,iconNode:e,className:VL(`lucide-${hfe(Hk(t))}`,`lucide-${t}`,i),...a}));return n.displayName=Hk(t),n};const vfe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xfe=en("arrow-left",vfe);const yfe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bj=en("calendar",yfe);const bfe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zj=en("chevron-down",bfe);const _fe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$j=en("chevron-up",_fe);const jfe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$c=en("clock",jfe);const wfe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Fj=en("copy",wfe);const Sfe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$i=en("file-text",Sfe);const Cfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Hj=en("grid-3x3",Cfe);const Afe=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Uj=en("grip-vertical",Afe);const Nfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Vj=en("image",Nfe);const Efe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Fc=en("info",Efe);const Tfe=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],qj=en("lightbulb",Tfe);const kfe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Gj=en("list",kfe);const Dfe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wj=en("map-pin",Dfe);const Ofe=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Yj=en("megaphone",Ofe);const Mfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Xj=en("panels-top-left",Mfe);const Pfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_c=en("plus",Pfe);const Rfe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Kj=en("save",Rfe);const Lfe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ta=en("trash-2",Lfe);const Ife=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],$s=en("upload",Ife);const Bfe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Jj=en("users",Bfe),Uk="";function zfe({block:t,langTab:e,updateBlock:n}){const i=j.useRef(null),a=`content-${t.id}-${e}`;j.useEffect(()=>{if(i.current){const m=t[`content_${e}`]||"";i.current.innerHTML!==m&&(i.current.innerHTML=m)}},[t.id,e]);const s=(m,x=null)=>{i.current&&(i.current.focus(),document.execCommand(m,!1,x))},o=m=>{const x=m.currentTarget.innerHTML;n(t.id,{[`content_${e}`]:x})},c=m=>{m.key==="Tab"&&(m.preventDefault(),document.execCommand("insertHTML",!1,"&nbsp;&nbsp;&nbsp;&nbsp;")),m.key==="Enter"&&m.shiftKey},d=m=>{m.preventDefault();let x=m.clipboardData.getData("text/plain");x=x.replace(/\r\n/g,`
`).replace(/\n{3,}/g,`

`).replace(/[ \t]+/g," ").trim(),document.execCommand("insertText",!1,x)},h=m=>{const x=m.target.closest("a");x&&(m.preventDefault(),f(x))},f=m=>{const x=m.getAttribute("href")||"",b=m.getAttribute("target");m.textContent;const y=prompt(" URL :",x);if(y===null)return;const _=window.confirm(`    ?

 : ${b==="_blank"?"":""}`);if(m.setAttribute("href",y),_?(m.setAttribute("target","_blank"),m.setAttribute("rel","noopener noreferrer")):(m.removeAttribute("target"),m.removeAttribute("rel")),i.current){const S=i.current.innerHTML;n(t.id,{[`content_${e}`]:S})}},p=()=>{const m=prompt(" URL :");if(!m)return;const x=window.confirm("    ?"),y=window.getSelection().toString();if(y){const _=x?`<a href="${m}" target="_blank" rel="noopener noreferrer">${y}</a>`:`<a href="${m}">${y}</a>`;document.execCommand("insertHTML",!1,_)}else{const _=x?`<a href="${m}" target="_blank" rel="noopener noreferrer">${m}</a>`:`<a href="${m}">${m}</a>`;document.execCommand("insertHTML",!1,_)}};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"html-toolbar",children:[r.jsxs("button",{type:"button",onClick:()=>s("formatBlock","p"),title:"",className:"toolbar-btn",children:[r.jsx($i,{size:16})," P"]}),r.jsx("button",{type:"button",onClick:()=>s("bold"),title:" (Ctrl+B)",className:"toolbar-btn",children:r.jsx("strong",{children:"B"})}),r.jsx("button",{type:"button",onClick:()=>s("italic"),title:" (Ctrl+I)",className:"toolbar-btn",children:r.jsx("em",{children:"I"})}),r.jsx("button",{type:"button",onClick:()=>s("underline"),title:" (Ctrl+U)",className:"toolbar-btn",children:r.jsx("u",{children:"U"})}),r.jsx("button",{type:"button",onClick:()=>s("strikeThrough"),title:"",className:"toolbar-btn",children:r.jsx("s",{children:"S"})}),r.jsx("div",{style:{width:"1px",background:"#e2e8f0",margin:"0 0.25rem"}}),r.jsx("button",{type:"button",onClick:()=>s("formatBlock","h2"),title:" H2",className:"toolbar-btn",children:"H2"}),r.jsx("button",{type:"button",onClick:()=>s("formatBlock","h3"),title:" H3",className:"toolbar-btn",children:"H3"}),r.jsx("div",{style:{width:"1px",background:"#e2e8f0",margin:"0 0.25rem"}}),r.jsx("button",{type:"button",onClick:()=>s("justifyLeft"),title:"  ",className:"toolbar-btn",children:""}),r.jsx("button",{type:"button",onClick:()=>s("justifyCenter"),title:" ",className:"toolbar-btn",children:""}),r.jsx("button",{type:"button",onClick:()=>s("justifyRight"),title:"  ",className:"toolbar-btn",children:""}),r.jsx("div",{style:{width:"1px",background:"#e2e8f0",margin:"0 0.25rem"}}),r.jsx("button",{type:"button",onClick:()=>s("insertUnorderedList"),title:" ",className:"toolbar-btn",children:" List"}),r.jsx("button",{type:"button",onClick:()=>s("insertOrderedList"),title:" ",className:"toolbar-btn",children:"1. List"}),r.jsx("button",{type:"button",onClick:()=>s("indent"),title:" ",className:"toolbar-btn",children:""}),r.jsx("button",{type:"button",onClick:()=>s("outdent"),title:" ",className:"toolbar-btn",children:""}),r.jsx("div",{style:{width:"1px",background:"#e2e8f0",margin:"0 0.25rem"}}),r.jsx("button",{type:"button",onClick:()=>p(),title:"",className:"toolbar-btn",children:"Link"}),r.jsx("button",{type:"button",onClick:()=>s("insertHTML","<br>"),title:" ",className:"toolbar-btn",children:"BR"}),r.jsx("button",{type:"button",onClick:()=>s("removeFormat"),title:" ",className:"toolbar-btn",children:"Clear"})]}),r.jsx("div",{id:a,ref:i,className:"wysiwyg-editor",contentEditable:!0,onInput:o,onKeyDown:c,onClick:h,onPaste:d,suppressContentEditableWarning:!0,style:{minHeight:"300px",padding:"1rem",border:"2px solid #e2e8f0",borderRadius:"8px",backgroundColor:"#fff",lineHeight:"1.5",fontSize:"1rem",resize:"both",overflow:"auto"}}),r.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.5rem"},children:"   . Tab  , Ctrl+B/I/U  .     "})]})}const Fg=[{id:"water_decade",label:" ",pages:[{id:"water_decade_details",name:"  "}]},{id:"events",label:"",pages:[{id:"parallel_events",name:" "},{id:"cultural_events",name:" "},{id:"events_khisor",name:""},{id:"events_rogun",name:""},{id:"events_dushanbe",name:""}]},{id:"conference",label:"",pages:[{id:"conference_intro",name:""},{id:"conference_goals",name:""},{id:"conference_date_venue",name:"   "},{id:"conference_participation",name:""}]},{id:"program",label:"",pages:[{id:"program_structure",name:""},{id:"program_plenary",name:""},{id:"program_events",name:""},{id:"program_forums",name:""}]},{id:"excursions",label:"",pages:[{id:"excursions_main",name:""}]},{id:"exhibition",label:"",pages:[{id:"exhibition_main",name:""}]},{id:"logistics",label:"",pages:[{id:"logistics_practical",name:" "},{id:"logistics_visa",name:"  "},{id:"logistics_press",name:" "},{id:"logistics_flights",name:""},{id:"logistics_accommodation",name:"  "},{id:"logistics_weather",name:""}]}],Vk=Fg.flatMap(t=>t.pages),Cy=[{type:"hero",name:"Hero",icon:Xj,desc:"   "},{type:"text",name:"",icon:$i,desc:"   HTML"},{type:"image",name:"",icon:Vj,desc:" "},{type:"pdf",name:"PDF",icon:$s,desc:" PDF "},{type:"info_cards",name:"-",icon:Hj,desc:"  "},{type:"schedule",name:"",icon:$c,desc:" "},{type:"list",name:"",icon:Gj,desc:" "},{type:"facts",name:"",icon:qj,desc:" "},{type:"cta",name:"CTA",icon:Yj,desc:"  "}],$fe={calendar:Bj,map:Wj,users:Jj,info:Fc},Ffe=t=>t&&Fg.find(n=>n.id===t)?.pages[0]?.id||Vk[0].id,Ay={water_decade_details:{title_ru:"   ",title_en:"Water Decade Details",title_tj:"  ",subtitle_ru:"       2018-2028",subtitle_en:'International Decade for Action "Water for Sustainable Development" 2018-2028',subtitle_tj:"       2018-2028"},conference_intro:{title_ru:"",title_en:"Introduction",title_tj:"",subtitle_ru:" ",subtitle_en:"About the conference",subtitle_tj:"  "},conference_goals:{title_ru:"",title_en:"Goals",title_tj:"",subtitle_ru:"   ",subtitle_en:"Conference goals and objectives",subtitle_tj:"   "},conference_date_venue:{title_ru:"   ",title_en:"Date and Venue",title_tj:"  ",subtitle_ru:"     ",subtitle_en:"Information about time and location",subtitle_tj:"     "},conference_participation:{title_ru:"",title_en:"Participation",title_tj:"",subtitle_ru:"    ",subtitle_en:"How to participate in the conference",subtitle_tj:"       "},program_structure:{title_ru:" ",title_en:"Program Structure",title_tj:" ",subtitle_ru:"   ",subtitle_en:"Overview of main conference formats",subtitle_tj:"   "},program_plenary:{title_ru:" ",title_en:"Plenary Session",title_tj:" ",subtitle_ru:"    ",subtitle_en:"Main conference topics and issues",subtitle_tj:"    "},program_events:{title_ru:"   ",title_en:"Conference Events",title_tj:"   ",subtitle_ru:"    ",subtitle_en:"Thematic sessions and panel discussions",subtitle_tj:"    "},program_forums:{title_ru:"",title_en:"Forums",title_tj:"",subtitle_ru:"  ",subtitle_en:"Thematic conference forums",subtitle_tj:"  "},parallel_events:{title_ru:" ",title_en:"Parallel Events",title_tj:" ",subtitle_ru:"  ",subtitle_en:"Conference side events",subtitle_tj:"  "},cultural_events:{title_ru:" ",title_en:"Cultural Events",title_tj:" ",subtitle_ru:"  ",subtitle_en:"Conference cultural program",subtitle_tj:"  "},events_khisor:{title_ru:"",title_en:"Hisor",title_tj:"",subtitle_ru:"  ",subtitle_en:"Excursion to Hisor",subtitle_tj:"  "},events_rogun:{title_ru:"",title_en:"Rogun",title_tj:"",subtitle_ru:"   ",subtitle_en:"Excursion to Rogun HPP",subtitle_tj:"   "},events_dushanbe:{title_ru:"",title_en:"Dushanbe",title_tj:"",subtitle_ru:"  ",subtitle_en:"Dushanbe city tour",subtitle_tj:"  "},excursions_main:{title_ru:"",title_en:"Excursions",title_tj:"",subtitle_ru:"   ",subtitle_en:"Cultural program for participants",subtitle_tj:"   "},exhibition_main:{title_ru:"",title_en:"Exhibition",title_tj:"",subtitle_ru:"   ",subtitle_en:"International Water Technology Exhibition",subtitle_tj:"   "},logistics_practical:{title_ru:" ",title_en:"Practical Information",title_tj:" ",subtitle_ru:"   ",subtitle_en:"Useful information for participants",subtitle_tj:"   "},logistics_visa:{title_ru:"  ",title_en:"Visa to Tajikistan",title_tj:"  ",subtitle_ru:"   ",subtitle_en:"Visa requirements information",subtitle_tj:"    "},logistics_press:{title_ru:" ",title_en:"Press Accreditation",title_tj:" ",subtitle_ru:"   ",subtitle_en:"Information for media representatives",subtitle_tj:"   "},logistics_flights:{title_ru:"",title_en:"Flights",title_tj:"",subtitle_ru:"  ",subtitle_en:"Flight information",subtitle_tj:"   "},logistics_accommodation:{title_ru:"  ",title_en:"Hotel Accommodation",title_tj:"  ",subtitle_ru:"  ",subtitle_en:"Hotel information",subtitle_tj:"   "},logistics_weather:{title_ru:"",title_en:"Weather",title_tj:" ",subtitle_ru:"   ",subtitle_en:"Weather conditions in Dushanbe",subtitle_tj:"    "}};function Es({embedded:t=!1,initialPage:e=null}){const{token:n}=dn(),[i,a]=j.useState(!0),[s,o]=j.useState(null),[c,d]=j.useState(Ffe(e)),[h,f]=j.useState("ru"),[p,m]=j.useState([]),[x,b]=j.useState(null),[y,_]=j.useState({title_ru:"",title_en:"",title_tj:"",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}),[S,N]=j.useState(!1),[E,A]=j.useState({showBanner:!0,bannerTitle_ru:"",bannerTitle_en:"",bannerTitle_tj:"",bannerSubtitle_ru:"",bannerSubtitle_en:"",bannerSubtitle_tj:""}),{list:T,update:k}=oa();j.useEffect(()=>{R()},[c]);const R=async()=>{a(!0);try{const O=await T(),$=O.find(J=>J.setting_key===c),B=Ay[c]||{};if($&&$.setting_value){const J=JSON.parse($.setting_value);m(J.blocks||[]),A({showBanner:J.showBanner!==void 0?J.showBanner:!0,bannerTitle_ru:J.bannerTitle_ru??B.title_ru??"",bannerTitle_en:J.bannerTitle_en??B.title_en??"",bannerTitle_tj:J.bannerTitle_tj??B.title_tj??"",bannerSubtitle_ru:J.bannerSubtitle_ru??"",bannerSubtitle_en:J.bannerSubtitle_en??"",bannerSubtitle_tj:J.bannerSubtitle_tj??""})}else m([]),A({showBanner:!0,bannerTitle_ru:B.title_ru||"",bannerTitle_en:B.title_en||"",bannerTitle_tj:B.title_tj||"",bannerSubtitle_ru:"",bannerSubtitle_en:"",bannerSubtitle_tj:""});const Q={title_ru:O.find(J=>J.setting_key===`${c}_title_ru`)?.setting_value||B.title_ru||"",title_en:O.find(J=>J.setting_key===`${c}_title_en`)?.setting_value||B.title_en||"",title_tj:O.find(J=>J.setting_key===`${c}_title_tj`)?.setting_value||B.title_tj||"",subtitle_ru:O.find(J=>J.setting_key===`${c}_subtitle_ru`)?.setting_value||B.subtitle_ru||"",subtitle_en:O.find(J=>J.setting_key===`${c}_subtitle_en`)?.setting_value||B.subtitle_en||"",subtitle_tj:O.find(J=>J.setting_key===`${c}_subtitle_tj`)?.setting_value||B.subtitle_tj||""};_(Q)}catch(O){console.error("Error loading page data:",O),m([])}a(!1)},H=async()=>{o("saving");try{const O={showBanner:E.showBanner,bannerTitle_ru:E.bannerTitle_ru,bannerTitle_en:E.bannerTitle_en,bannerTitle_tj:E.bannerTitle_tj,bannerSubtitle_ru:E.bannerSubtitle_ru,bannerSubtitle_en:E.bannerSubtitle_en,bannerSubtitle_tj:E.bannerSubtitle_tj,blocks:p},$=JSON.stringify(O);if(await k(c,$),Ay[c]){const B={[`${c}_title_ru`]:y.title_ru,[`${c}_title_en`]:y.title_en,[`${c}_title_tj`]:y.title_tj,[`${c}_subtitle_ru`]:y.subtitle_ru,[`${c}_subtitle_en`]:y.subtitle_en,[`${c}_subtitle_tj`]:y.subtitle_tj};await k(B)}o("success"),setTimeout(async()=>{await R(),o(null)},1500)}catch(O){console.error("Error saving page:",O),o("error"),setTimeout(()=>o(null),3e3)}},V=O=>{const $=Y(O);m([...p,$]),b($.id)},Y=O=>{const B={id:Date.now().toString(),type:O};switch(O){case"hero":return{...B,title_ru:"",title_en:"",title_tj:"",subtitle_ru:"",subtitle_en:"",subtitle_tj:"",image:""};case"text":return{...B,content_ru:"",content_en:"",content_tj:"",heading_ru:"",heading_en:"",heading_tj:"",background:"white"};case"image":return{...B,url:"",alt_ru:"",alt_en:"",alt_tj:"",caption_ru:"",caption_en:"",caption_tj:"",size:"medium",alignment:"center"};case"info_cards":return{...B,cards:[]};case"schedule":return{...B,heading_ru:"",heading_en:"Schedule",heading_tj:"",items:[]};case"list":return{...B,heading_ru:"",heading_en:"",heading_tj:"",items_ru:[],items_en:[],items_tj:[]};case"facts":return{...B,heading_ru:" ",heading_en:"Interesting Facts",heading_tj:" ",facts_ru:[],facts_en:[],facts_tj:[]};case"cta":return{...B,text_ru:"",text_en:"",text_tj:"",button_text_ru:"",button_text_en:"",button_text_tj:"",button_link:""};default:return B}},W=(O,$)=>{m(p.map(B=>B.id===O?{...B,...$}:B))},X=O=>{confirm("  ?")&&(m(p.filter($=>$.id!==O)),x===O&&b(null))},ee=O=>{const $=p.find(B=>B.id===O);if($){const B={...$,id:Date.now().toString()},Q=p.findIndex(q=>q.id===O),J=[...p];J.splice(Q+1,0,B),m(J)}},L=O=>{if(!O.destination)return;const $=Array.from(p),[B]=$.splice(O.source.index,1);$.splice(O.destination.index,0,B),m($)},P=O=>O.replace(/\.[^/.]+$/,"").replace(/[-_]/g," ").replace(/\d+/g,"").trim(),M=async(O,$,B=!1)=>{const Q=new FormData;Q.append("file",$);try{const J=await fetch(`${Uk}/api/admin/upload`,{method:"POST",headers:{Authorization:`Bearer ${n}`},body:Q});if(!J.ok)throw new Error("Upload failed");const q=await J.json();if(B)W(O,{image:q.url||q.path});else{const re=P($.name);W(O,{url:q.url||q.path,alt_ru:re,alt_en:re,alt_tj:re})}}catch(J){console.error("Error uploading image:",J),alert("  ")}},I=async(O,$,B)=>{if(!$.type.includes("pdf")){alert(",  PDF ");return}const Q=10*1024*1024;if($.size>Q){alert("     10MB");return}const J=new FormData;J.append("file",$);try{const q=await fetch(`${Uk}/api/admin/upload`,{method:"POST",headers:{Authorization:`Bearer ${n}`},body:J});if(!q.ok){const ae=await q.json().catch(()=>({}));throw new Error(ae.message||` : ${q.status}`)}const re=await q.json(),Z=re.url||re.path,ve={[`url_${B}`]:Z,[`fileName_${B}`]:$.name};B==="ru"&&(ve.buttonText_ru=ve.buttonText_ru||" "),B==="en"&&(ve.buttonText_en=ve.buttonText_en||"Download document"),B==="tj"&&(ve.buttonText_tj=ve.buttonText_tj||"  "),W(O,ve)}catch(q){console.error("Error uploading PDF:",q),alert(`  PDF: ${q.message}`)}},G=O=>Cy.find(B=>B.type===O)?.icon||$i,U=O=>Cy.find($=>$.type===O)?.name||O,K=O=>{switch(O.type){case"hero":return O.title_ru||O.title_en||" ";case"text":return O.heading_ru||O.heading_en||" ";case"image":return O.alt_ru||O.alt_en||"";case"pdf":const $=["ru","en","tj"].filter(B=>O[`url_${B}`]).length;return $>0?`PDF (${$}/3 )`:"PDF ";case"info_cards":return`${(O.cards||[]).length} `;case"schedule":return`${(O.items||[]).length} `;case"list":return O.heading_ru||"";case"facts":return`${(O.facts_ru||[]).length} `;case"cta":return O.text_ru||"  ";default:return""}},z=O=>{switch(O.type){case"hero":return r.jsxs("div",{className:"block-editor-content",children:[r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:O.image||"",onChange:$=>W(O.id,{image:$.target.value}),placeholder:"https://example.com/image.jpg   "}),r.jsxs("label",{className:"file-upload-btn",children:[r.jsx($s,{size:16})," ",r.jsx("input",{type:"file",accept:"image/*",onChange:$=>$.target.files[0]&&M(O.id,$.target.files[0],!0),style:{display:"none"}})]})]})}),O.image&&r.jsx("div",{className:"image-preview-box",children:r.jsx("img",{src:O.image,alt:"Hero Background Preview",style:{maxWidth:"100%",maxHeight:"200px"}})}),r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:h==="ru"?"active":"",onClick:()=>f("ru"),children:""}),r.jsx("button",{className:h==="en"?"active":"",onClick:()=>f("en"),children:"ENG"}),r.jsx("button",{className:h==="tj"?"active":"",onClick:()=>f("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:O[`title_${h}`]||"",onChange:$=>W(O.id,{[`title_${h}`]:$.target.value}),placeholder:" "})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:O[`subtitle_${h}`]||"",onChange:$=>W(O.id,{[`subtitle_${h}`]:$.target.value}),placeholder:" "})]})})]});case"text":return r.jsxs("div",{className:"block-editor-content",children:[r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsxs("select",{value:O.background||"white",onChange:$=>W(O.id,{background:$.target.value}),children:[r.jsx("option",{value:"white",children:""}),r.jsx("option",{value:"gray",children:""})]})]})}),r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:h==="ru"?"active":"",onClick:()=>f("ru"),children:""}),r.jsx("button",{className:h==="en"?"active":"",onClick:()=>f("en"),children:"ENG"}),r.jsx("button",{className:h==="tj"?"active":"",onClick:()=>f("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:O[`heading_${h}`]||"",onChange:$=>W(O.id,{[`heading_${h}`]:$.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" ( )"}),r.jsx(zfe,{block:O,langTab:h,updateBlock:W})]})})]});case"image":return r.jsxs("div",{className:"block-editor-content",children:[r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"URL "}),r.jsx("input",{type:"text",value:O.url||"",onChange:$=>W(O.id,{url:$.target.value}),placeholder:"https://example.com/image.jpg"}),r.jsxs("label",{className:"file-upload-btn",children:[r.jsx($s,{size:16}),r.jsx("span",{children:" "}),r.jsx("input",{type:"file",accept:"image/*",onChange:$=>$.target.files[0]&&M(O.id,$.target.files[0]),style:{display:"none"}})]})]})}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsxs("select",{value:O.size||"medium",onChange:$=>W(O.id,{size:$.target.value}),children:[r.jsx("option",{value:"small",children:" (400px)"}),r.jsx("option",{value:"medium",children:" (800px)"}),r.jsx("option",{value:"large",children:" (1200px)"}),r.jsx("option",{value:"full",children:" "})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsxs("select",{value:O.alignment||"center",onChange:$=>W(O.id,{alignment:$.target.value}),children:[r.jsx("option",{value:"left",children:"  "}),r.jsx("option",{value:"center",children:" "}),r.jsx("option",{value:"right",children:"  "})]})]})]}),O.url&&r.jsx("div",{className:"image-preview-box",children:r.jsx("img",{src:O.url,alt:"Preview",style:{maxWidth:O.size==="small"?"400px":O.size==="medium"?"800px":O.size==="large"?"1200px":"100%",margin:O.alignment==="left"?"0 auto 0 0":O.alignment==="right"?"0 0 0 auto":"0 auto"}})}),r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:h==="ru"?"active":"",onClick:()=>f("ru"),children:""}),r.jsx("button",{className:h==="en"?"active":"",onClick:()=>f("en"),children:"ENG"}),r.jsx("button",{className:h==="tj"?"active":"",onClick:()=>f("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Alt  (   ,  )"}),r.jsx("input",{type:"text",value:O[`alt_${h}`]||"",onChange:$=>W(O.id,{[`alt_${h}`]:$.target.value}),placeholder:" "})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" ()"}),r.jsx("input",{type:"text",value:O[`caption_${h}`]||"",onChange:$=>W(O.id,{[`caption_${h}`]:$.target.value}),placeholder:"   "})]})})]});case"pdf":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:h==="ru"?"active":"",onClick:()=>f("ru"),children:""}),r.jsx("button",{className:h==="en"?"active":"",onClick:()=>f("en"),children:"ENG"}),r.jsx("button",{className:h==="tj"?"active":"",onClick:()=>f("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:["PDF  (",h==="ru"?"":h==="en"?"English":"",")"]}),r.jsx("input",{type:"text",value:O[`url_${h}`]||"",readOnly:!0,placeholder:"PDF   "}),r.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[r.jsxs("label",{className:"file-upload-btn",children:[r.jsx($s,{size:16}),r.jsx("span",{children:" PDF"}),r.jsx("input",{type:"file",accept:"application/pdf,.pdf",onChange:$=>$.target.files[0]&&I(O.id,$.target.files[0],h),style:{display:"none"}})]}),O[`url_${h}`]&&r.jsxs("button",{className:"file-upload-btn",style:{background:"#fee2e2",color:"#dc2626",border:"1px solid #fca5a5"},onClick:()=>W(O.id,{[`url_${h}`]:"",[`fileName_${h}`]:""}),children:[r.jsx(ta,{size:16}),r.jsx("span",{children:""})]})]})]})}),O[`url_${h}`]&&r.jsxs("div",{className:"pdf-preview-box",children:[r.jsx($i,{size:48,style:{color:"#dc2626"}}),r.jsxs("p",{style:{marginTop:"8px",fontSize:"14px",color:"#6b7280"},children:["PDF : ",O[`fileName_${h}`]||"document.pdf"]}),r.jsx("a",{href:O[`url_${h}`],target:"_blank",rel:"noopener noreferrer",style:{color:"#2d5a87",textDecoration:"underline",fontSize:"14px",marginTop:"4px",display:"inline-block"},children:" PDF"})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"  "}),r.jsx("input",{type:"text",value:O[`buttonText_${h}`]||"",onChange:$=>W(O.id,{[`buttonText_${h}`]:$.target.value}),placeholder:" "})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"  ()"}),r.jsx("textarea",{rows:"2",value:O[`description_${h}`]||"",onChange:$=>W(O.id,{[`description_${h}`]:$.target.value}),placeholder:"  "})]})})]});case"info_cards":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("button",{className:"btn-add-item",onClick:()=>{const $={id:Date.now().toString(),icon:"calendar",title_ru:"",title_en:"",title_tj:"",text_ru:"",text_en:"",text_tj:""};W(O.id,{cards:[...O.cards||[],$]})},children:[r.jsx(_c,{size:16}),r.jsx("span",{children:" "})]}),r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:h==="ru"?"active":"",onClick:()=>f("ru"),children:""}),r.jsx("button",{className:h==="en"?"active":"",onClick:()=>f("en"),children:"ENG"}),r.jsx("button",{className:h==="tj"?"active":"",onClick:()=>f("tj"),children:""})]}),(O.cards||[]).map(($,B)=>{const Q=$fe[$.icon]||Fc;return r.jsxs("div",{className:"nested-item",children:[r.jsxs("div",{className:"nested-item-header",children:[r.jsxs("span",{children:[r.jsx(Q,{size:16}),"  #",B+1]}),r.jsx("button",{onClick:()=>W(O.id,{cards:O.cards.filter(J=>J.id!==$.id)}),children:r.jsx(ta,{size:14})})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsxs("select",{value:$.icon,onChange:J=>{const q=O.cards.map(re=>re.id===$.id?{...re,icon:J.target.value}:re);W(O.id,{cards:q})},children:[r.jsx("option",{value:"calendar",children:""}),r.jsx("option",{value:"map",children:""}),r.jsx("option",{value:"users",children:""}),r.jsx("option",{value:"info",children:""})]})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:$[`title_${h}`]||"",onChange:J=>{const q=O.cards.map(re=>re.id===$.id?{...re,[`title_${h}`]:J.target.value}:re);W(O.id,{cards:q})}})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("textarea",{rows:"2",value:$[`text_${h}`]||"",onChange:J=>{const q=O.cards.map(re=>re.id===$.id?{...re,[`text_${h}`]:J.target.value}:re);W(O.id,{cards:q})}})]})})]},$.id)})]});case"schedule":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:h==="ru"?"active":"",onClick:()=>f("ru"),children:""}),r.jsx("button",{className:h==="en"?"active":"",onClick:()=>f("en"),children:"ENG"}),r.jsx("button",{className:h==="tj"?"active":"",onClick:()=>f("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:O[`heading_${h}`]||"",onChange:$=>W(O.id,{[`heading_${h}`]:$.target.value})})]})}),r.jsxs("button",{className:"btn-add-item",onClick:()=>{const $={id:Date.now().toString(),time:"",text_ru:"",text_en:"",text_tj:""};W(O.id,{items:[...O.items||[],$]})},children:[r.jsx(_c,{size:16}),r.jsx("span",{children:"  "})]}),(O.items||[]).map(($,B)=>r.jsxs("div",{className:"nested-item",children:[r.jsxs("div",{className:"nested-item-header",children:[r.jsxs("span",{children:[r.jsx($c,{size:16}),"  #",B+1]}),r.jsx("button",{onClick:()=>W(O.id,{items:O.items.filter(Q=>Q.id!==$.id)}),children:r.jsx(ta,{size:14})})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:$.time||"",onChange:Q=>{const J=O.items.map(q=>q.id===$.id?{...q,time:Q.target.value}:q);W(O.id,{items:J})},placeholder:"08:00"})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:$[`text_${h}`]||"",onChange:Q=>{const J=O.items.map(q=>q.id===$.id?{...q,[`text_${h}`]:Q.target.value}:q);W(O.id,{items:J})}})]})})]},$.id))]});case"list":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:h==="ru"?"active":"",onClick:()=>f("ru"),children:""}),r.jsx("button",{className:h==="en"?"active":"",onClick:()=>f("en"),children:"ENG"}),r.jsx("button",{className:h==="tj"?"active":"",onClick:()=>f("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:O[`heading_${h}`]||"",onChange:$=>W(O.id,{[`heading_${h}`]:$.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"  (  )"}),r.jsx("textarea",{rows:"6",value:(O[`items_${h}`]||[]).join(`
`),onChange:$=>W(O.id,{[`items_${h}`]:$.target.value.split(`
`).filter(Boolean)}),placeholder:` 1
 2
 3`})]})})]});case"facts":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:h==="ru"?"active":"",onClick:()=>f("ru"),children:""}),r.jsx("button",{className:h==="en"?"active":"",onClick:()=>f("en"),children:"ENG"}),r.jsx("button",{className:h==="tj"?"active":"",onClick:()=>f("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:O[`heading_${h}`]||"",onChange:$=>W(O.id,{[`heading_${h}`]:$.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" (  )"}),r.jsx("textarea",{rows:"8",value:(O[`facts_${h}`]||[]).join(`
`),onChange:$=>W(O.id,{[`facts_${h}`]:$.target.value.split(`
`).filter(Boolean)}),placeholder:` 1
 2
 3`})]})})]});case"cta":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:h==="ru"?"active":"",onClick:()=>f("ru"),children:""}),r.jsx("button",{className:h==="en"?"active":"",onClick:()=>f("en"),children:"ENG"}),r.jsx("button",{className:h==="tj"?"active":"",onClick:()=>f("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("textarea",{rows:"3",value:O[`text_${h}`]||"",onChange:$=>W(O.id,{[`text_${h}`]:$.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:O[`button_text_${h}`]||"",onChange:$=>W(O.id,{[`button_text_${h}`]:$.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:O.button_link||"",onChange:$=>W(O.id,{button_link:$.target.value}),placeholder:"/registration"})]})})]});default:return r.jsx("div",{children:"  "})}};return r.jsxs("div",{className:"elementor-builder",children:[r.jsxs("div",{className:"elementor-topbar",children:[r.jsx("div",{className:"topbar-left",children:r.jsx("h2",{children:" "})}),r.jsx("div",{className:"topbar-right",children:r.jsxs("button",{className:`btn-save ${s==="saving"?"saving":""} ${s==="success"?"success":""}`,onClick:H,disabled:s==="saving",children:[r.jsx(Kj,{size:16}),s==="saving"?"...":s==="success"?"":""]})})]}),r.jsx("div",{className:"elementor-page-tabs",style:{flexWrap:"wrap",gap:"8px",padding:"12px 20px"},children:(e?Fg.filter(O=>O.id===e):Fg).map(O=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginRight:"16px",marginBottom:"4px"},children:[!e&&r.jsxs("span",{style:{fontSize:"11px",color:"#6b7280",fontWeight:"600",textTransform:"uppercase",marginRight:"6px"},children:[O.label,":"]}),O.pages.map($=>r.jsx("button",{className:`page-tab ${c===$.id?"active":""}`,onClick:()=>d($.id),style:{padding:"6px 12px",fontSize:"12px"},children:$.name},$.id))]},O.id))}),i?r.jsxs("div",{className:"elementor-loading",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{children:"..."})]}):r.jsxs("div",{className:"elementor-workspace",children:[r.jsxs("div",{className:"elementor-sidebar",children:[r.jsx("div",{className:"sidebar-header",children:r.jsx("h3",{children:" "})}),r.jsx("div",{className:"block-picker-grid",children:Cy.map(O=>{const $=O.icon;return r.jsxs("button",{className:"block-picker-item",onClick:()=>V(O.type),title:O.desc,children:[r.jsx("div",{className:"block-icon",children:r.jsx($,{size:28,strokeWidth:1.5})}),r.jsx("div",{className:"block-name",children:O.name})]},O.type)})})]}),r.jsxs("div",{className:"elementor-canvas",children:[r.jsxs("div",{style:{background:"#fff",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"1rem 1.5rem",marginBottom:"1rem"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:E.showBanner?"0.75rem":0},children:[r.jsx("h3",{style:{margin:0,fontSize:"0.95rem",fontWeight:600,color:"#1e293b"},children:" "}),r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[r.jsx("span",{style:{fontSize:"0.85rem",color:"#64748b"},children:E.showBanner?"":""}),r.jsx("input",{type:"checkbox",checked:E.showBanner,onChange:O=>A({...E,showBanner:O.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}})]})]}),E.showBanner&&r.jsxs("div",{children:[r.jsxs("div",{className:"lang-tabs-inline",style:{marginBottom:"0.5rem"},children:[r.jsx("button",{className:h==="ru"?"active":"",onClick:()=>f("ru"),children:""}),r.jsx("button",{className:h==="en"?"active":"",onClick:()=>f("en"),children:"ENG"}),r.jsx("button",{className:h==="tj"?"active":"",onClick:()=>f("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:E[`bannerTitle_${h}`]||"",onChange:O=>A({...E,[`bannerTitle_${h}`]:O.target.value}),placeholder:Ay[c]?.[`title_${h}`]||" "})]})}),r.jsx("div",{className:"form-row",style:{marginTop:"0.5rem"},children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:E[`bannerSubtitle_${h}`]||"",onChange:O=>A({...E,[`bannerSubtitle_${h}`]:O.target.value}),placeholder:"  ()"})]})})]})]}),p.length===0?r.jsxs("div",{className:"canvas-empty",children:[r.jsx("div",{className:"empty-icon",children:r.jsx($i,{size:64,strokeWidth:1})}),r.jsx("h3",{children:"  "}),r.jsx("p",{children:"  ,     "})]}):r.jsx(Pj,{onDragEnd:L,children:r.jsx(Ij,{droppableId:"blocks",children:O=>r.jsxs("div",{className:"blocks-container",...O.droppableProps,ref:O.innerRef,children:[p.map(($,B)=>{const Q=G($.type);return r.jsx(Lj,{draggableId:$.id,index:B,children:(J,q)=>r.jsxs("div",{ref:J.innerRef,...J.draggableProps,className:`block-wrapper ${x===$.id?"expanded":""} ${q.isDragging?"dragging":""}`,children:[r.jsxs("div",{className:"block-header",...J.dragHandleProps,children:[r.jsxs("div",{className:"block-header-left",children:[r.jsx("span",{className:"drag-handle",children:r.jsx(Uj,{size:20})}),r.jsx("span",{className:"block-type-icon",children:r.jsx(Q,{size:20})}),r.jsxs("span",{className:"block-title",children:[U($.type),": ",K($)]})]}),r.jsxs("div",{className:"block-header-right",children:[r.jsx("button",{className:"btn-block-action",onClick:()=>b(x===$.id?null:$.id),title:x===$.id?"":"",children:x===$.id?r.jsx($j,{size:16}):r.jsx(zj,{size:16})}),r.jsx("button",{className:"btn-block-action",onClick:()=>ee($.id),title:"",children:r.jsx(Fj,{size:16})}),r.jsx("button",{className:"btn-block-action danger",onClick:()=>X($.id),title:"",children:r.jsx(ta,{size:16})})]})]}),x===$.id&&r.jsx("div",{className:"block-editor",children:z($)})]})},$.id)}),O.placeholder]})})})]})]})]})}function Hfe({embedded:t=!1}){const[e,n]=j.useState(!0),[i,a]=j.useState(null),[s,o]=j.useState(null),[c,d]=j.useState(!1),[h,f]=j.useState("ru"),[p,m]=j.useState(!1),[x,b]=j.useState("ru"),{list:y,update:_}=oa(),{upload:S,uploading:N}=M2(),E=j.useRef(null),[A,T]=j.useState([]),[k,R]=j.useState({title_ru:" ",title_en:"Cultural Program",title_tj:" ",subtitle_ru:"    ",subtitle_en:"Discover the beauty of Tajikistan",subtitle_tj:"   ",sectionTitle_ru:" ",sectionTitle_en:"All Excursions",sectionTitle_tj:" ",sectionSubtitle_ru:"   ",sectionSubtitle_en:"Choose an excursion that interests you",sectionSubtitle_tj:"     "}),H=[{id:1,image:"https://khovar.tj/rus/wp-content/uploads/2024/06/Dushanbe-Ismoili-Somoni-3.jpg",duration_ru:"4 ",duration_en:"4 hours",duration_tj:"4 ",category_ru:" ",category_en:"City Tour",category_tj:" ",title_ru:"   ",title_en:"Dushanbe City Tour",title_tj:"  ",description_ru:"    ",description_en:"Explore the landmarks of Tajikistan's capital",description_tj:"      ",highlights_ru:[" "," ",""],highlights_en:["National Museum","Dosti Square","Chorbag"],highlights_tj:[" "," ",""]},{id:2,image:"https://www.tajagroun.tj/images/posts/2020/norak.jpg",duration_ru:"6 ",duration_en:"6 hours",duration_tj:"6 ",category_ru:" ",category_en:"Technical Tour",category_tj:" ",title_ru:" ",title_en:"Nurek Dam",title_tj:"- ",description_ru:"       ",description_en:"Visit one of the world's tallest dams",description_tj:"      ",highlights_ru:["  300"," "," "],highlights_en:["300m tall dam","Machine hall","Panoramic views"],highlights_tj:[" 300  "," "," "]},{id:3,image:"https://cdnn1.img.sputnik.tj/img/102623/35/1026233535_0:0:3070:2048_600x0_80_0_1_e6b53e15cb4a96bf7c8398b4ac18a2d6.jpg",duration_ru:"8 ",duration_en:"8 hours",duration_tj:"8 ",category_ru:"",category_en:"Nature",category_tj:"",title_ru:"  ",title_en:"Seven Lakes of Marguzor",title_tj:"  ",description_ru:"     ",description_en:"Enjoy the beauty of mountain lakes in the Fann Mountains",description_tj:"       ",highlights_ru:["  "," ",""],highlights_en:["Crystal clear water","Mountain landscapes","Photography"],highlights_tj:["  "," ",""]},{id:4,image:"https://cdnn1.img.sputnik.tj/img/102926/72/1029267271_0:158:3001:1846_1920x0_80_0_0_10837272481c406dd9046eb48b8e4b34.jpg",duration_ru:"5 ",duration_en:"5 hours",duration_tj:"5 ",category_ru:"",category_en:"History",category_tj:"",title_ru:" ",title_en:"Hisor Fortress",title_tj:" ",description_ru:"      2500- ",description_en:"Visit an ancient fortress with over 2500 years of history",description_tj:"      2500-  ",highlights_ru:[" ",""," "],highlights_en:["Ancient gates","Madrasah","Archaeological museum"],highlights_tj:[" ",""," "]}],[V,Y]=j.useState({image:"",duration_ru:"",duration_en:"",duration_tj:"",category_ru:"",category_en:"",category_tj:"",title_ru:"",title_en:"",title_tj:"",description_ru:"",description_en:"",description_tj:"",highlights_ru:[],highlights_en:[],highlights_tj:[]}),[W,X]=j.useState({ru:"",en:"",tj:""});j.useEffect(()=>{ee()},[]);const ee=async()=>{n(!0);try{const Q=await y(),J={};Q.forEach(q=>{J[q.setting_key]=q.setting_value}),J.excursions_data?T(JSON.parse(J.excursions_data)):T(H),J.excursions_page_settings&&R(JSON.parse(J.excursions_page_settings))}catch(Q){console.error("Failed to load excursions:",Q),T(H)}finally{n(!1)}},L=async(Q=A,J=k)=>{a({type:"saving",message:"..."});try{await _([{key:"excursions_data",value:JSON.stringify(Q)},{key:"excursions_page_settings",value:JSON.stringify(J)}]),a({type:"success",message:" !"}),setTimeout(()=>a(null),3e3)}catch(q){console.error("Failed to save excursions:",q),a({type:"error",message:" "}),setTimeout(()=>a(null),5e3)}},P=()=>{Y({image:"",duration_ru:"",duration_en:"",duration_tj:"",category_ru:"",category_en:"",category_tj:"",title_ru:"",title_en:"",title_tj:"",description_ru:"",description_en:"",description_tj:"",highlights_ru:[],highlights_en:[],highlights_tj:[]}),X({ru:"",en:"",tj:""})},M=()=>{P(),o(null),d(!0)},I=Q=>{Y({...Q,highlights_ru:Q.highlights_ru||[],highlights_en:Q.highlights_en||[],highlights_tj:Q.highlights_tj||[]}),o(Q.id),d(!0)},G=()=>{d(!1),o(null),P()},U=async()=>{const Q={id:Date.now(),...V},J=[...A,Q];T(J),G(),await L(J)},K=async()=>{const Q=A.map(J=>J.id===s?{...J,...V}:J);T(Q),G(),await L(Q)},z=async Q=>{if(!window.confirm("  ?"))return;const J=A.filter(q=>q.id!==Q);T(J),await L(J)},O=async(Q,J)=>{const q=Q+J;if(q<0||q>=A.length)return;const re=[...A],Z=re[Q];re[Q]=re[q],re[q]=Z,T(re),await L(re)},$=async Q=>{const J=Q.target.files?.[0];if(J)try{const q=await S(J);q.success&&Y({...V,image:q.url})}catch(q){console.error("Upload failed:",q),alert("  : "+q.message)}},B=()=>{E.current?.click()};return e?r.jsx("div",{className:"excursions-manager",children:r.jsx("div",{className:"section-loading",children:"..."})}):r.jsxs("div",{className:`excursions-manager ${t?"embedded":""}`,children:[r.jsxs("div",{className:"page-manager-header",children:[r.jsxs("div",{className:"page-manager-title",children:[r.jsx("h1",{children:""}),r.jsx("p",{children:"  "})]}),r.jsxs("button",{className:"page-settings-btn",onClick:()=>m(!0),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})})," "]})]}),i&&r.jsxs("div",{className:`save-status save-status--${i.type}`,children:[i.type==="saving"&&r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),i.type==="success"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),i.type==="error"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),r.jsx("span",{children:i.message}),r.jsx("button",{className:"save-status-close",onClick:()=>a(null),children:r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsx("div",{className:"excursions-layout",children:r.jsxs("div",{className:"admin-card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{children:" "}),r.jsx("button",{className:"btn-add",onClick:M,children:"+  "})]}),r.jsx("div",{className:"excursions-list",children:A.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:" "}),r.jsx("button",{className:"btn-add",onClick:M,children:"+   "})]}):A.map((Q,J)=>r.jsxs("div",{className:"excursion-card-admin",children:[r.jsxs("div",{className:"excursion-card-image-wrapper",children:[r.jsx("div",{className:"excursion-card-image",children:r.jsx("img",{src:Q.image,alt:Q.title_ru})}),r.jsxs("div",{className:"excursion-card-order",children:[r.jsx("button",{className:"btn-move",onClick:()=>O(J,-1),disabled:J===0,children:""}),r.jsx("span",{children:J+1}),r.jsx("button",{className:"btn-move",onClick:()=>O(J,1),disabled:J===A.length-1,children:""})]})]}),r.jsxs("div",{className:"excursion-card-body",children:[r.jsxs("div",{className:"excursion-card-content",children:[r.jsx("h4",{children:Q.title_ru}),r.jsx("p",{className:"excursion-card-description",children:Q.description_ru}),r.jsxs("span",{className:"excursion-card-duration",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]}),Q.duration_ru]})]}),r.jsxs("div",{className:"excursion-card-actions",children:[r.jsx("button",{className:"btn-edit",onClick:()=>I(Q),children:""}),r.jsx("button",{className:"btn-delete",onClick:()=>z(Q.id),children:""})]})]})]},Q.id))})]})}),c&&r.jsx("div",{className:"settings-modal-overlay",onClick:G,children:r.jsxs("div",{className:"settings-modal",onClick:Q=>Q.stopPropagation(),children:[r.jsxs("div",{className:"settings-modal-header",children:[r.jsx("h2",{children:s===null?" ":" "}),r.jsx("button",{className:"settings-modal-close",onClick:G,children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsxs("div",{className:"settings-modal-body",children:[r.jsxs("div",{className:"modal-text-tabs",children:[r.jsx("button",{className:`modal-text-tab ${h==="ru"?"active":""}`,onClick:()=>f("ru"),children:""}),r.jsx("button",{className:`modal-text-tab ${h==="en"?"active":""}`,onClick:()=>f("en"),children:""}),r.jsx("button",{className:`modal-text-tab ${h==="tj"?"active":""}`,onClick:()=>f("tj"),children:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[h==="ru"?"":h==="en"?"Title":"",h!=="ru"&&` (${h==="en"?"":""})`]}),r.jsx("input",{type:"text",value:V[`title_${h}`],onChange:Q=>Y({...V,[`title_${h}`]:Q.target.value})})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[h==="ru"?"":h==="en"?"Description":"",h!=="ru"&&` (${h==="en"?"":""})`]}),r.jsx("textarea",{value:V[`description_${h}`],onChange:Q=>Y({...V,[`description_${h}`]:Q.target.value}),rows:"4",placeholder:h==="ru"?`  ...
  1
  2`:h==="en"?`Explore the landmarks...
 Item 1
 Item 2`:`  ...
  1
  2`})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[h==="ru"?"":h==="en"?"Duration":"",h!=="ru"&&` (${h==="en"?"":""})`]}),r.jsx("input",{type:"text",value:V[`duration_${h}`],onChange:Q=>Y({...V,[`duration_${h}`]:Q.target.value}),placeholder:h==="ru"?"4 ":h==="en"?"4 hours":"4 "})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsxs("div",{className:"image-source-toggle",children:[r.jsx("input",{type:"file",ref:E,onChange:$,accept:"image/*",style:{display:"none"}}),r.jsx("button",{type:"button",className:"btn-upload-modern",onClick:B,disabled:N,children:N?r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"upload-spinner",viewBox:"0 0 24 24",width:"18",height:"18",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),"..."]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})})," "]})}),r.jsx("span",{className:"image-upload-or",children:""}),r.jsx("button",{type:"button",className:"btn-url-modern",onClick:()=>{const Q=prompt(" URL :");Q&&Y({...V,image:Q})},children:" URL "})]}),V.image&&r.jsxs("div",{className:"image-preview-modern",children:[r.jsx("img",{src:V.image,alt:"Preview"}),r.jsx("button",{type:"button",className:"image-preview-remove-modern",onClick:()=>Y({...V,image:""}),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})]})]}),r.jsxs("div",{className:"settings-modal-footer",children:[r.jsx("button",{className:"btn-cancel",onClick:G,children:""}),r.jsx("button",{className:"btn-save",onClick:()=>s===null?U():K(),children:s===null?"":""})]})]})}),p&&r.jsx("div",{className:"settings-modal-overlay",onClick:()=>m(!1),children:r.jsxs("div",{className:"settings-modal",onClick:Q=>Q.stopPropagation(),children:[r.jsxs("div",{className:"settings-modal-header",children:[r.jsx("h2",{children:" "}),r.jsx("button",{className:"settings-modal-close",onClick:()=>m(!1),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsxs("div",{className:"settings-modal-body",children:[r.jsxs("div",{className:"lang-tab-buttons",children:[r.jsxs("button",{className:`lang-tab-btn ${x==="ru"?"active":""}`,onClick:()=>b("ru"),children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-tab-flag"}),r.jsx("span",{children:""})]}),r.jsxs("button",{className:`lang-tab-btn ${x==="en"?"active":""}`,onClick:()=>b("en"),children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-tab-flag"}),r.jsx("span",{children:"English"})]}),r.jsxs("button",{className:`lang-tab-btn ${x==="tj"?"active":""}`,onClick:()=>b("tj"),children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-tab-flag"}),r.jsx("span",{children:""})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:k[`title_${x}`],onChange:Q=>R({...k,[`title_${x}`]:Q.target.value})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("textarea",{rows:"2",value:k[`subtitle_${x}`],onChange:Q=>R({...k,[`subtitle_${x}`]:Q.target.value})})]})]}),r.jsxs("div",{className:"settings-modal-footer",children:[r.jsx("button",{className:"btn-cancel",onClick:()=>m(!1),children:""}),r.jsx("button",{className:"btn-save",onClick:()=>{L(),m(!1)},children:""})]})]})})]})}function Ufe({embedded:t=!1}){const[e,n]=j.useState(!0),[i,a]=j.useState(null),[s,o]=j.useState(!1),[c,d]=j.useState("ru"),[h,f]=j.useState("hotels"),[p,m]=j.useState("ru"),[x,b]=j.useState(null),[y,_]=j.useState(null),{list:S,update:N}=oa(),{upload:E,uploading:A}=M2(),T=j.useRef(null),[k,R]=j.useState([]),[H,V]=j.useState([]),[Y,W]=j.useState([]),[X,ee]=j.useState([]),[L,P]=j.useState({title_ru:"",title_en:"Logistics",title_tj:"",subtitle_ru:"  ",subtitle_en:"Information for participants",subtitle_tj:"  ",hotels_title_ru:"",hotels_title_en:"Accommodation",hotels_title_tj:"",hotels_subtitle_ru:"    ",hotels_subtitle_en:"Recommended hotels for conference participants",hotels_subtitle_tj:"    ",transport_title_ru:"",transport_title_en:"Transport",transport_title_tj:"",transport_subtitle_ru:"     ",transport_subtitle_en:"How to get to the conference venue",transport_subtitle_tj:"        ",visa_title_ru:" ",visa_title_en:"Visa Information",visa_title_tj:" ",visa_subtitle_ru:"    ",visa_subtitle_en:"Requirements for entry to Tajikistan",visa_subtitle_tj:"    ",useful_title_ru:" ",useful_title_en:"Useful Information",useful_title_tj:" ",useful_subtitle_ru:"   ",useful_subtitle_en:"Practical tips for participants",useful_subtitle_tj:"   "}),M=[{id:1,image:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=600&h=400&fit=crop",stars:5,name_ru:"Hyatt Regency Dushanbe",name_en:"Hyatt Regency Dushanbe",name_tj:"Hyatt Regency ",description_ru:"     ",description_en:"Official conference hotel in the city center",description_tj:"     ",amenities_ru:[" ","",""],amenities_en:["City center","Transfer","SPA"],amenities_tj:[" ","",""]},{id:2,image:"https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?w=600&h=400&fit=crop",stars:5,name_ru:"Serena Hotel Dushanbe",name_en:"Serena Hotel Dushanbe",name_tj:"Serena Hotel ",description_ru:"    ",description_en:"Luxury hotel in the historic district",description_tj:"    ",amenities_ru:[" ","",""],amenities_en:["Historic district","Fitness","Restaurant"],amenities_tj:[" ","",""]}],I=[{id:1,icon:"plane",title_ru:"",title_en:"Airport",title_tj:"",description_ru:"     20    ",description_en:"Dushanbe International Airport is 20 minutes from the city center",description_tj:"   20    "},{id:2,icon:"bus",title_ru:"",title_en:"Shuttle Service",title_tj:" ",description_ru:"      ",description_en:"Free airport shuttle for all participants",description_tj:"      "},{id:3,icon:"taxi",title_ru:"",title_en:"Taxi",title_tj:"",description_ru:"      ",description_en:"Taxis available 24/7 at the airport and around the city",description_tj:"       "}],G=[{id:1,icon:"check",title_ru:" ",title_en:"Visa-Free Entry",title_tj:"  ",description_ru:" 52     ",description_en:"Citizens of 52 countries can enter visa-free",description_tj:" 52      "},{id:2,icon:"computer",title_ru:" ",title_en:"E-Visa",title_tj:" ",description_ru:"     ",description_en:"E-visa available for most countries",description_tj:"      "},{id:3,icon:"help",title_ru:" ",title_en:"Visa Support",title_tj:" ",description_ru:"    ",description_en:"Organizers will help with visa processing",description_tj:"     "}],U=[{id:1,icon:"weather",title_ru:"",title_en:"Weather",title_tj:" ",description_ru:"   20-30C, ",description_en:"May temperatures 20-30C, sunny",description_tj:"    20-30C, "},{id:2,icon:"money",title_ru:"",title_en:"Currency",title_tj:"",description_ru:"  -  (TJS)",description_en:"National currency is Somoni (TJS)",description_tj:"  -  (TJS)"},{id:3,icon:"phone",title_ru:"",title_en:"Communication",title_tj:"",description_ru:"SIM-   ",description_en:"SIM cards available at the airport",description_tj:" SIM    "}],[K,z]=j.useState({image:"",stars:5,name_ru:"",name_en:"",name_tj:"",description_ru:"",description_en:"",description_tj:"",amenities_ru:[],amenities_en:[],amenities_tj:[]}),[O,$]=j.useState({icon:"check",title_ru:"",title_en:"",title_tj:"",description_ru:"",description_en:"",description_tj:""}),[B,Q]=j.useState({ru:"",en:"",tj:""}),[J,q]=j.useState("ru");j.useEffect(()=>{re()},[]);const re=async()=>{n(!0);try{const de=await S(),Ne={};de.forEach(Ge=>{Ne[Ge.setting_key]=Ge.setting_value}),R(Ne.logistics_hotels?JSON.parse(Ne.logistics_hotels):M),V(Ne.logistics_transport?JSON.parse(Ne.logistics_transport):I),W(Ne.logistics_visa?JSON.parse(Ne.logistics_visa):G),ee(Ne.logistics_useful?JSON.parse(Ne.logistics_useful):U),Ne.logistics_page_settings&&P(JSON.parse(Ne.logistics_page_settings))}catch(de){console.error("Failed to load logistics:",de),R(M),V(I),W(G),ee(U)}finally{n(!1)}},Z=async()=>{a({type:"saving",message:"..."});try{await N([{key:"logistics_hotels",value:JSON.stringify(k)},{key:"logistics_transport",value:JSON.stringify(H)},{key:"logistics_visa",value:JSON.stringify(Y)},{key:"logistics_useful",value:JSON.stringify(X)},{key:"logistics_page_settings",value:JSON.stringify(L)}]),a({type:"success",message:"!"}),setTimeout(()=>a(null),3e3)}catch(de){console.error("Failed to save logistics:",de),a({type:"error",message:" "}),setTimeout(()=>a(null),5e3)}},ve=()=>{z({image:"",stars:5,name_ru:"",name_en:"",name_tj:"",description_ru:"",description_en:"",description_tj:"",amenities_ru:[],amenities_en:[],amenities_tj:[]}),Q({ru:"",en:"",tj:""})},ae=()=>{$({icon:"check",title_ru:"",title_en:"",title_tj:"",description_ru:"",description_en:"",description_tj:""})},se=de=>{const Ne=B[de].trim();if(!Ne)return;const Ge=`amenities_${de}`;z({...K,[Ge]:[...K[Ge]||[],Ne]}),Q({...B,[de]:""})},we=(de,Ne)=>{const Ge=`amenities_${de}`,Dn=[...K[Ge]];Dn.splice(Ne,1),z({...K,[Ge]:Dn})},_e=()=>{R([...k,{id:Date.now(),...K}]),kn()},Fe=()=>{R(k.map(de=>de.id===x?{...de,...K}:de)),kn()},Ke=de=>{window.confirm("  ?")&&R(k.filter(Ne=>Ne.id!==de))},it=de=>{z({...de}),b(de.id),_("hotel")},_r=()=>{ve(),b("new"),_("hotel")},qi=()=>{switch(h){case"transport":return H;case"visa":return Y;case"useful":return X;default:return[]}},_i=de=>{switch(h){case"transport":V(de);break;case"visa":W(de);break;case"useful":ee(de);break}},da=()=>{const de=qi();_i([...de,{id:Date.now(),...O}]),kn()},Lr=()=>{const de=qi();_i(de.map(Ne=>Ne.id===x?{...Ne,...O}:Ne)),kn()},Ws=de=>{if(!window.confirm("  ?"))return;const Ne=qi();_i(Ne.filter(Ge=>Ge.id!==de))},It=de=>{$({...de}),b(de.id),_("info")},Ys=()=>{ae(),b("new"),_("info")},kn=()=>{b(null),_(null),ve(),ae(),q("ru")},pe={plane:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"})}),bus:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M4 16c0 .88.39 1.67 1 2.22V20c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h8v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1.78c.61-.55 1-1.34 1-2.22V6c0-3.5-3.58-4-8-4s-8 .5-8 4v10zm3.5 1c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17zm9 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm1.5-6H6V6h12v5z"})}),taxi:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5H15V3H9v2H6.5c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"})}),check:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),computer:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"})}),help:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"})}),weather:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"})}),money:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"})}),phone:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"})}),hotel:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3zm12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4z"})}),info:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),car:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"})}),document:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})}),star:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})})},ye=[{value:"plane",label:""},{value:"bus",label:""},{value:"taxi",label:""},{value:"check",label:""},{value:"computer",label:""},{value:"help",label:""},{value:"weather",label:""},{value:"money",label:""},{value:"phone",label:""},{value:"hotel",label:""},{value:"info",label:""}],De=de=>pe[de]||pe.info;return e?r.jsx("div",{className:"logistics-manager",children:r.jsx("div",{className:"section-loading",children:"..."})}):r.jsxs("div",{className:`logistics-manager ${t?"embedded":""}`,children:[r.jsx("div",{className:"page-manager-header",children:r.jsxs("div",{className:"page-manager-title",children:[r.jsx("h1",{children:""}),r.jsx("p",{children:"  "})]})}),i&&r.jsxs("div",{className:`save-status save-status--${i.type}`,children:[i.type==="saving"&&r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),r.jsx("span",{children:i.message}),r.jsx("button",{className:"save-status-close",onClick:()=>a(null),children:""})]}),r.jsxs("div",{className:"logistics-layout",children:[r.jsxs("div",{className:"section-nav",children:[r.jsxs("button",{className:`section-nav-item ${h==="hotels"?"active":""}`,onClick:()=>{f("hotels"),b(null)},children:[r.jsx("span",{className:"section-nav-icon",children:pe.hotel}),r.jsx("span",{className:"section-nav-label",children:""}),r.jsx("span",{className:"section-nav-count",children:k.length})]}),r.jsxs("button",{className:`section-nav-item ${h==="transport"?"active":""}`,onClick:()=>{f("transport"),b(null)},children:[r.jsx("span",{className:"section-nav-icon",children:pe.car}),r.jsx("span",{className:"section-nav-label",children:""}),r.jsx("span",{className:"section-nav-count",children:H.length})]}),r.jsxs("button",{className:`section-nav-item ${h==="visa"?"active":""}`,onClick:()=>{f("visa"),b(null)},children:[r.jsx("span",{className:"section-nav-icon",children:pe.document}),r.jsx("span",{className:"section-nav-label",children:""}),r.jsx("span",{className:"section-nav-count",children:Y.length})]}),r.jsxs("button",{className:`section-nav-item ${h==="useful"?"active":""}`,onClick:()=>{f("useful"),b(null)},children:[r.jsx("span",{className:"section-nav-icon",children:pe.info}),r.jsx("span",{className:"section-nav-label",children:""}),r.jsx("span",{className:"section-nav-count",children:X.length})]})]}),r.jsxs("div",{className:"logistics-content",children:[h==="hotels"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"admin-card section-title-card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{children:" "})}),r.jsxs("div",{className:"section-title-form",children:[r.jsxs("div",{className:"lang-tabs-simple",children:[r.jsx("button",{className:`lang-tab-simple ${p==="ru"?"active":""}`,onClick:()=>m("ru"),children:""}),r.jsx("button",{className:`lang-tab-simple ${p==="en"?"active":""}`,onClick:()=>m("en"),children:""}),r.jsx("button",{className:`lang-tab-simple ${p==="tj"?"active":""}`,onClick:()=>m("tj"),children:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",p==="ru"?"":p==="en"?"":"",")"]}),r.jsx("input",{type:"text",value:L[`hotels_title_${p}`]||"",onChange:de=>P({...L,[`hotels_title_${p}`]:de.target.value}),placeholder:" "})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",p==="ru"?"":p==="en"?"":"",")"]}),r.jsx("input",{type:"text",value:L[`hotels_subtitle_${p}`]||"",onChange:de=>P({...L,[`hotels_subtitle_${p}`]:de.target.value}),placeholder:" "})]}),r.jsx("div",{className:"section-title-actions",children:r.jsx("button",{className:"btn-save",onClick:Z,children:""})})]})]}),r.jsxs("div",{className:"admin-card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{children:""}),r.jsx("button",{className:"btn-add",onClick:_r,children:"+  "})]}),r.jsx("div",{className:"items-list",children:k.map((de,Ne)=>r.jsxs("div",{className:"item-card-horizontal",children:[r.jsx("div",{className:"item-card-image",children:r.jsx("img",{src:de.image,alt:de.name_ru})}),r.jsxs("div",{className:"item-card-content",children:[r.jsx("div",{className:"item-card-stars",children:[...Array(de.stars)].map((Ge,Dn)=>r.jsx("span",{className:"star-icon",children:pe.star},Dn))}),r.jsx("h4",{children:de.name_ru}),r.jsx("p",{children:de.description_ru})]}),r.jsxs("div",{className:"item-card-actions",children:[r.jsx("button",{className:"btn-edit",onClick:()=>it(de),children:""}),r.jsx("button",{className:"btn-delete",onClick:()=>Ke(de.id),children:""})]})]},de.id))})]})]}),["transport","visa","useful"].includes(h)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"admin-card section-title-card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{children:" "})}),r.jsxs("div",{className:"section-title-form",children:[r.jsxs("div",{className:"lang-tabs-simple",children:[r.jsx("button",{className:`lang-tab-simple ${p==="ru"?"active":""}`,onClick:()=>m("ru"),children:""}),r.jsx("button",{className:`lang-tab-simple ${p==="en"?"active":""}`,onClick:()=>m("en"),children:""}),r.jsx("button",{className:`lang-tab-simple ${p==="tj"?"active":""}`,onClick:()=>m("tj"),children:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",p==="ru"?"":p==="en"?"":"",")"]}),r.jsx("input",{type:"text",value:L[`${h}_title_${p}`]||"",onChange:de=>P({...L,[`${h}_title_${p}`]:de.target.value}),placeholder:" "})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",p==="ru"?"":p==="en"?"":"",")"]}),r.jsx("input",{type:"text",value:L[`${h}_subtitle_${p}`]||"",onChange:de=>P({...L,[`${h}_subtitle_${p}`]:de.target.value}),placeholder:" "})]}),r.jsx("div",{className:"section-title-actions",children:r.jsx("button",{className:"btn-save",onClick:Z,children:""})})]})]}),r.jsxs("div",{className:"admin-card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{children:""}),r.jsx("button",{className:"btn-add",onClick:Ys,children:"+ "})]}),r.jsx("div",{className:"items-list",children:qi().map((de,Ne)=>r.jsxs("div",{className:"item-card-simple",children:[r.jsx("div",{className:"item-card-icon",children:De(de.icon)}),r.jsxs("div",{className:"item-card-content",children:[r.jsx("h4",{children:de.title_ru}),r.jsx("p",{children:de.description_ru})]}),r.jsxs("div",{className:"item-card-actions",children:[r.jsx("button",{className:"btn-edit",onClick:()=>It(de),children:""}),r.jsx("button",{className:"btn-delete",onClick:()=>Ws(de.id),children:""})]})]},de.id))})]})]})]})]}),y==="hotel"&&r.jsx("div",{className:"settings-modal-overlay",onClick:kn,children:r.jsxs("div",{className:"settings-modal settings-modal--large",onClick:de=>de.stopPropagation(),children:[r.jsxs("div",{className:"settings-modal-header",children:[r.jsx("h2",{children:x==="new"?" ":" "}),r.jsx("button",{className:"settings-modal-close",onClick:kn,children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsxs("div",{className:"settings-modal-body",children:[r.jsxs("div",{className:"lang-tabs-simple",children:[r.jsx("button",{className:`lang-tab-simple ${J==="ru"?"active":""}`,onClick:()=>q("ru"),children:""}),r.jsx("button",{className:`lang-tab-simple ${J==="en"?"active":""}`,onClick:()=>q("en"),children:""}),r.jsx("button",{className:`lang-tab-simple ${J==="tj"?"active":""}`,onClick:()=>q("tj"),children:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",J==="ru"?"":J==="en"?"":"",")"]}),r.jsx("input",{type:"text",value:K[`name_${J}`],onChange:de=>z({...K,[`name_${J}`]:de.target.value}),placeholder:" "})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",J==="ru"?"":J==="en"?"":"",")"]}),r.jsx("textarea",{rows:"3",value:K[`description_${J}`],onChange:de=>z({...K,[`description_${J}`]:de.target.value}),placeholder:"  "})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",J==="ru"?"":J==="en"?"":"",")"]}),r.jsx("div",{className:"tags-list",children:K[`amenities_${J}`]?.map((de,Ne)=>r.jsxs("span",{className:"tag",children:[de,r.jsx("button",{onClick:()=>we(J,Ne),children:""})]},Ne))}),r.jsxs("div",{className:"tag-input",children:[r.jsx("input",{type:"text",value:B[J],onChange:de=>Q({...B,[J]:de.target.value}),placeholder:" ...",onKeyPress:de=>de.key==="Enter"&&(de.preventDefault(),se(J))}),r.jsx("button",{type:"button",onClick:()=>se(J),children:"+"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("select",{value:K.stars,onChange:de=>z({...K,stars:parseInt(de.target.value)}),children:[1,2,3,4,5].map(de=>r.jsxs("option",{value:de,children:[de," "]},de))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsxs("div",{className:"image-upload-section",children:[K.image&&r.jsx("div",{className:"image-preview",children:r.jsx("img",{src:K.image,alt:"Preview"})}),r.jsxs("div",{className:"image-upload-controls",children:[r.jsx("input",{type:"text",value:K.image,onChange:de=>z({...K,image:de.target.value}),placeholder:"URL    "}),r.jsx("input",{type:"file",ref:T,onChange:async de=>{const Ne=de.target.files[0];if(Ne)try{const Ge=await E(Ne);Ge.success&&z({...K,image:Ge.url})}catch(Ge){console.error("Upload failed:",Ge)}},accept:"image/*",style:{display:"none"}}),r.jsx("button",{type:"button",className:"btn-upload",onClick:()=>T.current?.click(),disabled:A,children:A?"...":""})]})]})]})]}),r.jsxs("div",{className:"settings-modal-footer",children:[r.jsx("button",{className:"btn-cancel",onClick:kn,children:""}),r.jsx("button",{className:"btn-save",onClick:()=>x==="new"?_e():Fe(),children:""})]})]})}),y==="info"&&r.jsx("div",{className:"settings-modal-overlay",onClick:kn,children:r.jsxs("div",{className:"settings-modal",onClick:de=>de.stopPropagation(),children:[r.jsxs("div",{className:"settings-modal-header",children:[r.jsx("h2",{children:x==="new"?" ":" "}),r.jsx("button",{className:"settings-modal-close",onClick:kn,children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsxs("div",{className:"settings-modal-body",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("div",{className:"icon-picker-grid",children:ye.map(de=>r.jsx("button",{type:"button",className:`icon-picker-btn ${O.icon===de.value?"active":""}`,onClick:()=>$({...O,icon:de.value}),title:de.label,children:pe[de.value]},de.value))})]}),r.jsxs("div",{className:"lang-tabs-simple",children:[r.jsx("button",{className:`lang-tab-simple ${J==="ru"?"active":""}`,onClick:()=>q("ru"),children:""}),r.jsx("button",{className:`lang-tab-simple ${J==="en"?"active":""}`,onClick:()=>q("en"),children:""}),r.jsx("button",{className:`lang-tab-simple ${J==="tj"?"active":""}`,onClick:()=>q("tj"),children:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",J==="ru"?"":J==="en"?"":"",")"]}),r.jsx("input",{type:"text",value:O[`title_${J}`],onChange:de=>$({...O,[`title_${J}`]:de.target.value}),placeholder:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",J==="ru"?"":J==="en"?"":"",")"]}),r.jsx("textarea",{rows:"3",value:O[`description_${J}`],onChange:de=>$({...O,[`description_${J}`]:de.target.value}),placeholder:""})]})]}),r.jsxs("div",{className:"settings-modal-footer",children:[r.jsx("button",{className:"btn-cancel",onClick:kn,children:""}),r.jsx("button",{className:"btn-save",onClick:()=>x==="new"?da():Lr(),children:""})]})]})})]})}const Ny=[{id:1,type:"secretariat",icon:"phone",phone:"+992 (37) 227-68-43",email:"secretariat@dushanbewaterprocess.org",category_ru:" ",category_en:"Main Contact",category_tj:" ",title_ru:" ",title_en:"Conference Secretariat",title_tj:" ",description_ru:"     ",description_en:"For all general inquiries about the conference",description_tj:"     "},{id:2,type:"registration",icon:"email",phone:"",email:"registration@dushanbewaterprocess.org",category_ru:"",category_en:"Registration",category_tj:"",title_ru:" ",title_en:"Registration Department",title_tj:" ",description_ru:"   ",description_en:"Registration and accreditation inquiries",description_tj:"     "},{id:3,type:"logistics",icon:"hotel",phone:"",email:"logistics@dushanbewaterprocess.org",category_ru:"",category_en:"Logistics",category_tj:"",title_ru:"  ",title_en:"Logistics Coordinator",title_tj:" ",description_ru:",    ",description_en:"Accommodation, transport and visa support",description_tj:",    "},{id:4,type:"media",icon:"camera",phone:"",email:"media@dushanbewaterprocess.org",category_ru:"",category_en:"Press",category_tj:"",title_ru:"-",title_en:"Press Office",title_tj:" ",description_ru:"-   ",description_en:"Media inquiries and press accreditation",description_tj:"    "}],Ey={embedUrl:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3082.7657!2d68.7738!3d38.5598!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzjCsDMzJzM1LjMiTiA2OMKwNDYnMjUuNyJF!5e0!3m2!1sru!2s!4v1234567890",address_ru:", ",address_en:"Dushanbe, Tajikistan",address_tj:", "},Ty=[{id:1,platform:"facebook",url:"https://facebook.com/dushanbewaterprocess",enabled:!0},{id:2,platform:"twitter",url:"https://twitter.com/dushanbewaterprocess",enabled:!0},{id:3,platform:"instagram",url:"https://instagram.com/dushanbewaterprocess",enabled:!0},{id:4,platform:"telegram",url:"https://t.me/dushanbewaterprocess",enabled:!0}],Ds={phone:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"})}),email:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})}),hotel:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3zm12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4z"})}),camera:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:[r.jsx("circle",{cx:"12",cy:"12",r:"3.2"}),r.jsx("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})]}),building:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"})}),info:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),globe:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"})}),location:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),contacts:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M20 0H4v2h16V0zM4 24h16v-2H4v2zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 2.75c1.24 0 2.25 1.01 2.25 2.25s-1.01 2.25-2.25 2.25S9.75 10.24 9.75 9 10.76 6.75 12 6.75zM17 17H7v-1.5c0-1.67 3.33-2.5 5-2.5s5 .83 5 2.5V17z"})}),map:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"})}),link:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"})}),facebook:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"})}),twitter:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),instagram:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"})}),youtube:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"})}),telegram:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})}),linkedin:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"})}),whatsapp:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 0 1-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 0 1-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 0 1 2.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0 0 12.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 0 0 5.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 0 0-3.48-8.413z"})}),spinner:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",className:"save-status-spinner",children:r.jsx("path",{d:"M12 4V2A10 10 0 0 0 2 12h2a8 8 0 0 1 8-8z"})}),check:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),error:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),close:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})},Vfe=[{value:"phone",label:"Phone"},{value:"email",label:"Email"},{value:"hotel",label:"Hotel"},{value:"camera",label:"Camera"},{value:"building",label:"Building"},{value:"info",label:"Info"},{value:"globe",label:"Globe"},{value:"location",label:"Location"}],qk=t=>Ds[t]||Ds.info;function qL({embedded:t=!1}){const[e,n]=j.useState(!0),[i,a]=j.useState(null),[s,o]=j.useState(!1),[c,d]=j.useState("ru"),[h,f]=j.useState("cards"),[p,m]=j.useState(!1),[x,b]=j.useState(!1),[y,_]=j.useState(null),[S,N]=j.useState(null),[E,A]=j.useState("ru"),[T,k]=j.useState({icon:"info",phone:"",email:"",category_ru:"",category_en:"",category_tj:"",title_ru:"",title_en:"",title_tj:"",description_ru:"",description_en:"",description_tj:""}),[R,H]=j.useState({platform:"facebook",url:"",enabled:!0}),{list:V,update:Y}=oa(),[W,X]=j.useState(Ny),[ee,L]=j.useState(Ey),[P,M]=j.useState(Ty),[I,G]=j.useState({title_ru:"",title_en:"Contacts",title_tj:"",subtitle_ru:"   ",subtitle_en:"Contact the conference organizers",subtitle_tj:"    "});j.useEffect(()=>{U()},[]);const U=async()=>{n(!0);try{const ae=await V(),se={};ae.forEach(we=>{se[we.setting_key]=we.setting_value}),X(se.contacts_cards?JSON.parse(se.contacts_cards):Ny),L(se.contacts_map?JSON.parse(se.contacts_map):Ey),M(se.contacts_social?JSON.parse(se.contacts_social):Ty),se.contacts_page_settings&&G(JSON.parse(se.contacts_page_settings)),re({showBanner:se.contacts_show_banner!=="false",bannerTitle_ru:se.contacts_banner_title_ru||"",bannerTitle_en:se.contacts_banner_title_en||"Contacts",bannerTitle_tj:se.contacts_banner_title_tj||""})}catch(ae){console.error("Failed to load contacts:",ae),X(Ny),L(Ey),M(Ty)}finally{n(!1)}},K=async(ae={})=>{const se={cards:ae.cards??W,map:ae.map??ee,social:ae.social??P,page:ae.page??I,banner:ae.banner??q};a({type:"saving",message:"..."});try{await Y([{key:"contacts_cards",value:JSON.stringify(se.cards)},{key:"contacts_map",value:JSON.stringify(se.map)},{key:"contacts_social",value:JSON.stringify(se.social)},{key:"contacts_page_settings",value:JSON.stringify(se.page)},{key:"contacts_show_banner",value:se.banner.showBanner?"true":"false"},{key:"contacts_banner_title_ru",value:se.banner.bannerTitle_ru},{key:"contacts_banner_title_en",value:se.banner.bannerTitle_en},{key:"contacts_banner_title_tj",value:se.banner.bannerTitle_tj}]),a({type:"success",message:"!"}),setTimeout(()=>a(null),3e3)}catch(we){console.error("Error saving:",we),a({type:"error",message:" "}),setTimeout(()=>a(null),5e3)}},z=()=>{k({icon:"info",phone:"",email:"",category_ru:"",category_en:"",category_tj:"",title_ru:"",title_en:"",title_tj:"",description_ru:"",description_en:"",description_tj:""}),_("new"),A("ru"),m(!0)},O=ae=>{k({...ae}),_(ae.id),A("ru"),m(!0)},$=()=>{m(!1),_(null)},B=()=>{let ae;y==="new"?ae=[...W,{...T,id:Date.now(),type:"custom"}]:ae=W.map(se=>se.id===y?{...se,...T}:se),X(ae),$(),K({cards:ae})},Q=ae=>{if(window.confirm("  ?")){const se=W.filter(we=>we.id!==ae);X(se),K({cards:se})}},J=[{id:"cards",label:"",icon:"contacts",count:W.length}],[q,re]=j.useState({showBanner:!0,bannerTitle_ru:"",bannerTitle_en:"Contacts",bannerTitle_tj:""}),[Z,ve]=j.useState("ru");return e?r.jsx("div",{className:"section-loading",children:"..."}):r.jsxs("div",{className:`contacts-manager ${t?"embedded":""}`,children:[r.jsx("div",{className:"page-manager-header",children:r.jsxs("div",{className:"page-manager-title",children:[r.jsx("h1",{children:""}),r.jsx("p",{children:" "})]})}),i&&r.jsxs("div",{className:`save-status save-status--${i.type}`,children:[i.type==="saving"&&Ds.spinner,i.type==="success"&&Ds.check,i.type==="error"&&Ds.error,r.jsx("span",{children:i.message}),r.jsx("button",{className:"save-status-close",onClick:()=>a(null),children:Ds.close})]}),r.jsx("nav",{className:"section-tabs-horizontal",children:J.map(ae=>r.jsxs("button",{className:`section-tab ${h===ae.id?"active":""}`,onClick:()=>f(ae.id),children:[r.jsx("span",{className:"section-tab-label",children:ae.label}),ae.count!==void 0&&r.jsx("span",{className:"section-tab-count",children:ae.count})]},ae.id))}),r.jsx("div",{className:"contacts-layout",children:r.jsxs("div",{className:"contacts-content",children:[r.jsxs("div",{className:"banner-settings-card",style:{background:"#fff",borderRadius:"12px",padding:"16px",marginBottom:"20px",border:"1px solid #e2e8f0"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:q.showBanner?"12px":0},children:[r.jsx("h3",{style:{margin:0,fontSize:"0.95rem",fontWeight:600,color:"#1e293b"},children:" "}),r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[r.jsx("span",{style:{fontSize:"0.85rem",color:"#64748b"},children:q.showBanner?"":""}),r.jsx("input",{type:"checkbox",checked:q.showBanner,onChange:ae=>re({...q,showBanner:ae.target.checked}),style:{width:"18px",height:"18px",cursor:"pointer"}})]})]}),q.showBanner&&r.jsxs("div",{children:[r.jsxs("div",{className:"lang-tabs-inline",style:{marginBottom:"0.5rem"},children:[r.jsx("button",{className:Z==="ru"?"active":"",onClick:()=>ve("ru"),children:""}),r.jsx("button",{className:Z==="en"?"active":"",onClick:()=>ve("en"),children:"ENG"}),r.jsx("button",{className:Z==="tj"?"active":"",onClick:()=>ve("tj"),children:""})]}),r.jsxs("div",{className:"form-group",style:{marginBottom:"12px"},children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:q[`bannerTitle_${Z}`]||"",onChange:ae=>re({...q,[`bannerTitle_${Z}`]:ae.target.value}),placeholder:" "})]}),r.jsx("button",{className:"btn-save-banner",onClick:()=>K(),style:{padding:"8px 20px",background:"linear-gradient(135deg, #2d5a87 0%, #1e4268 100%)",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:500,cursor:"pointer"},children:""})]})]}),h==="cards"&&r.jsxs("div",{className:"admin-card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{children:" "}),r.jsx("button",{className:"btn-add",onClick:z,children:"+  "})]}),r.jsx("div",{className:"contacts-list",children:W.map(ae=>r.jsxs("div",{className:"contact-card-admin",children:[r.jsx("div",{className:"contact-card-icon",children:qk(ae.icon)}),r.jsxs("div",{className:"contact-card-content",children:[r.jsx("span",{className:"contact-card-category",children:ae.category_ru}),r.jsx("h4",{children:ae.title_ru||" "}),r.jsx("p",{children:ae.description_ru}),r.jsxs("div",{className:"contact-card-info",children:[ae.phone&&r.jsxs("span",{children:[Ds.phone," ",ae.phone]}),ae.email&&r.jsxs("span",{children:[Ds.email," ",ae.email]})]})]}),r.jsxs("div",{className:"contact-card-actions",children:[r.jsx("button",{className:"btn-edit",onClick:()=>O(ae),children:""}),r.jsx("button",{className:"btn-delete",onClick:()=>Q(ae.id),children:""})]})]},ae.id))})]})]})}),p&&r.jsx("div",{className:"settings-modal-overlay",onClick:$,children:r.jsxs("div",{className:"settings-modal settings-modal--large",onClick:ae=>ae.stopPropagation(),children:[r.jsxs("div",{className:"settings-modal-header",children:[r.jsx("h2",{children:y==="new"?" ":" "}),r.jsx("button",{className:"settings-modal-close",onClick:$,children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsxs("div",{className:"settings-modal-body",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("div",{className:"icon-picker-grid",children:Vfe.map(ae=>r.jsx("button",{type:"button",className:`icon-picker-btn ${T.icon===ae.value?"active":""}`,onClick:()=>k({...T,icon:ae.value}),title:ae.label,children:qk(ae.value)},ae.value))})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:T.phone,onChange:ae=>k({...T,phone:ae.target.value}),placeholder:"+992 (XX) XXX-XX-XX"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Email"}),r.jsx("input",{type:"email",value:T.email,onChange:ae=>k({...T,email:ae.target.value}),placeholder:"email@example.org"})]})]}),r.jsxs("div",{className:"lang-tabs-simple",children:[r.jsx("button",{className:`lang-tab-simple ${E==="ru"?"active":""}`,onClick:()=>A("ru"),children:""}),r.jsx("button",{className:`lang-tab-simple ${E==="en"?"active":""}`,onClick:()=>A("en"),children:""}),r.jsx("button",{className:`lang-tab-simple ${E==="tj"?"active":""}`,onClick:()=>A("tj"),children:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",E==="ru"?"":E==="en"?"":"",")"]}),r.jsx("input",{type:"text",value:T[`category_${E}`],onChange:ae=>k({...T,[`category_${E}`]:ae.target.value}),placeholder:" "})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",E==="ru"?"":E==="en"?"":"",")"]}),r.jsx("input",{type:"text",value:T[`title_${E}`],onChange:ae=>k({...T,[`title_${E}`]:ae.target.value}),placeholder:" "})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",E==="ru"?"":E==="en"?"":"",")"]}),r.jsx("textarea",{rows:"3",value:T[`description_${E}`],onChange:ae=>k({...T,[`description_${E}`]:ae.target.value}),placeholder:" "})]})]}),r.jsxs("div",{className:"settings-modal-footer",children:[r.jsx("button",{className:"btn-cancel",onClick:$,children:""}),r.jsx("button",{className:"btn-save",onClick:B,children:""})]})]})})]})}function qfe({embedded:t=!1}){const e=sa(),[n,i]=j.useState(!0),[a,s]=j.useState(null),[o,c]=j.useState(!1),[d,h]=j.useState("ru"),[f,p]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(null),[_,S]=j.useState("ru"),[N,E]=j.useState(!1),[A,T]=j.useState("ru"),[k,R]=j.useState({year:"",url:"",isCurrent:!1,title_ru:"",title_en:"",title_tj:"",description_ru:"",description_en:"",description_tj:"",date_ru:"",date_en:"",date_tj:"",location_ru:"",location_en:"",location_tj:"",participants_ru:"",participants_en:"",participants_tj:"",keyOutcomes_ru:"",keyOutcomes_en:"",keyOutcomes_tj:""}),{list:H,update:V}=oa(),[Y,W]=j.useState([]),[X,ee]=j.useState({title_ru:" ",title_en:"Water Decade",title_tj:" ",subtitle_ru:"       2018-2028",subtitle_en:'International Decade for Action "Water for Sustainable Development" 2018-2028',subtitle_tj:"       2018-2028",yearStart:"2018",yearEnd:"2028"}),[L,P]=j.useState({aboutTitle_ru:" ",aboutTitle_en:"About the Decade",aboutTitle_tj:"  ",aboutText_ru:`  2016       2018-2028        .

     ,          .`,aboutText_en:`In December 2016, the UN General Assembly proclaimed the period 2018-2028 as the International Decade for Action "Water for Sustainable Development".

The Republic of Tajikistan initiated this Decade, continuing its active role in promoting the global water agenda.`,aboutText_tj:`    2016      2018-2028-         .

                .`}),M=[{id:1,year:"2018",title_ru:"   ",title_en:"High-Level International Conference",title_tj:"   ",description_ru:"       ",description_en:"First conference of the Water Action Decade",description_tj:"       ",url:"https://waterconference2018.org",isCurrent:!1},{id:2,year:"2022",title_ru:"     ",title_en:"Second UN Water Conference",title_tj:"      ",description_ru:"    ",description_en:"Mid-term review conference of the Water Decade",description_tj:"   ",url:"https://waterconference2022.org",isCurrent:!1},{id:3,year:"2024",title_ru:"  ",title_en:"Third International Conference",title_tj:"  ",description_ru:"    ",description_en:"Continuation of dialogue on water resources",description_tj:"     ",url:"https://waterconference2024.org",isCurrent:!1},{id:4,year:"2026",title_ru:"   2026",title_en:"Dushanbe Water Process 2026",title_tj:"   2026",description_ru:"     ",description_en:"Current conference  culminating event of the Decade",description_tj:"     ",url:"",isCurrent:!0}];j.useEffect(()=>{I()},[]);const I=async()=>{i(!0);try{const B=await H(),Q={};B.forEach(J=>{Q[J.setting_key]=J.setting_value}),W(Q.water_decade_conferences?JSON.parse(Q.water_decade_conferences):M),Q.water_decade_page_settings&&ee(JSON.parse(Q.water_decade_page_settings)),Q.water_decade_brief_info&&P(J=>({...J,...JSON.parse(Q.water_decade_brief_info)}))}catch(B){console.error("Failed to load water decade data:",B),W(M)}finally{i(!1)}},G=async()=>{s({type:"saving",message:"..."});try{await V({water_decade_conferences:JSON.stringify(Y),water_decade_page_settings:JSON.stringify(X),water_decade_brief_info:JSON.stringify(L)}),s({type:"success",message:"!"}),setTimeout(()=>s(null),3e3)}catch(B){console.error("Failed to save:",B),s({type:"error",message:" "}),setTimeout(()=>s(null),5e3)}},U=()=>{R({year:"",url:"",isCurrent:!1,title_ru:"",title_en:"",title_tj:"",description_ru:"",description_en:"",description_tj:"",date_ru:"",date_en:"",date_tj:"",location_ru:"",location_en:"",location_tj:"",participants_ru:"",participants_en:"",participants_tj:"",keyOutcomes_ru:"",keyOutcomes_en:"",keyOutcomes_tj:""}),y(null),S("ru"),x(!0)},K=B=>{R({year:B.year||"",url:B.url||"",isCurrent:B.isCurrent||!1,title_ru:B.title_ru||"",title_en:B.title_en||"",title_tj:B.title_tj||"",description_ru:B.description_ru||"",description_en:B.description_en||"",description_tj:B.description_tj||"",date_ru:B.date_ru||"",date_en:B.date_en||"",date_tj:B.date_tj||"",location_ru:B.location_ru||"",location_en:B.location_en||"",location_tj:B.location_tj||"",participants_ru:B.participants_ru||"",participants_en:B.participants_en||"",participants_tj:B.participants_tj||"",keyOutcomes_ru:B.keyOutcomes_ru||"",keyOutcomes_en:B.keyOutcomes_en||"",keyOutcomes_tj:B.keyOutcomes_tj||""}),y(B.id),S("ru"),x(!0)},z=()=>{x(!1),y(null)},O=()=>{if(b)W(B=>B.map(Q=>Q.id===b?{...Q,...k}:Q));else{const B={id:Date.now(),...k};W(Q=>[...Q,B])}z()},$=B=>{window.confirm("  ?")&&W(Q=>Q.filter(J=>J.id!==B))};return n?r.jsx("div",{className:"section-loading",children:"..."}):r.jsxs("div",{className:`water-decade-manager ${t?"embedded":""}`,children:[r.jsx("div",{className:"page-manager-header",children:r.jsxs("div",{className:"page-manager-title",children:[r.jsx("h1",{children:" "}),r.jsx("p",{children:"  "})]})}),a&&r.jsxs("div",{className:`save-status save-status--${a.type}`,children:[r.jsx("span",{children:a.message}),r.jsx("button",{className:"save-status-close",onClick:()=>s(null),children:""})]}),r.jsxs("div",{className:"page-sections-row",children:[r.jsx("div",{className:"admin-card page-section-card",children:r.jsxs("div",{className:"card-header",style:{borderBottom:"none"},children:[r.jsx("h3",{children:"  "}),r.jsxs("button",{className:"btn-add",onClick:()=>E(!0),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",style:{marginRight:"6px"},children:r.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})}),""]})]})}),r.jsx("div",{className:"admin-card page-section-card",children:r.jsxs("div",{className:"card-header",style:{borderBottom:"none"},children:[r.jsx("h3",{children:"  "}),r.jsxs("button",{className:"btn-add",onClick:()=>e("/admin/water-decade-editor"),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",style:{marginRight:"6px"},children:r.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})})," "]})]})})]}),r.jsxs("div",{className:"admin-card",style:{marginBottom:"24px"},children:[r.jsxs("div",{className:"card-header card-header--collapsible",onClick:()=>p(!f),style:{cursor:"pointer"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",style:{transform:f?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:r.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})}),r.jsxs("h3",{style:{margin:0},children:[" (",Y.length,")"]})]}),f&&r.jsx("button",{className:"btn-add",onClick:B=>{B.stopPropagation(),U()},children:"+  "})]}),f&&r.jsx("div",{className:"conferences-list",children:Y.map(B=>r.jsxs("div",{className:`conference-card ${B.isCurrent?"conference-card--current":""}`,children:[r.jsxs("div",{className:"conference-card-header",children:[r.jsxs("div",{className:"conference-year-badge",children:[r.jsx("span",{className:"year",children:B.year||""}),B.isCurrent&&r.jsx("span",{className:"current-badge",children:""})]}),r.jsxs("div",{className:"conference-actions",children:[r.jsx("button",{className:"btn-icon",onClick:()=>K(B),title:"",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})})}),r.jsx("button",{className:"btn-icon",onClick:()=>e(`/admin/water-decade-editor/${B.id}`),title:" ",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"})})}),r.jsx("button",{className:"btn-icon btn-icon--danger",onClick:()=>$(B.id),title:"",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})})]})]}),r.jsxs("div",{className:"conference-card-body",children:[r.jsx("h4",{className:"conference-title",children:B.title_ru}),r.jsx("p",{className:"conference-description",children:B.description_ru}),B.url&&r.jsx("a",{href:B.url,target:"_blank",rel:"noopener noreferrer",className:"conference-link",children:B.url})]})]},B.id))})]}),r.jsx("div",{style:{marginTop:"24px",display:"flex",justifyContent:"flex-end"},children:r.jsx("button",{className:"btn-save",onClick:G,children:"  "})}),m&&r.jsx("div",{className:"settings-modal-overlay",onClick:z,children:r.jsxs("div",{className:"settings-modal settings-modal--large",onClick:B=>B.stopPropagation(),children:[r.jsxs("div",{className:"settings-modal-header",children:[r.jsx("h2",{children:b?" ":" "}),r.jsx("button",{className:"settings-modal-close",onClick:z,children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsxs("div",{className:"settings-modal-body",children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:k.year,onChange:B=>R({...k,year:B.target.value}),placeholder:"2026"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"URL "}),r.jsx("input",{type:"text",value:k.url,onChange:B=>R({...k,url:B.target.value}),placeholder:"https://example.com"})]})]}),r.jsx("div",{className:"form-group",children:r.jsxs("label",{className:"checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:k.isCurrent,onChange:B=>R({...k,isCurrent:B.target.checked})})," "]})}),r.jsxs("div",{className:"lang-tabs-simple",children:[r.jsx("button",{className:`lang-tab-simple ${_==="ru"?"active":""}`,onClick:()=>S("ru"),children:""}),r.jsx("button",{className:`lang-tab-simple ${_==="en"?"active":""}`,onClick:()=>S("en"),children:""}),r.jsx("button",{className:`lang-tab-simple ${_==="tj"?"active":""}`,onClick:()=>S("tj"),children:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:k[`title_${_}`],onChange:B=>R({...k,[`title_${_}`]:B.target.value}),placeholder:"  "})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("textarea",{rows:"3",value:k[`description_${_}`],onChange:B=>R({...k,[`description_${_}`]:B.target.value}),placeholder:"  "})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:k[`date_${_}`],onChange:B=>R({...k,[`date_${_}`]:B.target.value}),placeholder:"20-22  2018"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:k[`location_${_}`],onChange:B=>R({...k,[`location_${_}`]:B.target.value}),placeholder:", "})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:k[`participants_${_}`],onChange:B=>R({...k,[`participants_${_}`]:B.target.value}),placeholder:" 2 000   120 "})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("textarea",{rows:"4",value:k[`keyOutcomes_${_}`],onChange:B=>R({...k,[`keyOutcomes_${_}`]:B.target.value}),placeholder:"   ",style:{resize:"vertical"}})]})]}),r.jsxs("div",{className:"settings-modal-footer",children:[r.jsx("button",{className:"btn-cancel",onClick:z,children:""}),r.jsx("button",{className:"btn-save",onClick:O,children:b?"":""})]})]})}),N&&r.jsx("div",{className:"settings-modal-overlay",onClick:()=>E(!1),children:r.jsxs("div",{className:"settings-modal settings-modal--large",onClick:B=>B.stopPropagation(),children:[r.jsxs("div",{className:"settings-modal-header",children:[r.jsx("h2",{children:"  "}),r.jsx("button",{className:"settings-modal-close",onClick:()=>E(!1),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsxs("div",{className:"settings-modal-body",children:[r.jsxs("div",{className:"lang-tabs-simple",children:[r.jsx("button",{className:`lang-tab-simple ${A==="ru"?"active":""}`,onClick:()=>T("ru"),children:""}),r.jsx("button",{className:`lang-tab-simple ${A==="en"?"active":""}`,onClick:()=>T("en"),children:""}),r.jsx("button",{className:`lang-tab-simple ${A==="tj"?"active":""}`,onClick:()=>T("tj"),children:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"   "}),r.jsx("input",{type:"text",value:L[`aboutTitle_${A}`]||"",onChange:B=>P({...L,[`aboutTitle_${A}`]:B.target.value}),placeholder:" "})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("textarea",{rows:"8",value:L[`aboutText_${A}`]||"",onChange:B=>P({...L,[`aboutText_${A}`]:B.target.value}),placeholder:" ...",style:{resize:"vertical"}})]})]}),r.jsxs("div",{className:"settings-modal-footer",children:[r.jsx("button",{className:"btn-cancel",onClick:()=>E(!1),children:""}),r.jsx("button",{className:"btn-save",onClick:()=>{G(),E(!1)},children:""})]})]})})]})}const Gfe="";function Wfe({block:t,langTab:e,updateBlock:n}){const i=j.useRef(null),a=`content-${t.id}-${e}`;j.useEffect(()=>{if(i.current){const m=t[`content_${e}`]||"";i.current.innerHTML!==m&&(i.current.innerHTML=m)}},[t.id,e]);const s=(m,x=null)=>{i.current&&(i.current.focus(),document.execCommand(m,!1,x))},o=m=>{const x=m.currentTarget.innerHTML;n(t.id,{[`content_${e}`]:x})},c=m=>{m.key==="Tab"&&(m.preventDefault(),document.execCommand("insertHTML",!1,"&nbsp;&nbsp;&nbsp;&nbsp;"))},d=m=>{m.preventDefault();let x=m.clipboardData.getData("text/plain");x=x.replace(/\r\n/g,`
`).replace(/\n{3,}/g,`

`).replace(/[ \t]+/g," ").trim(),document.execCommand("insertText",!1,x)},h=m=>{const x=m.target.closest("a");x&&(m.preventDefault(),f(x))},f=m=>{const x=m.getAttribute("href")||"",b=m.getAttribute("target"),y=prompt(" URL :",x);if(y===null)return;const _=window.confirm(`    ?

 : ${b==="_blank"?"":""}`);if(m.setAttribute("href",y),_?(m.setAttribute("target","_blank"),m.setAttribute("rel","noopener noreferrer")):(m.removeAttribute("target"),m.removeAttribute("rel")),i.current){const S=i.current.innerHTML;n(t.id,{[`content_${e}`]:S})}},p=()=>{const m=prompt(" URL :");if(!m)return;const x=window.confirm("    ?"),y=window.getSelection().toString();if(y){const _=x?`<a href="${m}" target="_blank" rel="noopener noreferrer">${y}</a>`:`<a href="${m}">${y}</a>`;document.execCommand("insertHTML",!1,_)}else{const _=x?`<a href="${m}" target="_blank" rel="noopener noreferrer">${m}</a>`:`<a href="${m}">${m}</a>`;document.execCommand("insertHTML",!1,_)}};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"html-toolbar",children:[r.jsxs("button",{type:"button",onClick:()=>s("formatBlock","p"),title:"",className:"toolbar-btn",children:[r.jsx($i,{size:16})," P"]}),r.jsx("button",{type:"button",onClick:()=>s("bold"),title:" (Ctrl+B)",className:"toolbar-btn",children:r.jsx("strong",{children:"B"})}),r.jsx("button",{type:"button",onClick:()=>s("italic"),title:" (Ctrl+I)",className:"toolbar-btn",children:r.jsx("em",{children:"I"})}),r.jsx("button",{type:"button",onClick:()=>s("underline"),title:" (Ctrl+U)",className:"toolbar-btn",children:r.jsx("u",{children:"U"})}),r.jsx("button",{type:"button",onClick:()=>s("strikeThrough"),title:"",className:"toolbar-btn",children:r.jsx("s",{children:"S"})}),r.jsx("div",{style:{width:"1px",background:"#e2e8f0",margin:"0 0.25rem"}}),r.jsx("button",{type:"button",onClick:()=>s("formatBlock","h2"),title:" H2",className:"toolbar-btn",children:"H2"}),r.jsx("button",{type:"button",onClick:()=>s("formatBlock","h3"),title:" H3",className:"toolbar-btn",children:"H3"}),r.jsx("div",{style:{width:"1px",background:"#e2e8f0",margin:"0 0.25rem"}}),r.jsx("button",{type:"button",onClick:()=>s("justifyLeft"),title:"  ",className:"toolbar-btn",children:""}),r.jsx("button",{type:"button",onClick:()=>s("justifyCenter"),title:" ",className:"toolbar-btn",children:""}),r.jsx("button",{type:"button",onClick:()=>s("justifyRight"),title:"  ",className:"toolbar-btn",children:""}),r.jsx("div",{style:{width:"1px",background:"#e2e8f0",margin:"0 0.25rem"}}),r.jsx("button",{type:"button",onClick:()=>s("insertUnorderedList"),title:" ",className:"toolbar-btn",children:" List"}),r.jsx("button",{type:"button",onClick:()=>s("insertOrderedList"),title:" ",className:"toolbar-btn",children:"1. List"}),r.jsx("button",{type:"button",onClick:()=>s("indent"),title:" ",className:"toolbar-btn",children:""}),r.jsx("button",{type:"button",onClick:()=>s("outdent"),title:" ",className:"toolbar-btn",children:""}),r.jsx("div",{style:{width:"1px",background:"#e2e8f0",margin:"0 0.25rem"}}),r.jsx("button",{type:"button",onClick:()=>p(),title:"",className:"toolbar-btn",children:"Link"}),r.jsx("button",{type:"button",onClick:()=>s("insertHTML","<br>"),title:" ",className:"toolbar-btn",children:"BR"}),r.jsx("button",{type:"button",onClick:()=>s("removeFormat"),title:" ",className:"toolbar-btn",children:"Clear"})]}),r.jsx("div",{id:a,ref:i,className:"wysiwyg-editor",contentEditable:!0,onInput:o,onKeyDown:c,onClick:h,onPaste:d,suppressContentEditableWarning:!0,style:{minHeight:"300px",padding:"1rem",border:"2px solid #e2e8f0",borderRadius:"8px",backgroundColor:"#fff",lineHeight:"1.8",fontSize:"1rem",resize:"both",overflow:"auto"}}),r.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.5rem"},children:"   . Tab  , Ctrl+B/I/U  .     "})]})}const GL=[{id:"conference",label:"",pages:[{id:"conference_intro",name:"",path:"/conference/introduction"},{id:"conference_goals",name:"",path:"/conference/goals"},{id:"conference_date_venue",name:"  ",path:"/conference/date-venue"},{id:"conference_participation",name:"",path:"/conference/participation"}]},{id:"program",label:"",pages:[{id:"program_structure",name:" ",path:"/program/structure"},{id:"program_plenary",name:" ",path:"/program/plenary"},{id:"program_events",name:" ",path:"/program/events"},{id:"program_forums",name:"",path:"/program/forums"}]},{id:"events",label:"",pages:[{id:"parallel_events",name:" ",path:"/events/parallel"},{id:"cultural_events",name:" ",path:"/events/cultural"},{id:"events_khisor",name:"",path:"/events/khisor"},{id:"events_rogun",name:"",path:"/events/rogun"},{id:"events_dushanbe",name:"",path:"/events/dushanbe"}]},{id:"registration",label:"",pages:[{id:"registration_page",name:"",path:"/registration"}]},{id:"logistics",label:"",pages:[{id:"logistics_practical",name:" ",path:"/logistics/practical"},{id:"logistics_visa",name:"  ",path:"/logistics/visa"},{id:"logistics_press",name:" ",path:"/logistics/press"},{id:"logistics_flights",name:"",path:"/logistics/flights"},{id:"logistics_accommodation",name:"",path:"/logistics/accommodation"},{id:"logistics_weather",name:"",path:"/logistics/weather"}]}],Gk=GL.flatMap(t=>t.pages),ky=[{type:"hero",name:"Hero",icon:Xj,desc:"   "},{type:"text",name:"",icon:$i,desc:"   HTML"},{type:"image",name:"",icon:Vj,desc:" "},{type:"info_cards",name:"-",icon:Hj,desc:"  "},{type:"schedule",name:"",icon:$c,desc:" "},{type:"list",name:"",icon:Gj,desc:" "},{type:"facts",name:"",icon:qj,desc:" "},{type:"cta",name:"CTA",icon:Yj,desc:"  "}],Yfe={calendar:Bj,map:Wj,users:Jj,info:Fc};function WL({initialPage:t=null}){const{token:e}=dn(),[n,i]=j.useState(!0),[a,s]=j.useState(null),[o,c]=j.useState(t||Gk[0].id),[d,h]=j.useState("ru"),[f,p]=j.useState([]),[m,x]=j.useState(null),{list:b,update:y}=oa();j.useEffect(()=>{_()},[o]);const _=async()=>{i(!0);try{const M=(await b()).find(I=>I.setting_key===o);if(M&&M.setting_value){const I=JSON.parse(M.setting_value);p(I.blocks||[])}else p([])}catch(P){console.error("Error loading page data:",P),p([])}i(!1)},S=async()=>{s("saving");try{const M=JSON.stringify({blocks:f});await y(o,M),s("success"),setTimeout(async()=>{await _(),s(null)},1500)}catch(P){console.error("Error saving page:",P),s("error"),setTimeout(()=>s(null),3e3)}},N=P=>{const M=E(P);p([...f,M]),x(M.id)},E=P=>{const I={id:Date.now().toString(),type:P};switch(P){case"hero":return{...I,title_ru:"",title_en:"",title_tj:"",subtitle_ru:"",subtitle_en:"",subtitle_tj:"",image:""};case"text":return{...I,content_ru:"",content_en:"",content_tj:"",heading_ru:"",heading_en:"",heading_tj:"",background:"white"};case"image":return{...I,url:"",alt_ru:"",alt_en:"",alt_tj:"",caption_ru:"",caption_en:"",caption_tj:"",size:"medium",alignment:"center"};case"info_cards":return{...I,cards:[]};case"schedule":return{...I,heading_ru:"",heading_en:"Schedule",heading_tj:"",items:[]};case"list":return{...I,heading_ru:"",heading_en:"",heading_tj:"",items_ru:[],items_en:[],items_tj:[]};case"facts":return{...I,heading_ru:" ",heading_en:"Interesting Facts",heading_tj:" ",facts_ru:[],facts_en:[],facts_tj:[]};case"cta":return{...I,text_ru:"",text_en:"",text_tj:"",button_text_ru:"",button_text_en:"",button_text_tj:"",button_link:""};default:return I}},A=(P,M)=>{p(f.map(I=>I.id===P?{...I,...M}:I))},T=P=>{confirm("  ?")&&(p(f.filter(M=>M.id!==P)),m===P&&x(null))},k=P=>{const M=f.find(I=>I.id===P);if(M){const I={...M,id:Date.now().toString()},G=f.findIndex(K=>K.id===P),U=[...f];U.splice(G+1,0,I),p(U)}},R=P=>{if(!P.destination)return;const M=Array.from(f),[I]=M.splice(P.source.index,1);M.splice(P.destination.index,0,I),p(M)},H=P=>P.replace(/\.[^/.]+$/,"").replace(/[-_]/g," ").replace(/\d+/g,"").trim(),V=async(P,M,I=!1)=>{const G=new FormData;G.append("file",M);try{const U=await fetch(`${Gfe}/api/admin/upload`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:G});if(!U.ok)throw new Error("Upload failed");const K=await U.json();if(I)A(P,{image:K.url||K.path});else{const z=H(M.name);A(P,{url:K.url||K.path,alt_ru:z,alt_en:z,alt_tj:z})}}catch(U){console.error("Error uploading image:",U),alert("  ")}},Y=P=>ky.find(I=>I.type===P)?.icon||$i,W=P=>ky.find(M=>M.type===P)?.name||P,X=P=>{switch(P.type){case"hero":return P.title_ru||P.title_en||" ";case"text":return P.heading_ru||P.heading_en||" ";case"image":return P.alt_ru||P.alt_en||"";case"info_cards":return`${(P.cards||[]).length} `;case"schedule":return`${(P.items||[]).length} `;case"list":return P.heading_ru||"";case"facts":return`${(P.facts_ru||[]).length} `;case"cta":return P.text_ru||"  ";default:return""}},ee=P=>{switch(P.type){case"hero":return r.jsxs("div",{className:"block-editor-content",children:[r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:P.image||"",onChange:M=>A(P.id,{image:M.target.value}),placeholder:"https://example.com/image.jpg   "}),r.jsxs("label",{className:"file-upload-btn",children:[r.jsx($s,{size:16})," ",r.jsx("input",{type:"file",accept:"image/*",onChange:M=>M.target.files[0]&&V(P.id,M.target.files[0],!0),style:{display:"none"}})]})]})}),P.image&&r.jsx("div",{className:"image-preview-box",children:r.jsx("img",{src:P.image,alt:"Hero Background Preview",style:{maxWidth:"100%",maxHeight:"200px"}})}),r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:P[`title_${d}`]||"",onChange:M=>A(P.id,{[`title_${d}`]:M.target.value}),placeholder:" "})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:P[`subtitle_${d}`]||"",onChange:M=>A(P.id,{[`subtitle_${d}`]:M.target.value}),placeholder:" "})]})})]});case"text":return r.jsxs("div",{className:"block-editor-content",children:[r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsxs("select",{value:P.background||"white",onChange:M=>A(P.id,{background:M.target.value}),children:[r.jsx("option",{value:"white",children:""}),r.jsx("option",{value:"gray",children:""})]})]})}),r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:P[`heading_${d}`]||"",onChange:M=>A(P.id,{[`heading_${d}`]:M.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" ( )"}),r.jsx(Wfe,{block:P,langTab:d,updateBlock:A})]})})]});case"image":return r.jsxs("div",{className:"block-editor-content",children:[r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"URL "}),r.jsx("input",{type:"text",value:P.url||"",onChange:M=>A(P.id,{url:M.target.value}),placeholder:"https://example.com/image.jpg"}),r.jsxs("label",{className:"file-upload-btn",children:[r.jsx($s,{size:16}),r.jsx("span",{children:" "}),r.jsx("input",{type:"file",accept:"image/*",onChange:M=>M.target.files[0]&&V(P.id,M.target.files[0]),style:{display:"none"}})]})]})}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsxs("select",{value:P.size||"medium",onChange:M=>A(P.id,{size:M.target.value}),children:[r.jsx("option",{value:"small",children:" (400px)"}),r.jsx("option",{value:"medium",children:" (800px)"}),r.jsx("option",{value:"large",children:" (1200px)"}),r.jsx("option",{value:"full",children:" "})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsxs("select",{value:P.alignment||"center",onChange:M=>A(P.id,{alignment:M.target.value}),children:[r.jsx("option",{value:"left",children:"  "}),r.jsx("option",{value:"center",children:" "}),r.jsx("option",{value:"right",children:"  "})]})]})]}),P.url&&r.jsx("div",{className:"image-preview-box",children:r.jsx("img",{src:P.url,alt:"Preview",style:{maxWidth:P.size==="small"?"400px":P.size==="medium"?"800px":P.size==="large"?"1200px":"100%",margin:P.alignment==="left"?"0 auto 0 0":P.alignment==="right"?"0 0 0 auto":"0 auto"}})}),r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Alt "}),r.jsx("input",{type:"text",value:P[`alt_${d}`]||"",onChange:M=>A(P.id,{[`alt_${d}`]:M.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" ()"}),r.jsx("input",{type:"text",value:P[`caption_${d}`]||"",onChange:M=>A(P.id,{[`caption_${d}`]:M.target.value})})]})})]});case"info_cards":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("button",{className:"btn-add-item",onClick:()=>{const M={id:Date.now().toString(),icon:"calendar",title_ru:"",title_en:"",title_tj:"",text_ru:"",text_en:"",text_tj:""};A(P.id,{cards:[...P.cards||[],M]})},children:[r.jsx(_c,{size:16}),r.jsx("span",{children:" "})]}),r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),(P.cards||[]).map((M,I)=>{const G=Yfe[M.icon]||Fc;return r.jsxs("div",{className:"nested-item",children:[r.jsxs("div",{className:"nested-item-header",children:[r.jsxs("span",{children:[r.jsx(G,{size:16}),"  #",I+1]}),r.jsx("button",{onClick:()=>A(P.id,{cards:P.cards.filter(U=>U.id!==M.id)}),children:r.jsx(ta,{size:14})})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsxs("select",{value:M.icon,onChange:U=>{const K=P.cards.map(z=>z.id===M.id?{...z,icon:U.target.value}:z);A(P.id,{cards:K})},children:[r.jsx("option",{value:"calendar",children:""}),r.jsx("option",{value:"map",children:""}),r.jsx("option",{value:"users",children:""}),r.jsx("option",{value:"info",children:""})]})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:M[`title_${d}`]||"",onChange:U=>{const K=P.cards.map(z=>z.id===M.id?{...z,[`title_${d}`]:U.target.value}:z);A(P.id,{cards:K})}})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("textarea",{rows:"2",value:M[`text_${d}`]||"",onChange:U=>{const K=P.cards.map(z=>z.id===M.id?{...z,[`text_${d}`]:U.target.value}:z);A(P.id,{cards:K})}})]})})]},M.id)})]});case"schedule":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:P[`heading_${d}`]||"",onChange:M=>A(P.id,{[`heading_${d}`]:M.target.value})})]})}),r.jsxs("button",{className:"btn-add-item",onClick:()=>{const M={id:Date.now().toString(),time:"",text_ru:"",text_en:"",text_tj:""};A(P.id,{items:[...P.items||[],M]})},children:[r.jsx(_c,{size:16}),r.jsx("span",{children:"  "})]}),(P.items||[]).map((M,I)=>r.jsxs("div",{className:"nested-item",children:[r.jsxs("div",{className:"nested-item-header",children:[r.jsxs("span",{children:[r.jsx($c,{size:16}),"  #",I+1]}),r.jsx("button",{onClick:()=>A(P.id,{items:P.items.filter(G=>G.id!==M.id)}),children:r.jsx(ta,{size:14})})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:M.time||"",onChange:G=>{const U=P.items.map(K=>K.id===M.id?{...K,time:G.target.value}:K);A(P.id,{items:U})},placeholder:"08:00"})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:M[`text_${d}`]||"",onChange:G=>{const U=P.items.map(K=>K.id===M.id?{...K,[`text_${d}`]:G.target.value}:K);A(P.id,{items:U})}})]})})]},M.id))]});case"list":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:P[`heading_${d}`]||"",onChange:M=>A(P.id,{[`heading_${d}`]:M.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"  (  )"}),r.jsx("textarea",{rows:"6",value:(P[`items_${d}`]||[]).join(`
`),onChange:M=>A(P.id,{[`items_${d}`]:M.target.value.split(`
`).filter(Boolean)}),placeholder:` 1
 2
 3`})]})})]});case"facts":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:P[`heading_${d}`]||"",onChange:M=>A(P.id,{[`heading_${d}`]:M.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" (  )"}),r.jsx("textarea",{rows:"8",value:(P[`facts_${d}`]||[]).join(`
`),onChange:M=>A(P.id,{[`facts_${d}`]:M.target.value.split(`
`).filter(Boolean)}),placeholder:` 1
 2
 3`})]})})]});case"cta":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("textarea",{rows:"3",value:P[`text_${d}`]||"",onChange:M=>A(P.id,{[`text_${d}`]:M.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:P[`button_text_${d}`]||"",onChange:M=>A(P.id,{[`button_text_${d}`]:M.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:P.button_link||"",onChange:M=>A(P.id,{button_link:M.target.value}),placeholder:"/registration"})]})})]});default:return r.jsx("div",{children:"  "})}},L=Gk.find(P=>P.id===o);return r.jsxs("div",{className:"elementor-builder",children:[r.jsxs("div",{className:"elementor-topbar",children:[r.jsx("div",{className:"topbar-left",children:r.jsx("h2",{children:" "})}),r.jsxs("div",{className:"topbar-right",children:[L&&r.jsx("a",{href:L.path,target:"_blank",rel:"noopener noreferrer",className:"btn-preview-page",style:{marginRight:"12px",padding:"8px 16px",background:"#f3f4f6",borderRadius:"8px",color:"#374151",textDecoration:"none",fontSize:"14px"},children:"  "}),r.jsxs("button",{className:`btn-save ${a==="saving"?"saving":""} ${a==="success"?"success":""}`,onClick:S,disabled:a==="saving",children:[r.jsx(Kj,{size:16}),a==="saving"?"...":a==="success"?"":""]})]})]}),!t&&r.jsx("div",{className:"elementor-page-tabs",style:{flexWrap:"wrap",gap:"4px"},children:GL.map(P=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginRight:"12px"},children:[r.jsxs("span",{style:{fontSize:"11px",color:"#6b7280",fontWeight:"600",textTransform:"uppercase",marginRight:"4px"},children:[P.label,":"]}),P.pages.map(M=>r.jsx("button",{className:`page-tab ${o===M.id?"active":""}`,onClick:()=>c(M.id),style:{padding:"6px 12px",fontSize:"13px"},children:M.name},M.id))]},P.id))}),n?r.jsxs("div",{className:"elementor-loading",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{children:"..."})]}):r.jsxs("div",{className:"elementor-workspace",children:[r.jsxs("div",{className:"elementor-sidebar",children:[r.jsx("div",{className:"sidebar-header",children:r.jsx("h3",{children:" "})}),r.jsx("div",{className:"block-picker-grid",children:ky.map(P=>{const M=P.icon;return r.jsxs("button",{className:"block-picker-item",onClick:()=>N(P.type),title:P.desc,children:[r.jsx("div",{className:"block-icon",children:r.jsx(M,{size:28,strokeWidth:1.5})}),r.jsx("div",{className:"block-name",children:P.name})]},P.type)})})]}),r.jsx("div",{className:"elementor-canvas",children:f.length===0?r.jsxs("div",{className:"canvas-empty",children:[r.jsx("div",{className:"empty-icon",children:r.jsx($i,{size:64,strokeWidth:1})}),r.jsx("h3",{children:"  "}),r.jsx("p",{children:"  ,     "})]}):r.jsx(Pj,{onDragEnd:R,children:r.jsx(Ij,{droppableId:"blocks",children:P=>r.jsxs("div",{className:"blocks-container",...P.droppableProps,ref:P.innerRef,children:[f.map((M,I)=>{const G=Y(M.type);return r.jsx(Lj,{draggableId:M.id,index:I,children:(U,K)=>r.jsxs("div",{ref:U.innerRef,...U.draggableProps,className:`block-wrapper ${m===M.id?"expanded":""} ${K.isDragging?"dragging":""}`,children:[r.jsxs("div",{className:"block-header",...U.dragHandleProps,children:[r.jsxs("div",{className:"block-header-left",children:[r.jsx("span",{className:"drag-handle",children:r.jsx(Uj,{size:20})}),r.jsx("span",{className:"block-type-icon",children:r.jsx(G,{size:18})}),r.jsxs("span",{className:"block-type-label",children:[W(M.type),": ",X(M)]})]}),r.jsxs("div",{className:"block-header-right",children:[r.jsx("button",{className:"block-action-btn",onClick:()=>x(m===M.id?null:M.id),title:m===M.id?"":"",children:m===M.id?r.jsx($j,{size:18}):r.jsx(zj,{size:18})}),r.jsx("button",{className:"block-action-btn",onClick:()=>k(M.id),title:"",children:r.jsx(Fj,{size:18})}),r.jsx("button",{className:"block-action-btn delete",onClick:()=>T(M.id),title:"",children:r.jsx(ta,{size:18})})]})]}),m===M.id&&r.jsx("div",{className:"block-body",children:ee(M)})]})},M.id)}),P.placeholder]})})})})]})]})}const Yr={calendar:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"})}),event:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),map:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"})}),truck:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"})}),phone:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"})}),page:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})}),add:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),edit:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",children:r.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})}),delete:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",children:r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})}),close:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),visible:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",children:r.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}),hidden:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",children:r.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})})},Xfe=[{id:"conference",label:"",icon:"event",description:" ",isBuiltIn:!0},{id:"program",label:"",icon:"calendar",description:" ",isBuiltIn:!0},{id:"events",label:"",icon:"event",description:"   ",isBuiltIn:!0},{id:"exhibition",label:"",icon:"page",description:" ",isBuiltIn:!0},{id:"excursions",label:"",icon:"map",description:"  ",isBuiltIn:!0},{id:"logistics",label:"",icon:"truck",description:"  ",isBuiltIn:!0},{id:"contacts",label:"",icon:"phone",description:" ",isBuiltIn:!0},{id:"registration",label:"",icon:"add",description:" ",isBuiltIn:!0},{id:"water-decade",label:" ",icon:"event",description:"  ",isBuiltIn:!0}],Kfe={conference:"event",program:"calendar",events:"event",excursions:"map",exhibition:"page",logistics:"truck",contacts:"phone",registration:"add","water-decade":"event"};function Jfe(){const[t,e]=X7(),n=t.get("page")||"program",[i,a]=j.useState(n),[s,o]=j.useState([]),[c,d]=j.useState(Xfe),[h,f]=j.useState(!0),[p,m]=j.useState(null),[x,b]=j.useState(!1),[y,_]=j.useState(null),[S,N]=j.useState("ru"),{list:E,update:A}=oa(),[T,k]=j.useState({slug:"",title_ru:"",title_en:"",title_tj:"",description_ru:"",description_en:"",description_tj:"",content_ru:"",content_en:"",content_tj:"",showInMenu:!0,isPublished:!0});j.useEffect(()=>{window.dispatchEvent(new CustomEvent("admin-collapse-sidebar"))},[]),j.useEffect(()=>{R()},[]),j.useEffect(()=>{e({page:i})},[i,e]);const R=async()=>{f(!0);try{const U=await E(),K={};if(U.forEach(z=>{K[z.setting_key]=z.setting_value}),K.custom_pages&&o(JSON.parse(K.custom_pages)),K.header_navigation)try{const z=JSON.parse(K.header_navigation);if(Array.isArray(z)&&z.length>0){const O=z.filter($=>$.id!=="registration").map($=>{const B=Kfe[$.id]||"page";return{id:$.path?.replace("/","")||$.id||$.id,label:$.label_ru||$.id,icon:B,description:$.submenus?.length>0?`${$.submenus.length} `:$.label_ru||"",isBuiltIn:!0}});if(!O.find($=>$.id==="excursions")){const $=O.findIndex(B=>B.id==="exhibition");O.splice($+1,0,{id:"excursions",label:"",icon:"map",description:"  ",isBuiltIn:!0})}O.push({id:"registration",label:"",icon:"add",description:" ",isBuiltIn:!0}),O.length>0&&d(O)}}catch(z){console.error("Failed to parse navigation:",z)}}catch(U){console.error("Failed to load custom pages:",U)}finally{f(!1)}},H=async U=>{m({type:"saving",message:"..."});try{await A("custom_pages",JSON.stringify(U)),m({type:"success",message:" !"}),setTimeout(()=>m(null),3e3)}catch(K){console.error("Failed to save custom pages:",K),m({type:"error",message:" "}),setTimeout(()=>m(null),5e3)}},V=()=>{k({slug:"",title_ru:"",title_en:"",title_tj:"",description_ru:"",description_en:"",description_tj:"",content_ru:"",content_en:"",content_tj:"",showInMenu:!0,isPublished:!0}),N("ru")},Y=()=>{V(),_(null),b(!0)},W=U=>{k({...U}),_(U.id),b(!0)},X=()=>{b(!1),_(null),V()},ee=U=>U.toLowerCase().replace(/[-]/g,K=>({:"a",:"b",:"v",:"g",:"d",:"e",:"e",:"zh",:"z",:"i",:"y",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"h",:"ts",:"ch",:"sh",:"sch",:"",:"y",:"",:"e",:"yu",:"ya"})[K]||K).replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),L=()=>{if(!T.title_ru.trim()){alert("  ");return}const U=ee(T.title_ru);if(s.some(B=>B.slug===U)){alert("     ");return}const z=Date.now(),O={slug:U,title_ru:T.title_ru,title_en:"",title_tj:"",description_ru:"",description_en:"",description_tj:"",content_ru:"",content_en:"",content_tj:"",showInMenu:!0,isPublished:!1,id:z,createdAt:new Date().toISOString()},$=[...s,O];o($),H($),X(),a(`custom-${z}`)},P=U=>{if(!window.confirm("  ?"))return;const K=s.filter(z=>z.id!==U);o(K),H(K),i===`custom-${U}`&&a("program")},M=U=>{const K=s.map(z=>z.id===U?{...z,isPublished:!z.isPublished}:z);o(K),H(K)};[...c,...s.map(U=>({id:`custom-${U.id}`,label:U.title_ru,icon:"page",description:U.description_ru||" ",isCustom:!0,customData:U}))];const I=()=>{if(i.startsWith("custom-")){const U=parseInt(i.replace("custom-","")),K=s.find(z=>z.id===U);if(K)return r.jsx(Zfe,{page:K,onSave:z=>{const O=s.map($=>$.id===U?z:$);o(O),H(O)}})}switch(i){case"conference":return r.jsx(Es,{embedded:!0,initialPage:"conference"});case"program":return r.jsx(Es,{embedded:!0,initialPage:"program"});case"events":return r.jsx(Es,{embedded:!0,initialPage:"events"});case"excursions":return r.jsx(Es,{embedded:!0,initialPage:"excursions"});case"exhibition":return r.jsx(Es,{embedded:!0,initialPage:"exhibition"});case"logistics":return r.jsx(Es,{embedded:!0,initialPage:"logistics"});case"contacts":return r.jsx(qL,{embedded:!0});case"registration":return r.jsx(WL,{initialPage:"registration_page"});case"water-decade":return r.jsx(qfe,{embedded:!0});default:return r.jsx(Es,{embedded:!0,initialPage:i})}},G=U=>Yr[U]||Yr.page;return r.jsxs("div",{className:"pages-manager",children:[r.jsx("div",{className:"pages-manager-header",children:r.jsxs("div",{className:"pages-manager-title",children:[r.jsx("h1",{children:""}),r.jsx("p",{children:"  "})]})}),p&&r.jsxs("div",{className:`save-status save-status--${p.type}`,children:[r.jsx("span",{children:p.message}),r.jsx("button",{className:"save-status-close",onClick:()=>m(null),children:Yr.close})]}),r.jsxs("div",{className:"pages-manager-layout",children:[r.jsxs("aside",{className:"pages-manager-sidebar",children:[r.jsxs("div",{className:"pages-nav-section",children:[r.jsx("div",{className:"pages-nav-section-title",children:" "}),r.jsx("nav",{className:"pages-nav",children:c.map(U=>r.jsxs("button",{className:`pages-nav-item ${i===U.id?"active":""}`,onClick:()=>a(U.id),children:[r.jsx("span",{className:"pages-nav-icon",children:G(U.icon)}),r.jsxs("div",{className:"pages-nav-text",children:[r.jsx("span",{className:"pages-nav-label",children:U.label}),r.jsx("span",{className:"pages-nav-description",children:U.description})]})]},U.id))})]}),s.length>0&&r.jsxs("div",{className:"pages-nav-section",children:[r.jsx("div",{className:"pages-nav-section-title",children:" "}),r.jsx("nav",{className:"pages-nav",children:s.map(U=>r.jsxs("div",{className:`pages-nav-item ${i===`custom-${U.id}`?"active":""} ${U.isPublished?"":"unpublished"}`,children:[r.jsxs("button",{className:"pages-nav-item-main",onClick:()=>a(`custom-${U.id}`),children:[r.jsx("span",{className:"pages-nav-icon",children:Yr.page}),r.jsxs("div",{className:"pages-nav-text",children:[r.jsx("span",{className:"pages-nav-label",children:U.title_ru}),r.jsxs("span",{className:"pages-nav-description",children:["/",U.slug]})]})]}),r.jsxs("div",{className:"pages-nav-item-actions",children:[r.jsx("button",{className:"pages-nav-action",onClick:K=>{K.stopPropagation(),M(U.id)},title:U.isPublished?"":"",children:U.isPublished?Yr.visible:Yr.hidden}),r.jsx("button",{className:"pages-nav-action",onClick:K=>{K.stopPropagation(),W(U)},title:"",children:Yr.edit}),r.jsx("button",{className:"pages-nav-action delete",onClick:K=>{K.stopPropagation(),P(U.id)},title:"",children:Yr.delete})]})]},U.id))})]}),r.jsxs("button",{className:"pages-nav-add",onClick:Y,children:[Yr.add,r.jsx("span",{children:" "})]})]}),r.jsx("main",{className:"pages-manager-content",children:I()})]}),x&&r.jsx("div",{className:"pages-modal-overlay",onClick:X,children:r.jsxs("div",{className:"pages-modal pages-modal--simple",onClick:U=>U.stopPropagation(),children:[r.jsxs("div",{className:"pages-modal-header",children:[r.jsx("h2",{children:" "}),r.jsx("button",{className:"pages-modal-close",onClick:X,children:Yr.close})]}),r.jsx("div",{className:"pages-modal-body",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:T.title_ru,onChange:U=>k({...T,title_ru:U.target.value}),placeholder:"  ",autoFocus:!0,onKeyDown:U=>{U.key==="Enter"&&(U.preventDefault(),L())}}),T.title_ru&&r.jsxs("span",{className:"slug-preview",children:["URL: /",ee(T.title_ru)]})]})}),r.jsxs("div",{className:"pages-modal-footer",children:[r.jsx("button",{className:"btn-cancel",onClick:X,children:""}),r.jsx("button",{className:"btn-save",onClick:L,children:" "})]})]})})]})}const Wk=[{id:"news-grid",name:" ",description:"  3-    ",category:"news",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M4 5v13h17V5H4zm10 2v3.5h-3V7h3zM6 7h3v3.5H6V7zm0 9v-3.5h3V16H6zm5 0v-3.5h3V16h-3zm8 0h-3v-3.5h3V16zm-3-5.5V7h3v3.5h-3z"})}),html:`<div class="news-page__grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; margin: 32px 0;">
  <div class="news-page__card" style="background: #fff; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
    <div style="height: 200px; background: linear-gradient(135deg, #2d5a87 0%, #4a90c2 100%); display: flex; align-items: center; justify-content: center; color: white;">
      <span style="font-size: 14px;"> </span>
    </div>
    <div style="padding: 20px;">
      <span style="display: inline-block; background: rgba(45,90,135,0.1); color: #2d5a87; padding: 4px 12px; border-radius: 20px; font-size: 12px; margin-bottom: 12px;"></span>
      <h3 style="font-size: 18px; font-weight: 600; color: #1e3a5f; margin-bottom: 8px;"> </h3>
      <p style="color: #6b7280; font-size: 14px; line-height: 1.6;">  ...</p>
      <a href="#" style="display: inline-flex; align-items: center; color: #2d5a87; font-size: 14px; font-weight: 500; margin-top: 12px;"> </a>
    </div>
  </div>
  <div class="news-page__card" style="background: #fff; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
    <div style="height: 200px; background: linear-gradient(135deg, #2d5a87 0%, #4a90c2 100%); display: flex; align-items: center; justify-content: center; color: white;">
      <span style="font-size: 14px;"> </span>
    </div>
    <div style="padding: 20px;">
      <span style="display: inline-block; background: rgba(45,90,135,0.1); color: #2d5a87; padding: 4px 12px; border-radius: 20px; font-size: 12px; margin-bottom: 12px;"></span>
      <h3 style="font-size: 18px; font-weight: 600; color: #1e3a5f; margin-bottom: 8px;"> </h3>
      <p style="color: #6b7280; font-size: 14px; line-height: 1.6;">  ...</p>
      <a href="#" style="display: inline-flex; align-items: center; color: #2d5a87; font-size: 14px; font-weight: 500; margin-top: 12px;"> </a>
    </div>
  </div>
  <div class="news-page__card" style="background: #fff; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
    <div style="height: 200px; background: linear-gradient(135deg, #2d5a87 0%, #4a90c2 100%); display: flex; align-items: center; justify-content: center; color: white;">
      <span style="font-size: 14px;"> </span>
    </div>
    <div style="padding: 20px;">
      <span style="display: inline-block; background: rgba(45,90,135,0.1); color: #2d5a87; padding: 4px 12px; border-radius: 20px; font-size: 12px; margin-bottom: 12px;"></span>
      <h3 style="font-size: 18px; font-weight: 600; color: #1e3a5f; margin-bottom: 8px;"> </h3>
      <p style="color: #6b7280; font-size: 14px; line-height: 1.6;">  ...</p>
      <a href="#" style="display: inline-flex; align-items: center; color: #2d5a87; font-size: 14px; font-weight: 500; margin-top: 12px;"> </a>
    </div>
  </div>
</div>`},{id:"news-card",name:" ",description:"  ",category:"news",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4 6h2v4h-2z"})}),html:`<div class="news-card" style="background: #fff; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.08); max-width: 400px;">
  <div style="height: 200px; background: linear-gradient(135deg, #2d5a87 0%, #4a90c2 100%); display: flex; align-items: center; justify-content: center; color: white; position: relative;">
    <span style="font-size: 14px;"> </span>
    <span style="position: absolute; top: 12px; left: 12px; background: rgba(45,90,135,0.9); color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px;"></span>
  </div>
  <div style="padding: 20px;">
    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px; color: #6b7280; font-size: 13px;">
      <span> 24  2025</span>
    </div>
    <h3 style="font-size: 18px; font-weight: 600; color: #1e3a5f; margin-bottom: 12px; line-height: 1.4;"> </h3>
    <p style="color: #6b7280; font-size: 14px; line-height: 1.6; margin-bottom: 16px;">  .      ...</p>
    <a href="#" style="display: inline-flex; align-items: center; color: #2d5a87; font-size: 14px; font-weight: 500; text-decoration: none;">
       
      <span style="margin-left: 4px;"></span>
    </a>
  </div>
</div>`},{id:"featured-article",name:" ",description:"    ",category:"news",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})}),html:`<div class="featured-article" style="display: grid; grid-template-columns: 1fr 1fr; gap: 32px; background: #fff; border-radius: 20px; overflow: hidden; box-shadow: 0 8px 40px rgba(0,0,0,0.1); margin: 32px 0;">
  <div style="height: 400px; background: linear-gradient(135deg, #2d5a87 0%, #4a90c2 100%); display: flex; align-items: center; justify-content: center; color: white;">
    <span style="font-size: 16px;"> </span>
  </div>
  <div style="padding: 40px 40px 40px 0; display: flex; flex-direction: column; justify-content: center;">
    <span style="display: inline-block; background: rgba(45,90,135,0.1); color: #2d5a87; padding: 6px 16px; border-radius: 20px; font-size: 13px; margin-bottom: 16px; width: fit-content;"> </span>
    <h2 style="font-size: 28px; font-weight: 700; color: #1e3a5f; margin-bottom: 16px; line-height: 1.3;">  </h2>
    <p style="color: #6b7280; font-size: 16px; line-height: 1.7; margin-bottom: 24px;">   .          .</p>
    <div style="display: flex; align-items: center; gap: 16px;">
      <a href="#" style="display: inline-flex; align-items: center; background: #2d5a87; color: white; padding: 12px 24px; border-radius: 8px; font-size: 14px; font-weight: 500; text-decoration: none;">
         
      </a>
      <span style="color: #9ca3af; font-size: 14px;"> 24  2025</span>
    </div>
  </div>
</div>`},{id:"news-section",name:" ",description:"    ",category:"news",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12zM10 9h8v2h-8zm0 3h4v2h-4zm0-6h8v2h-8z"})}),html:`<section class="news-section" style="padding: 60px 0;">
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px;">
    <div>
      <h2 style="font-size: 32px; font-weight: 700; color: #1e3a5f; margin-bottom: 8px;"> </h2>
      <p style="color: #6b7280; font-size: 16px;">   </p>
    </div>
    <a href="/news" style="display: inline-flex; align-items: center; color: #2d5a87; font-size: 14px; font-weight: 500; text-decoration: none;">
       
      <span style="margin-left: 8px;"></span>
    </a>
  </div>
  <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px;">
    <div style="background: #fff; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
      <div style="height: 180px; background: linear-gradient(135deg, #2d5a87 0%, #4a90c2 100%);"></div>
      <div style="padding: 20px;">
        <span style="display: inline-block; background: rgba(45,90,135,0.1); color: #2d5a87; padding: 4px 12px; border-radius: 20px; font-size: 12px; margin-bottom: 12px;"></span>
        <h3 style="font-size: 16px; font-weight: 600; color: #1e3a5f; margin-bottom: 8px;">  1</h3>
        <p style="color: #6b7280; font-size: 14px; line-height: 1.5;"> ...</p>
      </div>
    </div>
    <div style="background: #fff; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
      <div style="height: 180px; background: linear-gradient(135deg, #2d5a87 0%, #4a90c2 100%);"></div>
      <div style="padding: 20px;">
        <span style="display: inline-block; background: rgba(45,90,135,0.1); color: #2d5a87; padding: 4px 12px; border-radius: 20px; font-size: 12px; margin-bottom: 12px;"></span>
        <h3 style="font-size: 16px; font-weight: 600; color: #1e3a5f; margin-bottom: 8px;">  2</h3>
        <p style="color: #6b7280; font-size: 14px; line-height: 1.5;"> ...</p>
      </div>
    </div>
    <div style="background: #fff; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
      <div style="height: 180px; background: linear-gradient(135deg, #2d5a87 0%, #4a90c2 100%);"></div>
      <div style="padding: 20px;">
        <span style="display: inline-block; background: rgba(45,90,135,0.1); color: #2d5a87; padding: 4px 12px; border-radius: 20px; font-size: 12px; margin-bottom: 12px;"></span>
        <h3 style="font-size: 16px; font-weight: 600; color: #1e3a5f; margin-bottom: 8px;">  3</h3>
        <p style="color: #6b7280; font-size: 14px; line-height: 1.5;"> ...</p>
      </div>
    </div>
  </div>
</section>`},{id:"article-content",name:" ",description:"   ",category:"article",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"})}),html:`<article class="article-content" style="max-width: 800px; margin: 0 auto;">
  <header style="margin-bottom: 32px;">
    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
      <span style="background: rgba(45,90,135,0.1); color: #2d5a87; padding: 4px 12px; border-radius: 20px; font-size: 13px;"></span>
      <span style="color: #9ca3af; font-size: 14px;"> 24  2025</span>
      <span style="color: #9ca3af; font-size: 14px;"> 5  </span>
    </div>
    <h1 style="font-size: 36px; font-weight: 700; color: #1e3a5f; line-height: 1.3; margin-bottom: 16px;"> </h1>
    <p style="font-size: 18px; color: #6b7280; line-height: 1.6;">    .   ,    .</p>
  </header>

  <div style="height: 400px; background: linear-gradient(135deg, #2d5a87 0%, #4a90c2 100%); border-radius: 16px; margin-bottom: 32px; display: flex; align-items: center; justify-content: center; color: white;">
    <span style="font-size: 16px;">  </span>
  </div>

  <div style="font-size: 16px; line-height: 1.8; color: #374151;">
    <p style="margin-bottom: 20px;">  .    .        .</p>

    <h2 style="font-size: 24px; font-weight: 600; color: #1e3a5f; margin: 32px 0 16px;"> </h2>
    <p style="margin-bottom: 20px;">  .           .</p>

    <blockquote style="border-left: 4px solid #2d5a87; padding: 16px 24px; background: #f3f7fc; margin: 24px 0; border-radius: 0 8px 8px 0; font-style: italic; color: #4b5563;">
      "    ,     ."
    </blockquote>

    <p style="margin-bottom: 20px;">        .</p>
  </div>
</article>`},{id:"share-buttons",name:"  ",description:"   ",category:"social",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"})}),html:`<div class="share-buttons" style="display: flex; align-items: center; gap: 16px; padding: 24px 0; border-top: 1px solid #e5e7eb; border-bottom: 1px solid #e5e7eb; margin: 32px 0;">
  <span style="font-weight: 500; color: #374151;">:</span>
  <div style="display: flex; gap: 8px;">
    <a href="#" style="width: 40px; height: 40px; border-radius: 50%; background: #3b5998; display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;" title="Facebook">
      <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"/></svg>
    </a>
    <a href="#" style="width: 40px; height: 40px; border-radius: 50%; background: #1da1f2; display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;" title="Twitter">
      <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/></svg>
    </a>
    <a href="#" style="width: 40px; height: 40px; border-radius: 50%; background: #0077b5; display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;" title="LinkedIn">
      <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg>
    </a>
    <a href="#" style="width: 40px; height: 40px; border-radius: 50%; background: #25d366; display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;" title="WhatsApp">
      <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
    </a>
    <a href="#" style="width: 40px; height: 40px; border-radius: 50%; background: #0088cc; display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;" title="Telegram">
      <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
    </a>
  </div>
</div>`},{id:"related-news",name:" ",description:"   ",category:"news",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})}),html:`<div class="related-news" style="margin-top: 48px; padding-top: 32px; border-top: 1px solid #e5e7eb;">
  <h3 style="font-size: 20px; font-weight: 600; color: #1e3a5f; margin-bottom: 24px;"> </h3>
  <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
    <a href="#" style="display: flex; gap: 16px; text-decoration: none; padding: 16px; border-radius: 12px; background: #f9fafb; transition: background 0.2s;">
      <div style="width: 100px; height: 80px; background: linear-gradient(135deg, #2d5a87 0%, #4a90c2 100%); border-radius: 8px; flex-shrink: 0;"></div>
      <div>
        <h4 style="font-size: 14px; font-weight: 600; color: #1e3a5f; margin-bottom: 4px; line-height: 1.4;">  </h4>
        <span style="font-size: 12px; color: #9ca3af;">24  2025</span>
      </div>
    </a>
    <a href="#" style="display: flex; gap: 16px; text-decoration: none; padding: 16px; border-radius: 12px; background: #f9fafb; transition: background 0.2s;">
      <div style="width: 100px; height: 80px; background: linear-gradient(135deg, #2d5a87 0%, #4a90c2 100%); border-radius: 8px; flex-shrink: 0;"></div>
      <div>
        <h4 style="font-size: 14px; font-weight: 600; color: #1e3a5f; margin-bottom: 4px; line-height: 1.4;">   </h4>
        <span style="font-size: 12px; color: #9ca3af;">23  2025</span>
      </div>
    </a>
  </div>
</div>`},{id:"info-box",name:" ",description:"    ",category:"content",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),html:`<div class="info-box" style="background: linear-gradient(135deg, rgba(45,90,135,0.05) 0%, rgba(45,90,135,0.1) 100%); border: 1px solid rgba(45,90,135,0.2); border-radius: 12px; padding: 24px; margin: 24px 0;">
  <div style="display: flex; gap: 16px;">
    <div style="width: 48px; height: 48px; background: #2d5a87; border-radius: 12px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
      <svg width="24" height="24" fill="white" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
    </div>
    <div>
      <h4 style="font-size: 16px; font-weight: 600; color: #1e3a5f; margin-bottom: 8px;"> </h4>
      <p style="color: #4b5563; font-size: 14px; line-height: 1.6; margin: 0;">   ,      .</p>
    </div>
  </div>
</div>`},{id:"cta-block",name:"  ",description:"   ",category:"content",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),html:`<div class="cta-block" style="background: linear-gradient(135deg, #2d5a87 0%, #1e4268 100%); border-radius: 16px; padding: 40px; text-align: center; margin: 32px 0;">
  <h3 style="font-size: 24px; font-weight: 700; color: white; margin-bottom: 12px;">  !</h3>
  <p style="color: rgba(255,255,255,0.9); font-size: 16px; margin-bottom: 24px; max-width: 500px; margin-left: auto; margin-right: auto;">       </p>
  <a href="/registration" style="display: inline-flex; align-items: center; background: white; color: #2d5a87; padding: 14px 32px; border-radius: 8px; font-size: 16px; font-weight: 600; text-decoration: none; transition: transform 0.2s;">
    
    <span style="margin-left: 8px;"></span>
  </a>
</div>`},{id:"two-columns",name:" ",description:"   ",category:"layout",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z"})}),html:`<div class="two-columns" style="display: grid; grid-template-columns: 1fr 1fr; gap: 32px; margin: 24px 0;">
  <div>
    <h3 style="font-size: 20px; font-weight: 600; color: #1e3a5f; margin-bottom: 12px;">  </h3>
    <p style="color: #4b5563; font-size: 15px; line-height: 1.7;">  .    ,    .</p>
  </div>
  <div>
    <h3 style="font-size: 20px; font-weight: 600; color: #1e3a5f; margin-bottom: 12px;">  </h3>
    <p style="color: #4b5563; font-size: 15px; line-height: 1.7;">  .    ,    .</p>
  </div>
</div>`}],Kt={bold:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"})}),italic:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})}),underline:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"})}),strikethrough:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"})}),link:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"})}),unlink:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16v-2zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4.01 1.41-1.41L3.41 2.86 2 4.27z"})}),image:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})}),listBullet:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"})}),listNumber:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"})}),alignLeft:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"})}),alignCenter:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"})}),alignRight:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"})}),quote:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"})}),heading:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M5 4v3h5.5v12h3V7H19V4z"})}),code:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})}),undo:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"})}),redo:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"})}),preview:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}),hr:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M4 11h16v2H4z"})}),template:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14H5v-2h7v2zm7-4H5v-2h14v2zm0-4H5V7h14v2z"})})};function Zfe({page:t,onSave:e}){const[n,i]=j.useState("ru"),[a,s]=j.useState(t),[o,c]=j.useState(!1),[d,h]=j.useState("visual"),[f,p]=j.useState(!1),[m,x]=j.useState(!1),[b,y]=j.useState(!1),[_,S]=j.useState(!1),[N,E]=j.useState("all"),A=j.useRef(null),T="";j.useEffect(()=>{s(t),c(!1)},[t]);const k=(z,O)=>{s($=>({...$,[z]:O})),c(!0)},R=()=>{e(a),c(!1)},H=z=>z.toLowerCase().replace(/[-]/g,O=>({:"a",:"b",:"v",:"g",:"d",:"e",:"e",:"zh",:"z",:"i",:"y",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"h",:"ts",:"ch",:"sh",:"sch",:"",:"y",:"",:"e",:"yu",:"ya"})[O]||O).replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),V=(z,O=null)=>{document.execCommand(z,!1,O),A.current?.focus(),Y()},Y=()=>{if(A.current&&d==="visual"){const z=A.current.innerHTML;k(`content_${n}`,z)}},W=z=>{z.preventDefault();let O=z.clipboardData.getData("text/plain");O=O.replace(/\r\n/g,`
`).replace(/\n{3,}/g,`

`).replace(/[ \t]+/g," ").trim(),document.execCommand("insertText",!1,O),Y()},X=()=>{const z=prompt(" URL :","https://");z&&V("createLink",z)},ee=()=>{const z=prompt(" URL :","https://");z&&V("insertImage",z)},L=()=>{const z=prompt("  (1-6):","2");z&&z>=1&&z<=6&&V("formatBlock",`h${z}`)},P=z=>{const O=["ru","en","tj"];if(d==="visual"&&A.current){const $=window.getSelection();if($.rangeCount>0){const Q=$.getRangeAt(0),J=document.createRange().createContextualFragment(z.html);Q.insertNode(J),Q.collapse(!1),$.removeAllRanges(),$.addRange(Q)}else A.current.innerHTML+=z.html;const B=A.current.innerHTML;s(Q=>{const J={};return O.forEach(q=>{q===n?J[`content_${q}`]=B:J[`content_${q}`]=(Q[`content_${q}`]||"")+`
`+z.html}),{...Q,...J}}),c(!0)}else s($=>{const B={};return O.forEach(Q=>{B[`content_${Q}`]=($[`content_${Q}`]||"")+`
`+z.html}),{...$,...B}}),c(!0);S(!1)},M=()=>N==="all"?Wk:Wk.filter(z=>z.category===N),I=[{id:"all",name:""},{id:"news",name:""},{id:"article",name:""},{id:"content",name:""},{id:"social",name:""},{id:"layout",name:""}],G=async z=>{const O=z.target.files?.[0];if(!O)return;y(!0);const $=new FormData;$.append("file",O);try{const B=localStorage.getItem("admin_token"),Q=await fetch(`${T}/api/admin/upload`,{method:"POST",headers:{Authorization:`Bearer ${B}`},body:$});if(Q.ok){const J=await Q.json();k("featured_image",J.url)}else alert("  ")}catch(B){console.error("Upload error:",B),alert(" ")}finally{y(!1)}},U=()=>{k("featured_image","")},K=({icon:z,title:O,onClick:$,active:B})=>r.jsx("button",{type:"button",className:`editor-toolbar-btn ${B?"active":""}`,title:O,onClick:$,onMouseDown:Q=>Q.preventDefault(),children:z});return r.jsxs("div",{className:"wp-page-editor",children:[r.jsxs("div",{className:"wp-editor-topbar",children:[r.jsxs("div",{className:"wp-editor-topbar-left",children:[r.jsx("span",{className:"wp-editor-status",children:a.isPublished?r.jsx("span",{className:"status-published",children:""}):r.jsx("span",{className:"status-draft",children:""})}),o&&r.jsx("span",{className:"wp-unsaved-indicator",children:"  "})]}),r.jsxs("div",{className:"wp-editor-topbar-right",children:[r.jsxs("button",{className:"wp-btn wp-btn-secondary",onClick:()=>p(!f),children:[Kt.preview,r.jsx("span",{children:""})]}),r.jsx("button",{className:"wp-btn wp-btn-primary",onClick:R,disabled:!o,children:a.isPublished?"":" "}),!a.isPublished&&r.jsx("button",{className:"wp-btn wp-btn-publish",onClick:()=>{k("isPublished",!0),setTimeout(R,100)},children:""})]})]}),r.jsxs("div",{className:"wp-editor-layout",children:[r.jsxs("div",{className:"wp-editor-main",children:[r.jsxs("div",{className:"wp-lang-tabs",children:[r.jsxs("button",{className:`wp-lang-tab ${n==="ru"?"active":""}`,onClick:()=>i("ru"),children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU"}),r.jsx("span",{children:""})]}),r.jsxs("button",{className:`wp-lang-tab ${n==="en"?"active":""}`,onClick:()=>i("en"),children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN"}),r.jsx("span",{children:"English"})]}),r.jsxs("button",{className:`wp-lang-tab ${n==="tj"?"active":""}`,onClick:()=>i("tj"),children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ"}),r.jsx("span",{children:""})]})]}),r.jsx("div",{className:"wp-title-wrapper",children:r.jsx("input",{type:"text",className:"wp-title-input",value:a[`title_${n}`]||"",onChange:z=>k(`title_${n}`,z.target.value),placeholder:n==="ru"?" ":n==="en"?"Enter title here":"  "})}),r.jsxs("div",{className:"wp-permalink",children:[r.jsx("span",{className:"wp-permalink-label",children:" :"}),r.jsx("span",{className:"wp-permalink-url",children:"/page/"}),m?r.jsx("input",{type:"text",className:"wp-permalink-input",value:a.slug,onChange:z=>k("slug",H(z.target.value)),onBlur:()=>x(!1),onKeyDown:z=>z.key==="Enter"&&x(!1),autoFocus:!0}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"wp-permalink-slug",children:a.slug}),r.jsx("button",{className:"wp-permalink-edit",onClick:()=>x(!0),children:""})]})]}),r.jsxs("div",{className:"wp-editor-container",children:[r.jsxs("div",{className:"wp-editor-mode-tabs",children:[r.jsx("button",{className:`wp-mode-tab ${d==="visual"?"active":""}`,onClick:()=>h("visual"),children:""}),r.jsx("button",{className:`wp-mode-tab ${d==="html"?"active":""}`,onClick:()=>h("html"),children:" (HTML)"})]}),d==="visual"&&r.jsxs("div",{className:"wp-editor-toolbar",children:[r.jsxs("div",{className:"toolbar-group",children:[r.jsx(K,{icon:Kt.bold,title:" (Ctrl+B)",onClick:()=>V("bold")}),r.jsx(K,{icon:Kt.italic,title:" (Ctrl+I)",onClick:()=>V("italic")}),r.jsx(K,{icon:Kt.underline,title:" (Ctrl+U)",onClick:()=>V("underline")}),r.jsx(K,{icon:Kt.strikethrough,title:"",onClick:()=>V("strikeThrough")})]}),r.jsx("div",{className:"toolbar-separator"}),r.jsxs("div",{className:"toolbar-group",children:[r.jsx(K,{icon:Kt.link,title:" ",onClick:X}),r.jsx(K,{icon:Kt.unlink,title:" ",onClick:()=>V("unlink")})]}),r.jsx("div",{className:"toolbar-separator"}),r.jsxs("div",{className:"toolbar-group",children:[r.jsx(K,{icon:Kt.listBullet,title:" ",onClick:()=>V("insertUnorderedList")}),r.jsx(K,{icon:Kt.listNumber,title:" ",onClick:()=>V("insertOrderedList")}),r.jsx(K,{icon:Kt.quote,title:"",onClick:()=>V("formatBlock","blockquote")})]}),r.jsx("div",{className:"toolbar-separator"}),r.jsxs("div",{className:"toolbar-group",children:[r.jsx(K,{icon:Kt.alignLeft,title:"  ",onClick:()=>V("justifyLeft")}),r.jsx(K,{icon:Kt.alignCenter,title:" ",onClick:()=>V("justifyCenter")}),r.jsx(K,{icon:Kt.alignRight,title:"  ",onClick:()=>V("justifyRight")})]}),r.jsx("div",{className:"toolbar-separator"}),r.jsxs("div",{className:"toolbar-group",children:[r.jsx(K,{icon:Kt.heading,title:"",onClick:L}),r.jsx(K,{icon:Kt.image,title:" ",onClick:ee}),r.jsx(K,{icon:Kt.hr,title:" ",onClick:()=>V("insertHorizontalRule")}),r.jsx(K,{icon:Kt.code,title:"",onClick:()=>V("formatBlock","pre")})]}),r.jsx("div",{className:"toolbar-separator"}),r.jsxs("div",{className:"toolbar-group",children:[r.jsx(K,{icon:Kt.undo,title:" (Ctrl+Z)",onClick:()=>V("undo")}),r.jsx(K,{icon:Kt.redo,title:" (Ctrl+Y)",onClick:()=>V("redo")})]}),r.jsx("div",{className:"toolbar-separator"}),r.jsx("div",{className:"toolbar-group",children:r.jsxs("button",{type:"button",className:`editor-toolbar-btn template-btn ${_?"active":""}`,title:" ",onClick:()=>S(!_),onMouseDown:z=>z.preventDefault(),children:[Kt.template,r.jsx("span",{className:"template-btn-text",children:""})]})})]}),_&&r.jsxs("div",{className:"wp-templates-panel",children:[r.jsxs("div",{className:"wp-templates-header",children:[r.jsx("h3",{children:"  "}),r.jsx("button",{className:"wp-templates-close",onClick:()=>S(!1),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsx("div",{className:"wp-templates-categories",children:I.map(z=>r.jsx("button",{className:`wp-template-category ${N===z.id?"active":""}`,onClick:()=>E(z.id),children:z.name},z.id))}),r.jsx("div",{className:"wp-templates-grid",children:M().map(z=>r.jsxs("button",{className:"wp-template-item",onClick:()=>P(z),children:[r.jsx("div",{className:"wp-template-icon",children:z.icon}),r.jsxs("div",{className:"wp-template-info",children:[r.jsx("span",{className:"wp-template-name",children:z.name}),r.jsx("span",{className:"wp-template-desc",children:z.description})]})]},z.id))})]}),d==="visual"?r.jsx("div",{ref:A,className:"wp-visual-editor",contentEditable:!0,dangerouslySetInnerHTML:{__html:a[`content_${n}`]||""},onInput:Y,onBlur:Y,onPaste:W}):r.jsx("textarea",{className:"wp-html-editor",value:a[`content_${n}`]||"",onChange:z=>k(`content_${n}`,z.target.value),placeholder:n==="ru"?"HTML  ...":n==="en"?"Page HTML content...":"HTML  ..."})]}),r.jsxs("div",{className:"wp-excerpt-box",children:[r.jsx("h3",{children:"  (Excerpt)"}),r.jsx("p",{className:"wp-excerpt-help",children:"      "}),r.jsx("textarea",{className:"wp-excerpt-textarea",value:a[`description_${n}`]||"",onChange:z=>k(`description_${n}`,z.target.value),placeholder:n==="ru"?"  ...":n==="en"?"Enter excerpt...":" ...",rows:"3"})]})]}),r.jsxs("div",{className:"wp-editor-sidebar",children:[r.jsxs("div",{className:"wp-sidebar-box",children:[r.jsx("div",{className:"wp-sidebar-box-header",children:r.jsx("h3",{children:""})}),r.jsxs("div",{className:"wp-sidebar-box-content",children:[r.jsxs("div",{className:"wp-publish-row",children:[r.jsx("span",{className:"wp-publish-label",children:":"}),r.jsx("span",{className:"wp-publish-value",children:a.isPublished?"":""}),r.jsx("button",{className:"wp-publish-edit",onClick:()=>k("isPublished",!a.isPublished),children:""})]}),r.jsxs("div",{className:"wp-publish-row",children:[r.jsx("span",{className:"wp-publish-label",children:":"}),r.jsx("span",{className:"wp-publish-value",children:""})]}),r.jsxs("div",{className:"wp-publish-row",children:[r.jsx("span",{className:"wp-publish-label",children:":"}),r.jsx("span",{className:"wp-publish-value",children:a.createdAt?new Date(a.createdAt).toLocaleDateString("ru-RU"):""})]})]}),r.jsxs("div",{className:"wp-sidebar-box-footer",children:[r.jsx("button",{className:"wp-btn wp-btn-link wp-btn-delete",onClick:()=>{confirm("  ?")},children:""}),r.jsx("button",{className:"wp-btn wp-btn-primary",onClick:R,disabled:!o,children:a.isPublished?"":""})]})]}),r.jsxs("div",{className:"wp-sidebar-box",children:[r.jsx("div",{className:"wp-sidebar-box-header",children:r.jsx("h3",{children:" "})}),r.jsxs("div",{className:"wp-sidebar-box-content",children:[r.jsxs("div",{className:"wp-field",children:[r.jsx("label",{children:"  "}),r.jsxs("label",{className:"wp-checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:a.showInMenu,onChange:z=>k("showInMenu",z.target.checked)}),r.jsx("span",{children:"   "})]})]}),r.jsxs("div",{className:"wp-field",children:[r.jsx("label",{children:"  "}),r.jsx("input",{type:"number",className:"wp-input wp-input-small",value:a.menuOrder||0,onChange:z=>k("menuOrder",parseInt(z.target.value)||0),min:"0"}),r.jsx("p",{className:"wp-field-help",children:"  ,    "})]})]})]}),r.jsxs("div",{className:"wp-sidebar-box",children:[r.jsx("div",{className:"wp-sidebar-box-header",children:r.jsx("h3",{children:" "})}),r.jsx("div",{className:"wp-sidebar-box-content",children:a.featured_image?r.jsxs("div",{className:"wp-featured-image",children:[r.jsx("img",{src:a.featured_image,alt:"Featured"}),r.jsxs("div",{className:"wp-featured-image-actions",children:[r.jsxs("label",{className:"wp-btn wp-btn-small",children:["",r.jsx("input",{type:"file",accept:"image/*",onChange:G,hidden:!0})]}),r.jsx("button",{className:"wp-btn wp-btn-small wp-btn-danger",onClick:U,children:""})]})]}):r.jsx("div",{className:"wp-featured-image-placeholder",children:r.jsxs("label",{className:"wp-featured-image-upload",children:[b?r.jsx("span",{children:"..."}):r.jsxs(r.Fragment,{children:[Kt.image,r.jsx("span",{children:"  "})]}),r.jsx("input",{type:"file",accept:"image/*",onChange:G,disabled:b,hidden:!0})]})})})]})]})]}),f&&r.jsx("div",{className:"wp-preview-overlay",onClick:()=>p(!1),children:r.jsxs("div",{className:"wp-preview-modal",onClick:z=>z.stopPropagation(),children:[r.jsxs("div",{className:"wp-preview-header",children:[r.jsx("h2",{children:" "}),r.jsx("button",{className:"wp-preview-close",onClick:()=>p(!1),children:""})]}),r.jsxs("div",{className:"wp-preview-content",children:[r.jsx("h1",{children:a[`title_${n}`]||" "}),r.jsx("div",{className:"wp-preview-body",dangerouslySetInnerHTML:{__html:a[`content_${n}`]||"<p> </p>"}})]})]})})]})}function Qfe({embedded:t=!1}){const[e,n]=j.useState(1),[i,a]=j.useState("ru"),[s,o]=j.useState(!0),[c,d]=j.useState(null),[h,f]=j.useState(null),[p,m]=j.useState("ru"),[x,b]=j.useState(!1),[y,_]=j.useState("ru"),[S,N]=j.useState(!1),[E,A]=j.useState("ru"),[T,k]=j.useState(null),[R,H]=j.useState(null),V=j.useRef(null),{list:Y,update:W}=oa(),[X,ee]=j.useState({title_ru:" ",title_en:"Conference Program",title_tj:" ",subtitle_ru:"      ,     ",subtitle_en:"Four days of intensive program with plenary sessions, thematic sessions, and cultural events",subtitle_tj:"      ,     "}),L=[{id:"registration",label_ru:"",label_en:"Registration",label_tj:"",color:"#10b981"},{id:"ceremony",label_ru:"",label_en:"Ceremony",label_tj:"",color:"#8b5cf6"},{id:"plenary",label_ru:" ",label_en:"Plenary Session",label_tj:" ",color:"#2d5a87"},{id:"session",label_ru:"",label_en:"Session",label_tj:"",color:"#f59e0b"},{id:"break",label_ru:"",label_en:"Break",label_tj:"",color:"#6b7280"}],[P,M]=j.useState(L),[I,G]=j.useState({id:"",label_ru:"",label_en:"",label_tj:"",color:"#6b7280"}),[U,K]=j.useState({ru:[],en:[],tj:[]}),z={ru:[{day:1,date:"25  2026",title:" 1:  ",shortTitle:" ",isOpen:!0,events:[{time:"08:30  10:00",title:" ",description:"    ",location:"  ",type:"registration"},{time:"10:00  11:30",title:" ",description:"   ",location:" ",type:"ceremony"},{time:"11:30  12:00",title:"-",location:"",type:"break"},{time:"12:00  13:30",title:"   ",description:"     ",location:" ",type:"plenary"}]},{day:2,date:"26  2026",title:" 2:  ",shortTitle:" ",isOpen:!1,events:[{time:"09:00  10:30",title:":   ",description:"     ",location:" A",type:"session"},{time:"10:30  11:00",title:"-",location:"",type:"break"}]},{day:3,date:"27  2026",title:" 3:  ",shortTitle:" ",isOpen:!1,events:[]},{day:4,date:"28  2026",title:" 4:  ",shortTitle:" ",isOpen:!1,events:[]}],en:[{day:1,date:"May 25, 2026",title:"Day 1: Opening Ceremony",shortTitle:"Opening Ceremony",isOpen:!0,events:[{time:"08:30  10:00",title:"Participant Registration",description:"Badge and conference materials distribution",location:"Main Hall Lobby",type:"registration"},{time:"10:00  11:30",title:"Grand Opening",description:"Welcome speeches by heads of delegations",location:"Main Hall",type:"ceremony"},{time:"11:30  12:00",title:"Coffee Break",location:"Foyer",type:"break"},{time:"12:00  13:30",title:"High-Level Plenary Session",description:"Reports by ministers and representatives of international organizations",location:"Main Hall",type:"plenary"}]},{day:2,date:"May 26, 2026",title:"Day 2: Thematic Sessions",shortTitle:"Thematic Sessions",isOpen:!1,events:[{time:"09:00  10:30",title:"Session: Water Resource Management",description:"Best practices in integrated water resource management",location:"Hall A",type:"session"},{time:"10:30  11:00",title:"Coffee Break",location:"Foyer",type:"break"}]},{day:3,date:"May 27, 2026",title:"Day 3: Interactive Dialogues",shortTitle:"Interactive Dialogues",isOpen:!1,events:[]},{day:4,date:"May 28, 2026",title:"Day 4: Closing Ceremony",shortTitle:"Closing Ceremony",isOpen:!1,events:[]}],tj:[{day:1,date:"25  2026",title:" 1:  ",shortTitle:" ",isOpen:!0,events:[{time:"08:30  10:00",title:" ",description:"    ",location:"  ",type:"registration"},{time:"10:00  11:30",title:" ",description:"   ",location:" ",type:"ceremony"},{time:"11:30  12:00",title:" ",location:"",type:"break"},{time:"12:00  13:30",title:"   ",description:"     ",location:" ",type:"plenary"},{time:"13:30  15:00",title:"",location:" ",type:"break"},{time:"15:00  17:00",title:"  ",description:"    ",location:" ",type:"plenary"}]},{day:2,date:"26  2026",title:" 2:  ",shortTitle:" ",isOpen:!1,events:[{time:"09:00  10:30",title:":   ",description:"      ",location:" A",type:"session"},{time:"10:30  11:00",title:" ",location:"",type:"break"},{time:"11:00  12:30",title:":    ",description:"      ",location:" B",type:"session"},{time:"12:30  14:00",title:"",location:" ",type:"break"},{time:"14:00  15:30",title:":  ",description:"    ",location:" C",type:"session"},{time:"15:30  17:00",title:":   ",description:"    ",location:" D",type:"session"}]},{day:3,date:"27  2026",title:" 3:  ",shortTitle:" ",isOpen:!1,events:[{time:"09:00  11:00",title:"  ",description:"    ",location:" ",type:"session"},{time:"11:00  11:30",title:" ",location:"",type:"break"},{time:"11:30  13:00",title:" ",description:"    ",location:" ",type:"session"},{time:"13:00  14:30",title:"",location:" ",type:"break"},{time:"14:30  17:00",title:" ",description:"     ",location:" ",type:"session"}]},{day:4,date:"28  2026",title:" 4:  ",shortTitle:" ",isOpen:!1,events:[{time:"09:00  11:00",title:"  ",description:"    ",location:" ",type:"session"},{time:"11:00  11:30",title:" ",location:"",type:"break"},{time:"11:30  13:00",title:" ",description:"     ",location:" ",type:"plenary"},{time:"13:00  14:00",title:" ",description:"    ",location:" ",type:"ceremony"},{time:"14:00  16:00",title:" ",description:"    ",location:" ",type:"ceremony"}]}]},[O,$]=j.useState({start_time:"",end_time:"",title_ru:"",title_en:"",title_tj:"",description_ru:"",description_en:"",description_tj:"",location_ru:"",location_en:"",location_tj:"",type:"session"}),B=(pe,ye)=>!pe&&!ye?"":pe&&ye?`${pe}  ${ye}`:pe||ye,Q=pe=>{if(!pe)return{start:"",end:""};const ye=pe.split(/\s*[-]\s*/);return{start:ye[0]?.trim()||"",end:ye[1]?.trim()||""}};j.useEffect(()=>{J()},[]);const J=async()=>{o(!0);try{const pe=await Y(),ye={};if(pe.forEach(De=>{ye[De.setting_key]=De.setting_value}),ye.schedule_data){const De=JSON.parse(ye.schedule_data);K(De)}else K(z);ye.schedule_page_settings&&ee(JSON.parse(ye.schedule_page_settings)),ye.schedule_event_types&&M(JSON.parse(ye.schedule_event_types))}catch(pe){console.error("Failed to load schedule:",pe),K(z)}finally{o(!1)}},q=async()=>{d({type:"saving",message:"..."});try{await W([{key:"schedule_data",value:JSON.stringify(U)},{key:"schedule_page_settings",value:JSON.stringify(X)},{key:"schedule_event_types",value:JSON.stringify(P)}]),d({type:"success",message:" !"}),setTimeout(()=>d(null),3e3)}catch(pe){console.error("Failed to save schedule:",pe),d({type:"error",message:" "}),setTimeout(()=>d(null),5e3)}},re=()=>U[i]?.find(pe=>pe.day===e)||{events:[]},Z=(pe,ye)=>{K(De=>({...De,[i]:De[i].map(de=>de.day===e?{...de,[pe]:ye}:de)}))},ve=()=>{const pe=B(O.start_time,O.end_time);K(ye=>{const De={...ye};return["ru","en","tj"].forEach(de=>{De[de]=De[de].map(Ne=>Ne.day===e?{...Ne,events:[...Ne.events,{time:pe,title:de==="ru"?O.title_ru:de==="en"?O.title_en:O.title_tj,description:de==="ru"?O.description_ru:de==="en"?O.description_en:O.description_tj,location:de==="ru"?O.location_ru:de==="en"?O.location_en:O.location_tj,type:O.type}]}:Ne)}),De}),_e(),f(null)},ae=pe=>{const ye=B(O.start_time,O.end_time);K(De=>{const de={...De};return["ru","en","tj"].forEach(Ne=>{de[Ne]=de[Ne].map(Ge=>{if(Ge.day===e){const Dn=[...Ge.events];return Dn[pe]={time:ye,title:Ne==="ru"?O.title_ru:Ne==="en"?O.title_en:O.title_tj,description:Ne==="ru"?O.description_ru:Ne==="en"?O.description_en:O.description_tj,location:Ne==="ru"?O.location_ru:Ne==="en"?O.location_en:O.location_tj,type:O.type},{...Ge,events:Dn}}return Ge})}),de}),_e(),f(null)},se=pe=>{window.confirm("  ?")&&K(ye=>{const De={...ye};return["ru","en","tj"].forEach(de=>{De[de]=De[de].map(Ne=>{if(Ne.day===e){const Ge=[...Ne.events];return Ge.splice(pe,1),{...Ne,events:Ge}}return Ne})}),De})},we=pe=>{const ye=U.ru.find(Ge=>Ge.day===e)?.events[pe],De=U.en.find(Ge=>Ge.day===e)?.events[pe],de=U.tj.find(Ge=>Ge.day===e)?.events[pe],Ne=Q(ye?.time||"");$({start_time:Ne.start,end_time:Ne.end,title_ru:ye?.title||"",title_en:De?.title||"",title_tj:de?.title||"",description_ru:ye?.description||"",description_en:De?.description||"",description_tj:de?.description||"",location_ru:ye?.location||"",location_en:De?.location||"",location_tj:de?.location||"",type:ye?.type||"session"}),f(pe)},_e=()=>{$({start_time:"",end_time:"",title_ru:"",title_en:"",title_tj:"",description_ru:"",description_en:"",description_tj:"",location_ru:"",location_en:"",location_tj:"",type:"session"})},Fe=(pe,ye)=>{k(ye),V.current=pe.target,pe.target.classList.add("dragging"),pe.dataTransfer.effectAllowed="move",pe.dataTransfer.setData("text/html",pe.target.outerHTML)},Ke=pe=>{pe.target.classList.remove("dragging"),k(null),H(null),V.current=null},it=(pe,ye)=>{pe.preventDefault(),!(T===null||T===ye)&&H(ye)},_r=()=>{H(null)},qi=(pe,ye)=>{pe.preventDefault(),!(T===null||T===ye)&&(K(De=>{const de={...De};return["ru","en","tj"].forEach(Ne=>{de[Ne]=de[Ne].map(Ge=>{if(Ge.day===e){const Dn=[...Ge.events],[Xn]=Dn.splice(T,1);return Dn.splice(ye,0,Xn),{...Ge,events:Dn}}return Ge})}),de}),k(null),H(null))},_i=pe=>P.find(ye=>ye.id===pe)?.color||"#6b7280",da=(pe,ye="ru")=>{const De=P.find(de=>de.id===pe);return De?.[`label_${ye}`]||De?.label_ru||pe},Lr=pe=>{const ye={:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"y",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"h",:"ts",:"ch",:"sh",:"sch",:"",:"y",:"",:"e",:"yu",:"ya",:"g",:"i",:"q",:"u",:"h",:"j"};return pe.toLowerCase().split("").map(De=>ye[De]||De).join("").replace(/[^a-z0-9]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,"")},Ws=pe=>{const ye=Lr(pe);if(!ye)return"";let De=ye,de=1;for(;P.some(Ne=>Ne.id===De);)De=`${ye}_${de}`,de++;return De},It=()=>{G({id:"",label_ru:"",label_en:"",label_tj:"",color:"#6b7280"})},Ys=()=>{if(!I.label_ru)return;const pe=Ws(I.label_ru);pe&&(M(ye=>[...ye,{...I,id:pe}]),It())},kn=pe=>{window.confirm("   ?")&&M(ye=>ye.filter(De=>De.id!==pe))};return s?r.jsx("div",{className:"schedule-manager",children:r.jsx("div",{className:"section-loading",children:" ..."})}):r.jsxs("div",{className:`schedule-manager ${t?"embedded":""}`,children:[r.jsxs("div",{className:"page-manager-header",children:[r.jsxs("div",{className:"page-manager-title",children:[r.jsx("h1",{children:""}),r.jsx("p",{children:" "})]}),r.jsxs("div",{className:"page-manager-actions",children:[r.jsxs("button",{className:"page-settings-btn secondary",onClick:()=>N(!0),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"})})," "]}),r.jsxs("button",{className:"page-settings-btn",onClick:()=>b(!0),children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})})," "]})]})]}),c&&r.jsxs("div",{className:`save-status save-status--${c.type}`,children:[c.type==="saving"&&r.jsx("svg",{className:"save-status-spinner",viewBox:"0 0 24 24",width:"18",height:"18",children:r.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:"32",strokeLinecap:"round"})}),c.type==="success"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),c.type==="error"&&r.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),r.jsx("span",{children:c.message}),r.jsx("button",{className:"save-status-close",onClick:()=>d(null),children:r.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsxs("div",{className:"schedule-layout",children:[r.jsx("div",{className:"days-nav",children:[1,2,3,4].map(pe=>r.jsx("button",{className:`day-nav-item ${e===pe?"active":""}`,onClick:()=>n(pe),children:r.jsxs("span",{className:"day-nav-number",children:[" ",pe]})},pe))}),r.jsxs("div",{className:"schedule-content",children:[r.jsxs("div",{className:"day-settings-unified",children:[r.jsxs("div",{className:"day-settings-header",children:[r.jsxs("h3",{children:["  ",e]}),r.jsxs("div",{className:"lang-tab-buttons-inline",children:[r.jsxs("button",{className:`lang-tab-btn-sm ${i==="ru"?"active":""}`,onClick:()=>a("ru"),children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-tab-flag-sm"}),"RU"]}),r.jsxs("button",{className:`lang-tab-btn-sm ${i==="en"?"active":""}`,onClick:()=>a("en"),children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-tab-flag-sm"}),"EN"]}),r.jsxs("button",{className:`lang-tab-btn-sm ${i==="tj"?"active":""}`,onClick:()=>a("tj"),children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-tab-flag-sm"}),"TJ"]})]})]}),r.jsx("div",{className:"day-settings-fields",children:r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:i==="ru"?"":i==="en"?"Date":""}),r.jsx("input",{type:"text",value:re().date||"",onChange:pe=>Z("date",pe.target.value),placeholder:i==="ru"?"25  2026":i==="en"?"May 25, 2026":"25  2026"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:i==="ru"?" ":i==="en"?"Short title":" "}),r.jsx("input",{type:"text",value:re().shortTitle||"",onChange:pe=>Z("shortTitle",pe.target.value),placeholder:i==="ru"?" ":i==="en"?"Opening Ceremony":" "})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:i==="ru"?" ":i==="en"?"Full title":" "}),r.jsx("input",{type:"text",value:re().title||"",onChange:pe=>Z("title",pe.target.value),placeholder:i==="ru"?" 1:  ":i==="en"?"Day 1: Opening Ceremony":" 1:  "})]}),r.jsxs("button",{className:"day-settings-save-btn",onClick:q,children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})}),""]})]})})]}),r.jsxs("div",{className:"events-section",children:[r.jsxs("div",{className:"events-header",children:[r.jsxs("h3",{children:["  ",e]}),r.jsx("button",{className:"btn-add",onClick:()=>{_e(),f("new")},children:"+  "})]}),r.jsx("div",{className:"events-list",children:re().events?.length===0?r.jsxs("div",{className:"events-empty",children:[r.jsx("p",{children:"    "}),r.jsx("button",{className:"btn-add",onClick:()=>{_e(),f("new")},children:"+   "})]}):re().events?.map((pe,ye)=>r.jsxs("div",{className:`event-item ${R===ye?"drag-over":""} ${T===ye?"dragging":""}`,draggable:!0,onDragStart:De=>Fe(De,ye),onDragEnd:Ke,onDragOver:De=>it(De,ye),onDragLeave:_r,onDrop:De=>qi(De,ye),children:[r.jsx("div",{className:"event-item-drag-handle",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})}),r.jsx("div",{className:"event-item-order",children:r.jsx("span",{children:ye+1})}),r.jsx("div",{className:"event-item-time",children:pe.time}),r.jsxs("div",{className:"event-item-content",children:[r.jsx("div",{className:"event-item-title",children:pe.title}),pe.description&&r.jsx("div",{className:"event-item-description",children:pe.description}),pe.location&&r.jsxs("div",{className:"event-item-location",children:[r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14",children:[r.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),pe.location]})]}),r.jsx("div",{className:"event-item-type",style:{background:_i(pe.type)},children:da(pe.type,i)}),r.jsxs("div",{className:"event-item-actions",children:[r.jsx("button",{className:"btn-edit",onClick:()=>we(ye),children:""}),r.jsx("button",{className:"btn-delete",onClick:()=>se(ye),children:""})]})]},ye))})]})]})]}),x&&r.jsx("div",{className:"settings-modal-overlay",onClick:()=>b(!1),children:r.jsxs("div",{className:"settings-modal",onClick:pe=>pe.stopPropagation(),children:[r.jsxs("div",{className:"settings-modal-header",children:[r.jsx("h2",{children:" "}),r.jsx("button",{className:"settings-modal-close",onClick:()=>b(!1),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsxs("div",{className:"settings-modal-body",children:[r.jsxs("div",{className:"lang-tab-buttons",children:[r.jsxs("button",{className:`lang-tab-btn ${y==="ru"?"active":""}`,onClick:()=>_("ru"),children:[r.jsx("img",{src:"https://flagcdn.com/w20/ru.png",alt:"RU",className:"lang-tab-flag"}),r.jsx("span",{children:""})]}),r.jsxs("button",{className:`lang-tab-btn ${y==="en"?"active":""}`,onClick:()=>_("en"),children:[r.jsx("img",{src:"https://flagcdn.com/w20/gb.png",alt:"EN",className:"lang-tab-flag"}),r.jsx("span",{children:"English"})]}),r.jsxs("button",{className:`lang-tab-btn ${y==="tj"?"active":""}`,onClick:()=>_("tj"),children:[r.jsx("img",{src:"https://flagcdn.com/w20/tj.png",alt:"TJ",className:"lang-tab-flag"}),r.jsx("span",{children:""})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:X[`title_${y}`],onChange:pe=>ee({...X,[`title_${y}`]:pe.target.value})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("textarea",{rows:"3",value:X[`subtitle_${y}`],onChange:pe=>ee({...X,[`subtitle_${y}`]:pe.target.value})})]})]}),r.jsxs("div",{className:"settings-modal-footer",children:[r.jsx("button",{className:"btn-cancel",onClick:()=>b(!1),children:""}),r.jsx("button",{className:"btn-save",onClick:()=>{q(),b(!1)},children:""})]})]})}),h!==null&&r.jsx("div",{className:"settings-modal-overlay",onClick:()=>{_e(),f(null)},children:r.jsxs("div",{className:"settings-modal",onClick:pe=>pe.stopPropagation(),children:[r.jsxs("div",{className:"settings-modal-header",children:[r.jsx("h2",{children:h==="new"?" ":" "}),r.jsx("button",{className:"settings-modal-close",onClick:()=>{_e(),f(null)},children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsxs("div",{className:"settings-modal-body",children:[r.jsxs("div",{className:"modal-text-tabs",children:[r.jsx("button",{type:"button",className:`modal-text-tab ${p==="ru"?"active":""}`,onClick:()=>m("ru"),children:""}),r.jsx("button",{type:"button",className:`modal-text-tab ${p==="en"?"active":""}`,onClick:()=>m("en"),children:""}),r.jsx("button",{type:"button",className:`modal-text-tab ${p==="tj"?"active":""}`,onClick:()=>m("tj"),children:""})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",p==="ru"?"":p==="en"?"":"",")"]}),r.jsx("input",{type:"text",value:O[`title_${p}`],onChange:pe=>$({...O,[`title_${p}`]:pe.target.value})})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",p==="ru"?"":p==="en"?"":"",")"]}),r.jsx("textarea",{rows:"3",value:O[`description_${p}`],onChange:pe=>$({...O,[`description_${p}`]:pe.target.value})})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[" (",p==="ru"?"":p==="en"?"":"",")"]}),r.jsx("input",{type:"text",value:O[`location_${p}`],onChange:pe=>$({...O,[`location_${p}`]:pe.target.value})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:p==="ru"?"":p==="en"?"Time":""}),r.jsxs("div",{className:"time-picker-row",children:[r.jsxs("div",{className:"time-picker-input",children:[r.jsx("span",{className:"time-picker-label",children:p==="ru"?"":p==="en"?"Start":""}),r.jsx("input",{type:"time",value:O.start_time,onChange:pe=>$({...O,start_time:pe.target.value})})]}),r.jsx("span",{className:"time-picker-separator",children:""}),r.jsxs("div",{className:"time-picker-input",children:[r.jsx("span",{className:"time-picker-label",children:p==="ru"?"":p==="en"?"End":""}),r.jsx("input",{type:"time",value:O.end_time,onChange:pe=>$({...O,end_time:pe.target.value})})]})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:p==="ru"?" ":p==="en"?"Event Type":" "}),r.jsx("select",{value:O.type,onChange:pe=>$({...O,type:pe.target.value}),children:P.map(pe=>r.jsx("option",{value:pe.id,children:pe[`label_${p}`]},pe.id))})]})]}),r.jsxs("div",{className:"settings-modal-footer",children:[r.jsx("button",{className:"btn-cancel",onClick:()=>{_e(),f(null)},children:""}),r.jsx("button",{className:"btn-save",onClick:()=>{h==="new"?ve():ae(h)},children:h==="new"?"":""})]})]})}),S&&r.jsx("div",{className:"settings-modal-overlay",onClick:()=>{N(!1),It()},children:r.jsxs("div",{className:"settings-modal event-types-modal",onClick:pe=>pe.stopPropagation(),children:[r.jsxs("div",{className:"settings-modal-header",children:[r.jsx("h2",{children:" "}),r.jsx("button",{className:"settings-modal-close",onClick:()=>{N(!1),It()},children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),r.jsxs("div",{className:"settings-modal-body",children:[r.jsxs("div",{className:"modal-text-tabs",children:[r.jsx("button",{type:"button",className:`modal-text-tab ${E==="ru"?"active":""}`,onClick:()=>A("ru"),children:""}),r.jsx("button",{type:"button",className:`modal-text-tab ${E==="en"?"active":""}`,onClick:()=>A("en"),children:""}),r.jsx("button",{type:"button",className:`modal-text-tab ${E==="tj"?"active":""}`,onClick:()=>A("tj"),children:""})]}),r.jsx("div",{className:"event-types-inline-list",children:P.map((pe,ye)=>r.jsx("div",{className:"event-type-inline-item",children:r.jsxs("div",{className:"event-type-inline-row",children:[r.jsx("input",{type:"color",className:"event-type-inline-color",value:pe.color,onChange:De=>{const de=[...P];de[ye]={...pe,color:De.target.value},M(de)}}),r.jsx("input",{type:"text",className:"event-type-inline-input",value:pe[`label_${E}`],onChange:De=>{const de=[...P];de[ye]={...pe,[`label_${E}`]:De.target.value},M(de)},placeholder:E==="ru"?"":E==="en"?"Name":""}),r.jsx("button",{className:"btn-delete-small",onClick:()=>kn(pe.id),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",children:r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})})]})},pe.id))}),r.jsxs("div",{className:"event-type-add-inline",children:[r.jsxs("div",{className:"event-type-inline-row",children:[r.jsx("input",{type:"color",className:"event-type-inline-color",value:I.color,onChange:pe=>G({...I,color:pe.target.value})}),r.jsx("input",{type:"text",className:"event-type-inline-input",value:I[`label_${E}`],onChange:pe=>G({...I,[`label_${E}`]:pe.target.value}),placeholder:E==="ru"?" ...":E==="en"?"New type...":" ..."}),r.jsx("button",{className:"btn-add-inline",onClick:()=>Ys(),disabled:!I.label_ru,children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})})})]}),r.jsx("p",{className:"event-type-add-hint",children:E==="ru"?"     ":E==="en"?"Enter Russian name to add a new type":"   "})]})]}),r.jsxs("div",{className:"settings-modal-footer",children:[r.jsx("button",{className:"btn-cancel",onClick:()=>{N(!1),It()},children:""}),r.jsx("button",{className:"btn-save",onClick:()=>{q(),N(!1),It()},children:" "})]})]})})]})}const Yk=[{id:"general",title:" ",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"})}),questions:[{q:"  -?",a:"-      .    ,  ,   ,     .           ."},{q:"  ?",a:'     ""  "  ".        . :         !'},{q:"   ?",a:"   : ,   .          .      .    -   ,    ."},{q:"  ?",a:"     ,    (F5)     .    ,      ."}]},{id:"homepage",title:" ",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})}),questions:[{q:"     ?",a:'   " ".   "Hero-"      , ,    .          .'},{q:"   ?",a:'  " "   "".    URL      YouTube.  YouTube      (, https://youtube.com/watch?v=xxx).'},{q:"  ?",a:"     .        ."}]},{id:"news",title:"",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})}),questions:[{q:"  ?",a:'   ""    "+  ".  ,      .           .'},{q:"    ?",a:' /    " "   URL    .  : 800x600 .'},{q:"  ?",a:'        "".     . :  !'},{q:"   ?",a:"         .    ,    ."}]},{id:"program",title:"",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11zM9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"})}),questions:[{q:"    ?",a:'  ""  "+  ".      (, " 1: ").      .'},{q:"  ?",a:'    "+  ".     ,  ,   .     .'},{q:"    ?",a:'     "/"      ,    .'}]},{id:"logistics",title:"",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),questions:[{q:"  ?",a:'  ""   "".  "+  ".  , ,  ,     (amenities).        .'},{q:"    ?",a:'  ""    "".  "+ "      :  ,       .'},{q:"   ?",a:'  ""    "".           .'},{q:"   ?",a:'   (, , , )   " "   .          .'}]},{id:"contacts",title:"",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})}),questions:[{q:"   ?",a:'  ""  "+  ".  ,    email,  ,      .  "".'},{q:"  ?",a:'   ""   "".  embed- Google Maps   URL.   :  Google Maps      ""  " "   src  iframe.'},{q:"   ?",a:'   ". ".  "+ ",    ,  URL  .    / .'}]},{id:"events",title:"",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),questions:[{q:"  ?",a:'  ""   (  )   "+ ".  , , ,    .     .'},{q:"       ?",a:"       ( , ).      (,  , )."}]},{id:"waterdecade",title:" ",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M12 2c-5.33 4.55-8 8.48-8 11.8 0 4.98 3.8 8.2 8 8.2s8-3.22 8-8.2c0-3.32-2.67-7.25-8-11.8zm0 18c-3.35 0-6-2.57-6-6.2 0-2.34 1.95-5.44 6-9.14 4.05 3.7 6 6.79 6 9.14 0 3.63-2.65 6.2-6 6.2z"})}),questions:[{q:"    ?",a:'  " "  "+  ".  , URL   ( ),       .   " "   2026 .'},{q:"   ?",a:' "+  "   " ".    ,         .'},{q:"   ?",a:'  " "    .       " "  " ",      .'}]},{id:"excursions",title:"",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"})}),questions:[{q:"  ?",a:'  ""  "+  ".  , , , .    .'},{q:"   ?",a:'     "  ".    ,   "+".       .'}]},{id:"exhibition",title:"",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})}),questions:[{q:"    ?",a:'  ""      ,      .      .'}]},{id:"registrations",title:"",icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:r.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),questions:[{q:"    ?",a:'   "".         : , , email, ,   .'},{q:"   ?",a:'  ""   ""    (Excel  CSV).       .'},{q:"   ?",a:'         .      : "", "", "".'}]}],epe=[{icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"})}),title:" ",text:"    .         ."},{icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"})}),title:"  ",text:"         .     ."},{icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})}),title:" ",text:"     1920x1080     500     ."},{icon:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14l-5-5 1.41-1.41L12 14.17l4.59-4.58L18 11l-6 6z"})}),title:" ",text:"        ,    ."}];function tpe({embedded:t=!1}){const[e,n]=j.useState("general"),[i,a]=j.useState({}),[s,o]=j.useState(""),c=(p,m)=>{const x=`${p}-${m}`;a(b=>({...b,[x]:!b[x]}))},d=(p,m)=>i[`${p}-${m}`]||!1,h=s.trim()?Yk.map(p=>({...p,questions:p.questions.filter(m=>m.q.toLowerCase().includes(s.toLowerCase())||m.a.toLowerCase().includes(s.toLowerCase()))})).filter(p=>p.questions.length>0):Yk,f=h.find(p=>p.id===e)||h[0];return r.jsxs("div",{className:`help-manager ${t?"embedded":""}`,children:[r.jsx("div",{className:"page-manager-header",children:r.jsxs("div",{className:"page-manager-title",children:[r.jsx("h1",{children:""}),r.jsx("p",{children:"   -"})]})}),r.jsx("div",{className:"help-search",children:r.jsxs("div",{className:"help-search-input",children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:r.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})}),r.jsx("input",{type:"text",placeholder:"  ...",value:s,onChange:p=>o(p.target.value)}),s&&r.jsx("button",{className:"help-search-clear",onClick:()=>o(""),children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})}),r.jsxs("div",{className:"help-tips",children:[r.jsx("h3",{children:" "}),r.jsx("div",{className:"help-tips-grid",children:epe.map((p,m)=>r.jsxs("div",{className:"help-tip-card",children:[r.jsx("div",{className:"help-tip-icon",children:p.icon}),r.jsxs("div",{className:"help-tip-content",children:[r.jsx("h4",{children:p.title}),r.jsx("p",{children:p.text})]})]},m))})]}),r.jsxs("div",{className:"help-content",children:[r.jsxs("div",{className:"help-sidebar",children:[r.jsx("h3",{children:""}),r.jsx("nav",{className:"help-nav",children:h.map(p=>r.jsxs("button",{className:`help-nav-item ${e===p.id?"active":""}`,onClick:()=>n(p.id),children:[r.jsx("span",{className:"help-nav-icon",children:p.icon}),r.jsx("span",{className:"help-nav-title",children:p.title}),r.jsx("span",{className:"help-nav-count",children:p.questions.length})]},p.id))})]}),r.jsxs("div",{className:"help-faq",children:[f&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"help-faq-header",children:[r.jsx("span",{className:"help-faq-icon",children:f.icon}),r.jsx("h2",{children:f.title})]}),r.jsx("div",{className:"help-faq-list",children:f.questions.map((p,m)=>r.jsxs("div",{className:`help-faq-item ${d(f.id,m)?"expanded":""}`,children:[r.jsxs("button",{className:"help-faq-question",onClick:()=>c(f.id,m),children:[r.jsx("span",{children:p.q}),r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",className:"help-faq-chevron",children:r.jsx("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})})]}),r.jsx("div",{className:"help-faq-answer",children:r.jsx("p",{children:p.a})})]},m))})]}),h.length===0&&r.jsxs("div",{className:"help-no-results",children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"48",height:"48",children:r.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})}),r.jsx("h3",{children:"  "}),r.jsx("p",{children:"   "})]})]})]}),r.jsx("div",{className:"help-support",children:r.jsxs("div",{className:"help-support-content",children:[r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"32",height:"32",children:r.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"})}),r.jsxs("div",{children:[r.jsx("h3",{children:"  ?"}),r.jsx("p",{children:"       ,    "})]}),r.jsx("a",{href:"mailto:support@dushanbewaterprocess.org",className:"btn-support",children:"  "})]})})]})}function npe(){const[t,e]=j.useState(""),[n,i]=j.useState(""),[a,s]=j.useState(""),[o,c]=j.useState(null),[d,h]=j.useState(null),{post:f,loading:p}=em(),m=async x=>{if(x.preventDefault(),c(null),n.length<6){c("      6 "),h("error");return}if(n!==a){c("  "),h("error");return}try{await f("/api/admin/change-password",{current_password:t,new_password:n}),c("  "),h("success"),e(""),i(""),s("")}catch(b){c(b.message||"   "),h("error")}};return r.jsxs("div",{className:"change-password-page",children:[r.jsx("div",{className:"admin-page-header",children:r.jsx("h1",{className:"admin-page-title",children:" "})}),r.jsxs("div",{className:"admin-card",style:{maxWidth:"500px"},children:[r.jsx("h3",{className:"admin-card-title",style:{marginBottom:"20px"},children:"  "}),o&&r.jsx("div",{style:{padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",background:d==="success"?"#e6f7ee":"#fde8e8",color:d==="success"?"#0d7a3e":"#c0392b",border:`1px solid ${d==="success"?"#b7ebd0":"#f5c6cb"}`},children:o}),r.jsx("form",{onSubmit:m,children:r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[r.jsxs("div",{className:"admin-form-group",style:{margin:0},children:[r.jsx("label",{className:"admin-form-label",children:" "}),r.jsx("input",{type:"password",className:"admin-form-input",value:t,onChange:x=>e(x.target.value),required:!0})]}),r.jsxs("div",{className:"admin-form-group",style:{margin:0},children:[r.jsx("label",{className:"admin-form-label",children:" "}),r.jsx("input",{type:"password",className:"admin-form-input",value:n,onChange:x=>i(x.target.value),required:!0,minLength:6}),r.jsx("span",{style:{fontSize:"12px",color:"#8c8c8c",marginTop:"4px",display:"block"},children:" 6 "})]}),r.jsxs("div",{className:"admin-form-group",style:{margin:0},children:[r.jsx("label",{className:"admin-form-label",children:"  "}),r.jsx("input",{type:"password",className:"admin-form-input",value:a,onChange:x=>s(x.target.value),required:!0,minLength:6})]}),r.jsx("button",{type:"submit",className:"admin-btn admin-btn-primary",disabled:p||!t||!n||!a,style:{marginTop:"8px",alignSelf:"flex-start"},children:p?"...":" "})]})})]})]})}const ipe="";function rpe({block:t,langTab:e,updateBlock:n}){const i=j.useRef(null),a=`content-${t.id}-${e}`;j.useEffect(()=>{if(i.current){const m=t[`content_${e}`]||"";i.current.innerHTML!==m&&(i.current.innerHTML=m)}},[t.id,e]);const s=(m,x=null)=>{i.current&&(i.current.focus(),document.execCommand(m,!1,x))},o=m=>{const x=m.currentTarget.innerHTML;n(t.id,{[`content_${e}`]:x})},c=m=>{m.key==="Tab"&&(m.preventDefault(),document.execCommand("insertHTML",!1,"&nbsp;&nbsp;&nbsp;&nbsp;"))},d=m=>{m.preventDefault();let x=m.clipboardData.getData("text/plain");x=x.replace(/\r\n/g,`
`).replace(/\n{3,}/g,`

`).replace(/[ \t]+/g," ").trim(),document.execCommand("insertText",!1,x)},h=m=>{const x=m.target.closest("a");x&&(m.preventDefault(),f(x))},f=m=>{const x=m.getAttribute("href")||"",b=m.getAttribute("target"),y=prompt(" URL :",x);if(y===null)return;const _=window.confirm(`    ?

 : ${b==="_blank"?"":""}`);if(m.setAttribute("href",y),_?(m.setAttribute("target","_blank"),m.setAttribute("rel","noopener noreferrer")):(m.removeAttribute("target"),m.removeAttribute("rel")),i.current){const S=i.current.innerHTML;n(t.id,{[`content_${e}`]:S})}},p=()=>{const m=prompt(" URL :");if(!m)return;const x=window.confirm("    ?"),y=window.getSelection().toString();if(y){const _=x?`<a href="${m}" target="_blank" rel="noopener noreferrer">${y}</a>`:`<a href="${m}">${y}</a>`;document.execCommand("insertHTML",!1,_)}else{const _=x?`<a href="${m}" target="_blank" rel="noopener noreferrer">${m}</a>`:`<a href="${m}">${m}</a>`;document.execCommand("insertHTML",!1,_)}};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"html-toolbar",children:[r.jsxs("button",{type:"button",onClick:()=>s("formatBlock","p"),title:"",className:"toolbar-btn",children:[r.jsx($i,{size:16})," P"]}),r.jsx("button",{type:"button",onClick:()=>s("bold"),title:" (Ctrl+B)",className:"toolbar-btn",children:r.jsx("strong",{children:"B"})}),r.jsx("button",{type:"button",onClick:()=>s("italic"),title:" (Ctrl+I)",className:"toolbar-btn",children:r.jsx("em",{children:"I"})}),r.jsx("button",{type:"button",onClick:()=>s("underline"),title:" (Ctrl+U)",className:"toolbar-btn",children:r.jsx("u",{children:"U"})}),r.jsx("button",{type:"button",onClick:()=>s("strikeThrough"),title:"",className:"toolbar-btn",children:r.jsx("s",{children:"S"})}),r.jsx("div",{style:{width:"1px",background:"#e2e8f0",margin:"0 0.25rem"}}),r.jsx("button",{type:"button",onClick:()=>s("formatBlock","h2"),title:" H2",className:"toolbar-btn",children:"H2"}),r.jsx("button",{type:"button",onClick:()=>s("formatBlock","h3"),title:" H3",className:"toolbar-btn",children:"H3"}),r.jsx("div",{style:{width:"1px",background:"#e2e8f0",margin:"0 0.25rem"}}),r.jsx("button",{type:"button",onClick:()=>s("justifyLeft"),title:"  ",className:"toolbar-btn",children:""}),r.jsx("button",{type:"button",onClick:()=>s("justifyCenter"),title:" ",className:"toolbar-btn",children:""}),r.jsx("button",{type:"button",onClick:()=>s("justifyRight"),title:"  ",className:"toolbar-btn",children:""}),r.jsx("div",{style:{width:"1px",background:"#e2e8f0",margin:"0 0.25rem"}}),r.jsx("button",{type:"button",onClick:()=>s("insertUnorderedList"),title:" ",className:"toolbar-btn",children:" List"}),r.jsx("button",{type:"button",onClick:()=>s("insertOrderedList"),title:" ",className:"toolbar-btn",children:"1. List"}),r.jsx("button",{type:"button",onClick:()=>s("indent"),title:" ",className:"toolbar-btn",children:""}),r.jsx("button",{type:"button",onClick:()=>s("outdent"),title:" ",className:"toolbar-btn",children:""}),r.jsx("div",{style:{width:"1px",background:"#e2e8f0",margin:"0 0.25rem"}}),r.jsx("button",{type:"button",onClick:()=>p(),title:"",className:"toolbar-btn",children:"Link"}),r.jsx("button",{type:"button",onClick:()=>s("insertHTML","<br>"),title:" ",className:"toolbar-btn",children:"BR"}),r.jsx("button",{type:"button",onClick:()=>s("removeFormat"),title:" ",className:"toolbar-btn",children:"Clear"})]}),r.jsx("div",{id:a,ref:i,className:"wysiwyg-editor",contentEditable:!0,onInput:o,onKeyDown:c,onClick:h,onPaste:d,suppressContentEditableWarning:!0,style:{minHeight:"300px",padding:"1rem",border:"2px solid #e2e8f0",borderRadius:"8px",backgroundColor:"#fff",lineHeight:"1.8",fontSize:"1rem",resize:"both",overflow:"auto"}}),r.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.5rem"},children:"   . Tab  , Ctrl+B/I/U  .     "})]})}const Dy=[{type:"hero",name:"Hero",icon:Xj,desc:"   "},{type:"text",name:"",icon:$i,desc:"   HTML"},{type:"image",name:"",icon:Vj,desc:" "},{type:"info_cards",name:"-",icon:Hj,desc:"  "},{type:"schedule",name:"",icon:$c,desc:" "},{type:"list",name:"",icon:Gj,desc:" "},{type:"facts",name:"",icon:qj,desc:" "},{type:"cta",name:"CTA",icon:Yj,desc:"  "}],ape={calendar:Bj,map:Wj,users:Jj,info:Fc},spe="water_decade_details_page";function Xk(){const t=sa(),{confId:e}=Xo(),{token:n}=dn(),i=e?`water_decade_conf_page_${e}`:spe,[a,s]=j.useState(!0),[o,c]=j.useState(null),[d,h]=j.useState("ru"),[f,p]=j.useState([]),[m,x]=j.useState(null),{list:b,update:y}=oa();j.useEffect(()=>{_()},[i]);const _=async()=>{s(!0);try{const P=(await b()).find(M=>M.setting_key===i);if(P&&P.setting_value){const M=JSON.parse(P.setting_value);p(M.blocks||[])}else p([])}catch(L){console.error("Error loading page data:",L),p([])}s(!1)},S=async()=>{c("saving");try{const P=JSON.stringify({blocks:f});await y(i,P),c("success"),setTimeout(async()=>{await _(),c(null)},1500)}catch(L){console.error("Error saving page:",L),c("error"),setTimeout(()=>c(null),3e3)}},N=L=>{const P=E(L);p([...f,P]),x(P.id)},E=L=>{const M={id:Date.now().toString(),type:L};switch(L){case"hero":return{...M,title_ru:"",title_en:"",title_tj:"",subtitle_ru:"",subtitle_en:"",subtitle_tj:"",image:""};case"text":return{...M,content_ru:"",content_en:"",content_tj:"",heading_ru:"",heading_en:"",heading_tj:"",background:"white"};case"image":return{...M,url:"",alt_ru:"",alt_en:"",alt_tj:"",caption_ru:"",caption_en:"",caption_tj:"",size:"medium",alignment:"center"};case"info_cards":return{...M,cards:[]};case"schedule":return{...M,heading_ru:"",heading_en:"Schedule",heading_tj:"",items:[]};case"list":return{...M,heading_ru:"",heading_en:"",heading_tj:"",items_ru:[],items_en:[],items_tj:[]};case"facts":return{...M,heading_ru:" ",heading_en:"Interesting Facts",heading_tj:" ",facts_ru:[],facts_en:[],facts_tj:[]};case"cta":return{...M,text_ru:"",text_en:"",text_tj:"",button_text_ru:"",button_text_en:"",button_text_tj:"",button_link:""};default:return M}},A=(L,P)=>{p(f.map(M=>M.id===L?{...M,...P}:M))},T=L=>{confirm("  ?")&&(p(f.filter(P=>P.id!==L)),m===L&&x(null))},k=L=>{const P=f.find(M=>M.id===L);if(P){const M={...P,id:Date.now().toString()},I=f.findIndex(U=>U.id===L),G=[...f];G.splice(I+1,0,M),p(G)}},R=L=>{if(!L.destination)return;const P=Array.from(f),[M]=P.splice(L.source.index,1);P.splice(L.destination.index,0,M),p(P)},H=L=>L.replace(/\.[^/.]+$/,"").replace(/[-_]/g," ").replace(/\d+/g,"").trim(),V=async(L,P,M=!1)=>{const I=new FormData;I.append("file",P);try{const G=await fetch(`${ipe}/api/admin/upload`,{method:"POST",headers:{Authorization:`Bearer ${n}`},body:I});if(!G.ok)throw new Error("Upload failed");const U=await G.json();if(M)A(L,{image:U.url||U.path});else{const K=H(P.name);A(L,{url:U.url||U.path,alt_ru:K,alt_en:K,alt_tj:K})}}catch(G){console.error("Error uploading image:",G),alert("  ")}},Y=L=>Dy.find(M=>M.type===L)?.icon||$i,W=L=>Dy.find(P=>P.type===L)?.name||L,X=L=>{switch(L.type){case"hero":return L.title_ru||L.title_en||" ";case"text":return L.heading_ru||L.heading_en||" ";case"image":return L.alt_ru||L.alt_en||"";case"info_cards":return`${(L.cards||[]).length} `;case"schedule":return`${(L.items||[]).length} `;case"list":return L.heading_ru||"";case"facts":return`${(L.facts_ru||[]).length} `;case"cta":return L.text_ru||"  ";default:return""}},ee=L=>{switch(L.type){case"hero":return r.jsxs("div",{className:"block-editor-content",children:[r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:L.image||"",onChange:P=>A(L.id,{image:P.target.value}),placeholder:"https://example.com/image.jpg   "}),r.jsxs("label",{className:"file-upload-btn",children:[r.jsx($s,{size:16})," ",r.jsx("input",{type:"file",accept:"image/*",onChange:P=>P.target.files[0]&&V(L.id,P.target.files[0],!0),style:{display:"none"}})]})]})}),L.image&&r.jsx("div",{className:"image-preview-box",children:r.jsx("img",{src:L.image,alt:"Hero Background Preview",style:{maxWidth:"100%",maxHeight:"200px"}})}),r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:L[`title_${d}`]||"",onChange:P=>A(L.id,{[`title_${d}`]:P.target.value}),placeholder:" "})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:L[`subtitle_${d}`]||"",onChange:P=>A(L.id,{[`subtitle_${d}`]:P.target.value}),placeholder:" "})]})})]});case"text":return r.jsxs("div",{className:"block-editor-content",children:[r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsxs("select",{value:L.background||"white",onChange:P=>A(L.id,{background:P.target.value}),children:[r.jsx("option",{value:"white",children:""}),r.jsx("option",{value:"gray",children:""})]})]})}),r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:L[`heading_${d}`]||"",onChange:P=>A(L.id,{[`heading_${d}`]:P.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" ( )"}),r.jsx(rpe,{block:L,langTab:d,updateBlock:A})]})})]});case"image":return r.jsxs("div",{className:"block-editor-content",children:[r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"URL "}),r.jsx("input",{type:"text",value:L.url||"",onChange:P=>A(L.id,{url:P.target.value}),placeholder:"https://example.com/image.jpg"}),r.jsxs("label",{className:"file-upload-btn",children:[r.jsx($s,{size:16}),r.jsx("span",{children:" "}),r.jsx("input",{type:"file",accept:"image/*",onChange:P=>P.target.files[0]&&V(L.id,P.target.files[0]),style:{display:"none"}})]})]})}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsxs("select",{value:L.size||"medium",onChange:P=>A(L.id,{size:P.target.value}),children:[r.jsx("option",{value:"small",children:" (400px)"}),r.jsx("option",{value:"medium",children:" (800px)"}),r.jsx("option",{value:"large",children:" (1200px)"}),r.jsx("option",{value:"full",children:" "})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsxs("select",{value:L.alignment||"center",onChange:P=>A(L.id,{alignment:P.target.value}),children:[r.jsx("option",{value:"left",children:"  "}),r.jsx("option",{value:"center",children:" "}),r.jsx("option",{value:"right",children:"  "})]})]})]}),L.url&&r.jsx("div",{className:"image-preview-box",children:r.jsx("img",{src:L.url,alt:"Preview",style:{maxWidth:L.size==="small"?"400px":L.size==="medium"?"800px":L.size==="large"?"1200px":"100%",margin:L.alignment==="left"?"0 auto 0 0":L.alignment==="right"?"0 0 0 auto":"0 auto"}})}),r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Alt "}),r.jsx("input",{type:"text",value:L[`alt_${d}`]||"",onChange:P=>A(L.id,{[`alt_${d}`]:P.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" ()"}),r.jsx("input",{type:"text",value:L[`caption_${d}`]||"",onChange:P=>A(L.id,{[`caption_${d}`]:P.target.value})})]})})]});case"info_cards":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("button",{className:"btn-add-item",onClick:()=>{const P={id:Date.now().toString(),icon:"calendar",title_ru:"",title_en:"",title_tj:"",text_ru:"",text_en:"",text_tj:""};A(L.id,{cards:[...L.cards||[],P]})},children:[r.jsx(_c,{size:16}),r.jsx("span",{children:" "})]}),r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),(L.cards||[]).map((P,M)=>{const I=ape[P.icon]||Fc;return r.jsxs("div",{className:"nested-item",children:[r.jsxs("div",{className:"nested-item-header",children:[r.jsxs("span",{children:[r.jsx(I,{size:16}),"  #",M+1]}),r.jsx("button",{onClick:()=>A(L.id,{cards:L.cards.filter(G=>G.id!==P.id)}),children:r.jsx(ta,{size:14})})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsxs("select",{value:P.icon,onChange:G=>{const U=L.cards.map(K=>K.id===P.id?{...K,icon:G.target.value}:K);A(L.id,{cards:U})},children:[r.jsx("option",{value:"calendar",children:""}),r.jsx("option",{value:"map",children:""}),r.jsx("option",{value:"users",children:""}),r.jsx("option",{value:"info",children:""})]})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:P[`title_${d}`]||"",onChange:G=>{const U=L.cards.map(K=>K.id===P.id?{...K,[`title_${d}`]:G.target.value}:K);A(L.id,{cards:U})}})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("textarea",{rows:"2",value:P[`text_${d}`]||"",onChange:G=>{const U=L.cards.map(K=>K.id===P.id?{...K,[`text_${d}`]:G.target.value}:K);A(L.id,{cards:U})}})]})})]},P.id)})]});case"schedule":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:L[`heading_${d}`]||"",onChange:P=>A(L.id,{[`heading_${d}`]:P.target.value})})]})}),r.jsxs("button",{className:"btn-add-item",onClick:()=>{const P={id:Date.now().toString(),time:"",text_ru:"",text_en:"",text_tj:""};A(L.id,{items:[...L.items||[],P]})},children:[r.jsx(_c,{size:16}),r.jsx("span",{children:"  "})]}),(L.items||[]).map((P,M)=>r.jsxs("div",{className:"nested-item",children:[r.jsxs("div",{className:"nested-item-header",children:[r.jsxs("span",{children:[r.jsx($c,{size:16}),"  #",M+1]}),r.jsx("button",{onClick:()=>A(L.id,{items:L.items.filter(I=>I.id!==P.id)}),children:r.jsx(ta,{size:14})})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:P.time||"",onChange:I=>{const G=L.items.map(U=>U.id===P.id?{...U,time:I.target.value}:U);A(L.id,{items:G})},placeholder:"08:00"})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:P[`text_${d}`]||"",onChange:I=>{const G=L.items.map(U=>U.id===P.id?{...U,[`text_${d}`]:I.target.value}:U);A(L.id,{items:G})}})]})})]},P.id))]});case"list":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:L[`heading_${d}`]||"",onChange:P=>A(L.id,{[`heading_${d}`]:P.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"  (  )"}),r.jsx("textarea",{rows:"6",value:(L[`items_${d}`]||[]).join(`
`),onChange:P=>A(L.id,{[`items_${d}`]:P.target.value.split(`
`).filter(Boolean)}),placeholder:` 1
 2
 3`})]})})]});case"facts":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("input",{type:"text",value:L[`heading_${d}`]||"",onChange:P=>A(L.id,{[`heading_${d}`]:P.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" (  )"}),r.jsx("textarea",{rows:"8",value:(L[`facts_${d}`]||[]).join(`
`),onChange:P=>A(L.id,{[`facts_${d}`]:P.target.value.split(`
`).filter(Boolean)}),placeholder:` 1
 2
 3`})]})})]});case"cta":return r.jsxs("div",{className:"block-editor-content",children:[r.jsxs("div",{className:"lang-tabs-inline",children:[r.jsx("button",{className:d==="ru"?"active":"",onClick:()=>h("ru"),children:""}),r.jsx("button",{className:d==="en"?"active":"",onClick:()=>h("en"),children:"ENG"}),r.jsx("button",{className:d==="tj"?"active":"",onClick:()=>h("tj"),children:""})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:""}),r.jsx("textarea",{rows:"3",value:L[`text_${d}`]||"",onChange:P=>A(L.id,{[`text_${d}`]:P.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:L[`button_text_${d}`]||"",onChange:P=>A(L.id,{[`button_text_${d}`]:P.target.value})})]})}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" "}),r.jsx("input",{type:"text",value:L.button_link||"",onChange:P=>A(L.id,{button_link:P.target.value}),placeholder:"/registration"})]})})]});default:return r.jsx("div",{children:"  "})}};return r.jsxs("div",{className:"elementor-builder",children:[r.jsxs("div",{className:"elementor-topbar",children:[r.jsxs("div",{className:"topbar-left",children:[r.jsxs("button",{onClick:()=>t(e?"/admin/pages?page=water-decade":"/admin/pages"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"#f3f4f6",border:"none",borderRadius:"8px",cursor:"pointer",marginRight:"16px"},children:[r.jsx(xfe,{size:18}),""]}),r.jsx("h2",{children:e?`  #${e}`:"  "})]}),r.jsxs("div",{className:"topbar-right",children:[r.jsx("a",{href:e?`/water-decade/${e}`:"/water-decade-details",target:"_blank",rel:"noopener noreferrer",className:"btn-preview-page",style:{marginRight:"12px",padding:"8px 16px",background:"#f3f4f6",borderRadius:"8px",color:"#374151",textDecoration:"none",fontSize:"14px"},children:" "}),r.jsxs("button",{className:`btn-save ${o==="saving"?"saving":""} ${o==="success"?"success":""}`,onClick:S,disabled:o==="saving",children:[r.jsx(Kj,{size:16}),o==="saving"?"...":o==="success"?"":""]})]})]}),a?r.jsxs("div",{className:"elementor-loading",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{children:"..."})]}):r.jsxs("div",{className:"elementor-workspace",children:[r.jsxs("div",{className:"elementor-sidebar",children:[r.jsx("div",{className:"sidebar-header",children:r.jsx("h3",{children:" "})}),r.jsx("div",{className:"block-picker-grid",children:Dy.map(L=>{const P=L.icon;return r.jsxs("button",{className:"block-picker-item",onClick:()=>N(L.type),title:L.desc,children:[r.jsx("div",{className:"block-icon",children:r.jsx(P,{size:28,strokeWidth:1.5})}),r.jsx("div",{className:"block-name",children:L.name})]},L.type)})})]}),r.jsx("div",{className:"elementor-canvas",children:f.length===0?r.jsxs("div",{className:"canvas-empty",children:[r.jsx("div",{className:"empty-icon",children:r.jsx($i,{size:64,strokeWidth:1})}),r.jsx("h3",{children:"  "}),r.jsx("p",{children:"  ,     "})]}):r.jsx(Pj,{onDragEnd:R,children:r.jsx(Ij,{droppableId:"blocks",children:L=>r.jsxs("div",{className:"blocks-container",...L.droppableProps,ref:L.innerRef,children:[f.map((P,M)=>{const I=Y(P.type);return r.jsx(Lj,{draggableId:P.id,index:M,children:(G,U)=>r.jsxs("div",{ref:G.innerRef,...G.draggableProps,className:`block-wrapper ${m===P.id?"expanded":""} ${U.isDragging?"dragging":""}`,children:[r.jsxs("div",{className:"block-header",...G.dragHandleProps,children:[r.jsxs("div",{className:"block-header-left",children:[r.jsx("span",{className:"drag-handle",children:r.jsx(Uj,{size:20})}),r.jsx("span",{className:"block-type-icon",children:r.jsx(I,{size:18})}),r.jsxs("span",{className:"block-type-label",children:[W(P.type),": ",X(P)]})]}),r.jsxs("div",{className:"block-header-right",children:[r.jsx("button",{className:"block-action-btn",onClick:()=>x(m===P.id?null:P.id),title:m===P.id?"":"",children:m===P.id?r.jsx($j,{size:18}):r.jsx(zj,{size:18})}),r.jsx("button",{className:"block-action-btn",onClick:()=>k(P.id),title:"",children:r.jsx(Fj,{size:18})}),r.jsx("button",{className:"block-action-btn delete",onClick:()=>T(P.id),title:"",children:r.jsx(ta,{size:18})})]})]}),m===P.id&&r.jsx("div",{className:"block-body",children:ee(P)})]})},P.id)}),L.placeholder]})})})})]})]})}const Kk="",YL=[{category:" ",pages:[{slug:"conference",label:" / Conference",defaults:{title_ru:"",title_en:"Conference",title_tj:"",subtitle_ru:"  ",subtitle_en:"Conference information",subtitle_tj:"   "}},{slug:"program",label:" / Program",defaults:{title_ru:"",title_en:"Program",title_tj:"",subtitle_ru:"  ,      ",subtitle_en:"Schedule of plenary sessions, thematic sessions and special conference events",subtitle_tj:"  ,      "}},{slug:"events",label:" / Events",defaults:{title_ru:"",title_en:"Events",title_tj:"",subtitle_ru:"   ",subtitle_en:"Conference events",subtitle_tj:" "}},{slug:"excursions",label:" / Excursions",defaults:{title_ru:"",title_en:"Excursions",title_tj:"",subtitle_ru:"   ",subtitle_en:"Cultural program for participants",subtitle_tj:"   "}},{slug:"exhibition",label:" / Exhibition",defaults:{title_ru:"",title_en:"Exhibition",title_tj:"",subtitle_ru:"   ",subtitle_en:"International water technology exhibition",subtitle_tj:"   "}},{slug:"logistics",label:" / Logistics",defaults:{title_ru:"",title_en:"Logistics",title_tj:"",subtitle_ru:"   ",subtitle_en:"Practical information for participants",subtitle_tj:"   "}},{slug:"registration",label:" / Registration",defaults:{title_ru:"",title_en:"Registration",title_tj:"",subtitle_ru:"    ",subtitle_en:"Register to participate in the conference",subtitle_tj:"     "}},{slug:"contacts",label:" / Contacts",defaults:{title_ru:"",title_en:"Contacts",title_tj:"",subtitle_ru:"  ",subtitle_en:"Get in touch with us",subtitle_tj:"   "}},{slug:"news",label:" / News",defaults:{title_ru:"",title_en:"News",title_tj:"",subtitle_ru:"  ",subtitle_en:"Latest conference news",subtitle_tj:"  "}}]},{category:" ()",pages:[{slug:"conference-introduction",label:" / Introduction",defaults:{title_ru:"",title_en:"Introduction",title_tj:"",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}},{slug:"conference-goals",label:" / Goals",defaults:{title_ru:"",title_en:"Goals",title_tj:"",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}},{slug:"conference-date-venue",label:"   / Date & Venue",defaults:{title_ru:"   ",title_en:"Date and Venue",title_tj:"  ",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}},{slug:"conference-participation",label:" / Participation",defaults:{title_ru:"",title_en:"Participation",title_tj:"",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}}]},{category:" ()",pages:[{slug:"program-structure",label:" / Structure",defaults:{title_ru:" ",title_en:"Program Structure",title_tj:" ",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}},{slug:"program-plenary",label:"  / Plenary",defaults:{title_ru:" ",title_en:"Plenary Session",title_tj:" ",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}},{slug:"program-events",label:"  / Events",defaults:{title_ru:"   ",title_en:"Conference Events",title_tj:" ",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}},{slug:"program-forums",label:" / Forums",defaults:{title_ru:"",title_en:"Forums",title_tj:"",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}}]},{category:" ()",pages:[{slug:"events-parallel",label:" / Parallel",defaults:{title_ru:" ",title_en:"Parallel Events",title_tj:" ",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}},{slug:"events-cultural",label:" / Cultural",defaults:{title_ru:" ",title_en:"Cultural Events",title_tj:" ",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}}]},{category:" ()",pages:[{slug:"excursions-dushanbe",label:" / Dushanbe",defaults:{title_ru:"",title_en:"Dushanbe",title_tj:"",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}},{slug:"excursions-khisor",label:" / Hisor",defaults:{title_ru:"",title_en:"Hisor",title_tj:"",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}},{slug:"excursions-rogun",label:" / Rogun",defaults:{title_ru:"",title_en:"Rogun",title_tj:"",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}}]},{category:" ()",pages:[{slug:"logistics-practical",label:" ",defaults:{title_ru:" ",title_en:"Practical Information",title_tj:" ",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}},{slug:"logistics-visa",label:" / Visa",defaults:{title_ru:"  ",title_en:"Visa to Tajikistan",title_tj:" ",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}},{slug:"logistics-press",label:" / Press",defaults:{title_ru:" ",title_en:"Press Accreditation",title_tj:" ",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}},{slug:"logistics-flights",label:" / Flights",defaults:{title_ru:"",title_en:"Flights",title_tj:"",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}},{slug:"logistics-accommodation",label:" / Accommodation",defaults:{title_ru:"  ",title_en:"Hotel Accommodation",title_tj:"  ",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}},{slug:"logistics-weather",label:" / Weather",defaults:{title_ru:"",title_en:"Weather",title_tj:" ",subtitle_ru:"",subtitle_en:"",subtitle_tj:""}}]}];function ope(){const t=[];return YL.forEach(e=>e.pages.forEach(n=>t.push(n))),t}function lpe(){const{token:t}=dn(),[e,n]=j.useState({}),[i,a]=j.useState(!0),[s,o]=j.useState(null),[c,d]=j.useState({}),[h,f]=j.useState(null);j.useEffect(()=>{m()},[]);const p=async(S,N={})=>{const E=await fetch(`${Kk}${S}`,{...N,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,...N.headers}});if(!E.ok)throw new Error(`HTTP ${E.status}`);return E.json()},m=async()=>{try{const S=await p("/api/admin/settings"),N={};S.forEach(A=>{N[A.setting_key]=A.setting_value});const E={};ope().forEach(A=>{const T=`page_banner_${A.slug}`,k=N[T]?JSON.parse(N[T]):null;E[A.slug]={showBanner:k?.showBanner!==!1,title_ru:k?.title_ru||A.defaults.title_ru,title_en:k?.title_en||A.defaults.title_en,title_tj:k?.title_tj||A.defaults.title_tj,subtitle_ru:k?.subtitle_ru||A.defaults.subtitle_ru,subtitle_en:k?.subtitle_en||A.defaults.subtitle_en,subtitle_tj:k?.subtitle_tj||A.defaults.subtitle_tj,backgroundImage:k?.backgroundImage||"/assets/images/background_wave.jpg"}}),n(E)}catch(S){console.error("Failed to load banner settings:",S)}finally{a(!1)}},x=async()=>{o({type:"saving",message:"..."});try{const S=Object.entries(e).map(([N,E])=>({key:`page_banner_${N}`,value:JSON.stringify(E)}));await p("/api/admin/settings",{method:"PUT",body:JSON.stringify({settings:S})}),o({type:"success",message:"!"}),setTimeout(()=>o(null),3e3)}catch(S){o({type:"error",message:": "+S.message})}},b=(S,N,E)=>{n(A=>({...A,[S]:{...A[S],[N]:E}}))},y=async(S,N)=>{const E=S.target.files?.[0];if(E){f(N);try{const A=new FormData;A.append("file",E);const k=await(await fetch(`${Kk}/api/admin/upload`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:A})).json();k.url&&b(N,"backgroundImage",k.url)}catch(A){console.error("Upload failed:",A)}finally{f(null)}}},_=S=>{d(N=>({...N,[S]:!N[S]}))};return i?r.jsx("div",{style:{padding:40,textAlign:"center",color:"#6b7280"},children:"  ..."}):r.jsxs("div",{style:{maxWidth:1e3,margin:"0 auto"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[r.jsxs("div",{children:[r.jsx("h2",{style:{fontSize:22,fontWeight:700,color:"#1e293b",margin:0},children:" "}),r.jsx("p",{style:{fontSize:14,color:"#64748b",margin:"4px 0 0"},children:" ,    "})]}),r.jsx("button",{onClick:x,disabled:s?.type==="saving",style:{padding:"10px 24px",background:s?.type==="success"?"#10b981":s?.type==="error"?"#ef4444":"#2563eb",color:"white",border:"none",borderRadius:8,fontSize:14,fontWeight:600,cursor:"pointer"},children:s?.message||" "})]}),YL.map(S=>r.jsxs("div",{style:{marginBottom:12},children:[r.jsxs("button",{onClick:()=>_(S.category),style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"14px 20px",background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:c[S.category]?"8px 8px 0 0":8,cursor:"pointer",fontSize:15,fontWeight:600,color:"#1e3a5f"},children:[r.jsxs("span",{children:[S.category," (",S.pages.length,")"]}),r.jsx("span",{style:{transform:c[S.category]?"rotate(180deg)":"rotate(0)",transition:"0.2s"},children:""})]}),c[S.category]&&r.jsx("div",{style:{border:"1px solid #e2e8f0",borderTop:"none",borderRadius:"0 0 8px 8px",overflow:"hidden"},children:S.pages.map(N=>{const E=e[N.slug];return E?r.jsxs("div",{style:{padding:20,borderBottom:"1px solid #f1f5f9"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[r.jsx("h4",{style:{fontSize:14,fontWeight:600,color:"#334155",margin:0},children:N.label}),r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13,color:"#64748b",cursor:"pointer"},children:[r.jsx("input",{type:"checkbox",checked:E.showBanner,onChange:A=>b(N.slug,"showBanner",A.target.checked),style:{width:16,height:16}})," "]})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12,marginBottom:12},children:[r.jsxs("div",{children:[r.jsx("label",{style:xo,children:" (RU)"}),r.jsx("input",{style:yo,value:E.title_ru,onChange:A=>b(N.slug,"title_ru",A.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{style:xo,children:" (EN)"}),r.jsx("input",{style:yo,value:E.title_en,onChange:A=>b(N.slug,"title_en",A.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{style:xo,children:" (TJ)"}),r.jsx("input",{style:yo,value:E.title_tj,onChange:A=>b(N.slug,"title_tj",A.target.value)})]})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12,marginBottom:12},children:[r.jsxs("div",{children:[r.jsx("label",{style:xo,children:" (RU)"}),r.jsx("textarea",{style:{...yo,minHeight:60,resize:"vertical"},value:E.subtitle_ru,onChange:A=>b(N.slug,"subtitle_ru",A.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{style:xo,children:" (EN)"}),r.jsx("textarea",{style:{...yo,minHeight:60,resize:"vertical"},value:E.subtitle_en,onChange:A=>b(N.slug,"subtitle_en",A.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{style:xo,children:" (TJ)"}),r.jsx("textarea",{style:{...yo,minHeight:60,resize:"vertical"},value:E.subtitle_tj,onChange:A=>b(N.slug,"subtitle_tj",A.target.value)})]})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[r.jsxs("div",{style:{flex:1},children:[r.jsx("label",{style:xo,children:" "}),r.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[r.jsx("input",{style:{...yo,flex:1},value:E.backgroundImage,onChange:A=>b(N.slug,"backgroundImage",A.target.value),placeholder:"/assets/images/background_wave.jpg"}),r.jsxs("label",{style:{padding:"8px 16px",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:6,fontSize:13,cursor:"pointer",whiteSpace:"nowrap"},children:[h===N.slug?"...":"",r.jsx("input",{type:"file",accept:"image/*",onChange:A=>y(A,N.slug),style:{display:"none"}})]})]})]}),E.backgroundImage&&r.jsx("div",{style:{width:80,height:45,borderRadius:6,overflow:"hidden",border:"1px solid #e2e8f0",flexShrink:0},children:r.jsx("img",{src:E.backgroundImage,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})})]})]},N.slug):null})})]},S.category))]})}const xo={display:"block",fontSize:12,fontWeight:500,color:"#64748b",marginBottom:4},yo={width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:6,fontSize:13,color:"#1e293b",outline:"none",boxSizing:"border-box"};function cpe(){const t=Wn(),e=j.useRef(t.pathname);return j.useEffect(()=>{const n=e.current!==t.pathname;if(e.current=t.pathname,t.hash){const i=setTimeout(()=>{const a=document.querySelector(t.hash);if(a){const c=a.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:c,behavior:"smooth"})}},100);return()=>clearTimeout(i)}else n&&window.scrollTo({top:0,behavior:"instant"})},[t]),null}function upe(){const t=Wn();return j.useEffect(()=>{const e=setTimeout(()=>{const n=document.querySelectorAll(".reveal"),i=new IntersectionObserver(a=>{a.forEach(s=>{s.isIntersecting&&s.target.classList.add("reveal--visible")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return n.forEach(a=>i.observe(a)),()=>{n.forEach(a=>i.unobserve(a))}},100);return()=>clearTimeout(e)},[t.pathname]),null}function dpe(){const{lang:t}=Xo();return["ru","tj"].includes(t)?r.jsx(wD,{}):r.jsx(a2,{to:"/",replace:!0})}const Jk=r.jsxs(r.Fragment,{children:[r.jsx(be,{index:!0,element:r.jsx(Lz,{})}),r.jsx(be,{path:"conference",element:r.jsx(Iz,{})}),r.jsx(be,{path:"conference/introduction",element:r.jsx(ZH,{})}),r.jsx(be,{path:"conference/goals",element:r.jsx(QH,{})}),r.jsx(be,{path:"conference/date-venue",element:r.jsx(eU,{})}),r.jsx(be,{path:"conference/participation",element:r.jsx(tU,{})}),r.jsx(be,{path:"program",element:r.jsx(zz,{})}),r.jsx(be,{path:"program/structure",element:r.jsx(nU,{})}),r.jsx(be,{path:"program/plenary",element:r.jsx(iU,{})}),r.jsx(be,{path:"program/events",element:r.jsx(rU,{})}),r.jsx(be,{path:"program/forums",element:r.jsx(aU,{})}),r.jsx(be,{path:"events",element:r.jsx(Vz,{})}),r.jsx(be,{path:"events/parallel",element:r.jsx(sU,{})}),r.jsx(be,{path:"events/cultural",element:r.jsx(oU,{})}),r.jsx(be,{path:"events/rogun",element:r.jsx(iN,{})}),r.jsx(be,{path:"events/dushanbe",element:r.jsx(rN,{})}),r.jsx(be,{path:"events/khisor",element:r.jsx(aN,{})}),r.jsx(be,{path:"excursions",element:r.jsx(NH,{})}),r.jsx(be,{path:"excursions/rogun",element:r.jsx(iN,{})}),r.jsx(be,{path:"excursions/dushanbe",element:r.jsx(rN,{})}),r.jsx(be,{path:"excursions/khisor",element:r.jsx(aN,{})}),r.jsx(be,{path:"exhibition",element:r.jsx(EH,{})}),r.jsx(be,{path:"logistics",element:r.jsx(RH,{})}),r.jsx(be,{path:"logistics/practical",element:r.jsx(lU,{})}),r.jsx(be,{path:"logistics/visa",element:r.jsx(cU,{})}),r.jsx(be,{path:"logistics/press",element:r.jsx(uU,{})}),r.jsx(be,{path:"logistics/flights",element:r.jsx(dU,{})}),r.jsx(be,{path:"logistics/accommodation",element:r.jsx(hU,{})}),r.jsx(be,{path:"logistics/weather",element:r.jsx(fU,{})}),r.jsx(be,{path:"contacts",element:r.jsx(BH,{})}),r.jsx(be,{path:"registration",element:r.jsx(zH,{})}),r.jsx(be,{path:"news",element:r.jsx($H,{})}),r.jsx(be,{path:"news/:slug",element:r.jsx(HH,{})}),r.jsx(be,{path:"water-decade",element:r.jsx(qH,{})}),r.jsx(be,{path:"water-decade/:confId",element:r.jsx(WH,{})}),r.jsx(be,{path:"water-decade-details",element:r.jsx(GH,{})}),r.jsx(be,{path:"speaker/:id",element:r.jsx(XH,{})}),r.jsx(be,{path:"page/:slug",element:r.jsx(JH,{})})]});function hpe(){return r.jsxs(jz,{children:[r.jsx(cpe,{}),r.jsx(upe,{}),r.jsxs(dA,{children:[r.jsx(be,{path:"/",element:r.jsx(wD,{}),children:Jk}),r.jsx(be,{path:"/:lang/*",element:r.jsx(dpe,{}),children:Jk}),r.jsx(be,{path:"/admin/login",element:r.jsx(oN,{children:r.jsx(mU,{})})}),r.jsx(be,{path:"/admin/*",element:r.jsx(oN,{children:r.jsx(pU,{children:r.jsx(dA,{children:r.jsxs(be,{element:r.jsx(gU,{}),children:[r.jsx(be,{index:!0,element:r.jsx(_le,{})}),r.jsxs(be,{path:"home",element:r.jsx(Tle,{}),children:[r.jsx(be,{index:!0,element:r.jsx(pk,{})}),r.jsx(be,{path:"header",element:r.jsx(pk,{})}),r.jsx(be,{path:"loading",element:r.jsx(Vle,{})}),r.jsx(be,{path:"hero",element:r.jsx(Dle,{})}),r.jsx(be,{path:"speakers",element:r.jsx(Mle,{})}),r.jsx(be,{path:"speakers/:id",element:r.jsx(Qle,{})}),r.jsx(be,{path:"news",element:r.jsx(Rle,{})}),r.jsx(be,{path:"program",element:r.jsx(Ile,{})}),r.jsx(be,{path:"partners",element:r.jsx($le,{})}),r.jsx(be,{path:"app",element:r.jsx(Hle,{})}),r.jsx(be,{path:"footer",element:r.jsx(Jle,{})})]}),r.jsx(be,{path:"pages",element:r.jsx(Jfe,{})}),r.jsx(be,{path:"subpages",element:r.jsx(WL,{})}),r.jsx(be,{path:"water-decade-editor",element:r.jsx(Xk,{})}),r.jsx(be,{path:"water-decade-editor/:confId",element:r.jsx(Xk,{})}),r.jsx(be,{path:"program",element:r.jsx(Qfe,{})}),r.jsx(be,{path:"excursions",element:r.jsx(Hfe,{})}),r.jsx(be,{path:"logistics",element:r.jsx(Ufe,{})}),r.jsx(be,{path:"events",element:r.jsx(Es,{})}),r.jsx(be,{path:"contacts",element:r.jsx(qL,{})}),r.jsx(be,{path:"content/news",element:r.jsx(ck,{})}),r.jsx(be,{path:"news",element:r.jsx(ck,{})}),r.jsx(be,{path:"banners",element:r.jsx(lpe,{})}),r.jsx(be,{path:"settings",element:r.jsx(Ale,{})}),r.jsx(be,{path:"help",element:r.jsx(tpe,{})}),r.jsx(be,{path:"change-password",element:r.jsx(npe,{})})]})})})})})]}),r.jsx(bz,{})]})}jB.createRoot(document.getElementById("root")).render(r.jsx(Ft.StrictMode,{children:r.jsx(q7,{children:r.jsx(sz,{children:r.jsx(oz,{children:r.jsx(hpe,{})})})})}));
